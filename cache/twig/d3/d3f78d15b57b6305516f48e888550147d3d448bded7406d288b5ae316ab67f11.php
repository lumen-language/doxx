<?php

/* partials/compiled-scripts.html.twig */
class __TwigTemplate_d7589ac4184a0d4ea32e8cd7f1da79f535e719705d13e198742e7bae4bac1dbb extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        // line 1
        echo "<script>
! function(a) {
    if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = a();
    else {
        if (\"function\" == typeof define && define.amd) return define([], a);
        this.CodeMirror = a()
    }
}(function() {
    \"use strict\";

    function x(a, b) {
        if (!(this instanceof x)) return new x(a, b);
        this.options = b = b ? lg(b) : {}, lg(Cd, b, !1), K(b);
        var c = b.value;
        \"string\" == typeof c && (c = new cf(c, b.mode, null, b.lineSeparator)), this.doc = c;
        var d = new x.inputStyles[b.inputStyle](this),
            e = this.display = new y(a, c, d);
        e.wrapper.CodeMirror = this, G(this), E(this), b.lineWrapping && (this.display.wrapper.className += \" CodeMirror-wrap\"), b.autofocus && !p && e.input.focus(), O(this), this.state = {
            keyMaps: [],
            overlays: [],
            modeGen: 0,
            overwrite: !1,
            delayingBlurEvent: !1,
            focused: !1,
            suppressEdits: !1,
            pasteIncoming: !1,
            cutIncoming: !1,
            selectingText: !1,
            draggingText: !1,
            highlight: new ag,
            keySeq: null,
            specialChars: null
        };
        var i = this;
        f && 11 > g && setTimeout(function() {
            i.display.input.reset(!0)
        }, 20), rc(this), Fg(), Xb(this), this.curOp.forceUpdate = !0, gf(this, c), b.autofocus && !p || i.hasFocus() ? setTimeout(mg(_c, this), 20) : ad(this);
        for (var j in Dd) Dd.hasOwnProperty(j) && Dd[j](this, b[j], Fd);
        T(this), b.finishInit && b.finishInit(this);
        for (var k = 0; k < Jd.length; ++k) Jd[k](this);
        Zb(this), h && b.lineWrapping && \"optimizelegibility\" == getComputedStyle(e.lineDiv).textRendering && (e.lineDiv.style.textRendering = \"auto\")
    }

    function y(a, b, d) {
        var e = this;
        this.input = d, e.scrollbarFiller = tg(\"div\", null, \"CodeMirror-scrollbar-filler\"), e.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"), e.gutterFiller = tg(\"div\", null, \"CodeMirror-gutter-filler\"), e.gutterFiller.setAttribute(\"cm-not-content\", \"true\"), e.lineDiv = tg(\"div\", null, \"CodeMirror-code\"), e.selectionDiv = tg(\"div\", null, null, \"position: relative; z-index: 1\"), e.cursorDiv = tg(\"div\", null, \"CodeMirror-cursors\"), e.measure = tg(\"div\", null, \"CodeMirror-measure\"), e.lineMeasure = tg(\"div\", null, \"CodeMirror-measure\"), e.lineSpace = tg(\"div\", [e.measure, e.lineMeasure, e.selectionDiv, e.cursorDiv, e.lineDiv], null, \"position: relative; outline: none\"), e.mover = tg(\"div\", [tg(\"div\", [e.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\"), e.sizer = tg(\"div\", [e.mover], \"CodeMirror-sizer\"), e.sizerWidth = null, e.heightForcer = tg(\"div\", null, null, \"position: absolute; height: \" + Xf + \"px; width: 1px;\"), e.gutters = tg(\"div\", null, \"CodeMirror-gutters\"), e.lineGutter = null, e.scroller = tg(\"div\", [e.sizer, e.heightForcer, e.gutters], \"CodeMirror-scroll\"), e.scroller.setAttribute(\"tabIndex\", \"-1\"), e.wrapper = tg(\"div\", [e.scrollbarFiller, e.gutterFiller, e.scroller], \"CodeMirror\"), f && 8 > g && (e.gutters.style.zIndex = -1, e.scroller.style.paddingRight = 0), h || c && p || (e.scroller.draggable = !0), a && (a.appendChild ? a.appendChild(e.wrapper) : a(e.wrapper)), e.viewFrom = e.viewTo = b.first, e.reportedViewFrom = e.reportedViewTo = b.first, e.view = [], e.renderedView = null, e.externalMeasured = null, e.viewOffset = 0, e.lastWrapHeight = e.lastWrapWidth = 0, e.updateLineNumbers = null, e.nativeBarWidth = e.barHeight = e.barWidth = 0, e.scrollbarsClipped = !1, e.lineNumWidth = e.lineNumInnerWidth = e.lineNumChars = null, e.alignWidgets = !1, e.cachedCharWidth = e.cachedTextHeight = e.cachedPaddingH = null, e.maxLine = null, e.maxLineLength = 0, e.maxLineChanged = !1, e.wheelDX = e.wheelDY = e.wheelStartX = e.wheelStartY = null, e.shift = !1, e.selForContextMenu = null, e.activeTouch = null, d.init(e)
    }

    function z(a) {
        a.doc.mode = x.getMode(a.options, a.doc.modeOption), A(a)
    }

    function A(a) {
        a.doc.iter(function(a) {
            a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null)
        }), a.doc.frontier = a.doc.first, kb(a, 100), a.state.modeGen++, a.curOp && kc(a)
    }

    function B(a) {
        a.options.lineWrapping ? (Bg(a.display.wrapper, \"CodeMirror-wrap\"), a.display.sizer.style.minWidth = \"\", a.display.sizerWidth = null) : (Ag(a.display.wrapper, \"CodeMirror-wrap\"), J(a)), D(a), kc(a), Hb(a), setTimeout(function() {
            P(a)
        }, 100)
    }

    function C(a) {
        var b = Tb(a.display),
            c = a.options.lineWrapping,
            d = c && Math.max(5, a.display.scroller.clientWidth / Ub(a.display) - 3);
        return function(e) {
            if (ye(a.doc, e)) return 0;
            var f = 0;
            if (e.widgets)
                for (var g = 0; g < e.widgets.length; g++) e.widgets[g].height && (f += e.widgets[g].height);
            return c ? f + (Math.ceil(e.text.length / d) || 1) * b : f + b
        }
    }

    function D(a) {
        var b = a.doc,
            c = C(a);
        b.iter(function(a) {
            var b = c(a);
            b != a.height && lf(a, b)
        })
    }

    function E(a) {
        a.display.wrapper.className = a.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + a.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\"), Hb(a)
    }

    function F(a) {
        G(a), kc(a), setTimeout(function() {
            S(a)
        }, 20)
    }

    function G(a) {
        var b = a.display.gutters,
            c = a.options.gutters;
        vg(b);
        for (var d = 0; d < c.length; ++d) {
            var e = c[d],
                f = b.appendChild(tg(\"div\", null, \"CodeMirror-gutter \" + e));
            \"CodeMirror-linenumbers\" == e && (a.display.lineGutter = f, f.style.width = (a.display.lineNumWidth || 1) + \"px\")
        }
        b.style.display = d ? \"\" : \"none\", H(a)
    }

    function H(a) {
        var b = a.display.gutters.offsetWidth;
        a.display.sizer.style.marginLeft = b + \"px\"
    }

    function I(a) {
        if (0 == a.height) return 0;
        for (var c, b = a.text.length, d = a; c = re(d);) {
            var e = c.find(0, !0);
            d = e.from.line, b += e.from.ch - e.to.ch
        }
        for (d = a; c = se(d);) {
            var e = c.find(0, !0);
            b -= d.text.length - e.from.ch, d = e.to.line, b += d.text.length - e.to.ch
        }
        return b
    }

    function J(a) {
        var b = a.display,
            c = a.doc;
        b.maxLine = hf(c, c.first), b.maxLineLength = I(b.maxLine), b.maxLineChanged = !0, c.iter(function(a) {
            var c = I(a);
            c > b.maxLineLength && (b.maxLineLength = c, b.maxLine = a)
        })
    }

    function K(a) {
        var b = hg(a.gutters, \"CodeMirror-linenumbers\"); - 1 == b && a.lineNumbers ? a.gutters = a.gutters.concat([\"CodeMirror-linenumbers\"]) : b > -1 && !a.lineNumbers && (a.gutters = a.gutters.slice(0), a.gutters.splice(b, 1))
    }

    function L(a) {
        var b = a.display,
            c = b.gutters.offsetWidth,
            d = Math.round(a.doc.height + pb(a.display));
        return {
            clientHeight: b.scroller.clientHeight,
            viewHeight: b.wrapper.clientHeight,
            scrollWidth: b.scroller.scrollWidth,
            clientWidth: b.scroller.clientWidth,
            viewWidth: b.wrapper.clientWidth,
            barLeft: a.options.fixedGutter ? c : 0,
            docHeight: d,
            scrollHeight: d + rb(a) + b.barHeight,
            nativeBarWidth: b.nativeBarWidth,
            gutterWidth: c
        }
    }

    function M(a, b, c) {
        this.cm = c;
        var d = this.vert = tg(\"div\", [tg(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\"),
            e = this.horiz = tg(\"div\", [tg(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");
        a(d), a(e), Lf(d, \"scroll\", function() {
            d.clientHeight && b(d.scrollTop, \"vertical\")
        }), Lf(e, \"scroll\", function() {
            e.clientWidth && b(e.scrollLeft, \"horizontal\")
        }), this.checkedOverlay = !1, f && 8 > g && (this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\")
    }

    function N() {}

    function O(a) {
        a.display.scrollbars && (a.display.scrollbars.clear(), a.display.scrollbars.addClass && Ag(a.display.wrapper, a.display.scrollbars.addClass)), a.display.scrollbars = new x.scrollbarModel[a.options.scrollbarStyle](function(b) {
            a.display.wrapper.insertBefore(b, a.display.scrollbarFiller), Lf(b, \"mousedown\", function() {
                a.state.focused && setTimeout(function() {
                    a.display.input.focus()
                }, 0)
            }), b.setAttribute(\"cm-not-content\", \"true\")
        }, function(b, c) {
            \"horizontal\" == c ? Kc(a, b) : Jc(a, b)
        }, a), a.display.scrollbars.addClass && Bg(a.display.wrapper, a.display.scrollbars.addClass)
    }

    function P(a, b) {
        b || (b = L(a));
        var c = a.display.barWidth,
            d = a.display.barHeight;
        Q(a, b);
        for (var e = 0; 4 > e && c != a.display.barWidth || d != a.display.barHeight; e++) c != a.display.barWidth && a.options.lineWrapping && aa(a), Q(a, L(a)), c = a.display.barWidth, d = a.display.barHeight
    }

    function Q(a, b) {
        var c = a.display,
            d = c.scrollbars.update(b);
        c.sizer.style.paddingRight = (c.barWidth = d.right) + \"px\", c.sizer.style.paddingBottom = (c.barHeight = d.bottom) + \"px\", d.right && d.bottom ? (c.scrollbarFiller.style.display = \"block\", c.scrollbarFiller.style.height = d.bottom + \"px\", c.scrollbarFiller.style.width = d.right + \"px\") : c.scrollbarFiller.style.display = \"\", d.bottom && a.options.coverGutterNextToScrollbar && a.options.fixedGutter ? (c.gutterFiller.style.display = \"block\", c.gutterFiller.style.height = d.bottom + \"px\", c.gutterFiller.style.width = b.gutterWidth + \"px\") : c.gutterFiller.style.display = \"\"
    }

    function R(a, b, c) {
        var d = c && null != c.top ? Math.max(0, c.top) : a.scroller.scrollTop;
        d = Math.floor(d - ob(a));
        var e = c && null != c.bottom ? c.bottom : d + a.wrapper.clientHeight,
            f = nf(b, d),
            g = nf(b, e);
        if (c && c.ensure) {
            var h = c.ensure.from.line,
                i = c.ensure.to.line;
            f > h ? (f = h, g = nf(b, of(hf(b, h)) + a.wrapper.clientHeight)) : Math.min(i, b.lastLine()) >= g && (f = nf(b, of(hf(b, i)) - a.wrapper.clientHeight), g = i)
        }
        return {
            from: f,
            to: Math.max(g, f + 1)
        }
    }

    function S(a) {
        var b = a.display,
            c = b.view;
        if (b.alignWidgets || b.gutters.firstChild && a.options.fixedGutter) {
            for (var d = V(b) - b.scroller.scrollLeft + a.doc.scrollLeft, e = b.gutters.offsetWidth, f = d + \"px\", g = 0; g < c.length; g++)
                if (!c[g].hidden) {
                    a.options.fixedGutter && c[g].gutter && (c[g].gutter.style.left = f);
                    var h = c[g].alignable;
                    if (h)
                        for (var i = 0; i < h.length; i++) h[i].style.left = f
                }
            a.options.fixedGutter && (b.gutters.style.left = d + e + \"px\")
        }
    }

    function T(a) {
        if (!a.options.lineNumbers) return !1;
        var b = a.doc,
            c = U(a.options, b.first + b.size - 1),
            d = a.display;
        if (c.length != d.lineNumChars) {
            var e = d.measure.appendChild(tg(\"div\", [tg(\"div\", c)], \"CodeMirror-linenumber CodeMirror-gutter-elt\")),
                f = e.firstChild.offsetWidth,
                g = e.offsetWidth - f;
            return d.lineGutter.style.width = \"\", d.lineNumInnerWidth = Math.max(f, d.lineGutter.offsetWidth - g) + 1, d.lineNumWidth = d.lineNumInnerWidth + g, d.lineNumChars = d.lineNumInnerWidth ? c.length : -1, d.lineGutter.style.width = d.lineNumWidth + \"px\", H(a), !0
        }
        return !1
    }

    function U(a, b) {
        return String(a.lineNumberFormatter(b + a.firstLineNumber))
    }

    function V(a) {
        return a.scroller.getBoundingClientRect().left - a.sizer.getBoundingClientRect().left
    }

    function W(a, b, c) {
        var d = a.display;
        this.viewport = b, this.visible = R(d, a.doc, b), this.editorIsHidden = !d.wrapper.offsetWidth, this.wrapperHeight = d.wrapper.clientHeight, this.wrapperWidth = d.wrapper.clientWidth, this.oldDisplayWidth = sb(a), this.force = c, this.dims = ca(a), this.events = []
    }

    function X(a) {
        var b = a.display;
        !b.scrollbarsClipped && b.scroller.offsetWidth && (b.nativeBarWidth = b.scroller.offsetWidth - b.scroller.clientWidth, b.heightForcer.style.height = rb(a) + \"px\", b.sizer.style.marginBottom = -b.nativeBarWidth + \"px\", b.sizer.style.borderRightWidth = rb(a) + \"px\", b.scrollbarsClipped = !0)
    }

    function Y(a, b) {
        var c = a.display,
            d = a.doc;
        if (b.editorIsHidden) return mc(a), !1;
        if (!b.force && b.visible.from >= c.viewFrom && b.visible.to <= c.viewTo && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo) && c.renderedView == c.view && 0 == qc(a)) return !1;
        T(a) && (mc(a), b.dims = ca(a));
        var e = d.first + d.size,
            f = Math.max(b.visible.from - a.options.viewportMargin, d.first),
            g = Math.min(e, b.visible.to + a.options.viewportMargin);
        c.viewFrom < f && f - c.viewFrom < 20 && (f = Math.max(d.first, c.viewFrom)), c.viewTo > g && c.viewTo - g < 20 && (g = Math.min(e, c.viewTo)), w && (f = we(a.doc, f), g = xe(a.doc, g));
        var h = f != c.viewFrom || g != c.viewTo || c.lastWrapHeight != b.wrapperHeight || c.lastWrapWidth != b.wrapperWidth;
        pc(a, f, g), c.viewOffset = of(hf(a.doc, c.viewFrom)), a.display.mover.style.top = c.viewOffset + \"px\";
        var i = qc(a);
        if (!h && 0 == i && !b.force && c.renderedView == c.view && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo)) return !1;
        var j = yg();
        return i > 4 && (c.lineDiv.style.display = \"none\"), da(a, c.updateLineNumbers, b.dims), i > 4 && (c.lineDiv.style.display = \"\"), c.renderedView = c.view, j && yg() != j && j.offsetHeight && j.focus(), vg(c.cursorDiv), vg(c.selectionDiv), c.gutters.style.height = c.sizer.style.minHeight = 0, h && (c.lastWrapHeight = b.wrapperHeight, c.lastWrapWidth = b.wrapperWidth, kb(a, 400)), c.updateLineNumbers = null, !0
    }

    function Z(a, b) {
        for (var c = b.viewport, d = !0;
            (d && a.options.lineWrapping && b.oldDisplayWidth != sb(a) || (c && null != c.top && (c = {
                top: Math.min(a.doc.height + pb(a.display) - tb(a), c.top)
            }), b.visible = R(a.display, a.doc, c), !(b.visible.from >= a.display.viewFrom && b.visible.to <= a.display.viewTo))) && Y(a, b); d = !1) {
            aa(a);
            var e = L(a);
            fb(a), _(a, e), P(a, e)
        }
        b.signal(a, \"update\", a), (a.display.viewFrom != a.display.reportedViewFrom || a.display.viewTo != a.display.reportedViewTo) && (b.signal(a, \"viewportChange\", a, a.display.viewFrom, a.display.viewTo), a.display.reportedViewFrom = a.display.viewFrom, a.display.reportedViewTo = a.display.viewTo)
    }

    function \$(a, b) {
        var c = new W(a, b);
        if (Y(a, c)) {
            aa(a), Z(a, c);
            var d = L(a);
            fb(a), _(a, d), P(a, d), c.finish()
        }
    }

    function _(a, b) {
        a.display.sizer.style.minHeight = b.docHeight + \"px\";
        var c = b.docHeight + a.display.barHeight;
        a.display.heightForcer.style.top = c + \"px\", a.display.gutters.style.height = Math.max(c + rb(a), b.clientHeight) + \"px\"
    }

    function aa(a) {
        for (var b = a.display, c = b.lineDiv.offsetTop, d = 0; d < b.view.length; d++) {
            var h, e = b.view[d];
            if (!e.hidden) {
                if (f && 8 > g) {
                    var i = e.node.offsetTop + e.node.offsetHeight;
                    h = i - c, c = i
                } else {
                    var j = e.node.getBoundingClientRect();
                    h = j.bottom - j.top
                }
                var k = e.line.height - h;
                if (2 > h && (h = Tb(b)), (k > .001 || -.001 > k) && (lf(e.line, h), ba(e.line), e.rest))
                    for (var l = 0; l < e.rest.length; l++) ba(e.rest[l])
            }
        }
    }

    function ba(a) {
        if (a.widgets)
            for (var b = 0; b < a.widgets.length; ++b) a.widgets[b].height = a.widgets[b].node.offsetHeight
    }

    function ca(a) {
        for (var b = a.display, c = {}, d = {}, e = b.gutters.clientLeft, f = b.gutters.firstChild, g = 0; f; f = f.nextSibling, ++g) c[a.options.gutters[g]] = f.offsetLeft + f.clientLeft + e, d[a.options.gutters[g]] = f.clientWidth;
        return {
            fixedPos: V(b),
            gutterTotalWidth: b.gutters.offsetWidth,
            gutterLeft: c,
            gutterWidth: d,
            wrapperWidth: b.wrapper.clientWidth
        }
    }

    function da(a, b, c) {
        function i(b) {
            var c = b.nextSibling;
            return h && q && a.display.currentWheelTarget == b ? b.style.display = \"none\" : b.parentNode.removeChild(b), c
        }
        for (var d = a.display, e = a.options.lineNumbers, f = d.lineDiv, g = f.firstChild, j = d.view, k = d.viewFrom, l = 0; l < j.length; l++) {
            var m = j[l];
            if (m.hidden);
            else if (m.node && m.node.parentNode == f) {
                for (; g != m.node;) g = i(g);
                var o = e && null != b && k >= b && m.lineNumber;
                m.changes && (hg(m.changes, \"gutter\") > -1 && (o = !1), ea(a, m, k, c)), o && (vg(m.lineNumber), m.lineNumber.appendChild(document.createTextNode(U(a.options, k)))), g = m.node.nextSibling
            } else {
                var n = ma(a, m, k, c);
                f.insertBefore(n, g)
            }
            k += m.size
        }
        for (; g;) g = i(g)
    }

    function ea(a, b, c, d) {
        for (var e = 0; e < b.changes.length; e++) {
            var f = b.changes[e];
            \"text\" == f ? ia(a, b) : \"gutter\" == f ? ka(a, b, c, d) : \"class\" == f ? ja(b) : \"widget\" == f && la(a, b, d)
        }
        b.changes = null
    }

    function fa(a) {
        return a.node == a.text && (a.node = tg(\"div\", null, null, \"position: relative\"), a.text.parentNode && a.text.parentNode.replaceChild(a.node, a.text), a.node.appendChild(a.text), f && 8 > g && (a.node.style.zIndex = 2)), a.node
    }

    function ga(a) {
        var b = a.bgClass ? a.bgClass + \" \" + (a.line.bgClass || \"\") : a.line.bgClass;
        if (b && (b += \" CodeMirror-linebackground\"), a.background) b ? a.background.className = b : (a.background.parentNode.removeChild(a.background), a.background = null);
        else if (b) {
            var c = fa(a);
            a.background = c.insertBefore(tg(\"div\", null, b), c.firstChild)
        }
    }

    function ha(a, b) {
        var c = a.display.externalMeasured;
        return c && c.line == b.line ? (a.display.externalMeasured = null, b.measure = c.measure, c.built) : Se(a, b)
    }

    function ia(a, b) {
        var c = b.text.className,
            d = ha(a, b);
        b.text == b.node && (b.node = d.pre), b.text.parentNode.replaceChild(d.pre, b.text), b.text = d.pre, d.bgClass != b.bgClass || d.textClass != b.textClass ? (b.bgClass = d.bgClass, b.textClass = d.textClass, ja(b)) : c && (b.text.className = c)
    }

    function ja(a) {
        ga(a), a.line.wrapClass ? fa(a).className = a.line.wrapClass : a.node != a.text && (a.node.className = \"\");
        var b = a.textClass ? a.textClass + \" \" + (a.line.textClass || \"\") : a.line.textClass;
        a.text.className = b || \"\"
    }

    function ka(a, b, c, d) {
        if (b.gutter && (b.node.removeChild(b.gutter), b.gutter = null), b.gutterBackground && (b.node.removeChild(b.gutterBackground), b.gutterBackground = null), b.line.gutterClass) {
            var e = fa(b);
            b.gutterBackground = tg(\"div\", null, \"CodeMirror-gutter-background \" + b.line.gutterClass, \"left: \" + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + \"px; width: \" + d.gutterTotalWidth + \"px\"), e.insertBefore(b.gutterBackground, b.text)
        }
        var f = b.line.gutterMarkers;
        if (a.options.lineNumbers || f) {
            var e = fa(b),
                g = b.gutter = tg(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + \"px\");
            if (a.display.input.setUneditable(g), e.insertBefore(g, b.text), b.line.gutterClass && (g.className += \" \" + b.line.gutterClass), !a.options.lineNumbers || f && f[\"CodeMirror-linenumbers\"] || (b.lineNumber = g.appendChild(tg(\"div\", U(a.options, c), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + a.display.lineNumInnerWidth + \"px\"))), f)
                for (var h = 0; h < a.options.gutters.length; ++h) {
                    var i = a.options.gutters[h],
                        j = f.hasOwnProperty(i) && f[i];
                    j && g.appendChild(tg(\"div\", [j], \"CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[i] + \"px; width: \" + d.gutterWidth[i] + \"px\"))
                }
        }
    }

    function la(a, b, c) {
        b.alignable && (b.alignable = null);
        for (var e, d = b.node.firstChild; d; d = e) {
            var e = d.nextSibling;
            \"CodeMirror-linewidget\" == d.className && b.node.removeChild(d)
        }
        na(a, b, c)
    }

    function ma(a, b, c, d) {
        var e = ha(a, b);
        return b.text = b.node = e.pre, e.bgClass && (b.bgClass = e.bgClass), e.textClass && (b.textClass = e.textClass), ja(b), ka(a, b, c, d), na(a, b, d), b.node
    }

    function na(a, b, c) {
        if (oa(a, b.line, b, c, !0), b.rest)
            for (var d = 0; d < b.rest.length; d++) oa(a, b.rest[d], b, c, !1)
    }

    function oa(a, b, c, d, e) {
        if (b.widgets)
            for (var f = fa(c), g = 0, h = b.widgets; g < h.length; ++g) {
                var i = h[g],
                    j = tg(\"div\", [i.node], \"CodeMirror-linewidget\");
                i.handleMouseEvents || j.setAttribute(\"cm-ignore-events\", \"true\"), pa(i, j, c, d), a.display.input.setUneditable(j), e && i.above ? f.insertBefore(j, c.gutter || c.text) : f.appendChild(j), Rf(i, \"redraw\")
            }
    }

    function pa(a, b, c, d) {
        if (a.noHScroll) {
            (c.alignable || (c.alignable = [])).push(b);
            var e = d.wrapperWidth;
            b.style.left = d.fixedPos + \"px\", a.coverGutter || (e -= d.gutterTotalWidth, b.style.paddingLeft = d.gutterTotalWidth + \"px\"), b.style.width = e + \"px\"
        }
        a.coverGutter && (b.style.zIndex = 5, b.style.position = \"relative\", a.noHScroll || (b.style.marginLeft = -d.gutterTotalWidth + \"px\"))
    }

    function sa(a) {
        return qa(a.line, a.ch)
    }

    function ta(a, b) {
        return ra(a, b) < 0 ? b : a
    }

    function ua(a, b) {
        return ra(a, b) < 0 ? a : b
    }

    function va(a) {
        a.state.focused || (a.display.input.focus(), _c(a))
    }

    function wa(a) {
        return a.options.readOnly || a.doc.cantEdit
    }

    function ya(a, b, c, d, e) {
        var f = a.doc;
        a.display.shift = !1, d || (d = f.sel);
        var g = a.state.pasteIncoming || \"paste\" == e,
            h = f.splitLines(b),
            i = null;
        if (g && d.ranges.length > 1)
            if (xa && xa.join(\"\\n\") == b) {
                if (d.ranges.length % xa.length == 0) {
                    i = [];
                    for (var j = 0; j < xa.length; j++) i.push(f.splitLines(xa[j]))
                }
            } else h.length == d.ranges.length && (i = ig(h, function(a) {
                return [a]
            }));
        for (var j = d.ranges.length - 1; j >= 0; j--) {
            var k = d.ranges[j],
                l = k.from(),
                m = k.to();
            k.empty() && (c && c > 0 ? l = qa(l.line, l.ch - c) : a.state.overwrite && !g && (m = qa(m.line, Math.min(hf(f, m.line).text.length, m.ch + fg(h).length))));
            var n = a.curOp.updateInput,
                o = {
                    from: l,
                    to: m,
                    text: i ? i[j % i.length] : h,
                    origin: e || (g ? \"paste\" : a.state.cutIncoming ? \"cut\" : \"+input\")
                };
            jd(a.doc, o), Rf(a, \"inputRead\", a, o)
        }
        b && !g && Aa(a, b), vd(a), a.curOp.updateInput = n, a.curOp.typing = !0, a.state.pasteIncoming = a.state.cutIncoming = !1
    }

    function za(a, b) {
        var c = a.clipboardData && a.clipboardData.getData(\"text/plain\");
        return c ? (a.preventDefault(), wa(b) || b.options.disableInput || ec(b, function() {
            ya(b, c, 0, null, \"paste\")
        }), !0) : void 0
    }

    function Aa(a, b) {
        if (a.options.electricChars && a.options.smartIndent)
            for (var c = a.doc.sel, d = c.ranges.length - 1; d >= 0; d--) {
                var e = c.ranges[d];
                if (!(e.head.ch > 100 || d && c.ranges[d - 1].head.line == e.head.line)) {
                    var f = a.getModeAt(e.head),
                        g = !1;
                    if (f.electricChars) {
                        for (var h = 0; h < f.electricChars.length; h++)
                            if (b.indexOf(f.electricChars.charAt(h)) > -1) {
                                g = xd(a, e.head.line, \"smart\");
                                break
                            }
                    } else f.electricInput && f.electricInput.test(hf(a.doc, e.head.line).text.slice(0, e.head.ch)) && (g = xd(a, e.head.line, \"smart\"));
                    g && Rf(a, \"electricInput\", a, e.head.line)
                }
            }
    }

    function Ba(a) {
        for (var b = [], c = [], d = 0; d < a.doc.sel.ranges.length; d++) {
            var e = a.doc.sel.ranges[d].head.line,
                f = {
                    anchor: qa(e, 0),
                    head: qa(e + 1, 0)
                };
            c.push(f), b.push(a.getRange(f.anchor, f.head))
        }
        return {
            text: b,
            ranges: c
        }
    }

    function Ca(a) {
        a.setAttribute(\"autocorrect\", \"off\"), a.setAttribute(\"autocapitalize\", \"off\"), a.setAttribute(\"spellcheck\", \"false\")
    }

    function Da(a) {
        this.cm = a, this.prevInput = \"\", this.pollingFast = !1, this.polling = new ag, this.inaccurateSelection = !1, this.hasSelection = !1, this.composing = null
    }

    function Ea() {
        var a = tg(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\"),
            b = tg(\"div\", [a], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");
        return h ? a.style.width = \"1000px\" : a.setAttribute(\"wrap\", \"off\"), o && (a.style.border = \"1px solid black\"), Ca(a), b
    }

    function Fa(a) {
        this.cm = a, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new ag, this.gracePeriod = !1
    }

    function Ga(a, b) {
        var c = yb(a, b.line);
        if (!c || c.hidden) return null;
        var d = hf(a.doc, b.line),
            e = vb(c, d, b.line),
            f = pf(d),
            g = \"left\";
        if (f) {
            var h = ah(f, b.ch);
            g = h % 2 ? \"right\" : \"left\"
        }
        var i = Cb(e.map, b.ch, g);
        return i.offset = \"right\" == i.collapse ? i.end : i.start, i
    }

    function Ha(a, b) {
        return b && (a.bad = !0), a
    }

    function Ia(a, b, c) {
        var d;
        if (b == a.display.lineDiv) {
            if (d = a.display.lineDiv.childNodes[c], !d) return Ha(a.clipPos(qa(a.display.viewTo - 1)), !0);
            b = null, c = 0
        } else
            for (d = b;; d = d.parentNode) {
                if (!d || d == a.display.lineDiv) return null;
                if (d.parentNode && d.parentNode == a.display.lineDiv) break
            }
        for (var e = 0; e < a.display.view.length; e++) {
            var f = a.display.view[e];
            if (f.node == d) return Ja(f, b, c)
        }
    }

    function Ja(a, b, c) {
        function k(b, c, d) {
            for (var e = -1; e < (j ? j.length : 0); e++)
                for (var f = 0 > e ? i.map : j[e], g = 0; g < f.length; g += 3) {
                    var h = f[g + 2];
                    if (h == b || h == c) {
                        var k = mf(0 > e ? a.line : a.rest[e]),
                            l = f[g] + d;
                        return (0 > d || h != b) && (l = f[g + (d ? 1 : 0)]), qa(k, l)
                    }
                }
        }
        var d = a.text.firstChild,
            e = !1;
        if (!b || !xg(d, b)) return Ha(qa(mf(a.line), 0), !0);
        if (b == d && (e = !0, b = d.childNodes[c], c = 0, !b)) {
            var f = a.rest ? fg(a.rest) : a.line;
            return Ha(qa(mf(f), f.text.length), e)
        }
        var g = 3 == b.nodeType ? b : null,
            h = b;
        for (g || 1 != b.childNodes.length || 3 != b.firstChild.nodeType || (g = b.firstChild, c && (c = g.nodeValue.length)); h.parentNode != d;) h = h.parentNode;
        var i = a.measure,
            j = i.maps,
            l = k(g, h, c);
        if (l) return Ha(l, e);
        for (var m = h.nextSibling, n = g ? g.nodeValue.length - c : 0; m; m = m.nextSibling) {
            if (l = k(m, m.firstChild, 0)) return Ha(qa(l.line, l.ch - n), e);
            n += m.textContent.length
        }
        for (var o = h.previousSibling, n = c; o; o = o.previousSibling) {
            if (l = k(o, o.firstChild, -1)) return Ha(qa(l.line, l.ch + n), e);
            n += m.textContent.length
        }
    }

    function Ka(a, b, c, d, e) {
        function i(a) {
            return function(b) {
                return b.id == a
            }
        }

        function j(b) {
            if (1 == b.nodeType) {
                var c = b.getAttribute(\"cm-text\");
                if (null != c) return \"\" == c && (c = b.textContent.replace(/\\u200b/g, \"\")), void(f += c);
                var l, k = b.getAttribute(\"cm-marker\");
                if (k) {
                    var m = a.findMarks(qa(d, 0), qa(e + 1, 0), i(+k));
                    return void(m.length && (l = m[0].find()) && (f += jf(a.doc, l.from, l.to).join(h)))
                }
                if (\"false\" == b.getAttribute(\"contenteditable\")) return;
                for (var n = 0; n < b.childNodes.length; n++) j(b.childNodes[n]);
                /^(pre|div|p)\$/i.test(b.nodeName) && (g = !0)
            } else if (3 == b.nodeType) {
                var o = b.nodeValue;
                if (!o) return;
                g && (f += h, g = !1), f += o
            }
        }
        for (var f = \"\", g = !1, h = a.doc.lineSeparator(); j(b), b != c;) b = b.nextSibling;
        return f
    }

    function La(a, b) {
        this.ranges = a, this.primIndex = b
    }

    function Ma(a, b) {
        this.anchor = a, this.head = b
    }

    function Na(a, b) {
        var c = a[b];
        a.sort(function(a, b) {
            return ra(a.from(), b.from())
        }), b = hg(a, c);
        for (var d = 1; d < a.length; d++) {
            var e = a[d],
                f = a[d - 1];
            if (ra(f.to(), e.from()) >= 0) {
                var g = ua(f.from(), e.from()),
                    h = ta(f.to(), e.to()),
                    i = f.empty() ? e.from() == e.head : f.from() == f.head;
                b >= d && --b, a.splice(--d, 2, new Ma(i ? h : g, i ? g : h))
            }
        }
        return new La(a, b)
    }

    function Oa(a, b) {
        return new La([new Ma(a, b || a)], 0)
    }

    function Pa(a, b) {
        return Math.max(a.first, Math.min(b, a.first + a.size - 1))
    }

    function Qa(a, b) {
        if (b.line < a.first) return qa(a.first, 0);
        var c = a.first + a.size - 1;
        return b.line > c ? qa(c, hf(a, c).text.length) : Ra(b, hf(a, b.line).text.length)
    }

    function Ra(a, b) {
        var c = a.ch;
        return null == c || c > b ? qa(a.line, b) : 0 > c ? qa(a.line, 0) : a
    }

    function Sa(a, b) {
        return b >= a.first && b < a.first + a.size
    }

    function Ta(a, b) {
        for (var c = [], d = 0; d < b.length; d++) c[d] = Qa(a, b[d]);
        return c
    }

    function Ua(a, b, c, d) {
        if (a.cm && a.cm.display.shift || a.extend) {
            var e = b.anchor;
            if (d) {
                var f = ra(c, e) < 0;
                f != ra(d, e) < 0 ? (e = c, c = d) : f != ra(c, d) < 0 && (c = d)
            }
            return new Ma(e, c)
        }
        return new Ma(d || c, c)
    }

    function Va(a, b, c, d) {
        _a(a, new La([Ua(a, a.sel.primary(), b, c)], 0), d)
    }

    function Wa(a, b, c) {
        for (var d = [], e = 0; e < a.sel.ranges.length; e++) d[e] = Ua(a, a.sel.ranges[e], b[e], null);
        var f = Na(d, a.sel.primIndex);
        _a(a, f, c)
    }

    function Xa(a, b, c, d) {
        var e = a.sel.ranges.slice(0);
        e[b] = c, _a(a, Na(e, a.sel.primIndex), d)
    }

    function Ya(a, b, c, d) {
        _a(a, Oa(b, c), d)
    }

    function Za(a, b) {
        var c = {
            ranges: b.ranges,
            update: function(b) {
                this.ranges = [];
                for (var c = 0; c < b.length; c++) this.ranges[c] = new Ma(Qa(a, b[c].anchor), Qa(a, b[c].head))
            }
        };
        return Pf(a, \"beforeSelectionChange\", a, c), a.cm && Pf(a.cm, \"beforeSelectionChange\", a.cm, c), c.ranges != b.ranges ? Na(c.ranges, c.ranges.length - 1) : b
    }

    function \$a(a, b, c) {
        var d = a.history.done,
            e = fg(d);
        e && e.ranges ? (d[d.length - 1] = b, ab(a, b, c)) : _a(a, b, c)
    }

    function _a(a, b, c) {
        ab(a, b, c), wf(a, a.sel, a.cm ? a.cm.curOp.id : NaN, c)
    }

    function ab(a, b, c) {
        (Vf(a, \"beforeSelectionChange\") || a.cm && Vf(a.cm, \"beforeSelectionChange\")) && (b = Za(a, b));
        var d = c && c.bias || (ra(b.primary().head, a.sel.primary().head) < 0 ? -1 : 1);
        bb(a, db(a, b, d, !0)), c && c.scroll === !1 || !a.cm || vd(a.cm)
    }

    function bb(a, b) {
        b.equals(a.sel) || (a.sel = b, a.cm && (a.cm.curOp.updateInput = a.cm.curOp.selectionChanged = !0, Uf(a.cm)), Rf(a, \"cursorActivity\", a))
    }

    function cb(a) {
        bb(a, db(a, a.sel, null, !1), Zf)
    }

    function db(a, b, c, d) {
        for (var e, f = 0; f < b.ranges.length; f++) {
            var g = b.ranges[f],
                h = eb(a, g.anchor, c, d),
                i = eb(a, g.head, c, d);
            (e || h != g.anchor || i != g.head) && (e || (e = b.ranges.slice(0, f)), e[f] = new Ma(h, i))
        }
        return e ? Na(e, b.primIndex) : b
    }

    function eb(a, b, c, d) {
        var e = !1,
            f = b,
            g = c || 1;
        a.cantEdit = !1;
        a: for (;;) {
            var h = hf(a, f.line);
            if (h.markedSpans)
                for (var i = 0; i < h.markedSpans.length; ++i) {
                    var j = h.markedSpans[i],
                        k = j.marker;
                    if ((null == j.from || (k.inclusiveLeft ? j.from <= f.ch : j.from < f.ch)) && (null == j.to || (k.inclusiveRight ? j.to >= f.ch : j.to > f.ch))) {
                        if (d && (Pf(k, \"beforeCursorEnter\"), k.explicitlyCleared)) {
                            if (h.markedSpans) {
                                --i;
                                continue
                            }
                            break
                        }
                        if (!k.atomic) continue;
                        var l = k.find(0 > g ? -1 : 1);
                        if (0 == ra(l, f) && (l.ch += g, l.ch < 0 ? l = l.line > a.first ? Qa(a, qa(l.line - 1)) : null : l.ch > h.text.length && (l = l.line < a.first + a.size - 1 ? qa(l.line + 1, 0) : null), !l)) {
                            if (e) return d ? (a.cantEdit = !0, qa(a.first, 0)) : eb(a, b, c, !0);
                            e = !0, l = b, g = -g
                        }
                        f = l;
                        continue a
                    }
                }
            return f
        }
    }

    function fb(a) {
        a.display.input.showSelection(a.display.input.prepareSelection())
    }

    function gb(a, b) {
        for (var c = a.doc, d = {}, e = d.cursors = document.createDocumentFragment(), f = d.selection = document.createDocumentFragment(), g = 0; g < c.sel.ranges.length; g++)
            if (b !== !1 || g != c.sel.primIndex) {
                var h = c.sel.ranges[g],
                    i = h.empty();
                (i || a.options.showCursorWhenSelecting) && hb(a, h.head, e), i || ib(a, h, f)
            }
        return d
    }

    function hb(a, b, c) {
        var d = Nb(a, b, \"div\", null, null, !a.options.singleCursorHeightPerLine),
            e = c.appendChild(tg(\"div\", \"\\xa0\", \"CodeMirror-cursor\"));
        if (e.style.left = d.left + \"px\", e.style.top = d.top + \"px\", e.style.height = Math.max(0, d.bottom - d.top) * a.options.cursorHeight + \"px\", d.other) {
            var f = c.appendChild(tg(\"div\", \"\\xa0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));
            f.style.display = \"\", f.style.left = d.other.left + \"px\", f.style.top = d.other.top + \"px\", f.style.height = .85 * (d.other.bottom - d.other.top) + \"px\"
        }
    }

    function ib(a, b, c) {
        function j(a, b, c, d) {
            0 > b && (b = 0), b = Math.round(b), d = Math.round(d), f.appendChild(tg(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + a + \"px; top: \" + b + \"px; width: \" + (null == c ? i - a : c) + \"px; height: \" + (d - b) + \"px\"))
        }

        function k(b, c, d) {
            function m(c, d) {
                return Mb(a, qa(b, c), \"div\", f, d)
            }
            var k, l, f = hf(e, b),
                g = f.text.length;
            return Sg(pf(f), c || 0, null == d ? g : d, function(a, b, e) {
                var n, o, p, f = m(a, \"left\");
                if (a == b) n = f, o = p = f.left;
                else {
                    if (n = m(b - 1, \"right\"), \"rtl\" == e) {
                        var q = f;
                        f = n, n = q
                    }
                    o = f.left, p = n.right
                }
                null == c && 0 == a && (o = h), n.top - f.top > 3 && (j(o, f.top, null, f.bottom), o = h, f.bottom < n.top && j(o, f.bottom, null, n.top)), null == d && b == g && (p = i), (!k || f.top < k.top || f.top == k.top && f.left < k.left) && (k = f), (!l || n.bottom > l.bottom || n.bottom == l.bottom && n.right > l.right) && (l = n), h + 1 > o && (o = h), j(o, n.top, p - o, n.bottom)
            }), {
                start: k,
                end: l
            }
        }
        var d = a.display,
            e = a.doc,
            f = document.createDocumentFragment(),
            g = qb(a.display),
            h = g.left,
            i = Math.max(d.sizerWidth, sb(a) - d.sizer.offsetLeft) - g.right,
            l = b.from(),
            m = b.to();
        if (l.line == m.line) k(l.line, l.ch, m.ch);
        else {
            var n = hf(e, l.line),
                o = hf(e, m.line),
                p = ue(n) == ue(o),
                q = k(l.line, l.ch, p ? n.text.length + 1 : null).end,
                r = k(m.line, p ? 0 : null, m.ch).start;
            p && (q.top < r.top - 2 ? (j(q.right, q.top, null, q.bottom), j(h, r.top, r.left, r.bottom)) : j(q.right, q.top, r.left - q.right, q.bottom)), q.bottom < r.top && j(h, q.bottom, null, r.top)
        }
        c.appendChild(f)
    }

    function jb(a) {
        if (a.state.focused) {
            var b = a.display;
            clearInterval(b.blinker);
            var c = !0;
            b.cursorDiv.style.visibility = \"\", a.options.cursorBlinkRate > 0 ? b.blinker = setInterval(function() {
                b.cursorDiv.style.visibility = (c = !c) ? \"\" : \"hidden\"
            }, a.options.cursorBlinkRate) : a.options.cursorBlinkRate < 0 && (b.cursorDiv.style.visibility = \"hidden\")
        }
    }

    function kb(a, b) {
        a.doc.mode.startState && a.doc.frontier < a.display.viewTo && a.state.highlight.set(b, mg(lb, a))
    }

    function lb(a) {
        var b = a.doc;
        if (b.frontier < b.first && (b.frontier = b.first), !(b.frontier >= a.display.viewTo)) {
            var c = +new Date + a.options.workTime,
                d = Ld(b.mode, nb(a, b.frontier)),
                e = [];
            b.iter(b.frontier, Math.min(b.first + b.size, a.display.viewTo + 500), function(f) {
                if (b.frontier >= a.display.viewFrom) {
                    var g = f.styles,
                        h = f.text.length > a.options.maxHighlightLength,
                        i = Me(a, f, h ? Ld(b.mode, d) : d, !0);
                    f.styles = i.styles;
                    var j = f.styleClasses,
                        k = i.classes;
                    k ? f.styleClasses = k : j && (f.styleClasses = null);
                    for (var l = !g || g.length != f.styles.length || j != k && (!j || !k || j.bgClass != k.bgClass || j.textClass != k.textClass), m = 0; !l && m < g.length; ++m) l = g[m] != f.styles[m];
                    l && e.push(b.frontier), f.stateAfter = h ? d : Ld(b.mode, d)
                } else f.text.length <= a.options.maxHighlightLength && Oe(a, f.text, d), f.stateAfter = b.frontier % 5 == 0 ? Ld(b.mode, d) : null;
                return ++b.frontier, +new Date > c ? (kb(a, a.options.workDelay), !0) : void 0
            }), e.length && ec(a, function() {
                for (var b = 0; b < e.length; b++) lc(a, e[b], \"text\")
            })
        }
    }

    function mb(a, b, c) {
        for (var d, e, f = a.doc, g = c ? -1 : b - (a.doc.mode.innerMode ? 1e3 : 100), h = b; h > g; --h) {
            if (h <= f.first) return f.first;
            var i = hf(f, h - 1);
            if (i.stateAfter && (!c || h <= f.frontier)) return h;
            var j = bg(i.text, null, a.options.tabSize);
            (null == e || d > j) && (e = h - 1, d = j)
        }
        return e
    }

    function nb(a, b, c) {
        var d = a.doc,
            e = a.display;
        if (!d.mode.startState) return !0;
        var f = mb(a, b, c),
            g = f > d.first && hf(d, f - 1).stateAfter;
        return g = g ? Ld(d.mode, g) : Md(d.mode), d.iter(f, b, function(c) {
            Oe(a, c.text, g);
            var h = f == b - 1 || f % 5 == 0 || f >= e.viewFrom && f < e.viewTo;
            c.stateAfter = h ? Ld(d.mode, g) : null, ++f
        }), c && (d.frontier = f), g
    }

    function ob(a) {
        return a.lineSpace.offsetTop
    }

    function pb(a) {
        return a.mover.offsetHeight - a.lineSpace.offsetHeight
    }

    function qb(a) {
        if (a.cachedPaddingH) return a.cachedPaddingH;
        var b = wg(a.measure, tg(\"pre\", \"x\")),
            c = window.getComputedStyle ? window.getComputedStyle(b) : b.currentStyle,
            d = {
                left: parseInt(c.paddingLeft),
                right: parseInt(c.paddingRight)
            };
        return isNaN(d.left) || isNaN(d.right) || (a.cachedPaddingH = d), d
    }

    function rb(a) {
        return Xf - a.display.nativeBarWidth
    }

    function sb(a) {
        return a.display.scroller.clientWidth - rb(a) - a.display.barWidth
    }

    function tb(a) {
        return a.display.scroller.clientHeight - rb(a) - a.display.barHeight
    }

    function ub(a, b, c) {
        var d = a.options.lineWrapping,
            e = d && sb(a);
        if (!b.measure.heights || d && b.measure.width != e) {
            var f = b.measure.heights = [];
            if (d) {
                b.measure.width = e;
                for (var g = b.text.firstChild.getClientRects(), h = 0; h < g.length - 1; h++) {
                    var i = g[h],
                        j = g[h + 1];
                    Math.abs(i.bottom - j.bottom) > 2 && f.push((i.bottom + j.top) / 2 - c.top)
                }
            }
            f.push(c.bottom - c.top)
        }
    }

    function vb(a, b, c) {
        if (a.line == b) return {
            map: a.measure.map,
            cache: a.measure.cache
        };
        for (var d = 0; d < a.rest.length; d++)
            if (a.rest[d] == b) return {
                map: a.measure.maps[d],
                cache: a.measure.caches[d]
            };
        for (var d = 0; d < a.rest.length; d++)
            if (mf(a.rest[d]) > c) return {
                map: a.measure.maps[d],
                cache: a.measure.caches[d],
                before: !0
            }
    }

    function wb(a, b) {
        b = ue(b);
        var c = mf(b),
            d = a.display.externalMeasured = new ic(a.doc, b, c);
        d.lineN = c;
        var e = d.built = Se(a, d);
        return d.text = e.pre, wg(a.display.lineMeasure, e.pre), d
    }

    function xb(a, b, c, d) {
        return Ab(a, zb(a, b), c, d)
    }

    function yb(a, b) {
        if (b >= a.display.viewFrom && b < a.display.viewTo) return a.display.view[nc(a, b)];
        var c = a.display.externalMeasured;
        return c && b >= c.lineN && b < c.lineN + c.size ? c : void 0
    }

    function zb(a, b) {
        var c = mf(b),
            d = yb(a, c);
        d && !d.text ? d = null : d && d.changes && (ea(a, d, c, ca(a)), a.curOp.forceUpdate = !0), d || (d = wb(a, b));
        var e = vb(d, b, c);
        return {
            line: b,
            view: d,
            rect: null,
            map: e.map,
            cache: e.cache,
            before: e.before,
            hasHeights: !1
        }
    }

    function Ab(a, b, c, d, e) {
        b.before && (c = -1);
        var g, f = c + (d || \"\");
        return b.cache.hasOwnProperty(f) ? g = b.cache[f] : (b.rect || (b.rect = b.view.text.getBoundingClientRect()), b.hasHeights || (ub(a, b.view, b.rect), b.hasHeights = !0), g = Db(a, b, c, d), g.bogus || (b.cache[f] = g)), {
            left: g.left,
            right: g.right,
            top: e ? g.rtop : g.top,
            bottom: e ? g.rbottom : g.bottom
        }
    }

    function Cb(a, b, c) {
        for (var d, e, f, g, h = 0; h < a.length; h += 3) {
            var i = a[h],
                j = a[h + 1];
            if (i > b ? (e = 0, f = 1, g = \"left\") : j > b ? (e = b - i, f = e + 1) : (h == a.length - 3 || b == j && a[h + 3] > b) && (f = j - i, e = f - 1, b >= j && (g = \"right\")), null != e) {
                if (d = a[h + 2], i == j && c == (d.insertLeft ? \"left\" : \"right\") && (g = c), \"left\" == c && 0 == e)
                    for (; h && a[h - 2] == a[h - 3] && a[h - 1].insertLeft;) d = a[(h -= 3) + 2], g = \"left\";
                if (\"right\" == c && e == j - i)
                    for (; h < a.length - 3 && a[h + 3] == a[h + 4] && !a[h + 5].insertLeft;) d = a[(h += 3) + 2], g = \"right\";
                break
            }
        }
        return {
            node: d,
            start: e,
            end: f,
            collapse: g,
            coverStart: i,
            coverEnd: j
        }
    }

    function Db(a, b, c, d) {
        var l, e = Cb(b.map, c, d),
            h = e.node,
            i = e.start,
            j = e.end,
            k = e.collapse;
        if (3 == h.nodeType) {
            for (var m = 0; 4 > m; m++) {
                for (; i && sg(b.line.text.charAt(e.coverStart + i));) --i;
                for (; e.coverStart + j < e.coverEnd && sg(b.line.text.charAt(e.coverStart + j));) ++j;
                if (f && 9 > g && 0 == i && j == e.coverEnd - e.coverStart) l = h.parentNode.getBoundingClientRect();
                else if (f && a.options.lineWrapping) {
                    var n = ug(h, i, j).getClientRects();
                    l = n.length ? n[\"right\" == d ? n.length - 1 : 0] : Bb
                } else l = ug(h, i, j).getBoundingClientRect() || Bb;
                if (l.left || l.right || 0 == i) break;
                j = i, i -= 1, k = \"right\"
            }
            f && 11 > g && (l = Eb(a.display.measure, l))
        } else {
            i > 0 && (k = d = \"right\");
            var n;
            l = a.options.lineWrapping && (n = h.getClientRects()).length > 1 ? n[\"right\" == d ? n.length - 1 : 0] : h.getBoundingClientRect()
        }
        if (f && 9 > g && !i && (!l || !l.left && !l.right)) {
            var o = h.parentNode.getClientRects()[0];
            l = o ? {
                left: o.left,
                right: o.left + Ub(a.display),
                top: o.top,
                bottom: o.bottom
            } : Bb
        }
        for (var p = l.top - b.rect.top, q = l.bottom - b.rect.top, r = (p + q) / 2, s = b.view.measure.heights, m = 0; m < s.length - 1 && !(r < s[m]); m++);
        var t = m ? s[m - 1] : 0,
            u = s[m],
            v = {
                left: (\"right\" == k ? l.right : l.left) - b.rect.left,
                right: (\"left\" == k ? l.left : l.right) - b.rect.left,
                top: t,
                bottom: u
            };
        return l.left || l.right || (v.bogus = !0), a.options.singleCursorHeightPerLine || (v.rtop = p, v.rbottom = q), v
    }

    function Eb(a, b) {
        if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !Qg(a)) return b;
        var c = screen.logicalXDPI / screen.deviceXDPI,
            d = screen.logicalYDPI / screen.deviceYDPI;
        return {
            left: b.left * c,
            right: b.right * c,
            top: b.top * d,
            bottom: b.bottom * d
        }
    }

    function Fb(a) {
        if (a.measure && (a.measure.cache = {}, a.measure.heights = null, a.rest))
            for (var b = 0; b < a.rest.length; b++) a.measure.caches[b] = {}
    }

    function Gb(a) {
        a.display.externalMeasure = null, vg(a.display.lineMeasure);
        for (var b = 0; b < a.display.view.length; b++) Fb(a.display.view[b])
    }

    function Hb(a) {
        Gb(a), a.display.cachedCharWidth = a.display.cachedTextHeight = a.display.cachedPaddingH = null, a.options.lineWrapping || (a.display.maxLineChanged = !0), a.display.lineNumChars = null
    }

    function Ib() {
        return window.pageXOffset || (document.documentElement || document.body).scrollLeft
    }

    function Jb() {
        return window.pageYOffset || (document.documentElement || document.body).scrollTop
    }

    function Kb(a, b, c, d) {
        if (b.widgets)
            for (var e = 0; e < b.widgets.length; ++e)
                if (b.widgets[e].above) {
                    var f = Ce(b.widgets[e]);
                    c.top += f, c.bottom += f
                }
        if (\"line\" == d) return c;
        d || (d = \"local\");
        var g = of(b);
        if (\"local\" == d ? g += ob(a.display) : g -= a.display.viewOffset, \"page\" == d || \"window\" == d) {
            var h = a.display.lineSpace.getBoundingClientRect();
            g += h.top + (\"window\" == d ? 0 : Jb());
            var i = h.left + (\"window\" == d ? 0 : Ib());
            c.left += i, c.right += i
        }
        return c.top += g, c.bottom += g, c
    }

    function Lb(a, b, c) {
        if (\"div\" == c) return b;
        var d = b.left,
            e = b.top;
        if (\"page\" == c) d -= Ib(), e -= Jb();
        else if (\"local\" == c || !c) {
            var f = a.display.sizer.getBoundingClientRect();
            d += f.left, e += f.top
        }
        var g = a.display.lineSpace.getBoundingClientRect();
        return {
            left: d - g.left,
            top: e - g.top
        }
    }

    function Mb(a, b, c, d, e) {
        return d || (d = hf(a.doc, b.line)), Kb(a, d, xb(a, d, b.ch, e), c)
    }

    function Nb(a, b, c, d, e, f) {
        function g(b, g) {
            var h = Ab(a, e, b, g ? \"right\" : \"left\", f);
            return g ? h.left = h.right : h.right = h.left, Kb(a, d, h, c)
        }

        function h(a, b) {
            var c = i[b],
                d = c.level % 2;
            return a == Tg(c) && b && c.level < i[b - 1].level ? (c = i[--b], a = Ug(c) - (c.level % 2 ? 0 : 1), d = !0) : a == Ug(c) && b < i.length - 1 && c.level < i[b + 1].level && (c = i[++b], a = Tg(c) - c.level % 2, d = !1), d && a == c.to && a > c.from ? g(a - 1) : g(a, d)
        }
        d = d || hf(a.doc, b.line), e || (e = zb(a, d));
        var i = pf(d),
            j = b.ch;
        if (!i) return g(j);
        var k = ah(i, j),
            l = h(j, k);
        return null != _g && (l.other = h(j, _g)), l
    }

    function Ob(a, b) {
        var c = 0,
            b = Qa(a.doc, b);
        a.options.lineWrapping || (c = Ub(a.display) * b.ch);
        var d = hf(a.doc, b.line),
            e = of(d) + ob(a.display);
        return {
            left: c,
            right: c,
            top: e,
            bottom: e + d.height
        }
    }

    function Pb(a, b, c, d) {
        var e = qa(a, b);
        return e.xRel = d, c && (e.outside = !0), e
    }

    function Qb(a, b, c) {
        var d = a.doc;
        if (c += a.display.viewOffset, 0 > c) return Pb(d.first, 0, !0, -1);
        var e = nf(d, c),
            f = d.first + d.size - 1;
        if (e > f) return Pb(d.first + d.size - 1, hf(d, f).text.length, !0, 1);
        0 > b && (b = 0);
        for (var g = hf(d, e);;) {
            var h = Rb(a, g, e, b, c),
                i = se(g),
                j = i && i.find(0, !0);
            if (!i || !(h.ch > j.from.ch || h.ch == j.from.ch && h.xRel > 0)) return h;
            e = mf(g = j.to.line)
        }
    }

    function Rb(a, b, c, d, e) {
        function j(d) {
            var e = Nb(a, qa(c, d), \"line\", b, i);
            return g = !0, f > e.bottom ? e.left - h : f < e.top ? e.left + h : (g = !1, e.left)
        }
        var f = e - of(b),
            g = !1,
            h = 2 * a.display.wrapper.clientWidth,
            i = zb(a, b),
            k = pf(b),
            l = b.text.length,
            m = Vg(b),
            n = Wg(b),
            o = j(m),
            p = g,
            q = j(n),
            r = g;
        if (d > q) return Pb(c, n, r, 1);
        for (;;) {
            if (k ? n == m || n == ch(b, m, 1) : 1 >= n - m) {
                for (var s = o > d || q - d >= d - o ? m : n, t = d - (s == m ? o : q); sg(b.text.charAt(s));) ++s;
                var u = Pb(c, s, s == m ? p : r, -1 > t ? -1 : t > 1 ? 1 : 0);
                return u
            }
            var v = Math.ceil(l / 2),
                w = m + v;
            if (k) {
                w = m;
                for (var x = 0; v > x; ++x) w = ch(b, w, 1)
            }
            var y = j(w);
            y > d ? (n = w, q = y, (r = g) && (q += 1e3), l = v) : (m = w, o = y, p = g, l -= v)
        }
    }

    function Tb(a) {
        if (null != a.cachedTextHeight) return a.cachedTextHeight;
        if (null == Sb) {
            Sb = tg(\"pre\");
            for (var b = 0; 49 > b; ++b) Sb.appendChild(document.createTextNode(\"x\")), Sb.appendChild(tg(\"br\"));
            Sb.appendChild(document.createTextNode(\"x\"))
        }
        wg(a.measure, Sb);
        var c = Sb.offsetHeight / 50;
        return c > 3 && (a.cachedTextHeight = c), vg(a.measure), c || 1
    }

    function Ub(a) {
        if (null != a.cachedCharWidth) return a.cachedCharWidth;
        var b = tg(\"span\", \"xxxxxxxxxx\"),
            c = tg(\"pre\", [b]);
        wg(a.measure, c);
        var d = b.getBoundingClientRect(),
            e = (d.right - d.left) / 10;
        return e > 2 && (a.cachedCharWidth = e), e || 10
    }

    function Xb(a) {
        a.curOp = {
            cm: a,
            viewChanged: !1,
            startHeight: a.doc.height,
            forceUpdate: !1,
            updateInput: null,
            typing: !1,
            changeObjs: null,
            cursorActivityHandlers: null,
            cursorActivityCalled: 0,
            selectionChanged: !1,
            updateMaxLine: !1,
            scrollLeft: null,
            scrollTop: null,
            scrollToPos: null,
            focus: !1,
            id: ++Wb
        }, Vb ? Vb.ops.push(a.curOp) : a.curOp.ownsGroup = Vb = {
            ops: [a.curOp],
            delayedCallbacks: []
        }
    }

    function Yb(a) {
        var b = a.delayedCallbacks,
            c = 0;
        do {
            for (; c < b.length; c++) b[c].call(null);
            for (var d = 0; d < a.ops.length; d++) {
                var e = a.ops[d];
                if (e.cursorActivityHandlers)
                    for (; e.cursorActivityCalled < e.cursorActivityHandlers.length;) e.cursorActivityHandlers[e.cursorActivityCalled++].call(null, e.cm)
            }
        } while (c < b.length)
    }

    function Zb(a) {
        var b = a.curOp,
            c = b.ownsGroup;
        if (c) try {
            Yb(c)
        } finally {
            Vb = null;
            for (var d = 0; d < c.ops.length; d++) c.ops[d].cm.curOp = null;
            \$b(c)
        }
    }

    function \$b(a) {
        for (var b = a.ops, c = 0; c < b.length; c++) _b(b[c]);
        for (var c = 0; c < b.length; c++) ac(b[c]);
        for (var c = 0; c < b.length; c++) bc(b[c]);
        for (var c = 0; c < b.length; c++) cc(b[c]);
        for (var c = 0; c < b.length; c++) dc(b[c])
    }

    function _b(a) {
        var b = a.cm,
            c = b.display;
        X(b), a.updateMaxLine && J(b), a.mustUpdate = a.viewChanged || a.forceUpdate || null != a.scrollTop || a.scrollToPos && (a.scrollToPos.from.line < c.viewFrom || a.scrollToPos.to.line >= c.viewTo) || c.maxLineChanged && b.options.lineWrapping, a.update = a.mustUpdate && new W(b, a.mustUpdate && {
            top: a.scrollTop,
            ensure: a.scrollToPos
        }, a.forceUpdate)
    }

    function ac(a) {
        a.updatedDisplay = a.mustUpdate && Y(a.cm, a.update)
    }

    function bc(a) {
        var b = a.cm,
            c = b.display;
        a.updatedDisplay && aa(b), a.barMeasure = L(b), c.maxLineChanged && !b.options.lineWrapping && (a.adjustWidthTo = xb(b, c.maxLine, c.maxLine.text.length).left + 3, b.display.sizerWidth = a.adjustWidthTo, a.barMeasure.scrollWidth = Math.max(c.scroller.clientWidth, c.sizer.offsetLeft + a.adjustWidthTo + rb(b) + b.display.barWidth), a.maxScrollLeft = Math.max(0, c.sizer.offsetLeft + a.adjustWidthTo - sb(b))), (a.updatedDisplay || a.selectionChanged) && (a.preparedSelection = c.input.prepareSelection())
    }

    function cc(a) {
        var b = a.cm;
        null != a.adjustWidthTo && (b.display.sizer.style.minWidth = a.adjustWidthTo + \"px\", a.maxScrollLeft < b.doc.scrollLeft && Kc(b, Math.min(b.display.scroller.scrollLeft, a.maxScrollLeft), !0), b.display.maxLineChanged = !1), a.preparedSelection && b.display.input.showSelection(a.preparedSelection), a.updatedDisplay && _(b, a.barMeasure), (a.updatedDisplay || a.startHeight != b.doc.height) && P(b, a.barMeasure), a.selectionChanged && jb(b), b.state.focused && a.updateInput && b.display.input.reset(a.typing), a.focus && a.focus == yg() && va(a.cm)
    }

    function dc(a) {
        var b = a.cm,
            c = b.display,
            d = b.doc;
        if (a.updatedDisplay && Z(b, a.update), null == c.wheelStartX || null == a.scrollTop && null == a.scrollLeft && !a.scrollToPos || (c.wheelStartX = c.wheelStartY = null), null == a.scrollTop || c.scroller.scrollTop == a.scrollTop && !a.forceScroll || (d.scrollTop = Math.max(0, Math.min(c.scroller.scrollHeight - c.scroller.clientHeight, a.scrollTop)), c.scrollbars.setScrollTop(d.scrollTop), c.scroller.scrollTop = d.scrollTop), null == a.scrollLeft || c.scroller.scrollLeft == a.scrollLeft && !a.forceScroll || (d.scrollLeft = Math.max(0, Math.min(c.scroller.scrollWidth - sb(b), a.scrollLeft)), c.scrollbars.setScrollLeft(d.scrollLeft), c.scroller.scrollLeft = d.scrollLeft, S(b)), a.scrollToPos) {
            var e = rd(b, Qa(d, a.scrollToPos.from), Qa(d, a.scrollToPos.to), a.scrollToPos.margin);
            a.scrollToPos.isCursor && b.state.focused && qd(b, e)
        }
        var f = a.maybeHiddenMarkers,
            g = a.maybeUnhiddenMarkers;
        if (f)
            for (var h = 0; h < f.length; ++h) f[h].lines.length || Pf(f[h], \"hide\");
        if (g)
            for (var h = 0; h < g.length; ++h) g[h].lines.length && Pf(g[h], \"unhide\");
        c.wrapper.offsetHeight && (d.scrollTop = b.display.scroller.scrollTop), a.changeObjs && Pf(b, \"changes\", b, a.changeObjs), a.update && a.update.finish()
    }

    function ec(a, b) {
        if (a.curOp) return b();
        Xb(a);
        try {
            return b()
        } finally {
            Zb(a)
        }
    }

    function fc(a, b) {
        return function() {
            if (a.curOp) return b.apply(a, arguments);
            Xb(a);
            try {
                return b.apply(a, arguments)
            } finally {
                Zb(a)
            }
        }
    }

    function gc(a) {
        return function() {
            if (this.curOp) return a.apply(this, arguments);
            Xb(this);
            try {
                return a.apply(this, arguments)
            } finally {
                Zb(this)
            }
        }
    }

    function hc(a) {
        return function() {
            var b = this.cm;
            if (!b || b.curOp) return a.apply(this, arguments);
            Xb(b);
            try {
                return a.apply(this, arguments)
            } finally {
                Zb(b)
            }
        }
    }

    function ic(a, b, c) {
        this.line = b, this.rest = ve(b), this.size = this.rest ? mf(fg(this.rest)) - c + 1 : 1, this.node = this.text = null, this.hidden = ye(a, b)
    }

    function jc(a, b, c) {
        for (var e, d = [], f = b; c > f; f = e) {
            var g = new ic(a.doc, hf(a.doc, f), f);
            e = f + g.size, d.push(g)
        }
        return d
    }

    function kc(a, b, c, d) {
        null == b && (b = a.doc.first), null == c && (c = a.doc.first + a.doc.size), d || (d = 0);
        var e = a.display;
        if (d && c < e.viewTo && (null == e.updateLineNumbers || e.updateLineNumbers > b) && (e.updateLineNumbers = b), a.curOp.viewChanged = !0, b >= e.viewTo) w && we(a.doc, b) < e.viewTo && mc(a);
        else if (c <= e.viewFrom) w && xe(a.doc, c + d) > e.viewFrom ? mc(a) : (e.viewFrom += d, e.viewTo += d);
        else if (b <= e.viewFrom && c >= e.viewTo) mc(a);
        else if (b <= e.viewFrom) {
            var f = oc(a, c, c + d, 1);
            f ? (e.view = e.view.slice(f.index), e.viewFrom = f.lineN, e.viewTo += d) : mc(a)
        } else if (c >= e.viewTo) {
            var f = oc(a, b, b, -1);
            f ? (e.view = e.view.slice(0, f.index), e.viewTo = f.lineN) : mc(a)
        } else {
            var g = oc(a, b, b, -1),
                h = oc(a, c, c + d, 1);
            g && h ? (e.view = e.view.slice(0, g.index).concat(jc(a, g.lineN, h.lineN)).concat(e.view.slice(h.index)), e.viewTo += d) : mc(a)
        }
        var i = e.externalMeasured;
        i && (c < i.lineN ? i.lineN += d : b < i.lineN + i.size && (e.externalMeasured = null))
    }

    function lc(a, b, c) {
        a.curOp.viewChanged = !0;
        var d = a.display,
            e = a.display.externalMeasured;
        if (e && b >= e.lineN && b < e.lineN + e.size && (d.externalMeasured = null), !(b < d.viewFrom || b >= d.viewTo)) {
            var f = d.view[nc(a, b)];
            if (null != f.node) {
                var g = f.changes || (f.changes = []); - 1 == hg(g, c) && g.push(c)
            }
        }
    }

    function mc(a) {
        a.display.viewFrom = a.display.viewTo = a.doc.first, a.display.view = [], a.display.viewOffset = 0
    }

    function nc(a, b) {
        if (b >= a.display.viewTo) return null;
        if (b -= a.display.viewFrom, 0 > b) return null;
        for (var c = a.display.view, d = 0; d < c.length; d++)
            if (b -= c[d].size, 0 > b) return d
    }

    function oc(a, b, c, d) {
        var f, e = nc(a, b),
            g = a.display.view;
        if (!w || c == a.doc.first + a.doc.size) return {
            index: e,
            lineN: c
        };
        for (var h = 0, i = a.display.viewFrom; e > h; h++) i += g[h].size;
        if (i != b) {
            if (d > 0) {
                if (e == g.length - 1) return null;
                f = i + g[e].size - b, e++
            } else f = i - b;
            b += f, c += f
        }
        for (; we(a.doc, c) != c;) {
            if (e == (0 > d ? 0 : g.length - 1)) return null;
            c += d * g[e - (0 > d ? 1 : 0)].size, e += d
        }
        return {
            index: e,
            lineN: c
        }
    }

    function pc(a, b, c) {
        var d = a.display,
            e = d.view;
        0 == e.length || b >= d.viewTo || c <= d.viewFrom ? (d.view = jc(a, b, c), d.viewFrom = b) : (d.viewFrom > b ? d.view = jc(a, b, d.viewFrom).concat(d.view) : d.viewFrom < b && (d.view = d.view.slice(nc(a, b))), d.viewFrom = b, d.viewTo < c ? d.view = d.view.concat(jc(a, d.viewTo, c)) : d.viewTo > c && (d.view = d.view.slice(0, nc(a, c)))), d.viewTo = c
    }

    function qc(a) {
        for (var b = a.display.view, c = 0, d = 0; d < b.length; d++) {
            var e = b[d];
            e.hidden || e.node && !e.changes || ++c
        }
        return c
    }

    function rc(a) {
        function e() {
            b.activeTouch && (c = setTimeout(function() {
                b.activeTouch = null
            }, 1e3), d = b.activeTouch, d.end = +new Date)
        }

        function h(a) {
            if (1 != a.touches.length) return !1;
            var b = a.touches[0];
            return b.radiusX <= 1 && b.radiusY <= 1
        }

        function i(a, b) {
            if (null == b.left) return !0;
            var c = b.left - a.left,
                d = b.top - a.top;
            return c * c + d * d > 400
        }
        var b = a.display;
        Lf(b.scroller, \"mousedown\", fc(a, wc)), f && 11 > g ? Lf(b.scroller, \"dblclick\", fc(a, function(b) {
            if (!Tf(a, b)) {
                var c = vc(a, b);
                if (c && !Dc(a, b) && !uc(a.display, b)) {
                    Ff(b);
                    var d = a.findWordAt(c);
                    Va(a.doc, d.anchor, d.head)
                }
            }
        })) : Lf(b.scroller, \"dblclick\", function(b) {
            Tf(a, b) || Ff(b)
        }), u || Lf(b.scroller, \"contextmenu\", function(b) {
            bd(a, b)
        });
        var c, d = {
            end: 0
        };
        Lf(b.scroller, \"touchstart\", function(a) {
            if (!h(a)) {
                clearTimeout(c);
                var e = +new Date;
                b.activeTouch = {
                    start: e,
                    moved: !1,
                    prev: e - d.end <= 300 ? d : null
                }, 1 == a.touches.length && (b.activeTouch.left = a.touches[0].pageX, b.activeTouch.top = a.touches[0].pageY)
            }
        }), Lf(b.scroller, \"touchmove\", function() {
            b.activeTouch && (b.activeTouch.moved = !0)
        }), Lf(b.scroller, \"touchend\", function(c) {
            var d = b.activeTouch;
            if (d && !uc(b, c) && null != d.left && !d.moved && new Date - d.start < 300) {
                var g, f = a.coordsChar(b.activeTouch, \"page\");
                g = !d.prev || i(d, d.prev) ? new Ma(f, f) : !d.prev.prev || i(d, d.prev.prev) ? a.findWordAt(f) : new Ma(qa(f.line, 0), Qa(a.doc, qa(f.line + 1, 0))), a.setSelection(g.anchor, g.head), a.focus(), Ff(c)
            }
            e()
        }), Lf(b.scroller, \"touchcancel\", e), Lf(b.scroller, \"scroll\", function() {
            b.scroller.clientHeight && (Jc(a, b.scroller.scrollTop), Kc(a, b.scroller.scrollLeft, !0), Pf(a, \"scroll\", a))
        }), Lf(b.scroller, \"mousewheel\", function(b) {
            Oc(a, b)
        }), Lf(b.scroller, \"DOMMouseScroll\", function(b) {
            Oc(a, b)
        }), Lf(b.wrapper, \"scroll\", function() {
            b.wrapper.scrollTop = b.wrapper.scrollLeft = 0
        }), b.dragFunctions = {
            enter: function(b) {
                Tf(a, b) || If(b)
            },
            over: function(b) {
                Tf(a, b) || (Hc(a, b), If(b))
            },
            start: function(b) {
                Gc(a, b)
            },
            drop: fc(a, Fc),
            leave: function() {
                Ic(a)
            }
        };
        var j = b.input.getField();
        Lf(j, \"keyup\", function(b) {
            Yc.call(a, b)
        }), Lf(j, \"keydown\", fc(a, Wc)), Lf(j, \"keypress\", fc(a, Zc)), Lf(j, \"focus\", mg(_c, a)), Lf(j, \"blur\", mg(ad, a))
    }

    function sc(a, b, c) {
        var d = c && c != x.Init;
        if (!b != !d) {
            var e = a.display.dragFunctions,
                f = b ? Lf : Of;
            f(a.display.scroller, \"dragstart\", e.start), f(a.display.scroller, \"dragenter\", e.enter), f(a.display.scroller, \"dragover\", e.over), f(a.display.scroller, \"dragleave\", e.leave), f(a.display.scroller, \"drop\", e.drop)
        }
    }

    function tc(a) {
        var b = a.display;
        (b.lastWrapHeight != b.wrapper.clientHeight || b.lastWrapWidth != b.wrapper.clientWidth) && (b.cachedCharWidth = b.cachedTextHeight = b.cachedPaddingH = null, b.scrollbarsClipped = !1, a.setSize())
    }

    function uc(a, b) {
        for (var c = Jf(b); c != a.wrapper; c = c.parentNode)
            if (!c || 1 == c.nodeType && \"true\" == c.getAttribute(\"cm-ignore-events\") || c.parentNode == a.sizer && c != a.mover) return !0
    }

    function vc(a, b, c, d) {
        var e = a.display;
        if (!c && \"true\" == Jf(b).getAttribute(\"cm-not-content\")) return null;
        var f, g, h = e.lineSpace.getBoundingClientRect();
        try {
            f = b.clientX - h.left, g = b.clientY - h.top
        } catch (b) {
            return null
        }
        var j, i = Qb(a, f, g);
        if (d && 1 == i.xRel && (j = hf(a.doc, i.line).text).length == i.ch) {
            var k = bg(j, j.length, a.options.tabSize) - j.length;
            i = qa(i.line, Math.max(0, Math.round((f - qb(a.display).left) / Ub(a.display)) - k))
        }
        return i
    }

    function wc(a) {
        var b = this,
            c = b.display;
        if (!(c.activeTouch && c.input.supportsTouch() || Tf(b, a))) {
            if (c.shift = a.shiftKey, uc(c, a)) return void(h || (c.scroller.draggable = !1, setTimeout(function() {
                c.scroller.draggable = !0
            }, 100)));
            if (!Dc(b, a)) {
                var d = vc(b, a);
                switch (window.focus(), Kf(a)) {
                    case 1:
                        b.state.selectingText ? b.state.selectingText(a) : d ? zc(b, a, d) : Jf(a) == c.scroller && Ff(a);
                        break;
                    case 2:
                        h && (b.state.lastMiddleDown = +new Date), d && Va(b.doc, d), setTimeout(function() {
                            c.input.focus()
                        }, 20), Ff(a);
                        break;
                    case 3:
                        u ? bd(b, a) : \$c(b)
                }
            }
        }
    }

    function zc(a, b, c) {
        f ? setTimeout(mg(va, a), 0) : a.curOp.focus = yg();
        var e, d = +new Date;
        yc && yc.time > d - 400 && 0 == ra(yc.pos, c) ? e = \"triple\" : xc && xc.time > d - 400 && 0 == ra(xc.pos, c) ? (e = \"double\", yc = {
            time: d,
            pos: c
        }) : (e = \"single\", xc = {
            time: d,
            pos: c
        });
        var i, g = a.doc.sel,
            h = q ? b.metaKey : b.ctrlKey;
        a.options.dragDrop && Hg && !wa(a) && \"single\" == e && (i = g.contains(c)) > -1 && (ra((i = g.ranges[i]).from(), c) < 0 || c.xRel > 0) && (ra(i.to(), c) > 0 || c.xRel < 0) ? Ac(a, b, c, h) : Bc(a, b, c, e, h)
    }

    function Ac(a, b, c, d) {
        var e = a.display,
            i = +new Date,
            j = fc(a, function(k) {
                h && (e.scroller.draggable = !1), a.state.draggingText = !1, Of(document, \"mouseup\", j), Of(e.scroller, \"drop\", j), Math.abs(b.clientX - k.clientX) + Math.abs(b.clientY - k.clientY) < 10 && (Ff(k), !d && +new Date - 200 < i && Va(a.doc, c), h || f && 9 == g ? setTimeout(function() {
                    document.body.focus(), e.input.focus()
                }, 20) : e.input.focus())
            });
        h && (e.scroller.draggable = !0), a.state.draggingText = j, e.scroller.dragDrop && e.scroller.dragDrop(), Lf(document, \"mouseup\", j), Lf(e.scroller, \"drop\", j)
    }

    function Bc(a, b, c, d, e) {
        function o(b) {
            if (0 != ra(n, b))
                if (n = b, \"rect\" == d) {
                    for (var e = [], f = a.options.tabSize, k = bg(hf(g, c.line).text, c.ch, f), l = bg(hf(g, b.line).text, b.ch, f), m = Math.min(k, l), o = Math.max(k, l), p = Math.min(c.line, b.line), q = Math.min(a.lastLine(), Math.max(c.line, b.line)); q >= p; p++) {
                        var r = hf(g, p).text,
                            s = cg(r, m, f);
                        m == o ? e.push(new Ma(qa(p, s), qa(p, s))) : r.length > s && e.push(new Ma(qa(p, s), qa(p, cg(r, o, f))))
                    }
                    e.length || e.push(new Ma(c, c)), _a(g, Na(j.ranges.slice(0, i).concat(e), i), {
                        origin: \"*mouse\",
                        scroll: !1
                    }), a.scrollIntoView(b)
                } else {
                    var t = h,
                        u = t.anchor,
                        v = b;
                    if (\"single\" != d) {
                        if (\"double\" == d) var w = a.findWordAt(b);
                        else var w = new Ma(qa(b.line, 0), Qa(g, qa(b.line + 1, 0)));
                        ra(w.anchor, u) > 0 ? (v = w.head, u = ua(t.from(), w.anchor)) : (v = w.anchor, u = ta(t.to(), w.head))
                    }
                    var e = j.ranges.slice(0);
                    e[i] = new Ma(Qa(g, u), v), _a(g, Na(e, i), \$f)
                }
        }

        function r(b) {
            var c = ++q,
                e = vc(a, b, !0, \"rect\" == d);
            if (e)
                if (0 != ra(e, n)) {
                    a.curOp.focus = yg(), o(e);
                    var h = R(f, g);
                    (e.line >= h.to || e.line < h.from) && setTimeout(fc(a, function() {
                        q == c && r(b)
                    }), 150)
                } else {
                    var i = b.clientY < p.top ? -20 : b.clientY > p.bottom ? 20 : 0;
                    i && setTimeout(fc(a, function() {
                        q == c && (f.scroller.scrollTop += i, r(b))
                    }), 50)
                }
        }

        function s(b) {
            a.state.selectingText = !1, q = 1 / 0, Ff(b), f.input.focus(), Of(document, \"mousemove\", t), Of(document, \"mouseup\", u), g.history.lastSelOrigin = null
        }
        var f = a.display,
            g = a.doc;
        Ff(b);
        var h, i, j = g.sel,
            k = j.ranges;
        if (e && !b.shiftKey ? (i = g.sel.contains(c), h = i > -1 ? k[i] : new Ma(c, c)) : (h = g.sel.primary(), i = g.sel.primIndex), b.altKey) d = \"rect\", e || (h = new Ma(c, c)), c = vc(a, b, !0, !0), i = -1;
        else if (\"double\" == d) {
            var l = a.findWordAt(c);
            h = a.display.shift || g.extend ? Ua(g, h, l.anchor, l.head) : l
        } else if (\"triple\" == d) {
            var m = new Ma(qa(c.line, 0), Qa(g, qa(c.line + 1, 0)));
            h = a.display.shift || g.extend ? Ua(g, h, m.anchor, m.head) : m
        } else h = Ua(g, h, c);
        e ? -1 == i ? (i = k.length, _a(g, Na(k.concat([h]), i), {
            scroll: !1,
            origin: \"*mouse\"
        })) : k.length > 1 && k[i].empty() && \"single\" == d && !b.shiftKey ? (_a(g, Na(k.slice(0, i).concat(k.slice(i + 1)), 0), {
            scroll: !1,
            origin: \"*mouse\"
        }), j = g.sel) : Xa(g, i, h, \$f) : (i = 0, _a(g, new La([h], 0), \$f), j = g.sel);
        var n = c,
            p = f.wrapper.getBoundingClientRect(),
            q = 0,
            t = fc(a, function(a) {
                Kf(a) ? r(a) : s(a)
            }),
            u = fc(a, s);
        a.state.selectingText = u, Lf(document, \"mousemove\", t), Lf(document, \"mouseup\", u)
    }

    function Cc(a, b, c, d, e) {
        try {
            var f = b.clientX,
                g = b.clientY
        } catch (b) {
            return !1
        }
        if (f >= Math.floor(a.display.gutters.getBoundingClientRect().right)) return !1;
        d && Ff(b);
        var h = a.display,
            i = h.lineDiv.getBoundingClientRect();
        if (g > i.bottom || !Vf(a, c)) return Hf(b);
        g -= i.top - h.viewOffset;
        for (var j = 0; j < a.options.gutters.length; ++j) {
            var k = h.gutters.childNodes[j];
            if (k && k.getBoundingClientRect().right >= f) {
                var l = nf(a.doc, g),
                    m = a.options.gutters[j];
                return e(a, c, a, l, m, b), Hf(b)
            }
        }
    }

    function Dc(a, b) {
        return Cc(a, b, \"gutterClick\", !0, Rf)
    }

    function Fc(a) {
        var b = this;
        if (Ic(b), !Tf(b, a) && !uc(b.display, a)) {
            Ff(a), f && (Ec = +new Date);
            var c = vc(b, a, !0),
                d = a.dataTransfer.files;
            if (c && !wa(b))
                if (d && d.length && window.FileReader && window.File)
                    for (var e = d.length, g = Array(e), h = 0, i = function(a, d) {
                            if (!b.options.allowDropFileTypes || -1 != hg(b.options.allowDropFileTypes, a.type)) {
                                var f = new FileReader;
                                f.onload = fc(b, function() {
                                    var a = f.result;
                                    if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(a) && (a = \"\"), g[d] = a, ++h == e) {
                                        c = Qa(b.doc, c);
                                        var i = {
                                            from: c,
                                            to: c,
                                            text: b.doc.splitLines(g.join(b.doc.lineSeparator())),
                                            origin: \"paste\"
                                        };
                                        jd(b.doc, i), \$a(b.doc, Oa(c, dd(i)))
                                    }
                                }), f.readAsText(a)
                            }
                        }, j = 0; e > j; ++j) i(d[j], j);
                else {
                    if (b.state.draggingText && b.doc.sel.contains(c) > -1) return b.state.draggingText(a), void setTimeout(function() {
                        b.display.input.focus()
                    }, 20);
                    try {
                        var g = a.dataTransfer.getData(\"Text\");
                        if (g) {
                            if (b.state.draggingText && !(q ? a.altKey : a.ctrlKey)) var k = b.listSelections();
                            if (ab(b.doc, Oa(c, c)), k)
                                for (var j = 0; j < k.length; ++j) pd(b.doc, \"\", k[j].anchor, k[j].head, \"drag\");
                            b.replaceSelection(g, \"around\", \"paste\"), b.display.input.focus()
                        }
                    } catch (a) {}
                }
        }
    }

    function Gc(a, b) {
        if (f && (!a.state.draggingText || +new Date - Ec < 100)) return void If(b);
        if (!Tf(a, b) && !uc(a.display, b) && (b.dataTransfer.setData(\"Text\", a.getSelection()), b.dataTransfer.setDragImage && !l)) {
            var c = tg(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");
            c.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\", k && (c.width = c.height = 1, a.display.wrapper.appendChild(c), c._top = c.offsetTop), b.dataTransfer.setDragImage(c, 0, 0), k && c.parentNode.removeChild(c)
        }
    }

    function Hc(a, b) {
        var c = vc(a, b);
        if (c) {
            var d = document.createDocumentFragment();
            hb(a, c, d), a.display.dragCursor || (a.display.dragCursor = tg(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\"), a.display.lineSpace.insertBefore(a.display.dragCursor, a.display.cursorDiv)), wg(a.display.dragCursor, d)
        }
    }

    function Ic(a) {
        a.display.dragCursor && (a.display.lineSpace.removeChild(a.display.dragCursor), a.display.dragCursor = null)
    }

    function Jc(a, b) {
        Math.abs(a.doc.scrollTop - b) < 2 || (a.doc.scrollTop = b, c || \$(a, {
            top: b
        }), a.display.scroller.scrollTop != b && (a.display.scroller.scrollTop = b), a.display.scrollbars.setScrollTop(b), c && \$(a), kb(a, 100))
    }

    function Kc(a, b, c) {
        (c ? b == a.doc.scrollLeft : Math.abs(a.doc.scrollLeft - b) < 2) || (b = Math.min(b, a.display.scroller.scrollWidth - a.display.scroller.clientWidth), a.doc.scrollLeft = b, S(a), a.display.scroller.scrollLeft != b && (a.display.scroller.scrollLeft = b), a.display.scrollbars.setScrollLeft(b))
    }

    function Oc(a, b) {
        var d = Nc(b),
            e = d.x,
            f = d.y,
            g = a.display,
            i = g.scroller,
            j = i.scrollWidth > i.clientWidth,
            l = i.scrollHeight > i.clientHeight;
        if (e && j || f && l) {
            if (f && q && h) a: for (var m = b.target, n = g.view; m != i; m = m.parentNode)
                for (var o = 0; o < n.length; o++)
                    if (n[o].node == m) {
                        a.display.currentWheelTarget = m;
                        break a
                    }
            if (e && !c && !k && null != Mc) return f && l && Jc(a, Math.max(0, Math.min(i.scrollTop + f * Mc, i.scrollHeight - i.clientHeight))), Kc(a, Math.max(0, Math.min(i.scrollLeft + e * Mc, i.scrollWidth - i.clientWidth))), (!f || f && l) && Ff(b), void(g.wheelStartX = null);
            if (f && null != Mc) {
                var p = f * Mc,
                    r = a.doc.scrollTop,
                    s = r + g.wrapper.clientHeight;
                0 > p ? r = Math.max(0, r + p - 50) : s = Math.min(a.doc.height, s + p + 50), \$(a, {
                    top: r,
                    bottom: s
                })
            }
            20 > Lc && (null == g.wheelStartX ? (g.wheelStartX = i.scrollLeft, g.wheelStartY = i.scrollTop, g.wheelDX = e, g.wheelDY = f, setTimeout(function() {
                if (null != g.wheelStartX) {
                    var a = i.scrollLeft - g.wheelStartX,
                        b = i.scrollTop - g.wheelStartY,
                        c = b && g.wheelDY && b / g.wheelDY || a && g.wheelDX && a / g.wheelDX;
                    g.wheelStartX = g.wheelStartY = null, c && (Mc = (Mc * Lc + c) / (Lc + 1), ++Lc)
                }
            }, 200)) : (g.wheelDX += e, g.wheelDY += f))
        }
    }

    function Pc(a, b, c) {
        if (\"string\" == typeof b && (b = Nd[b], !b)) return !1;
        a.display.input.ensurePolled();
        var d = a.display.shift,
            e = !1;
        try {
            wa(a) && (a.state.suppressEdits = !0), c && (a.display.shift = !1), e = b(a) != Yf
        } finally {
            a.display.shift = d, a.state.suppressEdits = !1
        }
        return e
    }

    function Qc(a, b, c) {
        for (var d = 0; d < a.state.keyMaps.length; d++) {
            var e = Qd(b, a.state.keyMaps[d], c, a);
            if (e) return e
        }
        return a.options.extraKeys && Qd(b, a.options.extraKeys, c, a) || Qd(b, a.options.keyMap, c, a)
    }

    function Sc(a, b, c, d) {
        var e = a.state.keySeq;
        if (e) {
            if (Rd(b)) return \"handled\";
            Rc.set(50, function() {
                a.state.keySeq == e && (a.state.keySeq = null, a.display.input.reset())
            }), b = e + \" \" + b
        }
        var f = Qc(a, b, d);
        return \"multi\" == f && (a.state.keySeq = b), \"handled\" == f && Rf(a, \"keyHandled\", a, b, c), (\"handled\" == f || \"multi\" == f) && (Ff(c), jb(a)), e && !f && /\\'\$/.test(b) ? (Ff(c), !0) : !!f
    }

    function Tc(a, b) {
        var c = Sd(b, !0);
        return c ? b.shiftKey && !a.state.keySeq ? Sc(a, \"Shift-\" + c, b, function(b) {
            return Pc(a, b, !0)
        }) || Sc(a, c, b, function(b) {
            return (\"string\" == typeof b ? /^go[A-Z]/.test(b) : b.motion) ? Pc(a, b) : void 0
        }) : Sc(a, c, b, function(b) {
            return Pc(a, b)
        }) : !1
    }

    function Uc(a, b, c) {
        return Sc(a, \"'\" + c + \"'\", b, function(b) {
            return Pc(a, b, !0)
        })
    }

    function Wc(a) {
        var b = this;
        if (b.curOp.focus = yg(), !Tf(b, a)) {
            f && 11 > g && 27 == a.keyCode && (a.returnValue = !1);
            var c = a.keyCode;
            b.display.shift = 16 == c || a.shiftKey;
            var d = Tc(b, a);
            k && (Vc = d ? c : null, !d && 88 == c && !Og && (q ? a.metaKey : a.ctrlKey) && b.replaceSelection(\"\", null, \"cut\")), 18 != c || /\\bCodeMirror-crosshair\\b/.test(b.display.lineDiv.className) || Xc(b)
        }
    }

    function Xc(a) {
        function c(a) {
            18 != a.keyCode && a.altKey || (Ag(b, \"CodeMirror-crosshair\"), Of(document, \"keyup\", c), Of(document, \"mouseover\", c))
        }
        var b = a.display.lineDiv;
        Bg(b, \"CodeMirror-crosshair\"), Lf(document, \"keyup\", c), Lf(document, \"mouseover\", c)
    }

    function Yc(a) {
        16 == a.keyCode && (this.doc.sel.shift = !1), Tf(this, a)
    }

    function Zc(a) {
        var b = this;
        if (!(uc(b.display, a) || Tf(b, a) || a.ctrlKey && !a.altKey || q && a.metaKey)) {
            var c = a.keyCode,
                d = a.charCode;
            if (k && c == Vc) return Vc = null, void Ff(a);
            if (!k || a.which && !(a.which < 10) || !Tc(b, a)) {
                var e = String.fromCharCode(null == d ? c : d);
                Uc(b, a, e) || b.display.input.onKeyPress(a)
            }
        }
    }

    function \$c(a) {
        a.state.delayingBlurEvent = !0, setTimeout(function() {
            a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1, ad(a))
        }, 100)
    }

    function _c(a) {
        a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1), \"nocursor\" != a.options.readOnly && (a.state.focused || (Pf(a, \"focus\", a), a.state.focused = !0, Bg(a.display.wrapper, \"CodeMirror-focused\"), a.curOp || a.display.selForContextMenu == a.doc.sel || (a.display.input.reset(), h && setTimeout(function() {
            a.display.input.reset(!0)
        }, 20)), a.display.input.receivedFocus()), jb(a))
    }

    function ad(a) {
        a.state.delayingBlurEvent || (a.state.focused && (Pf(a, \"blur\", a), a.state.focused = !1, Ag(a.display.wrapper, \"CodeMirror-focused\")), clearInterval(a.display.blinker), setTimeout(function() {
            a.state.focused || (a.display.shift = !1)
        }, 150))
    }

    function bd(a, b) {
        uc(a.display, b) || cd(a, b) || Tf(a, b, \"contextmenu\") || a.display.input.onContextMenu(b)
    }

    function cd(a, b) {
        return Vf(a, \"gutterContextMenu\") ? Cc(a, b, \"gutterContextMenu\", !1, Pf) : !1
    }

    function ed(a, b) {
        if (ra(a, b.from) < 0) return a;
        if (ra(a, b.to) <= 0) return dd(b);
        var c = a.line + b.text.length - (b.to.line - b.from.line) - 1,
            d = a.ch;
        return a.line == b.to.line && (d += dd(b).ch - b.to.ch), qa(c, d)
    }

    function fd(a, b) {
        for (var c = [], d = 0; d < a.sel.ranges.length; d++) {
            var e = a.sel.ranges[d];
            c.push(new Ma(ed(e.anchor, b), ed(e.head, b)))
        }
        return Na(c, a.sel.primIndex)
    }

    function gd(a, b, c) {
        return a.line == b.line ? qa(c.line, a.ch - b.ch + c.ch) : qa(c.line + (a.line - b.line), a.ch)
    }

    function hd(a, b, c) {
        for (var d = [], e = qa(a.first, 0), f = e, g = 0; g < b.length; g++) {
            var h = b[g],
                i = gd(h.from, e, f),
                j = gd(dd(h), e, f);
            if (e = h.to, f = j, \"around\" == c) {
                var k = a.sel.ranges[g],
                    l = ra(k.head, k.anchor) < 0;
                d[g] = new Ma(l ? j : i, l ? i : j)
            } else d[g] = new Ma(i, i)
        }
        return new La(d, a.sel.primIndex)
    }

    function id(a, b, c) {
        var d = {
            canceled: !1,
            from: b.from,
            to: b.to,
            text: b.text,
            origin: b.origin,
            cancel: function() {
                this.canceled = !0
            }
        };
        return c && (d.update = function(b, c, d, e) {
            b && (this.from = Qa(a, b)), c && (this.to = Qa(a, c)), d && (this.text = d), void 0 !== e && (this.origin = e)
        }), Pf(a, \"beforeChange\", a, d), a.cm && Pf(a.cm, \"beforeChange\", a.cm, d), d.canceled ? null : {
            from: d.from,
            to: d.to,
            text: d.text,
            origin: d.origin
        }
    }

    function jd(a, b, c) {
        if (a.cm) {
            if (!a.cm.curOp) return fc(a.cm, jd)(a, b, c);
            if (a.cm.state.suppressEdits) return
        }
        if (!(Vf(a, \"beforeChange\") || a.cm && Vf(a.cm, \"beforeChange\")) || (b = id(a, b, !0))) {
            var d = v && !c && ke(a, b.from, b.to);
            if (d)
                for (var e = d.length - 1; e >= 0; --e) kd(a, {
                    from: d[e].from,
                    to: d[e].to,
                    text: e ? [\"\"] : b.text
                });
            else kd(a, b)
        }
    }

    function kd(a, b) {
        if (1 != b.text.length || \"\" != b.text[0] || 0 != ra(b.from, b.to)) {
            var c = fd(a, b);
            uf(a, b, c, a.cm ? a.cm.curOp.id : NaN), nd(a, b, c, he(a, b));
            var d = [];
            ff(a, function(a, c) {
                c || -1 != hg(d, a.history) || (Ef(a.history, b), d.push(a.history)), nd(a, b, null, he(a, b))
            })
        }
    }

    function ld(a, b, c) {
        if (!a.cm || !a.cm.state.suppressEdits) {
            for (var e, d = a.history, f = a.sel, g = \"undo\" == b ? d.done : d.undone, h = \"undo\" == b ? d.undone : d.done, i = 0; i < g.length && (e = g[i], c ? !e.ranges || e.equals(a.sel) : e.ranges); i++);
            if (i != g.length) {
                for (d.lastOrigin = d.lastSelOrigin = null; e = g.pop(), e.ranges;) {
                    if (xf(e, h), c && !e.equals(a.sel)) return void _a(a, e, {
                        clearRedo: !1
                    });
                    f = e
                }
                var j = [];
                xf(f, h), h.push({
                    changes: j,
                    generation: d.generation
                }), d.generation = e.generation || ++d.maxGeneration;
                for (var k = Vf(a, \"beforeChange\") || a.cm && Vf(a.cm, \"beforeChange\"), i = e.changes.length - 1; i >= 0; --i) {
                    var l = e.changes[i];
                    if (l.origin = b, k && !id(a, l, !1)) return void(g.length = 0);
                    j.push(rf(a, l));
                    var m = i ? fd(a, l) : fg(g);
                    nd(a, l, m, je(a, l)), !i && a.cm && a.cm.scrollIntoView({
                        from: l.from,
                        to: dd(l)
                    });
                    var n = [];
                    ff(a, function(a, b) {
                        b || -1 != hg(n, a.history) || (Ef(a.history, l), n.push(a.history)), nd(a, l, null, je(a, l))
                    })
                }
            }
        }
    }

    function md(a, b) {
        if (0 != b && (a.first += b, a.sel = new La(ig(a.sel.ranges, function(a) {
                return new Ma(qa(a.anchor.line + b, a.anchor.ch), qa(a.head.line + b, a.head.ch))
            }), a.sel.primIndex), a.cm)) {
            kc(a.cm, a.first, a.first - b, b);
            for (var c = a.cm.display, d = c.viewFrom; d < c.viewTo; d++) lc(a.cm, d, \"gutter\")
        }
    }

    function nd(a, b, c, d) {
        if (a.cm && !a.cm.curOp) return fc(a.cm, nd)(a, b, c, d);
        if (b.to.line < a.first) return void md(a, b.text.length - 1 - (b.to.line - b.from.line));
        if (!(b.from.line > a.lastLine())) {
            if (b.from.line < a.first) {
                var e = b.text.length - 1 - (a.first - b.from.line);
                md(a, e), b = {
                    from: qa(a.first, 0),
                    to: qa(b.to.line + e, b.to.ch),
                    text: [fg(b.text)],
                    origin: b.origin
                }
            }
            var f = a.lastLine();
            b.to.line > f && (b = {
                from: b.from,
                to: qa(f, hf(a, f).text.length),
                text: [b.text[0]],
                origin: b.origin
            }), b.removed = jf(a, b.from, b.to), c || (c = fd(a, b)), a.cm ? od(a.cm, b, d) : \$e(a, b, d), ab(a, c, Zf)
        }
    }

    function od(a, b, c) {
        var d = a.doc,
            e = a.display,
            f = b.from,
            g = b.to,
            h = !1,
            i = f.line;
        a.options.lineWrapping || (i = mf(ue(hf(d, f.line))), d.iter(i, g.line + 1, function(a) {
            return a == e.maxLine ? (h = !0, !0) : void 0
        })), d.sel.contains(b.from, b.to) > -1 && Uf(a), \$e(d, b, c, C(a)), a.options.lineWrapping || (d.iter(i, f.line + b.text.length, function(a) {
            var b = I(a);
            b > e.maxLineLength && (e.maxLine = a, e.maxLineLength = b, e.maxLineChanged = !0, h = !1)
        }), h && (a.curOp.updateMaxLine = !0)), d.frontier = Math.min(d.frontier, f.line), kb(a, 400);
        var j = b.text.length - (g.line - f.line) - 1;
        b.full ? kc(a) : f.line != g.line || 1 != b.text.length || Ze(a.doc, b) ? kc(a, f.line, g.line + 1, j) : lc(a, f.line, \"text\");
        var k = Vf(a, \"changes\"),
            l = Vf(a, \"change\");
        if (l || k) {
            var m = {
                from: f,
                to: g,
                text: b.text,
                removed: b.removed,
                origin: b.origin
            };
            l && Rf(a, \"change\", a, m), k && (a.curOp.changeObjs || (a.curOp.changeObjs = [])).push(m)
        }
        a.display.selForContextMenu = null
    }

    function pd(a, b, c, d, e) {
        if (d || (d = c), ra(d, c) < 0) {
            var f = d;
            d = c, c = f
        }
        \"string\" == typeof b && (b = a.splitLines(b)), jd(a, {
            from: c,
            to: d,
            text: b,
            origin: e
        })
    }

    function qd(a, b) {
        if (!Tf(a, \"scrollCursorIntoView\")) {
            var c = a.display,
                d = c.sizer.getBoundingClientRect(),
                e = null;
            if (b.top + d.top < 0 ? e = !0 : b.bottom + d.top > (window.innerHeight || document.documentElement.clientHeight) && (e = !1), null != e && !n) {
                var f = tg(\"div\", \"\\u200b\", null, \"position: absolute; top: \" + (b.top - c.viewOffset - ob(a.display)) + \"px; height: \" + (b.bottom - b.top + rb(a) + c.barHeight) + \"px; left: \" + b.left + \"px; width: 2px;\");
                a.display.lineSpace.appendChild(f), f.scrollIntoView(e), a.display.lineSpace.removeChild(f)
            }
        }
    }

    function rd(a, b, c, d) {
        null == d && (d = 0);
        for (var e = 0; 5 > e; e++) {
            var f = !1,
                g = Nb(a, b),
                h = c && c != b ? Nb(a, c) : g,
                i = td(a, Math.min(g.left, h.left), Math.min(g.top, h.top) - d, Math.max(g.left, h.left), Math.max(g.bottom, h.bottom) + d),
                j = a.doc.scrollTop,
                k = a.doc.scrollLeft;
            if (null != i.scrollTop && (Jc(a, i.scrollTop), Math.abs(a.doc.scrollTop - j) > 1 && (f = !0)), null != i.scrollLeft && (Kc(a, i.scrollLeft), Math.abs(a.doc.scrollLeft - k) > 1 && (f = !0)), !f) break
        }
        return g
    }

    function sd(a, b, c, d, e) {
        var f = td(a, b, c, d, e);
        null != f.scrollTop && Jc(a, f.scrollTop), null != f.scrollLeft && Kc(a, f.scrollLeft)
    }

    function td(a, b, c, d, e) {
        var f = a.display,
            g = Tb(a.display);
        0 > c && (c = 0);
        var h = a.curOp && null != a.curOp.scrollTop ? a.curOp.scrollTop : f.scroller.scrollTop,
            i = tb(a),
            j = {};
        e - c > i && (e = c + i);
        var k = a.doc.height + pb(f),
            l = g > c,
            m = e > k - g;
        if (h > c) j.scrollTop = l ? 0 : c;
        else if (e > h + i) {
            var n = Math.min(c, (m ? k : e) - i);
            n != h && (j.scrollTop = n)
        }
        var o = a.curOp && null != a.curOp.scrollLeft ? a.curOp.scrollLeft : f.scroller.scrollLeft,
            p = sb(a) - (a.options.fixedGutter ? f.gutters.offsetWidth : 0),
            q = d - b > p;
        return q && (d = b + p), 10 > b ? j.scrollLeft = 0 : o > b ? j.scrollLeft = Math.max(0, b - (q ? 0 : 10)) : d > p + o - 3 && (j.scrollLeft = d + (q ? 0 : 10) - p), j
    }

    function ud(a, b, c) {
        (null != b || null != c) && wd(a), null != b && (a.curOp.scrollLeft = (null == a.curOp.scrollLeft ? a.doc.scrollLeft : a.curOp.scrollLeft) + b), null != c && (a.curOp.scrollTop = (null == a.curOp.scrollTop ? a.doc.scrollTop : a.curOp.scrollTop) + c)
    }

    function vd(a) {
        wd(a);
        var b = a.getCursor(),
            c = b,
            d = b;
        a.options.lineWrapping || (c = b.ch ? qa(b.line, b.ch - 1) : b, d = qa(b.line, b.ch + 1)), a.curOp.scrollToPos = {
            from: c,
            to: d,
            margin: a.options.cursorScrollMargin,
            isCursor: !0
        }
    }

    function wd(a) {
        var b = a.curOp.scrollToPos;
        if (b) {
            a.curOp.scrollToPos = null;
            var c = Ob(a, b.from),
                d = Ob(a, b.to),
                e = td(a, Math.min(c.left, d.left), Math.min(c.top, d.top) - b.margin, Math.max(c.right, d.right), Math.max(c.bottom, d.bottom) + b.margin);
            a.scrollTo(e.scrollLeft, e.scrollTop)
        }
    }

    function xd(a, b, c, d) {
        var f, e = a.doc;
        null == c && (c = \"add\"), \"smart\" == c && (e.mode.indent ? f = nb(a, b) : c = \"prev\");
        var g = a.options.tabSize,
            h = hf(e, b),
            i = bg(h.text, null, g);
        h.stateAfter && (h.stateAfter = null);
        var k, j = h.text.match(/^\\s*/)[0];
        if (d || /\\S/.test(h.text)) {
            if (\"smart\" == c && (k = e.mode.indent(f, h.text.slice(j.length), h.text), k == Yf || k > 150)) {
                if (!d) return;
                c = \"prev\"
            }
        } else k = 0,
            c = \"not\";
        \"prev\" == c ? k = b > e.first ? bg(hf(e, b - 1).text, null, g) : 0 : \"add\" == c ? k = i + a.options.indentUnit : \"subtract\" == c ? k = i - a.options.indentUnit : \"number\" == typeof c && (k = i + c), k = Math.max(0, k);
        var l = \"\",
            m = 0;
        if (a.options.indentWithTabs)
            for (var n = Math.floor(k / g); n; --n) m += g, l += \" \";
        if (k > m && (l += eg(k - m)), l != j) return pd(e, l, qa(b, 0), qa(b, j.length), \"+input\"), h.stateAfter = null, !0;
        for (var n = 0; n < e.sel.ranges.length; n++) {
            var o = e.sel.ranges[n];
            if (o.head.line == b && o.head.ch < j.length) {
                var m = qa(b, j.length);
                Xa(e, n, new Ma(m, m));
                break
            }
        }
    }

    function yd(a, b, c, d) {
        var e = b,
            f = b;
        return \"number\" == typeof b ? f = hf(a, Pa(a, b)) : e = mf(b), null == e ? null : (d(f, e) && a.cm && lc(a.cm, e, c), f)
    }

    function zd(a, b) {
        for (var c = a.doc.sel.ranges, d = [], e = 0; e < c.length; e++) {
            for (var f = b(c[e]); d.length && ra(f.from, fg(d).to) <= 0;) {
                var g = d.pop();
                if (ra(g.from, f.from) < 0) {
                    f.from = g.from;
                    break
                }
            }
            d.push(f)
        }
        ec(a, function() {
            for (var b = d.length - 1; b >= 0; b--) pd(a.doc, \"\", d[b].from, d[b].to, \"+delete\");
            vd(a)
        })
    }

    function Ad(a, b, c, d, e) {
        function k() {
            var b = f + c;
            return b < a.first || b >= a.first + a.size ? j = !1 : (f = b, i = hf(a, b))
        }

        function l(a) {
            var b = (e ? ch : dh)(i, g, c, !0);
            if (null == b) {
                if (a || !k()) return j = !1;
                g = e ? (0 > c ? Wg : Vg)(i) : 0 > c ? i.text.length : 0
            } else g = b;
            return !0
        }
        var f = b.line,
            g = b.ch,
            h = c,
            i = hf(a, f),
            j = !0;
        if (\"char\" == d) l();
        else if (\"column\" == d) l(!0);
        else if (\"word\" == d || \"group\" == d)
            for (var m = null, n = \"group\" == d, o = a.cm && a.cm.getHelper(b, \"wordChars\"), p = !0; !(0 > c) || l(!p); p = !1) {
                var q = i.text.charAt(g) || \"\\n\",
                    r = pg(q, o) ? \"w\" : n && \"\\n\" == q ? \"n\" : !n || /\\s/.test(q) ? null : \"p\";
                if (!n || p || r || (r = \"s\"), m && m != r) {
                    0 > c && (c = 1, l());
                    break
                }
                if (r && (m = r), c > 0 && !l(!p)) break
            }
        var s = eb(a, qa(f, g), h, !0);
        return j || (s.hitSide = !0), s
    }

    function Bd(a, b, c, d) {
        var g, e = a.doc,
            f = b.left;
        if (\"page\" == d) {
            var h = Math.min(a.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
            g = b.top + c * (h - (0 > c ? 1.5 : .5) * Tb(a.display))
        } else \"line\" == d && (g = c > 0 ? b.bottom + 3 : b.top - 3);
        for (;;) {
            var i = Qb(a, f, g);
            if (!i.outside) break;
            if (0 > c ? 0 >= g : g >= e.height) {
                i.hitSide = !0;
                break
            }
            g += 5 * c
        }
        return i
    }

    function Ed(a, b, c, d) {
        x.defaults[a] = b, c && (Dd[a] = d ? function(a, b, d) {
            d != Fd && c(a, b, d)
        } : c)
    }

    function Pd(a) {
        for (var c, d, e, f, b = a.split(/-(?!\$)/), a = b[b.length - 1], g = 0; g < b.length - 1; g++) {
            var h = b[g];
            if (/^(cmd|meta|m)\$/i.test(h)) f = !0;
            else if (/^a(lt)?\$/i.test(h)) c = !0;
            else if (/^(c|ctrl|control)\$/i.test(h)) d = !0;
            else {
                if (!/^s(hift)\$/i.test(h)) throw new Error(\"Unrecognized modifier name: \" + h);
                e = !0
            }
        }
        return c && (a = \"Alt-\" + a), d && (a = \"Ctrl-\" + a), f && (a = \"Cmd-\" + a), e && (a = \"Shift-\" + a), a
    }

    function Td(a) {
        return \"string\" == typeof a ? Od[a] : a
    }

    function Xd(a, b, c, d, e) {
        if (d && d.shared) return Zd(a, b, c, d, e);
        if (a.cm && !a.cm.curOp) return fc(a.cm, Xd)(a, b, c, d, e);
        var f = new Wd(a, e),
            g = ra(b, c);
        if (d && lg(d, f, !1), g > 0 || 0 == g && f.clearWhenEmpty !== !1) return f;
        if (f.replacedWith && (f.collapsed = !0, f.widgetNode = tg(\"span\", [f.replacedWith], \"CodeMirror-widget\"), d.handleMouseEvents || f.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"), d.insertLeft && (f.widgetNode.insertLeft = !0)), f.collapsed) {
            if (te(a, b.line, b, c, f) || b.line != c.line && te(a, c.line, b, c, f)) throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");
            w = !0
        }
        f.addToHistory && uf(a, {
            from: b,
            to: c,
            origin: \"markText\"
        }, a.sel, NaN);
        var j, h = b.line,
            i = a.cm;
        if (a.iter(h, c.line + 1, function(a) {
                i && f.collapsed && !i.options.lineWrapping && ue(a) == i.display.maxLine && (j = !0), f.collapsed && h != b.line && lf(a, 0), ee(a, new be(f, h == b.line ? b.ch : null, h == c.line ? c.ch : null)), ++h
            }), f.collapsed && a.iter(b.line, c.line + 1, function(b) {
                ye(a, b) && lf(b, 0)
            }), f.clearOnEnter && Lf(f, \"beforeCursorEnter\", function() {
                f.clear()
            }), f.readOnly && (v = !0, (a.history.done.length || a.history.undone.length) && a.clearHistory()), f.collapsed && (f.id = ++Vd, f.atomic = !0), i) {
            if (j && (i.curOp.updateMaxLine = !0), f.collapsed) kc(i, b.line, c.line + 1);
            else if (f.className || f.title || f.startStyle || f.endStyle || f.css)
                for (var k = b.line; k <= c.line; k++) lc(i, k, \"text\");
            f.atomic && cb(i.doc), Rf(i, \"markerAdded\", i, f)
        }
        return f
    }

    function Zd(a, b, c, d, e) {
        d = lg(d), d.shared = !1;
        var f = [Xd(a, b, c, d, e)],
            g = f[0],
            h = d.widgetNode;
        return ff(a, function(a) {
            h && (d.widgetNode = h.cloneNode(!0)), f.push(Xd(a, Qa(a, b), Qa(a, c), d, e));
            for (var i = 0; i < a.linked.length; ++i)
                if (a.linked[i].isParent) return;
            g = fg(f)
        }), new Yd(f, g)
    }

    function \$d(a) {
        return a.findMarks(qa(a.first, 0), a.clipPos(qa(a.lastLine())), function(a) {
            return a.parent
        })
    }

    function _d(a, b) {
        for (var c = 0; c < b.length; c++) {
            var d = b[c],
                e = d.find(),
                f = a.clipPos(e.from),
                g = a.clipPos(e.to);
            if (ra(f, g)) {
                var h = Xd(a, f, g, d.primary, d.primary.type);
                d.markers.push(h), h.parent = d
            }
        }
    }

    function ae(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b],
                d = [c.primary.doc];
            ff(c.primary.doc, function(a) {
                d.push(a)
            });
            for (var e = 0; e < c.markers.length; e++) {
                var f = c.markers[e]; - 1 == hg(d, f.doc) && (f.parent = null, c.markers.splice(e--, 1))
            }
        }
    }

    function be(a, b, c) {
        this.marker = a, this.from = b, this.to = c
    }

    function ce(a, b) {
        if (a)
            for (var c = 0; c < a.length; ++c) {
                var d = a[c];
                if (d.marker == b) return d
            }
    }

    function de(a, b) {
        for (var c, d = 0; d < a.length; ++d) a[d] != b && (c || (c = [])).push(a[d]);
        return c
    }

    function ee(a, b) {
        a.markedSpans = a.markedSpans ? a.markedSpans.concat([b]) : [b], b.marker.attachLine(a)
    }

    function fe(a, b, c) {
        if (a)
            for (var e, d = 0; d < a.length; ++d) {
                var f = a[d],
                    g = f.marker,
                    h = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
                if (h || f.from == b && \"bookmark\" == g.type && (!c || !f.marker.insertLeft)) {
                    var i = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
                    (e || (e = [])).push(new be(g, f.from, i ? null : f.to))
                }
            }
        return e
    }

    function ge(a, b, c) {
        if (a)
            for (var e, d = 0; d < a.length; ++d) {
                var f = a[d],
                    g = f.marker,
                    h = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
                if (h || f.from == b && \"bookmark\" == g.type && (!c || f.marker.insertLeft)) {
                    var i = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
                    (e || (e = [])).push(new be(g, i ? null : f.from - b, null == f.to ? null : f.to - b))
                }
            }
        return e
    }

    function he(a, b) {
        if (b.full) return null;
        var c = Sa(a, b.from.line) && hf(a, b.from.line).markedSpans,
            d = Sa(a, b.to.line) && hf(a, b.to.line).markedSpans;
        if (!c && !d) return null;
        var e = b.from.ch,
            f = b.to.ch,
            g = 0 == ra(b.from, b.to),
            h = fe(c, e, g),
            i = ge(d, f, g),
            j = 1 == b.text.length,
            k = fg(b.text).length + (j ? e : 0);
        if (h)
            for (var l = 0; l < h.length; ++l) {
                var m = h[l];
                if (null == m.to) {
                    var n = ce(i, m.marker);
                    n ? j && (m.to = null == n.to ? null : n.to + k) : m.to = e
                }
            }
        if (i)
            for (var l = 0; l < i.length; ++l) {
                var m = i[l];
                if (null != m.to && (m.to += k), null == m.from) {
                    var n = ce(h, m.marker);
                    n || (m.from = k, j && (h || (h = [])).push(m))
                } else m.from += k, j && (h || (h = [])).push(m)
            }
        h && (h = ie(h)), i && i != h && (i = ie(i));
        var o = [h];
        if (!j) {
            var q, p = b.text.length - 2;
            if (p > 0 && h)
                for (var l = 0; l < h.length; ++l) null == h[l].to && (q || (q = [])).push(new be(h[l].marker, null, null));
            for (var l = 0; p > l; ++l) o.push(q);
            o.push(i)
        }
        return o
    }

    function ie(a) {
        for (var b = 0; b < a.length; ++b) {
            var c = a[b];
            null != c.from && c.from == c.to && c.marker.clearWhenEmpty !== !1 && a.splice(b--, 1)
        }
        return a.length ? a : null
    }

    function je(a, b) {
        var c = Af(a, b),
            d = he(a, b);
        if (!c) return d;
        if (!d) return c;
        for (var e = 0; e < c.length; ++e) {
            var f = c[e],
                g = d[e];
            if (f && g) a: for (var h = 0; h < g.length; ++h) {
                for (var i = g[h], j = 0; j < f.length; ++j)
                    if (f[j].marker == i.marker) continue a;
                f.push(i)
            } else g && (c[e] = g)
        }
        return c
    }

    function ke(a, b, c) {
        var d = null;
        if (a.iter(b.line, c.line + 1, function(a) {
                if (a.markedSpans)
                    for (var b = 0; b < a.markedSpans.length; ++b) {
                        var c = a.markedSpans[b].marker;
                        !c.readOnly || d && -1 != hg(d, c) || (d || (d = [])).push(c)
                    }
            }), !d) return null;
        for (var e = [{
                from: b,
                to: c
            }], f = 0; f < d.length; ++f)
            for (var g = d[f], h = g.find(0), i = 0; i < e.length; ++i) {
                var j = e[i];
                if (!(ra(j.to, h.from) < 0 || ra(j.from, h.to) > 0)) {
                    var k = [i, 1],
                        l = ra(j.from, h.from),
                        m = ra(j.to, h.to);
                    (0 > l || !g.inclusiveLeft && !l) && k.push({
                        from: j.from,
                        to: h.from
                    }), (m > 0 || !g.inclusiveRight && !m) && k.push({
                        from: h.to,
                        to: j.to
                    }), e.splice.apply(e, k), i += k.length - 1
                }
            }
        return e
    }

    function le(a) {
        var b = a.markedSpans;
        if (b) {
            for (var c = 0; c < b.length; ++c) b[c].marker.detachLine(a);
            a.markedSpans = null
        }
    }

    function me(a, b) {
        if (b) {
            for (var c = 0; c < b.length; ++c) b[c].marker.attachLine(a);
            a.markedSpans = b
        }
    }

    function ne(a) {
        return a.inclusiveLeft ? -1 : 0
    }

    function oe(a) {
        return a.inclusiveRight ? 1 : 0
    }

    function pe(a, b) {
        var c = a.lines.length - b.lines.length;
        if (0 != c) return c;
        var d = a.find(),
            e = b.find(),
            f = ra(d.from, e.from) || ne(a) - ne(b);
        if (f) return -f;
        var g = ra(d.to, e.to) || oe(a) - oe(b);
        return g ? g : b.id - a.id
    }

    function qe(a, b) {
        var d, c = w && a.markedSpans;
        if (c)
            for (var e, f = 0; f < c.length; ++f) e = c[f], e.marker.collapsed && null == (b ? e.from : e.to) && (!d || pe(d, e.marker) < 0) && (d = e.marker);
        return d
    }

    function re(a) {
        return qe(a, !0)
    }

    function se(a) {
        return qe(a, !1)
    }

    function te(a, b, c, d, e) {
        var f = hf(a, b),
            g = w && f.markedSpans;
        if (g)
            for (var h = 0; h < g.length; ++h) {
                var i = g[h];
                if (i.marker.collapsed) {
                    var j = i.marker.find(0),
                        k = ra(j.from, c) || ne(i.marker) - ne(e),
                        l = ra(j.to, d) || oe(i.marker) - oe(e);
                    if (!(k >= 0 && 0 >= l || 0 >= k && l >= 0) && (0 >= k && (ra(j.to, c) > 0 || i.marker.inclusiveRight && e.inclusiveLeft) || k >= 0 && (ra(j.from, d) < 0 || i.marker.inclusiveLeft && e.inclusiveRight))) return !0
                }
            }
    }

    function ue(a) {
        for (var b; b = re(a);) a = b.find(-1, !0).line;
        return a
    }

    function ve(a) {
        for (var b, c; b = se(a);) a = b.find(1, !0).line, (c || (c = [])).push(a);
        return c
    }

    function we(a, b) {
        var c = hf(a, b),
            d = ue(c);
        return c == d ? b : mf(d)
    }

    function xe(a, b) {
        if (b > a.lastLine()) return b;
        var d, c = hf(a, b);
        if (!ye(a, c)) return b;
        for (; d = se(c);) c = d.find(1, !0).line;
        return mf(c) + 1
    }

    function ye(a, b) {
        var c = w && b.markedSpans;
        if (c)
            for (var d, e = 0; e < c.length; ++e)
                if (d = c[e], d.marker.collapsed) {
                    if (null == d.from) return !0;
                    if (!d.marker.widgetNode && 0 == d.from && d.marker.inclusiveLeft && ze(a, b, d)) return !0
                }
    }

    function ze(a, b, c) {
        if (null == c.to) {
            var d = c.marker.find(1, !0);
            return ze(a, d.line, ce(d.line.markedSpans, c.marker))
        }
        if (c.marker.inclusiveRight && c.to == b.text.length) return !0;
        for (var e, f = 0; f < b.markedSpans.length; ++f)
            if (e = b.markedSpans[f], e.marker.collapsed && !e.marker.widgetNode && e.from == c.to && (null == e.to || e.to != c.from) && (e.marker.inclusiveLeft || c.marker.inclusiveRight) && ze(a, b, e)) return !0
    }

    function Be(a, b, c) {
        of(b) < (a.curOp && a.curOp.scrollTop || a.doc.scrollTop) && ud(a, null, c)
    }

    function Ce(a) {
        if (null != a.height) return a.height;
        var b = a.doc.cm;
        if (!b) return 0;
        if (!xg(document.body, a.node)) {
            var c = \"position: relative;\";
            a.coverGutter && (c += \"margin-left: -\" + b.display.gutters.offsetWidth + \"px;\"), a.noHScroll && (c += \"width: \" + b.display.wrapper.clientWidth + \"px;\"), wg(b.display.measure, tg(\"div\", [a.node], null, c))
        }
        return a.height = a.node.offsetHeight
    }

    function De(a, b, c, d) {
        var e = new Ae(a, c, d),
            f = a.cm;
        return f && e.noHScroll && (f.display.alignWidgets = !0), yd(a, b, \"widget\", function(b) {
            var c = b.widgets || (b.widgets = []);
            if (null == e.insertAt ? c.push(e) : c.splice(Math.min(c.length - 1, Math.max(0, e.insertAt)), 0, e), e.line = b, f && !ye(a, b)) {
                var d = of(b) < a.scrollTop;
                lf(b, b.height + Ce(e)), d && ud(f, null, e.height), f.curOp.forceUpdate = !0
            }
            return !0
        }), e
    }

    function Fe(a, b, c, d) {
        a.text = b, a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null), null != a.order && (a.order = null), le(a), me(a, c);
        var e = d ? d(a) : 1;
        e != a.height && lf(a, e)
    }

    function Ge(a) {
        a.parent = null, le(a)
    }

    function He(a, b) {
        if (a)
            for (;;) {
                var c = a.match(/(?:^|\\s+)line-(background-)?(\\S+)/);
                if (!c) break;
                a = a.slice(0, c.index) + a.slice(c.index + c[0].length);
                var d = c[1] ? \"bgClass\" : \"textClass\";
                null == b[d] ? b[d] = c[2] : new RegExp(\"(?:^|s)\" + c[2] + \"(?:\$|s)\").test(b[d]) || (b[d] += \" \" + c[2])
            }
        return a
    }

    function Ie(a, b) {
        if (a.blankLine) return a.blankLine(b);
        if (a.innerMode) {
            var c = x.innerMode(a, b);
            return c.mode.blankLine ? c.mode.blankLine(c.state) : void 0
        }
    }

    function Je(a, b, c, d) {
        for (var e = 0; 10 > e; e++) {
            d && (d[0] = x.innerMode(a, c).mode);
            var f = a.token(b, c);
            if (b.pos > b.start) return f
        }
        throw new Error(\"Mode \" + a.name + \" failed to advance stream.\")
    }

    function Ke(a, b, c, d) {
        function e(a) {
            return {
                start: k.start,
                end: k.pos,
                string: k.current(),
                type: h || null,
                state: a ? Ld(f.mode, j) : j
            }
        }
        var h, f = a.doc,
            g = f.mode;
        b = Qa(f, b);
        var l, i = hf(f, b.line),
            j = nb(a, b.line, c),
            k = new Ud(i.text, a.options.tabSize);
        for (d && (l = []);
            (d || k.pos < b.ch) && !k.eol();) k.start = k.pos, h = Je(g, k, j), d && l.push(e(!0));
        return d ? l : e()
    }

    function Le(a, b, c, d, e, f, g) {
        var h = c.flattenSpans;
        null == h && (h = a.options.flattenSpans);
        var l, i = 0,
            j = null,
            k = new Ud(b, a.options.tabSize),
            m = a.options.addModeClass && [null];
        for (\"\" == b && He(Ie(c, d), f); !k.eol();) {
            if (k.pos > a.options.maxHighlightLength ? (h = !1, g && Oe(a, b, d, k.pos), k.pos = b.length, l = null) : l = He(Je(c, k, d, m), f), m) {
                var n = m[0].name;
                n && (l = \"m-\" + (l ? n + \" \" + l : n))
            }
            if (!h || j != l) {
                for (; i < k.start;) i = Math.min(k.start, i + 5e4), e(i, j);
                j = l
            }
            k.start = k.pos
        }
        for (; i < k.pos;) {
            var o = Math.min(k.pos, i + 5e4);
            e(o, j), i = o
        }
    }

    function Me(a, b, c, d) {
        var e = [a.state.modeGen],
            f = {};
        Le(a, b.text, a.doc.mode, c, function(a, b) {
            e.push(a, b)
        }, f, d);
        for (var g = 0; g < a.state.overlays.length; ++g) {
            var h = a.state.overlays[g],
                i = 1,
                j = 0;
            Le(a, b.text, h.mode, !0, function(a, b) {
                for (var c = i; a > j;) {
                    var d = e[i];
                    d > a && e.splice(i, 1, a, e[i + 1], d), i += 2, j = Math.min(a, d)
                }
                if (b)
                    if (h.opaque) e.splice(c, i - c, a, \"cm-overlay \" + b), i = c + 2;
                    else
                        for (; i > c; c += 2) {
                            var f = e[c + 1];
                            e[c + 1] = (f ? f + \" \" : \"\") + \"cm-overlay \" + b
                        }
            }, f)
        }
        return {
            styles: e,
            classes: f.bgClass || f.textClass ? f : null
        }
    }

    function Ne(a, b, c) {
        if (!b.styles || b.styles[0] != a.state.modeGen) {
            var d = nb(a, mf(b)),
                e = Me(a, b, b.text.length > a.options.maxHighlightLength ? Ld(a.doc.mode, d) : d);
            b.stateAfter = d, b.styles = e.styles, e.classes ? b.styleClasses = e.classes : b.styleClasses && (b.styleClasses = null), c === a.doc.frontier && a.doc.frontier++
        }
        return b.styles
    }

    function Oe(a, b, c, d) {
        var e = a.doc.mode,
            f = new Ud(b, a.options.tabSize);
        for (f.start = f.pos = d || 0, \"\" == b && Ie(e, c); !f.eol();) Je(e, f, c), f.start = f.pos
    }

    function Re(a, b) {
        if (!a || /^\\s*\$/.test(a)) return null;
        var c = b.addModeClass ? Qe : Pe;
        return c[a] || (c[a] = a.replace(/\\S+/g, \"cm-\$&\"))
    }

    function Se(a, b) {
        var c = tg(\"span\", null, null, h ? \"padding-right: .1px\" : null),
            d = {
                pre: tg(\"pre\", [c], \"CodeMirror-line\"),
                content: c,
                col: 0,
                pos: 0,
                cm: a,
                splitSpaces: (f || h) && a.getOption(\"lineWrapping\")
            };
        b.measure = {};
        for (var e = 0; e <= (b.rest ? b.rest.length : 0); e++) {
            var i, g = e ? b.rest[e - 1] : b.line;
            d.pos = 0, d.addToken = Ue, Lg(a.display.measure) && (i = pf(g)) && (d.addToken = We(d.addToken, i)), d.map = [];
            var j = b != a.display.externalMeasured && mf(g);
            Ye(g, d, Ne(a, g, j)), g.styleClasses && (g.styleClasses.bgClass && (d.bgClass = Cg(g.styleClasses.bgClass, d.bgClass || \"\")), g.styleClasses.textClass && (d.textClass = Cg(g.styleClasses.textClass, d.textClass || \"\"))), 0 == d.map.length && d.map.push(0, 0, d.content.appendChild(Jg(a.display.measure))), 0 == e ? (b.measure.map = d.map, b.measure.cache = {}) : ((b.measure.maps || (b.measure.maps = [])).push(d.map), (b.measure.caches || (b.measure.caches = [])).push({}))
        }
        return h && /\\bcm-tab\\b/.test(d.content.lastChild.className) && (d.content.className = \"cm-tab-wrap-hack\"), Pf(a, \"renderLine\", a, b.line, d.pre), d.pre.className && (d.textClass = Cg(d.pre.className, d.textClass || \"\")), d
    }

    function Te(a) {
        var b = tg(\"span\", \"\\u2022\", \"cm-invalidchar\");
        return b.title = \"\\\\u\" + a.charCodeAt(0).toString(16), b.setAttribute(\"aria-label\", b.title), b
    }

    function Ue(a, b, c, d, e, h, i) {
        if (b) {
            var j = a.splitSpaces ? b.replace(/ {3,}/g, Ve) : b,
                k = a.cm.state.specialChars,
                l = !1;
            if (k.test(b))
                for (var m = document.createDocumentFragment(), n = 0;;) {
                    k.lastIndex = n;
                    var o = k.exec(b),
                        p = o ? o.index - n : b.length - n;
                    if (p) {
                        var q = document.createTextNode(j.slice(n, n + p));
                        f && 9 > g ? m.appendChild(tg(\"span\", [q])) : m.appendChild(q), a.map.push(a.pos, a.pos + p, q), a.col += p, a.pos += p
                    }
                    if (!o) break;
                    if (n += p + 1, \"  \" == o[0]) {
                        var r = a.cm.options.tabSize,
                            s = r - a.col % r,
                            q = m.appendChild(tg(\"span\", eg(s), \"cm-tab\"));
                        q.setAttribute(\"role\", \"presentation\"), q.setAttribute(\"cm-text\", \" \"), a.col += s
                    } else if (\"\\r\" == o[0] || \"\\n\" == o[0]) {
                        var q = m.appendChild(tg(\"span\", \"\\r\" == o[0] ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));
                        q.setAttribute(\"cm-text\", o[0]), a.col += 1
                    } else {
                        var q = a.cm.options.specialCharPlaceholder(o[0]);
                        q.setAttribute(\"cm-text\", o[0]), f && 9 > g ? m.appendChild(tg(\"span\", [q])) : m.appendChild(q), a.col += 1
                    }
                    a.map.push(a.pos, a.pos + 1, q), a.pos++
                } else {
                    a.col += b.length;
                    var m = document.createTextNode(j);
                    a.map.push(a.pos, a.pos + b.length, m), f && 9 > g && (l = !0), a.pos += b.length
                }
            if (c || d || e || l || i) {
                var t = c || \"\";
                d && (t += d), e && (t += e);
                var u = tg(\"span\", [m], t, i);
                return h && (u.title = h), a.content.appendChild(u)
            }
            a.content.appendChild(m)
        }
    }

    function Ve(a) {
        for (var b = \" \", c = 0; c < a.length - 2; ++c) b += c % 2 ? \" \" : \"\\xa0\";
        return b += \" \"
    }

    function We(a, b) {
        return function(c, d, e, f, g, h, i) {
            e = e ? e + \" cm-force-border\" : \"cm-force-border\";
            for (var j = c.pos, k = j + d.length;;) {
                for (var l = 0; l < b.length; l++) {
                    var m = b[l];
                    if (m.to > j && m.from <= j) break
                }
                if (m.to >= k) return a(c, d, e, f, g, h, i);
                a(c, d.slice(0, m.to - j), e, f, null, h, i), f = null, d = d.slice(m.to - j), j = m.to
            }
        }
    }

    function Xe(a, b, c, d) {
        var e = !d && c.widgetNode;
        e && a.map.push(a.pos, a.pos + b, e), !d && a.cm.display.input.needsContentAttribute && (e || (e = a.content.appendChild(document.createElement(\"span\"))), e.setAttribute(\"cm-marker\", c.id)), e && (a.cm.display.input.setUneditable(e), a.content.appendChild(e)), a.pos += b
    }

    function Ye(a, b, c) {
        var d = a.markedSpans,
            e = a.text,
            f = 0;
        if (d)
            for (var k, l, n, o, p, q, r, h = e.length, i = 0, g = 1, j = \"\", m = 0;;) {
                if (m == i) {
                    n = o = p = q = l = \"\", r = null, m = 1 / 0;
                    for (var s = [], t = 0; t < d.length; ++t) {
                        var u = d[t],
                            v = u.marker;
                        \"bookmark\" == v.type && u.from == i && v.widgetNode ? s.push(v) : u.from <= i && (null == u.to || u.to > i || v.collapsed && u.to == i && u.from == i) ? (null != u.to && u.to != i && m > u.to && (m = u.to, o = \"\"), v.className && (n += \" \" + v.className), v.css && (l = v.css), v.startStyle && u.from == i && (p += \" \" + v.startStyle), v.endStyle && u.to == m && (o += \" \" + v.endStyle), v.title && !q && (q = v.title), v.collapsed && (!r || pe(r.marker, v) < 0) && (r = u)) : u.from > i && m > u.from && (m = u.from)
                    }
                    if (r && (r.from || 0) == i) {
                        if (Xe(b, (null == r.to ? h + 1 : r.to) - i, r.marker, null == r.from), null == r.to) return;
                        r.to == i && (r = !1)
                    }
                    if (!r && s.length)
                        for (var t = 0; t < s.length; ++t) Xe(b, 0, s[t])
                }
                if (i >= h) break;
                for (var w = Math.min(h, m);;) {
                    if (j) {
                        var x = i + j.length;
                        if (!r) {
                            var y = x > w ? j.slice(0, w - i) : j;
                            b.addToken(b, y, k ? k + n : n, p, i + y.length == m ? o : \"\", q, l)
                        }
                        if (x >= w) {
                            j = j.slice(w - i), i = w;
                            break
                        }
                        i = x, p = \"\"
                    }
                    j = e.slice(f, f = c[g++]), k = Re(c[g++], b.cm.options)
                }
            } else
                for (var g = 1; g < c.length; g += 2) b.addToken(b, e.slice(f, f = c[g]), Re(c[g + 1], b.cm.options))
    }

    function Ze(a, b) {
        return 0 == b.from.ch && 0 == b.to.ch && \"\" == fg(b.text) && (!a.cm || a.cm.options.wholeLineUpdateBefore)
    }

    function \$e(a, b, c, d) {
        function e(a) {
            return c ? c[a] : null
        }

        function f(a, c, e) {
            Fe(a, c, e, d), Rf(a, \"change\", a, b)
        }

        function g(a, b) {
            for (var c = a, f = []; b > c; ++c) f.push(new Ee(j[c], e(c), d));
            return f
        }
        var h = b.from,
            i = b.to,
            j = b.text,
            k = hf(a, h.line),
            l = hf(a, i.line),
            m = fg(j),
            n = e(j.length - 1),
            o = i.line - h.line;
        if (b.full) a.insert(0, g(0, j.length)), a.remove(j.length, a.size - j.length);
        else if (Ze(a, b)) {
            var p = g(0, j.length - 1);
            f(l, l.text, n), o && a.remove(h.line, o), p.length && a.insert(h.line, p)
        } else if (k == l)
            if (1 == j.length) f(k, k.text.slice(0, h.ch) + m + k.text.slice(i.ch), n);
            else {
                var p = g(1, j.length - 1);
                p.push(new Ee(m + k.text.slice(i.ch), n, d)), f(k, k.text.slice(0, h.ch) + j[0], e(0)), a.insert(h.line + 1, p)
            } else if (1 == j.length) f(k, k.text.slice(0, h.ch) + j[0] + l.text.slice(i.ch), e(0)), a.remove(h.line + 1, o);
        else {
            f(k, k.text.slice(0, h.ch) + j[0], e(0)), f(l, m + l.text.slice(i.ch), n);
            var p = g(1, j.length - 1);
            o > 1 && a.remove(h.line + 1, o - 1), a.insert(h.line + 1, p)
        }
        Rf(a, \"change\", a, b)
    }

    function _e(a) {
        this.lines = a, this.parent = null;
        for (var b = 0, c = 0; b < a.length; ++b) a[b].parent = this, c += a[b].height;
        this.height = c
    }

    function af(a) {
        this.children = a;
        for (var b = 0, c = 0, d = 0; d < a.length; ++d) {
            var e = a[d];
            b += e.chunkSize(), c += e.height, e.parent = this
        }
        this.size = b, this.height = c, this.parent = null
    }

    function ff(a, b, c) {
        function d(a, e, f) {
            if (a.linked)
                for (var g = 0; g < a.linked.length; ++g) {
                    var h = a.linked[g];
                    if (h.doc != e) {
                        var i = f && h.sharedHist;
                        (!c || i) && (b(h.doc, i), d(h.doc, a, i))
                    }
                }
        }
        d(a, null, !0)
    }

    function gf(a, b) {
        if (b.cm) throw new Error(\"This document is already in use.\");
        a.doc = b, b.cm = a, D(a), z(a), a.options.lineWrapping || J(a), a.options.mode = b.modeOption, kc(a)
    }

    function hf(a, b) {
        if (b -= a.first, 0 > b || b >= a.size) throw new Error(\"There is no line \" + (b + a.first) + \" in the document.\");
        for (var c = a; !c.lines;)
            for (var d = 0;; ++d) {
                var e = c.children[d],
                    f = e.chunkSize();
                if (f > b) {
                    c = e;
                    break
                }
                b -= f
            }
        return c.lines[b]
    }

    function jf(a, b, c) {
        var d = [],
            e = b.line;
        return a.iter(b.line, c.line + 1, function(a) {
            var f = a.text;
            e == c.line && (f = f.slice(0, c.ch)), e == b.line && (f = f.slice(b.ch)), d.push(f), ++e
        }), d
    }

    function kf(a, b, c) {
        var d = [];
        return a.iter(b, c, function(a) {
            d.push(a.text)
        }), d
    }

    function lf(a, b) {
        var c = b - a.height;
        if (c)
            for (var d = a; d; d = d.parent) d.height += c
    }

    function mf(a) {
        if (null == a.parent) return null;
        for (var b = a.parent, c = hg(b.lines, a), d = b.parent; d; b = d, d = d.parent)
            for (var e = 0; d.children[e] != b; ++e) c += d.children[e].chunkSize();
        return c + b.first
    }

    function nf(a, b) {
        var c = a.first;
        a: do {
            for (var d = 0; d < a.children.length; ++d) {
                var e = a.children[d],
                    f = e.height;
                if (f > b) {
                    a = e;
                    continue a
                }
                b -= f, c += e.chunkSize()
            }
            return c
        } while (!a.lines);
        for (var d = 0; d < a.lines.length; ++d) {
            var g = a.lines[d],
                h = g.height;
            if (h > b) break;
            b -= h
        }
        return c + d
    }

    function of(a) {
        a = ue(a);
        for (var b = 0, c = a.parent, d = 0; d < c.lines.length; ++d) {
            var e = c.lines[d];
            if (e == a) break;
            b += e.height
        }
        for (var f = c.parent; f; c = f, f = c.parent)
            for (var d = 0; d < f.children.length; ++d) {
                var g = f.children[d];
                if (g == c) break;
                b += g.height
            }
        return b
    }

    function pf(a) {
        var b = a.order;
        return null == b && (b = a.order = eh(a.text)), b
    }

    function qf(a) {
        this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = a || 1
    }

    function rf(a, b) {
        var c = {
            from: sa(b.from),
            to: dd(b),
            text: jf(a, b.from, b.to)
        };
        return yf(a, c, b.from.line, b.to.line + 1), ff(a, function(a) {
            yf(a, c, b.from.line, b.to.line + 1)
        }, !0), c
    }

    function sf(a) {
        for (; a.length;) {
            var b = fg(a);
            if (!b.ranges) break;
            a.pop()
        }
    }

    function tf(a, b) {
        return b ? (sf(a.done), fg(a.done)) : a.done.length && !fg(a.done).ranges ? fg(a.done) : a.done.length > 1 && !a.done[a.done.length - 2].ranges ? (a.done.pop(), fg(a.done)) : void 0
    }

    function uf(a, b, c, d) {
        var e = a.history;
        e.undone.length = 0;
        var g, f = +new Date;
        if ((e.lastOp == d || e.lastOrigin == b.origin && b.origin && (\"+\" == b.origin.charAt(0) && a.cm && e.lastModTime > f - a.cm.options.historyEventDelay || \"*\" == b.origin.charAt(0))) && (g = tf(e, e.lastOp == d))) {
            var h = fg(g.changes);
            0 == ra(b.from, b.to) && 0 == ra(b.from, h.to) ? h.to = dd(b) : g.changes.push(rf(a, b))
        } else {
            var i = fg(e.done);
            for (i && i.ranges || xf(a.sel, e.done), g = {
                    changes: [rf(a, b)],
                    generation: e.generation
                }, e.done.push(g); e.done.length > e.undoDepth;) e.done.shift(), e.done[0].ranges || e.done.shift()
        }
        e.done.push(c), e.generation = ++e.maxGeneration, e.lastModTime = e.lastSelTime = f, e.lastOp = e.lastSelOp = d, e.lastOrigin = e.lastSelOrigin = b.origin, h || Pf(a, \"historyAdded\")
    }

    function vf(a, b, c, d) {
        var e = b.charAt(0);
        return \"*\" == e || \"+\" == e && c.ranges.length == d.ranges.length && c.somethingSelected() == d.somethingSelected() && new Date - a.history.lastSelTime <= (a.cm ? a.cm.options.historyEventDelay : 500)
    }

    function wf(a, b, c, d) {
        var e = a.history,
            f = d && d.origin;
        c == e.lastSelOp || f && e.lastSelOrigin == f && (e.lastModTime == e.lastSelTime && e.lastOrigin == f || vf(a, f, fg(e.done), b)) ? e.done[e.done.length - 1] = b : xf(b, e.done), e.lastSelTime = +new Date, e.lastSelOrigin = f, e.lastSelOp = c, d && d.clearRedo !== !1 && sf(e.undone)
    }

    function xf(a, b) {
        var c = fg(b);
        c && c.ranges && c.equals(a) || b.push(a)
    }

    function yf(a, b, c, d) {
        var e = b[\"spans_\" + a.id],
            f = 0;
        a.iter(Math.max(a.first, c), Math.min(a.first + a.size, d), function(c) {
            c.markedSpans && ((e || (e = b[\"spans_\" + a.id] = {}))[f] = c.markedSpans), ++f
        })
    }

    function zf(a) {
        if (!a) return null;
        for (var c, b = 0; b < a.length; ++b) a[b].marker.explicitlyCleared ? c || (c = a.slice(0, b)) : c && c.push(a[b]);
        return c ? c.length ? c : null : a
    }

    function Af(a, b) {
        var c = b[\"spans_\" + a.id];
        if (!c) return null;
        for (var d = 0, e = []; d < b.text.length; ++d) e.push(zf(c[d]));
        return e
    }

    function Bf(a, b, c) {
        for (var d = 0, e = []; d < a.length; ++d) {
            var f = a[d];
            if (f.ranges) e.push(c ? La.prototype.deepCopy.call(f) : f);
            else {
                var g = f.changes,
                    h = [];
                e.push({
                    changes: h
                });
                for (var i = 0; i < g.length; ++i) {
                    var k, j = g[i];
                    if (h.push({
                            from: j.from,
                            to: j.to,
                            text: j.text
                        }), b)
                        for (var l in j)(k = l.match(/^spans_(\\d+)\$/)) && hg(b, Number(k[1])) > -1 && (fg(h)[l] = j[l], delete j[l])
                }
            }
        }
        return e
    }

    function Cf(a, b, c, d) {
        c < a.line ? a.line += d : b < a.line && (a.line = b, a.ch = 0)
    }

    function Df(a, b, c, d) {
        for (var e = 0; e < a.length; ++e) {
            var f = a[e],
                g = !0;
            if (f.ranges) {
                f.copied || (f = a[e] = f.deepCopy(), f.copied = !0);
                for (var h = 0; h < f.ranges.length; h++) Cf(f.ranges[h].anchor, b, c, d), Cf(f.ranges[h].head, b, c, d)
            } else {
                for (var h = 0; h < f.changes.length; ++h) {
                    var i = f.changes[h];
                    if (c < i.from.line) i.from = qa(i.from.line + d, i.from.ch), i.to = qa(i.to.line + d, i.to.ch);
                    else if (b <= i.to.line) {
                        g = !1;
                        break
                    }
                }
                g || (a.splice(0, e + 1), e = 0)
            }
        }
    }

    function Ef(a, b) {
        var c = b.from.line,
            d = b.to.line,
            e = b.text.length - (d - c) - 1;
        Df(a.done, c, d, e), Df(a.undone, c, d, e)
    }

    function Hf(a) {
        return null != a.defaultPrevented ? a.defaultPrevented : 0 == a.returnValue
    }

    function Jf(a) {
        return a.target || a.srcElement
    }

    function Kf(a) {
        var b = a.which;
        return null == b && (1 & a.button ? b = 1 : 2 & a.button ? b = 3 : 4 & a.button && (b = 2)), q && a.ctrlKey && 1 == b && (b = 3), b
    }

    function Nf(a, b, c) {
        var d = a._handlers && a._handlers[b];
        return c ? d && d.length > 0 ? d.slice() : Mf : d || Mf
    }

    function Rf(a, b) {
        function f(a) {
            return function() {
                a.apply(null, d)
            }
        }
        var c = Nf(a, b, !1);
        if (c.length) {
            var e, d = Array.prototype.slice.call(arguments, 2);
            Vb ? e = Vb.delayedCallbacks : Qf ? e = Qf : (e = Qf = [], setTimeout(Sf, 0));
            for (var g = 0; g < c.length; ++g) e.push(f(c[g]))
        }
    }

    function Sf() {
        var a = Qf;
        Qf = null;
        for (var b = 0; b < a.length; ++b) a[b]()
    }

    function Tf(a, b, c) {
        return \"string\" == typeof b && (b = {
            type: b,
            preventDefault: function() {
                this.defaultPrevented = !0
            }
        }), Pf(a, c || b.type, a, b), Hf(b) || b.codemirrorIgnore
    }

    function Uf(a) {
        var b = a._handlers && a._handlers.cursorActivity;
        if (b)
            for (var c = a.curOp.cursorActivityHandlers || (a.curOp.cursorActivityHandlers = []), d = 0; d < b.length; ++d) - 1 == hg(c, b[d]) && c.push(b[d])
    }

    function Vf(a, b) {
        return Nf(a, b).length > 0
    }

    function Wf(a) {
        a.prototype.on = function(a, b) {
            Lf(this, a, b)
        }, a.prototype.off = function(a, b) {
            Of(this, a, b)
        }
    }

    function ag() {
        this.id = null
    }

    function eg(a) {
        for (; dg.length <= a;) dg.push(fg(dg) + \" \");
        return dg[a]
    }

    function fg(a) {
        return a[a.length - 1]
    }

    function hg(a, b) {
        for (var c = 0; c < a.length; ++c)
            if (a[c] == b) return c;
        return -1
    }

    function ig(a, b) {
        for (var c = [], d = 0; d < a.length; d++) c[d] = b(a[d], d);
        return c
    }

    function jg() {}

    function kg(a, b) {
        var c;
        return Object.create ? c = Object.create(a) : (jg.prototype = a, c = new jg), b && lg(b, c), c
    }

    function lg(a, b, c) {
        b || (b = {});
        for (var d in a) !a.hasOwnProperty(d) || c === !1 && b.hasOwnProperty(d) || (b[d] = a[d]);
        return b
    }

    function mg(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return function() {
            return a.apply(null, b)
        }
    }

    function pg(a, b) {
        return b ? b.source.indexOf(\"\\\\w\") > -1 && og(a) ? !0 : b.test(a) : og(a)
    }

    function qg(a) {
        for (var b in a)
            if (a.hasOwnProperty(b) && a[b]) return !1;
        return !0
    }

    function sg(a) {
        return a.charCodeAt(0) >= 768 && rg.test(a)
    }

    function tg(a, b, c, d) {
        var e = document.createElement(a);
        if (c && (e.className = c), d && (e.style.cssText = d), \"string\" == typeof b) e.appendChild(document.createTextNode(b));
        else if (b)
            for (var f = 0; f < b.length; ++f) e.appendChild(b[f]);
        return e
    }

    function vg(a) {
        for (var b = a.childNodes.length; b > 0; --b) a.removeChild(a.firstChild);
        return a
    }

    function wg(a, b) {
        return vg(a).appendChild(b)
    }

    function yg() {
        for (var a = document.activeElement; a && a.root && a.root.activeElement;) a = a.root.activeElement;
        return a
    }

    function zg(a) {
        return new RegExp(\"(^|\\\\s)\" + a + \"(?:\$|\\\\s)\\\\s*\")
    }

    function Cg(a, b) {
        for (var c = a.split(\" \"), d = 0; d < c.length; d++) c[d] && !zg(c[d]).test(b) && (b += \" \" + c[d]);
        return b
    }

    function Dg(a) {
        if (document.body.getElementsByClassName)
            for (var b = document.body.getElementsByClassName(\"CodeMirror\"), c = 0; c < b.length; c++) {
                var d = b[c].CodeMirror;
                d && a(d)
            }
    }

    function Fg() {
        Eg || (Gg(), Eg = !0)
    }

    function Gg() {
        var a;
        Lf(window, \"resize\", function() {
            null == a && (a = setTimeout(function() {
                a = null, Dg(tc)
            }, 100))
        }), Lf(window, \"blur\", function() {
            Dg(ad)
        })
    }

    function Jg(a) {
        if (null == Ig) {
            var b = tg(\"span\", \"\\u200b\");
            wg(a, tg(\"span\", [b, document.createTextNode(\"x\")])), 0 != a.firstChild.offsetHeight && (Ig = b.offsetWidth <= 1 && b.offsetHeight > 2 && !(f && 8 > g))
        }
        var c = Ig ? tg(\"span\", \"\\u200b\") : tg(\"span\", \"\\xa0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");
        return c.setAttribute(\"cm-text\", \"\"), c
    }

    function Lg(a) {
        if (null != Kg) return Kg;
        var b = wg(a, document.createTextNode(\"A\\u062eA\")),
            c = ug(b, 0, 1).getBoundingClientRect();
        if (!c || c.left == c.right) return !1;
        var d = ug(b, 1, 2).getBoundingClientRect();
        return Kg = d.right - c.right < 3
    }

    function Qg(a) {
        if (null != Pg) return Pg;
        var b = wg(a, tg(\"span\", \"x\")),
            c = b.getBoundingClientRect(),
            d = ug(b, 0, 1).getBoundingClientRect();
        return Pg = Math.abs(c.left - d.left) > 1
    }

    function Sg(a, b, c, d) {
        if (!a) return d(b, c, \"ltr\");
        for (var e = !1, f = 0; f < a.length; ++f) {
            var g = a[f];
            (g.from < c && g.to > b || b == c && g.to == b) && (d(Math.max(g.from, b), Math.min(g.to, c), 1 == g.level ? \"rtl\" : \"ltr\"), e = !0)
        }
        e || d(b, c, \"ltr\")
    }

    function Tg(a) {
        return a.level % 2 ? a.to : a.from
    }

    function Ug(a) {
        return a.level % 2 ? a.from : a.to
    }

    function Vg(a) {
        var b = pf(a);
        return b ? Tg(b[0]) : 0
    }

    function Wg(a) {
        var b = pf(a);
        return b ? Ug(fg(b)) : a.text.length
    }

    function Xg(a, b) {
        var c = hf(a.doc, b),
            d = ue(c);
        d != c && (b = mf(d));
        var e = pf(d),
            f = e ? e[0].level % 2 ? Wg(d) : Vg(d) : 0;
        return qa(b, f)
    }

    function Yg(a, b) {
        for (var c, d = hf(a.doc, b); c = se(d);) d = c.find(1, !0).line, b = null;
        var e = pf(d),
            f = e ? e[0].level % 2 ? Vg(d) : Wg(d) : d.text.length;
        return qa(null == b ? mf(d) : b, f)
    }

    function Zg(a, b) {
        var c = Xg(a, b.line),
            d = hf(a.doc, c.line),
            e = pf(d);
        if (!e || 0 == e[0].level) {
            var f = Math.max(0, d.text.search(/\\S/)),
                g = b.line == c.line && b.ch <= f && b.ch;
            return qa(c.line, g ? 0 : f)
        }
        return c
    }

    function \$g(a, b, c) {
        var d = a[0].level;
        return b == d ? !0 : c == d ? !1 : c > b
    }

    function ah(a, b) {
        _g = null;
        for (var d, c = 0; c < a.length; ++c) {
            var e = a[c];
            if (e.from < b && e.to > b) return c;
            if (e.from == b || e.to == b) {
                if (null != d) return \$g(a, e.level, a[d].level) ? (e.from != e.to && (_g = d), c) : (e.from != e.to && (_g = c), d);
                d = c
            }
        }
        return d
    }

    function bh(a, b, c, d) {
        if (!d) return b + c;
        do b += c; while (b > 0 && sg(a.text.charAt(b)));
        return b
    }

    function ch(a, b, c, d) {
        var e = pf(a);
        if (!e) return dh(a, b, c, d);
        for (var f = ah(e, b), g = e[f], h = bh(a, b, g.level % 2 ? -c : c, d);;) {
            if (h > g.from && h < g.to) return h;
            if (h == g.from || h == g.to) return ah(e, h) == f ? h : (g = e[f += c], c > 0 == g.level % 2 ? g.to : g.from);
            if (g = e[f += c], !g) return null;
            h = c > 0 == g.level % 2 ? bh(a, g.to, -1, d) : bh(a, g.from, 1, d)
        }
    }

    function dh(a, b, c, d) {
        var e = b + c;
        if (d)
            for (; e > 0 && sg(a.text.charAt(e));) e += c;
        return 0 > e || e > a.text.length ? null : e
    }
    var a = navigator.userAgent,
        b = navigator.platform,
        c = /gecko\\/\\d/i.test(a),
        d = /MSIE \\d/.test(a),
        e = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(a),
        f = d || e,
        g = f && (d ? document.documentMode || 6 : e[1]),
        h = /WebKit\\//.test(a),
        i = h && /Qt\\/\\d+\\.\\d+/.test(a),
        j = /Chrome\\//.test(a),
        k = /Opera\\//.test(a),
        l = /Apple Computer/.test(navigator.vendor),
        m = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(a),
        n = /PhantomJS/.test(a),
        o = /AppleWebKit/.test(a) && /Mobile\\/\\w+/.test(a),
        p = o || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),
        q = o || /Mac/.test(b),
        r = /win/i.test(b),
        s = k && a.match(/Version\\/(\\d*\\.\\d*)/);
    s && (s = Number(s[1])), s && s >= 15 && (k = !1, h = !0);
    var t = q && (i || k && (null == s || 12.11 > s)),
        u = c || f && g >= 9,
        v = !1,
        w = !1;
    M.prototype = lg({
        update: function(a) {
            var b = a.scrollWidth > a.clientWidth + 1,
                c = a.scrollHeight > a.clientHeight + 1,
                d = a.nativeBarWidth;
            if (c) {
                this.vert.style.display = \"block\", this.vert.style.bottom = b ? d + \"px\" : \"0\";
                var e = a.viewHeight - (b ? d : 0);
                this.vert.firstChild.style.height = Math.max(0, a.scrollHeight - a.clientHeight + e) + \"px\"
            } else this.vert.style.display = \"\", this.vert.firstChild.style.height = \"0\";
            if (b) {
                this.horiz.style.display = \"block\", this.horiz.style.right = c ? d + \"px\" : \"0\", this.horiz.style.left = a.barLeft + \"px\";
                var f = a.viewWidth - a.barLeft - (c ? d : 0);
                this.horiz.firstChild.style.width = a.scrollWidth - a.clientWidth + f + \"px\"
            } else this.horiz.style.display = \"\", this.horiz.firstChild.style.width = \"0\";
            return !this.checkedOverlay && a.clientHeight > 0 && (0 == d && this.overlayHack(), this.checkedOverlay = !0), {
                right: c ? d : 0,
                bottom: b ? d : 0
            }
        },
        setScrollLeft: function(a) {
            this.horiz.scrollLeft != a && (this.horiz.scrollLeft = a)
        },
        setScrollTop: function(a) {
            this.vert.scrollTop != a && (this.vert.scrollTop = a)
        },
        overlayHack: function() {
            var a = q && !m ? \"12px\" : \"18px\";
            this.horiz.style.minHeight = this.vert.style.minWidth = a;
            var b = this,
                c = function(a) {
                    Jf(a) != b.vert && Jf(a) != b.horiz && fc(b.cm, wc)(a)
                };
            Lf(this.vert, \"mousedown\", c), Lf(this.horiz, \"mousedown\", c)
        },
        clear: function() {
            var a = this.horiz.parentNode;
            a.removeChild(this.horiz), a.removeChild(this.vert)
        }
    }, M.prototype), N.prototype = lg({
        update: function() {
            return {
                bottom: 0,
                right: 0
            }
        },
        setScrollLeft: function() {},
        setScrollTop: function() {},
        clear: function() {}
    }, N.prototype), x.scrollbarModel = {
        \"native\": M,
        \"null\": N
    }, W.prototype.signal = function(a, b) {
        Vf(a, b) && this.events.push(arguments)
    }, W.prototype.finish = function() {
        for (var a = 0; a < this.events.length; a++) Pf.apply(null, this.events[a])
    };
    var qa = x.Pos = function(a, b) {
            return this instanceof qa ? (this.line = a, void(this.ch = b)) : new qa(a, b)
        },
        ra = x.cmpPos = function(a, b) {
            return a.line - b.line || a.ch - b.ch
        },
        xa = null;
    Da.prototype = lg({
        init: function(a) {
            function h(a) {
                if (c.somethingSelected()) xa = c.getSelections(), b.inaccurateSelection && (b.prevInput = \"\", b.inaccurateSelection = !1, e.value = xa.join(\"\\n\"), gg(e));
                else {
                    if (!c.options.lineWiseCopyCut) return;
                    var d = Ba(c);
                    xa = d.text, \"cut\" == a.type ? c.setSelections(d.ranges, null, Zf) : (b.prevInput = \"\", e.value = d.text.join(\"\\n\"), gg(e))
                }
                \"cut\" == a.type && (c.state.cutIncoming = !0)
            }
            var b = this,
                c = this.cm,
                d = this.wrapper = Ea(),
                e = this.textarea = d.firstChild;
            a.wrapper.insertBefore(d, a.wrapper.firstChild), o && (e.style.width = \"0px\"), Lf(e, \"input\", function() {
                f && g >= 9 && b.hasSelection && (b.hasSelection = null), b.poll()
            }), Lf(e, \"paste\", function(a) {
                return za(a, c) ? !0 : (c.state.pasteIncoming = !0, void b.fastPoll())
            }), Lf(e, \"cut\", h), Lf(e, \"copy\", h), Lf(a.scroller, \"paste\", function(d) {
                uc(a, d) || (c.state.pasteIncoming = !0, b.focus())
            }), Lf(a.lineSpace, \"selectstart\", function(b) {
                uc(a, b) || Ff(b)
            }), Lf(e, \"compositionstart\", function() {
                var a = c.getCursor(\"from\");
                b.composing && b.composing.range.clear(),
                    b.composing = {
                        start: a,
                        range: c.markText(a, c.getCursor(\"to\"), {
                            className: \"CodeMirror-composing\"
                        })
                    }
            }), Lf(e, \"compositionend\", function() {
                b.composing && (b.poll(), b.composing.range.clear(), b.composing = null)
            })
        },
        prepareSelection: function() {
            var a = this.cm,
                b = a.display,
                c = a.doc,
                d = gb(a);
            if (a.options.moveInputWithCursor) {
                var e = Nb(a, c.sel.primary().head, \"div\"),
                    f = b.wrapper.getBoundingClientRect(),
                    g = b.lineDiv.getBoundingClientRect();
                d.teTop = Math.max(0, Math.min(b.wrapper.clientHeight - 10, e.top + g.top - f.top)), d.teLeft = Math.max(0, Math.min(b.wrapper.clientWidth - 10, e.left + g.left - f.left))
            }
            return d
        },
        showSelection: function(a) {
            var b = this.cm,
                c = b.display;
            wg(c.cursorDiv, a.cursors), wg(c.selectionDiv, a.selection), null != a.teTop && (this.wrapper.style.top = a.teTop + \"px\", this.wrapper.style.left = a.teLeft + \"px\")
        },
        reset: function(a) {
            if (!this.contextMenuPending) {
                var b, c, d = this.cm,
                    e = d.doc;
                if (d.somethingSelected()) {
                    this.prevInput = \"\";
                    var h = e.sel.primary();
                    b = Og && (h.to().line - h.from().line > 100 || (c = d.getSelection()).length > 1e3);
                    var i = b ? \"-\" : c || d.getSelection();
                    this.textarea.value = i, d.state.focused && gg(this.textarea), f && g >= 9 && (this.hasSelection = i)
                } else a || (this.prevInput = this.textarea.value = \"\", f && g >= 9 && (this.hasSelection = null));
                this.inaccurateSelection = b
            }
        },
        getField: function() {
            return this.textarea
        },
        supportsTouch: function() {
            return !1
        },
        focus: function() {
            if (\"nocursor\" != this.cm.options.readOnly && (!p || yg() != this.textarea)) try {
                this.textarea.focus()
            } catch (a) {}
        },
        blur: function() {
            this.textarea.blur()
        },
        resetPosition: function() {
            this.wrapper.style.top = this.wrapper.style.left = 0
        },
        receivedFocus: function() {
            this.slowPoll()
        },
        slowPoll: function() {
            var a = this;
            a.pollingFast || a.polling.set(this.cm.options.pollInterval, function() {
                a.poll(), a.cm.state.focused && a.slowPoll()
            })
        },
        fastPoll: function() {
            function c() {
                var d = b.poll();
                d || a ? (b.pollingFast = !1, b.slowPoll()) : (a = !0, b.polling.set(60, c))
            }
            var a = !1,
                b = this;
            b.pollingFast = !0, b.polling.set(20, c)
        },
        poll: function() {
            var a = this.cm,
                b = this.textarea,
                c = this.prevInput;
            if (this.contextMenuPending || !a.state.focused || Ng(b) && !c && !this.composing || wa(a) || a.options.disableInput || a.state.keySeq) return !1;
            var d = b.value;
            if (d == c && !a.somethingSelected()) return !1;
            if (f && g >= 9 && this.hasSelection === d || q && /[\\uf700-\\uf7ff]/.test(d)) return a.display.input.reset(), !1;
            if (a.doc.sel == a.display.selForContextMenu) {
                var e = d.charCodeAt(0);
                if (8203 != e || c || (c = \"\\u200b\"), 8666 == e) return this.reset(), this.cm.execCommand(\"undo\")
            }
            for (var h = 0, i = Math.min(c.length, d.length); i > h && c.charCodeAt(h) == d.charCodeAt(h);) ++h;
            var j = this;
            return ec(a, function() {
                ya(a, d.slice(h), c.length - h, null, j.composing ? \"*compose\" : null), d.length > 1e3 || d.indexOf(\"\\n\") > -1 ? b.value = j.prevInput = \"\" : j.prevInput = d, j.composing && (j.composing.range.clear(), j.composing.range = a.markText(j.composing.start, a.getCursor(\"to\"), {
                    className: \"CodeMirror-composing\"
                }))
            }), !0
        },
        ensurePolled: function() {
            this.pollingFast && this.poll() && (this.pollingFast = !1)
        },
        onKeyPress: function() {
            f && g >= 9 && (this.hasSelection = null), this.fastPoll()
        },
        onContextMenu: function(a) {
            function o() {
                if (null != e.selectionStart) {
                    var a = c.somethingSelected(),
                        f = \"\\u200b\" + (a ? e.value : \"\");
                    e.value = \"\\u21da\", e.value = f, b.prevInput = a ? \"\" : \"\\u200b\", e.selectionStart = 1, e.selectionEnd = f.length, d.selForContextMenu = c.doc.sel
                }
            }

            function p() {
                if (b.contextMenuPending = !1, b.wrapper.style.position = \"relative\", e.style.cssText = m, f && 9 > g && d.scrollbars.setScrollTop(d.scroller.scrollTop = j), null != e.selectionStart) {
                    (!f || f && 9 > g) && o();
                    var a = 0,
                        h = function() {
                            d.selForContextMenu == c.doc.sel && 0 == e.selectionStart && e.selectionEnd > 0 && \"\\u200b\" == b.prevInput ? fc(c, Nd.selectAll)(c) : a++ < 10 ? d.detectingSelectAll = setTimeout(h, 500) : d.input.reset()
                        };
                    d.detectingSelectAll = setTimeout(h, 200)
                }
            }
            var b = this,
                c = b.cm,
                d = c.display,
                e = b.textarea,
                i = vc(c, a),
                j = d.scroller.scrollTop;
            if (i && !k) {
                var l = c.options.resetSelectionOnContextMenu;
                l && -1 == c.doc.sel.contains(i) && fc(c, _a)(c.doc, Oa(i), Zf);
                var m = e.style.cssText;
                if (b.wrapper.style.position = \"absolute\", e.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (a.clientY - 5) + \"px; left: \" + (a.clientX - 5) + \"px; z-index: 1000; background: \" + (f ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\", h) var n = window.scrollY;
                if (d.input.focus(), h && window.scrollTo(null, n), d.input.reset(), c.somethingSelected() || (e.value = b.prevInput = \" \"), b.contextMenuPending = !0, d.selForContextMenu = c.doc.sel, clearTimeout(d.detectingSelectAll), f && g >= 9 && o(), u) {
                    If(a);
                    var q = function() {
                        Of(window, \"mouseup\", q), setTimeout(p, 20)
                    };
                    Lf(window, \"mouseup\", q)
                } else setTimeout(p, 50)
            }
        },
        readOnlyChanged: function(a) {
            a || this.reset()
        },
        setUneditable: jg,
        needsContentAttribute: !1
    }, Da.prototype), Fa.prototype = lg({
        init: function(a) {
            function e(a) {
                if (c.somethingSelected()) xa = c.getSelections(), \"cut\" == a.type && c.replaceSelection(\"\", null, \"cut\");
                else {
                    if (!c.options.lineWiseCopyCut) return;
                    var b = Ba(c);
                    xa = b.text, \"cut\" == a.type && c.operation(function() {
                        c.setSelections(b.ranges, 0, Zf), c.replaceSelection(\"\", null, \"cut\")
                    })
                }
                if (a.clipboardData && !o) a.preventDefault(), a.clipboardData.clearData(), a.clipboardData.setData(\"text/plain\", xa.join(\"\\n\"));
                else {
                    var d = Ea(),
                        e = d.firstChild;
                    c.display.lineSpace.insertBefore(d, c.display.lineSpace.firstChild), e.value = xa.join(\"\\n\");
                    var f = document.activeElement;
                    gg(e), setTimeout(function() {
                        c.display.lineSpace.removeChild(d), f.focus()
                    }, 50)
                }
            }
            var b = this,
                c = b.cm,
                d = b.div = a.lineDiv;
            Ca(d), Lf(d, \"paste\", function(a) {
                za(a, c)
            }), Lf(d, \"compositionstart\", function(a) {
                var d = a.data;
                if (b.composing = {
                        sel: c.doc.sel,
                        data: d,
                        startData: d
                    }, d) {
                    var e = c.doc.sel.primary(),
                        f = c.getLine(e.head.line),
                        g = f.indexOf(d, Math.max(0, e.head.ch - d.length));
                    g > -1 && g <= e.head.ch && (b.composing.sel = Oa(qa(e.head.line, g), qa(e.head.line, g + d.length)))
                }
            }), Lf(d, \"compositionupdate\", function(a) {
                b.composing.data = a.data
            }), Lf(d, \"compositionend\", function(a) {
                var c = b.composing;
                c && (a.data == c.startData || /\\u200b/.test(a.data) || (c.data = a.data), setTimeout(function() {
                    c.handled || b.applyComposition(c), b.composing == c && (b.composing = null)
                }, 50))
            }), Lf(d, \"touchstart\", function() {
                b.forceCompositionEnd()
            }), Lf(d, \"input\", function() {
                b.composing || (wa(c) || !b.pollContent()) && ec(b.cm, function() {
                    kc(c)
                })
            }), Lf(d, \"copy\", e), Lf(d, \"cut\", e)
        },
        prepareSelection: function() {
            var a = gb(this.cm, !1);
            return a.focus = this.cm.state.focused, a
        },
        showSelection: function(a) {
            a && this.cm.display.view.length && (a.focus && this.showPrimarySelection(), this.showMultipleSelections(a))
        },
        showPrimarySelection: function() {
            var a = window.getSelection(),
                b = this.cm.doc.sel.primary(),
                d = Ia(this.cm, a.anchorNode, a.anchorOffset),
                e = Ia(this.cm, a.focusNode, a.focusOffset);
            if (!d || d.bad || !e || e.bad || 0 != ra(ua(d, e), b.from()) || 0 != ra(ta(d, e), b.to())) {
                var f = Ga(this.cm, b.from()),
                    g = Ga(this.cm, b.to());
                if (f || g) {
                    var h = this.cm.display.view,
                        i = a.rangeCount && a.getRangeAt(0);
                    if (f) {
                        if (!g) {
                            var j = h[h.length - 1].measure,
                                k = j.maps ? j.maps[j.maps.length - 1] : j.map;
                            g = {
                                node: k[k.length - 1],
                                offset: k[k.length - 2] - k[k.length - 3]
                            }
                        }
                    } else f = {
                        node: h[0].measure.map[2],
                        offset: 0
                    };
                    try {
                        var l = ug(f.node, f.offset, g.offset, g.node)
                    } catch (m) {}
                    l && (a.removeAllRanges(), a.addRange(l), i && null == a.anchorNode ? a.addRange(i) : c && this.startGracePeriod()), this.rememberSelection()
                }
            }
        },
        startGracePeriod: function() {
            var a = this;
            clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {
                a.gracePeriod = !1, a.selectionChanged() && a.cm.operation(function() {
                    a.cm.curOp.selectionChanged = !0
                })
            }, 20)
        },
        showMultipleSelections: function(a) {
            wg(this.cm.display.cursorDiv, a.cursors), wg(this.cm.display.selectionDiv, a.selection)
        },
        rememberSelection: function() {
            var a = window.getSelection();
            this.lastAnchorNode = a.anchorNode, this.lastAnchorOffset = a.anchorOffset, this.lastFocusNode = a.focusNode, this.lastFocusOffset = a.focusOffset
        },
        selectionInEditor: function() {
            var a = window.getSelection();
            if (!a.rangeCount) return !1;
            var b = a.getRangeAt(0).commonAncestorContainer;
            return xg(this.div, b)
        },
        focus: function() {
            \"nocursor\" != this.cm.options.readOnly && this.div.focus()
        },
        blur: function() {
            this.div.blur()
        },
        getField: function() {
            return this.div
        },
        supportsTouch: function() {
            return !0
        },
        receivedFocus: function() {
            function b() {
                a.cm.state.focused && (a.pollSelection(), a.polling.set(a.cm.options.pollInterval, b))
            }
            var a = this;
            this.selectionInEditor() ? this.pollSelection() : ec(this.cm, function() {
                a.cm.curOp.selectionChanged = !0
            }), this.polling.set(this.cm.options.pollInterval, b)
        },
        selectionChanged: function() {
            var a = window.getSelection();
            return a.anchorNode != this.lastAnchorNode || a.anchorOffset != this.lastAnchorOffset || a.focusNode != this.lastFocusNode || a.focusOffset != this.lastFocusOffset
        },
        pollSelection: function() {
            if (!this.composing && !this.gracePeriod && this.selectionChanged()) {
                var a = window.getSelection(),
                    b = this.cm;
                this.rememberSelection();
                var c = Ia(b, a.anchorNode, a.anchorOffset),
                    d = Ia(b, a.focusNode, a.focusOffset);
                c && d && ec(b, function() {
                    _a(b.doc, Oa(c, d), Zf), (c.bad || d.bad) && (b.curOp.selectionChanged = !0)
                })
            }
        },
        pollContent: function() {
            var a = this.cm,
                b = a.display,
                c = a.doc.sel.primary(),
                d = c.from(),
                e = c.to();
            if (d.line < b.viewFrom || e.line > b.viewTo - 1) return !1;
            var f;
            if (d.line == b.viewFrom || 0 == (f = nc(a, d.line))) var g = mf(b.view[0].line),
                h = b.view[0].node;
            else var g = mf(b.view[f].line),
                h = b.view[f - 1].node.nextSibling;
            var i = nc(a, e.line);
            if (i == b.view.length - 1) var j = b.viewTo - 1,
                k = b.lineDiv.lastChild;
            else var j = mf(b.view[i + 1].line) - 1,
                k = b.view[i + 1].node.previousSibling;
            for (var l = a.doc.splitLines(Ka(a, h, k, g, j)), m = jf(a.doc, qa(g, 0), qa(j, hf(a.doc, j).text.length)); l.length > 1 && m.length > 1;)
                if (fg(l) == fg(m)) l.pop(), m.pop(), j--;
                else {
                    if (l[0] != m[0]) break;
                    l.shift(), m.shift(), g++
                }
            for (var n = 0, o = 0, p = l[0], q = m[0], r = Math.min(p.length, q.length); r > n && p.charCodeAt(n) == q.charCodeAt(n);) ++n;
            for (var s = fg(l), t = fg(m), u = Math.min(s.length - (1 == l.length ? n : 0), t.length - (1 == m.length ? n : 0)); u > o && s.charCodeAt(s.length - o - 1) == t.charCodeAt(t.length - o - 1);) ++o;
            l[l.length - 1] = s.slice(0, s.length - o), l[0] = l[0].slice(n);
            var v = qa(g, n),
                w = qa(j, m.length ? fg(m).length - o : 0);
            return l.length > 1 || l[0] || ra(v, w) ? (pd(a.doc, l, v, w, \"+input\"), !0) : void 0
        },
        ensurePolled: function() {
            this.forceCompositionEnd()
        },
        reset: function() {
            this.forceCompositionEnd()
        },
        forceCompositionEnd: function() {
            this.composing && !this.composing.handled && (this.applyComposition(this.composing), this.composing.handled = !0, this.div.blur(), this.div.focus())
        },
        applyComposition: function(a) {
            wa(this.cm) ? fc(this.cm, kc)(this.cm) : a.data && a.data != a.startData && fc(this.cm, ya)(this.cm, a.data, 0, a.sel)
        },
        setUneditable: function(a) {
            a.contentEditable = \"false\"
        },
        onKeyPress: function(a) {
            a.preventDefault(), wa(this.cm) || fc(this.cm, ya)(this.cm, String.fromCharCode(null == a.charCode ? a.keyCode : a.charCode), 0)
        },
        readOnlyChanged: function(a) {
            this.div.contentEditable = String(\"nocursor\" != a)
        },
        onContextMenu: jg,
        resetPosition: jg,
        needsContentAttribute: !0
    }, Fa.prototype), x.inputStyles = {
        textarea: Da,
        contenteditable: Fa
    }, La.prototype = {
        primary: function() {
            return this.ranges[this.primIndex]
        },
        equals: function(a) {
            if (a == this) return !0;
            if (a.primIndex != this.primIndex || a.ranges.length != this.ranges.length) return !1;
            for (var b = 0; b < this.ranges.length; b++) {
                var c = this.ranges[b],
                    d = a.ranges[b];
                if (0 != ra(c.anchor, d.anchor) || 0 != ra(c.head, d.head)) return !1
            }
            return !0
        },
        deepCopy: function() {
            for (var a = [], b = 0; b < this.ranges.length; b++) a[b] = new Ma(sa(this.ranges[b].anchor), sa(this.ranges[b].head));
            return new La(a, this.primIndex)
        },
        somethingSelected: function() {
            for (var a = 0; a < this.ranges.length; a++)
                if (!this.ranges[a].empty()) return !0;
            return !1
        },
        contains: function(a, b) {
            b || (b = a);
            for (var c = 0; c < this.ranges.length; c++) {
                var d = this.ranges[c];
                if (ra(b, d.from()) >= 0 && ra(a, d.to()) <= 0) return c
            }
            return -1
        }
    }, Ma.prototype = {
        from: function() {
            return ua(this.anchor, this.head)
        },
        to: function() {
            return ta(this.anchor, this.head)
        },
        empty: function() {
            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
        }
    };
    var Sb, xc, yc, Bb = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
        },
        Vb = null,
        Wb = 0,
        Ec = 0,
        Lc = 0,
        Mc = null;
    f ? Mc = -.53 : c ? Mc = 15 : j ? Mc = -.7 : l && (Mc = -1 / 3);
    var Nc = function(a) {
        var b = a.wheelDeltaX,
            c = a.wheelDeltaY;
        return null == b && a.detail && a.axis == a.HORIZONTAL_AXIS && (b = a.detail), null == c && a.detail && a.axis == a.VERTICAL_AXIS ? c = a.detail : null == c && (c = a.wheelDelta), {
            x: b,
            y: c
        }
    };
    x.wheelEventPixels = function(a) {
        var b = Nc(a);
        return b.x *= Mc, b.y *= Mc, b
    };
    var Rc = new ag,
        Vc = null,
        dd = x.changeEnd = function(a) {
            return a.text ? qa(a.from.line + a.text.length - 1, fg(a.text).length + (1 == a.text.length ? a.from.ch : 0)) : a.to
        };
    x.prototype = {
        constructor: x,
        focus: function() {
            window.focus(), this.display.input.focus()
        },
        setOption: function(a, b) {
            var c = this.options,
                d = c[a];
            (c[a] != b || \"mode\" == a) && (c[a] = b, Dd.hasOwnProperty(a) && fc(this, Dd[a])(this, b, d))
        },
        getOption: function(a) {
            return this.options[a]
        },
        getDoc: function() {
            return this.doc
        },
        addKeyMap: function(a, b) {
            this.state.keyMaps[b ? \"push\" : \"unshift\"](Td(a))
        },
        removeKeyMap: function(a) {
            for (var b = this.state.keyMaps, c = 0; c < b.length; ++c)
                if (b[c] == a || b[c].name == a) return b.splice(c, 1), !0
        },
        addOverlay: gc(function(a, b) {
            var c = a.token ? a : x.getMode(this.options, a);
            if (c.startState) throw new Error(\"Overlays may not be stateful.\");
            this.state.overlays.push({
                mode: c,
                modeSpec: a,
                opaque: b && b.opaque
            }), this.state.modeGen++, kc(this)
        }),
        removeOverlay: gc(function(a) {
            for (var b = this.state.overlays, c = 0; c < b.length; ++c) {
                var d = b[c].modeSpec;
                if (d == a || \"string\" == typeof a && d.name == a) return b.splice(c, 1), this.state.modeGen++, void kc(this)
            }
        }),
        indentLine: gc(function(a, b, c) {
            \"string\" != typeof b && \"number\" != typeof b && (b = null == b ? this.options.smartIndent ? \"smart\" : \"prev\" : b ? \"add\" : \"subtract\"), Sa(this.doc, a) && xd(this, a, b, c)
        }),
        indentSelection: gc(function(a) {
            for (var b = this.doc.sel.ranges, c = -1, d = 0; d < b.length; d++) {
                var e = b[d];
                if (e.empty()) e.head.line > c && (xd(this, e.head.line, a, !0), c = e.head.line, d == this.doc.sel.primIndex && vd(this));
                else {
                    var f = e.from(),
                        g = e.to(),
                        h = Math.max(c, f.line);
                    c = Math.min(this.lastLine(), g.line - (g.ch ? 0 : 1)) + 1;
                    for (var i = h; c > i; ++i) xd(this, i, a);
                    var j = this.doc.sel.ranges;
                    0 == f.ch && b.length == j.length && j[d].from().ch > 0 && Xa(this.doc, d, new Ma(f, j[d].to()), Zf)
                }
            }
        }),
        getTokenAt: function(a, b) {
            return Ke(this, a, b)
        },
        getLineTokens: function(a, b) {
            return Ke(this, qa(a), b, !0)
        },
        getTokenTypeAt: function(a) {
            a = Qa(this.doc, a);
            var f, b = Ne(this, hf(this.doc, a.line)),
                c = 0,
                d = (b.length - 1) / 2,
                e = a.ch;
            if (0 == e) f = b[2];
            else
                for (;;) {
                    var g = c + d >> 1;
                    if ((g ? b[2 * g - 1] : 0) >= e) d = g;
                    else {
                        if (!(b[2 * g + 1] < e)) {
                            f = b[2 * g + 2];
                            break
                        }
                        c = g + 1
                    }
                }
            var h = f ? f.indexOf(\"cm-overlay \") : -1;
            return 0 > h ? f : 0 == h ? null : f.slice(0, h - 1)
        },
        getModeAt: function(a) {
            var b = this.doc.mode;
            return b.innerMode ? x.innerMode(b, this.getTokenAt(a).state).mode : b
        },
        getHelper: function(a, b) {
            return this.getHelpers(a, b)[0]
        },
        getHelpers: function(a, b) {
            var c = [];
            if (!Kd.hasOwnProperty(b)) return c;
            var d = Kd[b],
                e = this.getModeAt(a);
            if (\"string\" == typeof e[b]) d[e[b]] && c.push(d[e[b]]);
            else if (e[b])
                for (var f = 0; f < e[b].length; f++) {
                    var g = d[e[b][f]];
                    g && c.push(g)
                } else e.helperType && d[e.helperType] ? c.push(d[e.helperType]) : d[e.name] && c.push(d[e.name]);
            for (var f = 0; f < d._global.length; f++) {
                var h = d._global[f];
                h.pred(e, this) && -1 == hg(c, h.val) && c.push(h.val)
            }
            return c
        },
        getStateAfter: function(a, b) {
            var c = this.doc;
            return a = Pa(c, null == a ? c.first + c.size - 1 : a), nb(this, a + 1, b)
        },
        cursorCoords: function(a, b) {
            var c, d = this.doc.sel.primary();
            return c = null == a ? d.head : \"object\" == typeof a ? Qa(this.doc, a) : a ? d.from() : d.to(), Nb(this, c, b || \"page\")
        },
        charCoords: function(a, b) {
            return Mb(this, Qa(this.doc, a), b || \"page\")
        },
        coordsChar: function(a, b) {
            return a = Lb(this, a, b || \"page\"), Qb(this, a.left, a.top)
        },
        lineAtHeight: function(a, b) {
            return a = Lb(this, {
                top: a,
                left: 0
            }, b || \"page\").top, nf(this.doc, a + this.display.viewOffset)
        },
        heightAtLine: function(a, b) {
            var d, c = !1;
            if (\"number\" == typeof a) {
                var e = this.doc.first + this.doc.size - 1;
                a < this.doc.first ? a = this.doc.first : a > e && (a = e, c = !0), d = hf(this.doc, a)
            } else d = a;
            return Kb(this, d, {
                top: 0,
                left: 0
            }, b || \"page\").top + (c ? this.doc.height - of(d) : 0)
        },
        defaultTextHeight: function() {
            return Tb(this.display)
        },
        defaultCharWidth: function() {
            return Ub(this.display)
        },
        setGutterMarker: gc(function(a, b, c) {
            return yd(this.doc, a, \"gutter\", function(a) {
                var d = a.gutterMarkers || (a.gutterMarkers = {});
                return d[b] = c, !c && qg(d) && (a.gutterMarkers = null), !0
            })
        }),
        clearGutter: gc(function(a) {
            var b = this,
                c = b.doc,
                d = c.first;
            c.iter(function(c) {
                c.gutterMarkers && c.gutterMarkers[a] && (c.gutterMarkers[a] = null, lc(b, d, \"gutter\"), qg(c.gutterMarkers) && (c.gutterMarkers = null)), ++d
            })
        }),
        lineInfo: function(a) {
            if (\"number\" == typeof a) {
                if (!Sa(this.doc, a)) return null;
                var b = a;
                if (a = hf(this.doc, a), !a) return null
            } else {
                var b = mf(a);
                if (null == b) return null
            }
            return {
                line: b,
                handle: a,
                text: a.text,
                gutterMarkers: a.gutterMarkers,
                textClass: a.textClass,
                bgClass: a.bgClass,
                wrapClass: a.wrapClass,
                widgets: a.widgets
            }
        },
        getViewport: function() {
            return {
                from: this.display.viewFrom,
                to: this.display.viewTo
            }
        },
        addWidget: function(a, b, c, d, e) {
            var f = this.display;
            a = Nb(this, Qa(this.doc, a));
            var g = a.bottom,
                h = a.left;
            if (b.style.position = \"absolute\", b.setAttribute(\"cm-ignore-events\", \"true\"), this.display.input.setUneditable(b), f.sizer.appendChild(b), \"over\" == d) g = a.top;
            else if (\"above\" == d || \"near\" == d) {
                var i = Math.max(f.wrapper.clientHeight, this.doc.height),
                    j = Math.max(f.sizer.clientWidth, f.lineSpace.clientWidth);
                (\"above\" == d || a.bottom + b.offsetHeight > i) && a.top > b.offsetHeight ? g = a.top - b.offsetHeight : a.bottom + b.offsetHeight <= i && (g = a.bottom), h + b.offsetWidth > j && (h = j - b.offsetWidth)
            }
            b.style.top = g + \"px\", b.style.left = b.style.right = \"\", \"right\" == e ? (h = f.sizer.clientWidth - b.offsetWidth, b.style.right = \"0px\") : (\"left\" == e ? h = 0 : \"middle\" == e && (h = (f.sizer.clientWidth - b.offsetWidth) / 2), b.style.left = h + \"px\"), c && sd(this, h, g, h + b.offsetWidth, g + b.offsetHeight)
        },
        triggerOnKeyDown: gc(Wc),
        triggerOnKeyPress: gc(Zc),
        triggerOnKeyUp: Yc,
        execCommand: function(a) {
            return Nd.hasOwnProperty(a) ? Nd[a].call(null, this) : void 0
        },
        triggerElectric: gc(function(a) {
            Aa(this, a)
        }),
        findPosH: function(a, b, c, d) {
            var e = 1;
            0 > b && (e = -1, b = -b);
            for (var f = 0, g = Qa(this.doc, a); b > f && (g = Ad(this.doc, g, e, c, d), !g.hitSide); ++f);
            return g
        },
        moveH: gc(function(a, b) {
            var c = this;
            c.extendSelectionsBy(function(d) {
                return c.display.shift || c.doc.extend || d.empty() ? Ad(c.doc, d.head, a, b, c.options.rtlMoveVisually) : 0 > a ? d.from() : d.to()
            }, _f)
        }),
        deleteH: gc(function(a, b) {
            var c = this.doc.sel,
                d = this.doc;
            c.somethingSelected() ? d.replaceSelection(\"\", null, \"+delete\") : zd(this, function(c) {
                var e = Ad(d, c.head, a, b, !1);
                return 0 > a ? {
                    from: e,
                    to: c.head
                } : {
                    from: c.head,
                    to: e
                }
            })
        }),
        findPosV: function(a, b, c, d) {
            var e = 1,
                f = d;
            0 > b && (e = -1, b = -b);
            for (var g = 0, h = Qa(this.doc, a); b > g; ++g) {
                var i = Nb(this, h, \"div\");
                if (null == f ? f = i.left : i.left = f, h = Bd(this, i, e, c), h.hitSide) break
            }
            return h
        },
        moveV: gc(function(a, b) {
            var c = this,
                d = this.doc,
                e = [],
                f = !c.display.shift && !d.extend && d.sel.somethingSelected();
            if (d.extendSelectionsBy(function(g) {
                    if (f) return 0 > a ? g.from() : g.to();
                    var h = Nb(c, g.head, \"div\");
                    null != g.goalColumn && (h.left = g.goalColumn), e.push(h.left);
                    var i = Bd(c, h, a, b);
                    return \"page\" == b && g == d.sel.primary() && ud(c, null, Mb(c, i, \"div\").top - h.top), i
                }, _f), e.length)
                for (var g = 0; g < d.sel.ranges.length; g++) d.sel.ranges[g].goalColumn = e[g]
        }),
        findWordAt: function(a) {
            var b = this.doc,
                c = hf(b, a.line).text,
                d = a.ch,
                e = a.ch;
            if (c) {
                var f = this.getHelper(a, \"wordChars\");
                (a.xRel < 0 || e == c.length) && d ? --d : ++e;
                for (var g = c.charAt(d), h = pg(g, f) ? function(a) {
                        return pg(a, f)
                    } : /\\s/.test(g) ? function(a) {
                        return /\\s/.test(a)
                    } : function(a) {
                        return !/\\s/.test(a) && !pg(a)
                    }; d > 0 && h(c.charAt(d - 1));) --d;
                for (; e < c.length && h(c.charAt(e));) ++e
            }
            return new Ma(qa(a.line, d), qa(a.line, e))
        },
        toggleOverwrite: function(a) {
            (null == a || a != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? Bg(this.display.cursorDiv, \"CodeMirror-overwrite\") : Ag(this.display.cursorDiv, \"CodeMirror-overwrite\"), Pf(this, \"overwriteToggle\", this, this.state.overwrite))
        },
        hasFocus: function() {
            return this.display.input.getField() == yg()
        },
        scrollTo: gc(function(a, b) {
            (null != a || null != b) && wd(this), null != a && (this.curOp.scrollLeft = a), null != b && (this.curOp.scrollTop = b)
        }),
        getScrollInfo: function() {
            var a = this.display.scroller;
            return {
                left: a.scrollLeft,
                top: a.scrollTop,
                height: a.scrollHeight - rb(this) - this.display.barHeight,
                width: a.scrollWidth - rb(this) - this.display.barWidth,
                clientHeight: tb(this),
                clientWidth: sb(this)
            }
        },
        scrollIntoView: gc(function(a, b) {
            if (null == a ? (a = {
                    from: this.doc.sel.primary().head,
                    to: null
                }, null == b && (b = this.options.cursorScrollMargin)) : \"number\" == typeof a ? a = {
                    from: qa(a, 0),
                    to: null
                } : null == a.from && (a = {
                    from: a,
                    to: null
                }), a.to || (a.to = a.from), a.margin = b || 0, null != a.from.line) wd(this), this.curOp.scrollToPos = a;
            else {
                var c = td(this, Math.min(a.from.left, a.to.left), Math.min(a.from.top, a.to.top) - a.margin, Math.max(a.from.right, a.to.right), Math.max(a.from.bottom, a.to.bottom) + a.margin);
                this.scrollTo(c.scrollLeft, c.scrollTop)
            }
        }),
        setSize: gc(function(a, b) {
            function d(a) {
                return \"number\" == typeof a || /^\\d+\$/.test(String(a)) ? a + \"px\" : a
            }
            var c = this;
            null != a && (c.display.wrapper.style.width = d(a)), null != b && (c.display.wrapper.style.height = d(b)), c.options.lineWrapping && Gb(this);
            var e = c.display.viewFrom;
            c.doc.iter(e, c.display.viewTo, function(a) {
                if (a.widgets)
                    for (var b = 0; b < a.widgets.length; b++)
                        if (a.widgets[b].noHScroll) {
                            lc(c, e, \"widget\");
                            break
                        }++e
            }), c.curOp.forceUpdate = !0, Pf(c, \"refresh\", this)
        }),
        operation: function(a) {
            return ec(this, a)
        },
        refresh: gc(function() {
            var a = this.display.cachedTextHeight;
            kc(this), this.curOp.forceUpdate = !0, Hb(this), this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop), H(this), (null == a || Math.abs(a - Tb(this.display)) > .5) && D(this), Pf(this, \"refresh\", this)
        }),
        swapDoc: gc(function(a) {
            var b = this.doc;
            return b.cm = null, gf(this, a), Hb(this), this.display.input.reset(), this.scrollTo(a.scrollLeft, a.scrollTop), this.curOp.forceScroll = !0, Rf(this, \"swapDoc\", this, b), b
        }),
        getInputField: function() {
            return this.display.input.getField()
        },
        getWrapperElement: function() {
            return this.display.wrapper
        },
        getScrollerElement: function() {
            return this.display.scroller
        },
        getGutterElement: function() {
            return this.display.gutters
        }
    }, Wf(x);
    var Cd = x.defaults = {},
        Dd = x.optionHandlers = {},
        Fd = x.Init = {
            toString: function() {
                return \"CodeMirror.Init\"
            }
        };
    Ed(\"value\", \"\", function(a, b) {
        a.setValue(b)
    }, !0), Ed(\"mode\", null, function(a, b) {
        a.doc.modeOption = b, z(a)
    }, !0), Ed(\"indentUnit\", 2, z, !0), Ed(\"indentWithTabs\", !1), Ed(\"smartIndent\", !0), Ed(\"tabSize\", 4, function(a) {
        A(a), Hb(a), kc(a)
    }, !0), Ed(\"lineSeparator\", null, function(a, b) {
        if (a.doc.lineSep = b, b) {
            var c = [],
                d = a.doc.first;
            a.doc.iter(function(a) {
                for (var e = 0;;) {
                    var f = a.text.indexOf(b, e);
                    if (-1 == f) break;
                    e = f + b.length, c.push(qa(d, f))
                }
                d++
            });
            for (var e = c.length - 1; e >= 0; e--) pd(a.doc, b, c[e], qa(c[e].line, c[e].ch + b.length))
        }
    }), Ed(\"specialChars\", /[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(a, b, c) {
        a.state.specialChars = new RegExp(b.source + (b.test(\"  \") ? \"\" : \"|  \"), \"g\"), c != x.Init && a.refresh()
    }), Ed(\"specialCharPlaceholder\", Te, function(a) {
        a.refresh()
    }, !0), Ed(\"electricChars\", !0), Ed(\"inputStyle\", p ? \"contenteditable\" : \"textarea\", function() {
        throw new Error(\"inputStyle can not (yet) be changed in a running editor\")
    }, !0), Ed(\"rtlMoveVisually\", !r), Ed(\"wholeLineUpdateBefore\", !0), Ed(\"theme\", \"default\", function(a) {
        E(a), F(a)
    }, !0), Ed(\"keyMap\", \"default\", function(a, b, c) {
        var d = Td(b),
            e = c != x.Init && Td(c);
        e && e.detach && e.detach(a, d), d.attach && d.attach(a, e || null)
    }), Ed(\"extraKeys\", null), Ed(\"lineWrapping\", !1, B, !0), Ed(\"gutters\", [], function(a) {
        K(a.options), F(a)
    }, !0), Ed(\"fixedGutter\", !0, function(a, b) {
        a.display.gutters.style.left = b ? V(a.display) + \"px\" : \"0\", a.refresh()
    }, !0), Ed(\"coverGutterNextToScrollbar\", !1, function(a) {
        P(a)
    }, !0), Ed(\"scrollbarStyle\", \"native\", function(a) {
        O(a), P(a), a.display.scrollbars.setScrollTop(a.doc.scrollTop), a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)
    }, !0), Ed(\"lineNumbers\", !1, function(a) {
        K(a.options), F(a)
    }, !0), Ed(\"firstLineNumber\", 1, F, !0), Ed(\"lineNumberFormatter\", function(a) {
        return a
    }, F, !0), Ed(\"showCursorWhenSelecting\", !1, fb, !0), Ed(\"resetSelectionOnContextMenu\", !0), Ed(\"lineWiseCopyCut\", !0), Ed(\"readOnly\", !1, function(a, b) {
        \"nocursor\" == b ? (ad(a), a.display.input.blur(), a.display.disabled = !0) : a.display.disabled = !1, a.display.input.readOnlyChanged(b)
    }), Ed(\"disableInput\", !1, function(a, b) {
        b || a.display.input.reset()
    }, !0), Ed(\"dragDrop\", !0, sc), Ed(\"allowDropFileTypes\", null), Ed(\"cursorBlinkRate\", 530), Ed(\"cursorScrollMargin\", 0), Ed(\"cursorHeight\", 1, fb, !0), Ed(\"singleCursorHeightPerLine\", !0, fb, !0), Ed(\"workTime\", 100), Ed(\"workDelay\", 100), Ed(\"flattenSpans\", !0, A, !0), Ed(\"addModeClass\", !1, A, !0), Ed(\"pollInterval\", 100), Ed(\"undoDepth\", 200, function(a, b) {
        a.doc.history.undoDepth = b
    }), Ed(\"historyEventDelay\", 1250), Ed(\"viewportMargin\", 10, function(a) {
        a.refresh()
    }, !0), Ed(\"maxHighlightLength\", 1e4, A, !0), Ed(\"moveInputWithCursor\", !0, function(a, b) {
        b || a.display.input.resetPosition()
    }), Ed(\"tabindex\", null, function(a, b) {
        a.display.input.getField().tabIndex = b || \"\"
    }), Ed(\"autofocus\", null);
    var Gd = x.modes = {},
        Hd = x.mimeModes = {};
    x.defineMode = function(a, b) {
        x.defaults.mode || \"null\" == a || (x.defaults.mode = a), arguments.length > 2 && (b.dependencies = Array.prototype.slice.call(arguments, 2)), Gd[a] = b
    }, x.defineMIME = function(a, b) {
        Hd[a] = b
    }, x.resolveMode = function(a) {
        if (\"string\" == typeof a && Hd.hasOwnProperty(a)) a = Hd[a];
        else if (a && \"string\" == typeof a.name && Hd.hasOwnProperty(a.name)) {
            var b = Hd[a.name];
            \"string\" == typeof b && (b = {
                name: b
            }), a = kg(b, a), a.name = b.name
        } else if (\"string\" == typeof a && /^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(a)) return x.resolveMode(\"application/xml\");
        return \"string\" == typeof a ? {
            name: a
        } : a || {
            name: \"null\"
        }
    }, x.getMode = function(a, b) {
        var b = x.resolveMode(b),
            c = Gd[b.name];
        if (!c) return x.getMode(a, \"text/plain\");
        var d = c(a, b);
        if (Id.hasOwnProperty(b.name)) {
            var e = Id[b.name];
            for (var f in e) e.hasOwnProperty(f) && (d.hasOwnProperty(f) && (d[\"_\" + f] = d[f]), d[f] = e[f])
        }
        if (d.name = b.name, b.helperType && (d.helperType = b.helperType), b.modeProps)
            for (var f in b.modeProps) d[f] = b.modeProps[f];
        return d
    }, x.defineMode(\"null\", function() {
        return {
            token: function(a) {
                a.skipToEnd()
            }
        }
    }), x.defineMIME(\"text/plain\", \"null\");
    var Id = x.modeExtensions = {};
    x.extendMode = function(a, b) {
        var c = Id.hasOwnProperty(a) ? Id[a] : Id[a] = {};
        lg(b, c)
    }, x.defineExtension = function(a, b) {
        x.prototype[a] = b
    }, x.defineDocExtension = function(a, b) {
        cf.prototype[a] = b
    }, x.defineOption = Ed;
    var Jd = [];
    x.defineInitHook = function(a) {
        Jd.push(a)
    };
    var Kd = x.helpers = {};
    x.registerHelper = function(a, b, c) {
        Kd.hasOwnProperty(a) || (Kd[a] = x[a] = {
            _global: []
        }), Kd[a][b] = c
    }, x.registerGlobalHelper = function(a, b, c, d) {
        x.registerHelper(a, b, d), Kd[a]._global.push({
            pred: c,
            val: d
        })
    };
    var Ld = x.copyState = function(a, b) {
            if (b === !0) return b;
            if (a.copyState) return a.copyState(b);
            var c = {};
            for (var d in b) {
                var e = b[d];
                e instanceof Array && (e = e.concat([])), c[d] = e
            }
            return c
        },
        Md = x.startState = function(a, b, c) {
            return a.startState ? a.startState(b, c) : !0
        };
    x.innerMode = function(a, b) {
        for (; a.innerMode;) {
            var c = a.innerMode(b);
            if (!c || c.mode == a) break;
            b = c.state, a = c.mode
        }
        return c || {
            mode: a,
            state: b
        }
    };
    var Nd = x.commands = {
            selectAll: function(a) {
                a.setSelection(qa(a.firstLine(), 0), qa(a.lastLine()), Zf)
            },
            singleSelection: function(a) {
                a.setSelection(a.getCursor(\"anchor\"), a.getCursor(\"head\"), Zf)
            },
            killLine: function(a) {
                zd(a, function(b) {
                    if (b.empty()) {
                        var c = hf(a.doc, b.head.line).text.length;
                        return b.head.ch == c && b.head.line < a.lastLine() ? {
                            from: b.head,
                            to: qa(b.head.line + 1, 0)
                        } : {
                            from: b.head,
                            to: qa(b.head.line, c)
                        }
                    }
                    return {
                        from: b.from(),
                        to: b.to()
                    }
                })
            },
            deleteLine: function(a) {
                zd(a, function(b) {
                    return {
                        from: qa(b.from().line, 0),
                        to: Qa(a.doc, qa(b.to().line + 1, 0))
                    }
                })
            },
            delLineLeft: function(a) {
                zd(a, function(a) {
                    return {
                        from: qa(a.from().line, 0),
                        to: a.from()
                    }
                })
            },
            delWrappedLineLeft: function(a) {
                zd(a, function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: 0,
                            top: c
                        }, \"div\");
                    return {
                        from: d,
                        to: b.from()
                    }
                })
            },
            delWrappedLineRight: function(a) {
                zd(a, function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: a.display.lineDiv.offsetWidth + 100,
                            top: c
                        }, \"div\");
                    return {
                        from: b.from(),
                        to: d
                    }
                })
            },
            undo: function(a) {
                a.undo()
            },
            redo: function(a) {
                a.redo()
            },
            undoSelection: function(a) {
                a.undoSelection()
            },
            redoSelection: function(a) {
                a.redoSelection()
            },
            goDocStart: function(a) {
                a.extendSelection(qa(a.firstLine(), 0))
            },
            goDocEnd: function(a) {
                a.extendSelection(qa(a.lastLine()))
            },
            goLineStart: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Xg(a, b.head.line)
                }, {
                    origin: \"+move\",
                    bias: 1
                })
            },
            goLineStartSmart: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Zg(a, b.head)
                }, {
                    origin: \"+move\",
                    bias: 1
                })
            },
            goLineEnd: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Yg(a, b.head.line)
                }, {
                    origin: \"+move\",
                    bias: -1
                })
            },
            goLineRight: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5;
                    return a.coordsChar({
                        left: a.display.lineDiv.offsetWidth + 100,
                        top: c
                    }, \"div\")
                }, _f)
            },
            goLineLeft: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5;
                    return a.coordsChar({
                        left: 0,
                        top: c
                    }, \"div\")
                }, _f)
            },
            goLineLeftSmart: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: 0,
                            top: c
                        }, \"div\");
                    return d.ch < a.getLine(d.line).search(/\\S/) ? Zg(a, b.head) : d
                }, _f)
            },
            goLineUp: function(a) {
                a.moveV(-1, \"line\")
            },
            goLineDown: function(a) {
                a.moveV(1, \"line\")
            },
            goPageUp: function(a) {
                a.moveV(-1, \"page\")
            },
            goPageDown: function(a) {
                a.moveV(1, \"page\")
            },
            goCharLeft: function(a) {
                a.moveH(-1, \"char\")
            },
            goCharRight: function(a) {
                a.moveH(1, \"char\")
            },
            goColumnLeft: function(a) {
                a.moveH(-1, \"column\")
            },
            goColumnRight: function(a) {
                a.moveH(1, \"column\")
            },
            goWordLeft: function(a) {
                a.moveH(-1, \"word\")
            },
            goGroupRight: function(a) {
                a.moveH(1, \"group\")
            },
            goGroupLeft: function(a) {
                a.moveH(-1, \"group\")
            },
            goWordRight: function(a) {
                a.moveH(1, \"word\")
            },
            delCharBefore: function(a) {
                a.deleteH(-1, \"char\")
            },
            delCharAfter: function(a) {
                a.deleteH(1, \"char\")
            },
            delWordBefore: function(a) {
                a.deleteH(-1, \"word\")
            },
            delWordAfter: function(a) {
                a.deleteH(1, \"word\")
            },
            delGroupBefore: function(a) {
                a.deleteH(-1, \"group\")
            },
            delGroupAfter: function(a) {
                a.deleteH(1, \"group\")
            },
            indentAuto: function(a) {
                a.indentSelection(\"smart\")
            },
            indentMore: function(a) {
                a.indentSelection(\"add\")
            },
            indentLess: function(a) {
                a.indentSelection(\"subtract\")
            },
            insertTab: function(a) {
                a.replaceSelection(\" \")
            },
            insertSoftTab: function(a) {
                for (var b = [], c = a.listSelections(), d = a.options.tabSize, e = 0; e < c.length; e++) {
                    var f = c[e].from(),
                        g = bg(a.getLine(f.line), f.ch, d);
                    b.push(new Array(d - g % d + 1).join(\" \"))
                }
                a.replaceSelections(b)
            },
            defaultTab: function(a) {
                a.somethingSelected() ? a.indentSelection(\"add\") : a.execCommand(\"insertTab\")
            },
            transposeChars: function(a) {
                ec(a, function() {
                    for (var b = a.listSelections(), c = [], d = 0; d < b.length; d++) {
                        var e = b[d].head,
                            f = hf(a.doc, e.line).text;
                        if (f)
                            if (e.ch == f.length && (e = new qa(e.line, e.ch - 1)), e.ch > 0) e = new qa(e.line, e.ch + 1), a.replaceRange(f.charAt(e.ch - 1) + f.charAt(e.ch - 2), qa(e.line, e.ch - 2), e, \"+transpose\");
                            else if (e.line > a.doc.first) {
                            var g = hf(a.doc, e.line - 1).text;
                            g && a.replaceRange(f.charAt(0) + a.doc.lineSeparator() + g.charAt(g.length - 1), qa(e.line - 1, g.length - 1), qa(e.line, 1), \"+transpose\")
                        }
                        c.push(new Ma(e, e))
                    }
                    a.setSelections(c)
                })
            },
            newlineAndIndent: function(a) {
                ec(a, function() {
                    for (var b = a.listSelections().length, c = 0; b > c; c++) {
                        var d = a.listSelections()[c];
                        a.replaceRange(a.doc.lineSeparator(), d.anchor, d.head, \"+input\"), a.indentLine(d.from().line + 1, null, !0)
                    }
                    vd(a)
                })
            },
            toggleOverwrite: function(a) {
                a.toggleOverwrite()
            }
        },
        Od = x.keyMap = {};
    Od.basic = {
        Left: \"goCharLeft\",
        Right: \"goCharRight\",
        Up: \"goLineUp\",
        Down: \"goLineDown\",
        End: \"goLineEnd\",
        Home: \"goLineStartSmart\",
        PageUp: \"goPageUp\",
        PageDown: \"goPageDown\",
        Delete: \"delCharAfter\",
        Backspace: \"delCharBefore\",
        \"Shift-Backspace\": \"delCharBefore\",
        Tab: \"defaultTab\",
        \"Shift-Tab\": \"indentAuto\",
        Enter: \"newlineAndIndent\",
        Insert: \"toggleOverwrite\",
        Esc: \"singleSelection\"
    }, Od.pcDefault = {
        \"Ctrl-A\": \"selectAll\",
        \"Ctrl-D\": \"deleteLine\",
        \"Ctrl-Z\": \"undo\",
        \"Shift-Ctrl-Z\": \"redo\",
        \"Ctrl-Y\": \"redo\",
        \"Ctrl-Home\": \"goDocStart\",
        \"Ctrl-End\": \"goDocEnd\",
        \"Ctrl-Up\": \"goLineUp\",
        \"Ctrl-Down\": \"goLineDown\",
        \"Ctrl-Left\": \"goGroupLeft\",
        \"Ctrl-Right\": \"goGroupRight\",
        \"Alt-Left\": \"goLineStart\",
        \"Alt-Right\": \"goLineEnd\",
        \"Ctrl-Backspace\": \"delGroupBefore\",
        \"Ctrl-Delete\": \"delGroupAfter\",
        \"Ctrl-S\": \"save\",
        \"Ctrl-F\": \"find\",
        \"Ctrl-G\": \"findNext\",
        \"Shift-Ctrl-G\": \"findPrev\",
        \"Shift-Ctrl-F\": \"replace\",
        \"Shift-Ctrl-R\": \"replaceAll\",
        \"Ctrl-[\": \"indentLess\",
        \"Ctrl-]\": \"indentMore\",
        \"Ctrl-U\": \"undoSelection\",
        \"Shift-Ctrl-U\": \"redoSelection\",
        \"Alt-U\": \"redoSelection\",
        fallthrough: \"basic\"
    }, Od.emacsy = {
        \"Ctrl-F\": \"goCharRight\",
        \"Ctrl-B\": \"goCharLeft\",
        \"Ctrl-P\": \"goLineUp\",
        \"Ctrl-N\": \"goLineDown\",
        \"Alt-F\": \"goWordRight\",
        \"Alt-B\": \"goWordLeft\",
        \"Ctrl-A\": \"goLineStart\",
        \"Ctrl-E\": \"goLineEnd\",
        \"Ctrl-V\": \"goPageDown\",
        \"Shift-Ctrl-V\": \"goPageUp\",
        \"Ctrl-D\": \"delCharAfter\",
        \"Ctrl-H\": \"delCharBefore\",
        \"Alt-D\": \"delWordAfter\",
        \"Alt-Backspace\": \"delWordBefore\",
        \"Ctrl-K\": \"killLine\",
        \"Ctrl-T\": \"transposeChars\"
    }, Od.macDefault = {
        \"Cmd-A\": \"selectAll\",
        \"Cmd-D\": \"deleteLine\",
        \"Cmd-Z\": \"undo\",
        \"Shift-Cmd-Z\": \"redo\",
        \"Cmd-Y\": \"redo\",
        \"Cmd-Home\": \"goDocStart\",
        \"Cmd-Up\": \"goDocStart\",
        \"Cmd-End\": \"goDocEnd\",
        \"Cmd-Down\": \"goDocEnd\",
        \"Alt-Left\": \"goGroupLeft\",
        \"Alt-Right\": \"goGroupRight\",
        \"Cmd-Left\": \"goLineLeft\",
        \"Cmd-Right\": \"goLineRight\",
        \"Alt-Backspace\": \"delGroupBefore\",
        \"Ctrl-Alt-Backspace\": \"delGroupAfter\",
        \"Alt-Delete\": \"delGroupAfter\",
        \"Cmd-S\": \"save\",
        \"Cmd-F\": \"find\",
        \"Cmd-G\": \"findNext\",
        \"Shift-Cmd-G\": \"findPrev\",
        \"Cmd-Alt-F\": \"replace\",
        \"Shift-Cmd-Alt-F\": \"replaceAll\",
        \"Cmd-[\": \"indentLess\",
        \"Cmd-]\": \"indentMore\",
        \"Cmd-Backspace\": \"delWrappedLineLeft\",
        \"Cmd-Delete\": \"delWrappedLineRight\",
        \"Cmd-U\": \"undoSelection\",
        \"Shift-Cmd-U\": \"redoSelection\",
        \"Ctrl-Up\": \"goDocStart\",
        \"Ctrl-Down\": \"goDocEnd\",
        fallthrough: [\"basic\", \"emacsy\"]
    }, Od[\"default\"] = q ? Od.macDefault : Od.pcDefault, x.normalizeKeyMap = function(a) {
        var b = {};
        for (var c in a)
            if (a.hasOwnProperty(c)) {
                var d = a[c];
                if (/^(name|fallthrough|(de|at)tach)\$/.test(c)) continue;
                if (\"...\" == d) {
                    delete a[c];
                    continue
                }
                for (var e = ig(c.split(\" \"), Pd), f = 0; f < e.length; f++) {
                    var g, h;
                    f == e.length - 1 ? (h = e.join(\" \"), g = d) : (h = e.slice(0, f + 1).join(\" \"), g = \"...\");
                    var i = b[h];
                    if (i) {
                        if (i != g) throw new Error(\"Inconsistent bindings for \" + h)
                    } else b[h] = g
                }
                delete a[c]
            }
        for (var j in b) a[j] = b[j];
        return a
    };
    var Qd = x.lookupKey = function(a, b, c, d) {
            b = Td(b);
            var e = b.call ? b.call(a, d) : b[a];
            if (e === !1) return \"nothing\";
            if (\"...\" === e) return \"multi\";
            if (null != e && c(e)) return \"handled\";
            if (b.fallthrough) {
                if (\"[object Array]\" != Object.prototype.toString.call(b.fallthrough)) return Qd(a, b.fallthrough, c, d);
                for (var f = 0; f < b.fallthrough.length; f++) {
                    var g = Qd(a, b.fallthrough[f], c, d);
                    if (g) return g
                }
            }
        },
        Rd = x.isModifierKey = function(a) {
            var b = \"string\" == typeof a ? a : Rg[a.keyCode];
            return \"Ctrl\" == b || \"Alt\" == b || \"Shift\" == b || \"Mod\" == b
        },
        Sd = x.keyName = function(a, b) {
            if (k && 34 == a.keyCode && a[\"char\"]) return !1;
            var c = Rg[a.keyCode],
                d = c;
            return null == d || a.altGraphKey ? !1 : (a.altKey && \"Alt\" != c && (d = \"Alt-\" + d), (t ? a.metaKey : a.ctrlKey) && \"Ctrl\" != c && (d = \"Ctrl-\" + d), (t ? a.ctrlKey : a.metaKey) && \"Cmd\" != c && (d = \"Cmd-\" + d), !b && a.shiftKey && \"Shift\" != c && (d = \"Shift-\" + d), d)
        };
    x.fromTextArea = function(a, b) {
        function d() {
            a.value = i.getValue()
        }
        if (b = b ? lg(b) : {}, b.value = a.value, !b.tabindex && a.tabIndex && (b.tabindex = a.tabIndex), !b.placeholder && a.placeholder && (b.placeholder = a.placeholder), null == b.autofocus) {
            var c = yg();
            b.autofocus = c == a || null != a.getAttribute(\"autofocus\") && c == document.body
        }
        if (a.form && (Lf(a.form, \"submit\", d), !b.leaveSubmitMethodAlone)) {
            var e = a.form,
                f = e.submit;
            try {
                var g = e.submit = function() {
                    d(), e.submit = f, e.submit(), e.submit = g
                }
            } catch (h) {}
        }
        b.finishInit = function(b) {
            b.save = d, b.getTextArea = function() {
                return a
            }, b.toTextArea = function() {
                b.toTextArea = isNaN, d(), a.parentNode.removeChild(b.getWrapperElement()), a.style.display = \"\", a.form && (Of(a.form, \"submit\", d), \"function\" == typeof a.form.submit && (a.form.submit = f))
            }
        }, a.style.display = \"none\";
        var i = x(function(b) {
            a.parentNode.insertBefore(b, a.nextSibling)
        }, b);
        return i
    };
    var Ud = x.StringStream = function(a, b) {
        this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0
    };
    Ud.prototype = {
        eol: function() {
            return this.pos >= this.string.length
        },
        sol: function() {
            return this.pos == this.lineStart
        },
        peek: function() {
            return this.string.charAt(this.pos) || void 0
        },
        next: function() {
            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
        },
        eat: function(a) {
            var b = this.string.charAt(this.pos);
            if (\"string\" == typeof a) var c = b == a;
            else var c = b && (a.test ? a.test(b) : a(b));
            return c ? (++this.pos, b) : void 0
        },
        eatWhile: function(a) {
            for (var b = this.pos; this.eat(a););
            return this.pos > b
        },
        eatSpace: function() {
            for (var a = this.pos;
                /[\\s\\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
            return this.pos > a
        },
        skipToEnd: function() {
            this.pos = this.string.length
        },
        skipTo: function(a) {
            var b = this.string.indexOf(a, this.pos);
            return b > -1 ? (this.pos = b, !0) : void 0
        },
        backUp: function(a) {
            this.pos -= a
        },
        column: function() {
            return this.lastColumnPos < this.start && (this.lastColumnValue = bg(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? bg(this.string, this.lineStart, this.tabSize) : 0)
        },
        indentation: function() {
            return bg(this.string, null, this.tabSize) - (this.lineStart ? bg(this.string, this.lineStart, this.tabSize) : 0)
        },
        match: function(a, b, c) {
            if (\"string\" != typeof a) {
                var f = this.string.slice(this.pos).match(a);
                return f && f.index > 0 ? null : (f && b !== !1 && (this.pos += f[0].length), f)
            }
            var d = function(a) {
                    return c ? a.toLowerCase() : a
                },
                e = this.string.substr(this.pos, a.length);
            return d(e) == d(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0
        },
        current: function() {
            return this.string.slice(this.start, this.pos)
        },
        hideFirstChars: function(a, b) {
            this.lineStart += a;
            try {
                return b()
            } finally {
                this.lineStart -= a
            }
        }
    };
    var Vd = 0,
        Wd = x.TextMarker = function(a, b) {
            this.lines = [], this.type = b, this.doc = a, this.id = ++Vd
        };
    Wf(Wd), Wd.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            var a = this.doc.cm,
                b = a && !a.curOp;
            if (b && Xb(a), Vf(this, \"clear\")) {
                var c = this.find();
                c && Rf(this, \"clear\", c.from, c.to)
            }
            for (var d = null, e = null, f = 0; f < this.lines.length; ++f) {
                var g = this.lines[f],
                    h = ce(g.markedSpans, this);
                a && !this.collapsed ? lc(a, mf(g), \"text\") : a && (null != h.to && (e = mf(g)), null != h.from && (d = mf(g))), g.markedSpans = de(g.markedSpans, h), null == h.from && this.collapsed && !ye(this.doc, g) && a && lf(g, Tb(a.display))
            }
            if (a && this.collapsed && !a.options.lineWrapping)
                for (var f = 0; f < this.lines.length; ++f) {
                    var i = ue(this.lines[f]),
                        j = I(i);
                    j > a.display.maxLineLength && (a.display.maxLine = i, a.display.maxLineLength = j, a.display.maxLineChanged = !0)
                }
            null != d && a && this.collapsed && kc(a, d, e + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, a && cb(a.doc)), a && Rf(a, \"markerCleared\", a, this), b && Zb(a), this.parent && this.parent.clear()
        }
    }, Wd.prototype.find = function(a, b) {
        null == a && \"bookmark\" == this.type && (a = 1);
        for (var c, d, e = 0; e < this.lines.length; ++e) {
            var f = this.lines[e],
                g = ce(f.markedSpans, this);
            if (null != g.from && (c = qa(b ? f : mf(f), g.from), -1 == a)) return c;
            if (null != g.to && (d = qa(b ? f : mf(f), g.to), 1 == a)) return d
        }
        return c && {
            from: c,
            to: d
        }
    }, Wd.prototype.changed = function() {
        var a = this.find(-1, !0),
            b = this,
            c = this.doc.cm;
        a && c && ec(c, function() {
            var d = a.line,
                e = mf(a.line),
                f = yb(c, e);
            if (f && (Fb(f), c.curOp.selectionChanged = c.curOp.forceUpdate = !0), c.curOp.updateMaxLine = !0, !ye(b.doc, d) && null != b.height) {
                var g = b.height;
                b.height = null;
                var h = Ce(b) - g;
                h && lf(d, d.height + h)
            }
        })
    }, Wd.prototype.attachLine = function(a) {
        if (!this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            b.maybeHiddenMarkers && -1 != hg(b.maybeHiddenMarkers, this) || (b.maybeUnhiddenMarkers || (b.maybeUnhiddenMarkers = [])).push(this)
        }
        this.lines.push(a)
    }, Wd.prototype.detachLine = function(a) {
        if (this.lines.splice(hg(this.lines, a), 1), !this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            (b.maybeHiddenMarkers || (b.maybeHiddenMarkers = [])).push(this)
        }
    };
    var Vd = 0,
        Yd = x.SharedTextMarker = function(a, b) {
            this.markers = a, this.primary = b;
            for (var c = 0; c < a.length; ++c) a[c].parent = this
        };
    Wf(Yd), Yd.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            this.explicitlyCleared = !0;
            for (var a = 0; a < this.markers.length; ++a) this.markers[a].clear();
            Rf(this, \"clear\")
        }
    }, Yd.prototype.find = function(a, b) {
        return this.primary.find(a, b)
    };
    var Ae = x.LineWidget = function(a, b, c) {
        if (c)
            for (var d in c) c.hasOwnProperty(d) && (this[d] = c[d]);
        this.doc = a, this.node = b
    };
    Wf(Ae), Ae.prototype.clear = function() {
        var a = this.doc.cm,
            b = this.line.widgets,
            c = this.line,
            d = mf(c);
        if (null != d && b) {
            for (var e = 0; e < b.length; ++e) b[e] == this && b.splice(e--, 1);
            b.length || (c.widgets = null);
            var f = Ce(this);
            lf(c, Math.max(0, c.height - f)), a && ec(a, function() {
                Be(a, c, -f), lc(a, d, \"widget\")
            })
        }
    }, Ae.prototype.changed = function() {
        var a = this.height,
            b = this.doc.cm,
            c = this.line;
        this.height = null;
        var d = Ce(this) - a;
        d && (lf(c, c.height + d), b && ec(b, function() {
            b.curOp.forceUpdate = !0, Be(b, c, d)
        }))
    };
    var Ee = x.Line = function(a, b, c) {
        this.text = a, me(this, b), this.height = c ? c(this) : 1
    };
    Wf(Ee), Ee.prototype.lineNo = function() {
        return mf(this)
    };
    var Pe = {},
        Qe = {};
    _e.prototype = {
        chunkSize: function() {
            return this.lines.length
        },
        removeInner: function(a, b) {
            for (var c = a, d = a + b; d > c; ++c) {
                var e = this.lines[c];
                this.height -= e.height, Ge(e), Rf(e, \"delete\")
            }
            this.lines.splice(a, b)
        },
        collapse: function(a) {
            a.push.apply(a, this.lines)
        },
        insertInner: function(a, b, c) {
            this.height += c, this.lines = this.lines.slice(0, a).concat(b).concat(this.lines.slice(a));
            for (var d = 0; d < b.length; ++d) b[d].parent = this
        },
        iterN: function(a, b, c) {
            for (var d = a + b; d > a; ++a)
                if (c(this.lines[a])) return !0
        }
    }, af.prototype = {
        chunkSize: function() {
            return this.size
        },
        removeInner: function(a, b) {
            this.size -= b;
            for (var c = 0; c < this.children.length; ++c) {
                var d = this.children[c],
                    e = d.chunkSize();
                if (e > a) {
                    var f = Math.min(b, e - a),
                        g = d.height;
                    if (d.removeInner(a, f), this.height -= g - d.height, e == f && (this.children.splice(c--, 1), d.parent = null), 0 == (b -= f)) break;
                    a = 0
                } else a -= e
            }
            if (this.size - b < 25 && (this.children.length > 1 || !(this.children[0] instanceof _e))) {
                var h = [];
                this.collapse(h), this.children = [new _e(h)], this.children[0].parent = this
            }
        },
        collapse: function(a) {
            for (var b = 0; b < this.children.length; ++b) this.children[b].collapse(a)
        },
        insertInner: function(a, b, c) {
            this.size += b.length, this.height += c;
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d],
                    f = e.chunkSize();
                if (f >= a) {
                    if (e.insertInner(a, b, c), e.lines && e.lines.length > 50) {
                        for (; e.lines.length > 50;) {
                            var g = e.lines.splice(e.lines.length - 25, 25),
                                h = new _e(g);
                            e.height -= h.height, this.children.splice(d + 1, 0, h), h.parent = this
                        }
                        this.maybeSpill()
                    }
                    break
                }
                a -= f
            }
        },
        maybeSpill: function() {
            if (!(this.children.length <= 10)) {
                var a = this;
                do {
                    var b = a.children.splice(a.children.length - 5, 5),
                        c = new af(b);
                    if (a.parent) {
                        a.size -= c.size, a.height -= c.height;
                        var e = hg(a.parent.children, a);
                        a.parent.children.splice(e + 1, 0, c)
                    } else {
                        var d = new af(a.children);
                        d.parent = a, a.children = [d, c], a = d
                    }
                    c.parent = a.parent
                } while (a.children.length > 10);
                a.parent.maybeSpill()
            }
        },
        iterN: function(a, b, c) {
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d],
                    f = e.chunkSize();
                if (f > a) {
                    var g = Math.min(b, f - a);
                    if (e.iterN(a, g, c)) return !0;
                    if (0 == (b -= g)) break;
                    a = 0
                } else a -= f
            }
        }
    };
    var bf = 0,
        cf = x.Doc = function(a, b, c, d) {
            if (!(this instanceof cf)) return new cf(a, b, c, d);
            null == c && (c = 0), af.call(this, [new _e([new Ee(\"\", null)])]), this.first = c, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.frontier = c;
            var e = qa(c, 0);
            this.sel = Oa(e), this.history = new qf(null), this.id = ++bf, this.modeOption = b, this.lineSep = d, \"string\" == typeof a && (a = this.splitLines(a)), \$e(this, {
                from: e,
                to: e,
                text: a
            }), _a(this, Oa(e), Zf)
        };
    cf.prototype = kg(af.prototype, {
        constructor: cf,
        iter: function(a, b, c) {
            c ? this.iterN(a - this.first, b - a, c) : this.iterN(this.first, this.first + this.size, a)
        },
        insert: function(a, b) {
            for (var c = 0, d = 0; d < b.length; ++d) c += b[d].height;
            this.insertInner(a - this.first, b, c)
        },
        remove: function(a, b) {
            this.removeInner(a - this.first, b)
        },
        getValue: function(a) {
            var b = kf(this, this.first, this.first + this.size);
            return a === !1 ? b : b.join(a || this.lineSeparator())
        },
        setValue: hc(function(a) {
            var b = qa(this.first, 0),
                c = this.first + this.size - 1;
            jd(this, {
                from: b,
                to: qa(c, hf(this, c).text.length),
                text: this.splitLines(a),
                origin: \"setValue\",
                full: !0
            }, !0), _a(this, Oa(b))
        }),
        replaceRange: function(a, b, c, d) {
            b = Qa(this, b), c = c ? Qa(this, c) : b, pd(this, a, b, c, d)
        },
        getRange: function(a, b, c) {
            var d = jf(this, Qa(this, a), Qa(this, b));
            return c === !1 ? d : d.join(c || this.lineSeparator())
        },
        getLine: function(a) {
            var b = this.getLineHandle(a);
            return b && b.text
        },
        getLineHandle: function(a) {
            return Sa(this, a) ? hf(this, a) : void 0
        },
        getLineNumber: function(a) {
            return mf(a)
        },
        getLineHandleVisualStart: function(a) {
            return \"number\" == typeof a && (a = hf(this, a)), ue(a)
        },
        lineCount: function() {
            return this.size
        },
        firstLine: function() {
            return this.first
        },
        lastLine: function() {
            return this.first + this.size - 1
        },
        clipPos: function(a) {
            return Qa(this, a)
        },
        getCursor: function(a) {
            var c, b = this.sel.primary();
            return c = null == a || \"head\" == a ? b.head : \"anchor\" == a ? b.anchor : \"end\" == a || \"to\" == a || a === !1 ? b.to() : b.from()
        },
        listSelections: function() {
            return this.sel.ranges
        },
        somethingSelected: function() {
            return this.sel.somethingSelected()
        },
        setCursor: hc(function(a, b, c) {
            Ya(this, Qa(this, \"number\" == typeof a ? qa(a, b || 0) : a), null, c)
        }),
        setSelection: hc(function(a, b, c) {
            Ya(this, Qa(this, a), Qa(this, b || a), c)
        }),
        extendSelection: hc(function(a, b, c) {
            Va(this, Qa(this, a), b && Qa(this, b), c)
        }),
        extendSelections: hc(function(a, b) {
            Wa(this, Ta(this, a, b))
        }),
        extendSelectionsBy: hc(function(a, b) {
            Wa(this, ig(this.sel.ranges, a), b)
        }),
        setSelections: hc(function(a, b, c) {
            if (a.length) {
                for (var d = 0, e = []; d < a.length; d++) e[d] = new Ma(Qa(this, a[d].anchor), Qa(this, a[d].head));
                null == b && (b = Math.min(a.length - 1, this.sel.primIndex)), _a(this, Na(e, b), c)
            }
        }),
        addSelection: hc(function(a, b, c) {
            var d = this.sel.ranges.slice(0);
            d.push(new Ma(Qa(this, a), Qa(this, b || a))), _a(this, Na(d, d.length - 1), c)
        }),
        getSelection: function(a) {
            for (var c, b = this.sel.ranges, d = 0; d < b.length; d++) {
                var e = jf(this, b[d].from(), b[d].to());
                c = c ? c.concat(e) : e
            }
            return a === !1 ? c : c.join(a || this.lineSeparator())
        },
        getSelections: function(a) {
            for (var b = [], c = this.sel.ranges, d = 0; d < c.length; d++) {
                var e = jf(this, c[d].from(), c[d].to());
                a !== !1 && (e = e.join(a || this.lineSeparator())), b[d] = e
            }
            return b
        },
        replaceSelection: function(a, b, c) {
            for (var d = [], e = 0; e < this.sel.ranges.length; e++) d[e] = a;
            this.replaceSelections(d, b, c || \"+input\")
        },
        replaceSelections: hc(function(a, b, c) {
            for (var d = [], e = this.sel, f = 0; f < e.ranges.length; f++) {
                var g = e.ranges[f];
                d[f] = {
                    from: g.from(),
                    to: g.to(),
                    text: this.splitLines(a[f]),
                    origin: c
                }
            }
            for (var h = b && \"end\" != b && hd(this, d, b), f = d.length - 1; f >= 0; f--) jd(this, d[f]);
            h ? \$a(this, h) : this.cm && vd(this.cm)
        }),
        undo: hc(function() {
            ld(this, \"undo\")
        }),
        redo: hc(function() {
            ld(this, \"redo\")
        }),
        undoSelection: hc(function() {
            ld(this, \"undo\", !0)
        }),
        redoSelection: hc(function() {
            ld(this, \"redo\", !0)
        }),
        setExtending: function(a) {
            this.extend = a
        },
        getExtending: function() {
            return this.extend
        },
        historySize: function() {
            for (var a = this.history, b = 0, c = 0, d = 0; d < a.done.length; d++) a.done[d].ranges || ++b;
            for (var d = 0; d < a.undone.length; d++) a.undone[d].ranges || ++c;
            return {
                undo: b,
                redo: c
            }
        },
        clearHistory: function() {
            this.history = new qf(this.history.maxGeneration)
        },
        markClean: function() {
            this.cleanGeneration = this.changeGeneration(!0)
        },
        changeGeneration: function(a) {
            return a && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation
        },
        isClean: function(a) {
            return this.history.generation == (a || this.cleanGeneration)
        },
        getHistory: function() {
            return {
                done: Bf(this.history.done),
                undone: Bf(this.history.undone)
            }
        },
        setHistory: function(a) {
            var b = this.history = new qf(this.history.maxGeneration);
            b.done = Bf(a.done.slice(0), null, !0), b.undone = Bf(a.undone.slice(0), null, !0)
        },
        addLineClass: hc(function(a, b, c) {
            return yd(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {
                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\";
                if (a[d]) {
                    if (zg(c).test(a[d])) return !1;
                    a[d] += \" \" + c
                } else a[d] = c;
                return !0
            })
        }),
        removeLineClass: hc(function(a, b, c) {
            return yd(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {
                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\",
                    e = a[d];
                if (!e) return !1;
                if (null == c) a[d] = null;
                else {
                    var f = e.match(zg(c));
                    if (!f) return !1;
                    var g = f.index + f[0].length;
                    a[d] = e.slice(0, f.index) + (f.index && g != e.length ? \" \" : \"\") + e.slice(g) || null
                }
                return !0
            })
        }),
        addLineWidget: hc(function(a, b, c) {
            return De(this, a, b, c)
        }),
        removeLineWidget: function(a) {
            a.clear()
        },
        markText: function(a, b, c) {
            return Xd(this, Qa(this, a), Qa(this, b), c, c && c.type || \"range\")
        },
        setBookmark: function(a, b) {
            var c = {
                replacedWith: b && (null == b.nodeType ? b.widget : b),
                insertLeft: b && b.insertLeft,
                clearWhenEmpty: !1,
                shared: b && b.shared,
                handleMouseEvents: b && b.handleMouseEvents
            };
            return a = Qa(this, a), Xd(this, a, a, c, \"bookmark\")
        },
        findMarksAt: function(a) {
            a = Qa(this, a);
            var b = [],
                c = hf(this, a.line).markedSpans;
            if (c)
                for (var d = 0; d < c.length; ++d) {
                    var e = c[d];
                    (null == e.from || e.from <= a.ch) && (null == e.to || e.to >= a.ch) && b.push(e.marker.parent || e.marker)
                }
            return b
        },
        findMarks: function(a, b, c) {
            a = Qa(this, a), b = Qa(this, b);
            var d = [],
                e = a.line;
            return this.iter(a.line, b.line + 1, function(f) {
                var g = f.markedSpans;
                if (g)
                    for (var h = 0; h < g.length; h++) {
                        var i = g[h];
                        e == a.line && a.ch > i.to || null == i.from && e != a.line || e == b.line && i.from > b.ch || c && !c(i.marker) || d.push(i.marker.parent || i.marker)
                    }++e
            }), d
        },
        getAllMarks: function() {
            var a = [];
            return this.iter(function(b) {
                var c = b.markedSpans;
                if (c)
                    for (var d = 0; d < c.length; ++d) null != c[d].from && a.push(c[d].marker)
            }), a
        },
        posFromIndex: function(a) {
            var b, c = this.first;
            return this.iter(function(d) {
                var e = d.text.length + 1;
                return e > a ? (b = a, !0) : (a -= e, void++c)
            }), Qa(this, qa(c, b))
        },
        indexFromPos: function(a) {
            a = Qa(this, a);
            var b = a.ch;
            return a.line < this.first || a.ch < 0 ? 0 : (this.iter(this.first, a.line, function(a) {
                b += a.text.length + 1
            }), b)
        },
        copy: function(a) {
            var b = new cf(kf(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep);
            return b.scrollTop = this.scrollTop, b.scrollLeft = this.scrollLeft, b.sel = this.sel, b.extend = !1, a && (b.history.undoDepth = this.history.undoDepth, b.setHistory(this.getHistory())), b
        },
        linkedDoc: function(a) {
            a || (a = {});
            var b = this.first,
                c = this.first + this.size;
            null != a.from && a.from > b && (b = a.from), null != a.to && a.to < c && (c = a.to);
            var d = new cf(kf(this, b, c), a.mode || this.modeOption, b, this.lineSep);
            return a.sharedHist && (d.history = this.history), (this.linked || (this.linked = [])).push({
                doc: d,
                sharedHist: a.sharedHist
            }), d.linked = [{
                doc: this,
                isParent: !0,
                sharedHist: a.sharedHist
            }], _d(d, \$d(this)), d
        },
        unlinkDoc: function(a) {
            if (a instanceof x && (a = a.doc), this.linked)
                for (var b = 0; b < this.linked.length; ++b) {
                    var c = this.linked[b];
                    if (c.doc == a) {
                        this.linked.splice(b, 1), a.unlinkDoc(this), ae(\$d(this));
                        break
                    }
                }
            if (a.history == this.history) {
                var d = [a.id];
                ff(a, function(a) {
                    d.push(a.id)
                }, !0), a.history = new qf(null), a.history.done = Bf(this.history.done, d), a.history.undone = Bf(this.history.undone, d)
            }
        },
        iterLinkedDocs: function(a) {
            ff(this, a)
        },
        getMode: function() {
            return this.mode
        },
        getEditor: function() {
            return this.cm
        },
        splitLines: function(a) {
            return this.lineSep ? a.split(this.lineSep) : Mg(a)
        },
        lineSeparator: function() {
            return this.lineSep || \"\\n\"
        }
    }), cf.prototype.eachLine = cf.prototype.iter;
    var df = \"iter insert remove copy getEditor constructor\".split(\" \");
    for (var ef in cf.prototype) cf.prototype.hasOwnProperty(ef) && hg(df, ef) < 0 && (x.prototype[ef] = function(a) {
        return function() {
            return a.apply(this.doc, arguments)
        }
    }(cf.prototype[ef]));
    Wf(cf);
    var Ff = x.e_preventDefault = function(a) {
            a.preventDefault ? a.preventDefault() : a.returnValue = !1
        },
        Gf = x.e_stopPropagation = function(a) {
            a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
        },
        If = x.e_stop = function(a) {
            Ff(a), Gf(a)
        },
        Lf = x.on = function(a, b, c) {
            if (a.addEventListener) a.addEventListener(b, c, !1);
            else if (a.attachEvent) a.attachEvent(\"on\" + b, c);
            else {
                var d = a._handlers || (a._handlers = {}),
                    e = d[b] || (d[b] = []);
                e.push(c)
            }
        },
        Mf = [],
        Of = x.off = function(a, b, c) {
            if (a.removeEventListener) a.removeEventListener(b, c, !1);
            else if (a.detachEvent) a.detachEvent(\"on\" + b, c);
            else
                for (var d = Nf(a, b, !1), e = 0; e < d.length; ++e)
                    if (d[e] == c) {
                        d.splice(e, 1);
                        break
                    }
        },
        Pf = x.signal = function(a, b) {
            var c = Nf(a, b, !0);
            if (c.length)
                for (var d = Array.prototype.slice.call(arguments, 2), e = 0; e < c.length; ++e) c[e].apply(null, d)
        },
        Qf = null,
        Xf = 30,
        Yf = x.Pass = {
            toString: function() {
                return \"CodeMirror.Pass\"
            }
        },
        Zf = {
            scroll: !1
        },
        \$f = {
            origin: \"*mouse\"
        },
        _f = {
            origin: \"+move\"
        };
    ag.prototype.set = function(a, b) {
        clearTimeout(this.id), this.id = setTimeout(b, a)
    };
    var bg = x.countColumn = function(a, b, c, d, e) {
            null == b && (b = a.search(/[^\\s\\u00a0]/), -1 == b && (b = a.length));
            for (var f = d || 0, g = e || 0;;) {
                var h = a.indexOf(\"  \", f);
                if (0 > h || h >= b) return g + (b - f);
                g += h - f, g += c - g % c, f = h + 1
            }
        },
        cg = x.findColumn = function(a, b, c) {
            for (var d = 0, e = 0;;) {
                var f = a.indexOf(\" \", d); - 1 == f && (f = a.length);
                var g = f - d;
                if (f == a.length || e + g >= b) return d + Math.min(g, b - e);
                if (e += f - d, e += c - e % c, d = f + 1, e >= b) return d
            }
        },
        dg = [\"\"],
        gg = function(a) {
            a.select()
        };
    o ? gg = function(a) {
        a.selectionStart = 0, a.selectionEnd = a.value.length
    } : f && (gg = function(a) {
        try {
            a.select()
        } catch (b) {}
    });
    var ug, ng = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/,
        og = x.isWordChar = function(a) {
            return /\\w/.test(a) || a > \"\\x80\" && (a.toUpperCase() != a.toLowerCase() || ng.test(a))
        },
        rg = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;
    ug = document.createRange ? function(a, b, c, d) {
        var e = document.createRange();
        return e.setEnd(d || a, c), e.setStart(a, b), e
    } : function(a, b, c) {
        var d = document.body.createTextRange();
        try {
            d.moveToElementText(a.parentNode)
        } catch (e) {
            return d
        }
        return d.collapse(!0), d.moveEnd(\"character\", c), d.moveStart(\"character\", b), d
    };
    var xg = x.contains = function(a, b) {
        if (3 == b.nodeType && (b = b.parentNode), a.contains) return a.contains(b);
        do
            if (11 == b.nodeType && (b = b.host), b == a) return !0;
        while (b = b.parentNode)
    };
    f && 11 > g && (yg = function() {
        try {
            return document.activeElement
        } catch (a) {
            return document.body
        }
    });
    var Ig, Kg, Ag = x.rmClass = function(a, b) {
            var c = a.className,
                d = zg(b).exec(c);
            if (d) {
                var e = c.slice(d.index + d[0].length);
                a.className = c.slice(0, d.index) + (e ? d[1] + e : \"\")
            }
        },
        Bg = x.addClass = function(a, b) {
            var c = a.className;
            zg(b).test(c) || (a.className += (c ? \" \" : \"\") + b)
        },
        Eg = !1,
        Hg = function() {
            if (f && 9 > g) return !1;
            var a = tg(\"div\");
            return \"draggable\" in a || \"dragDrop\" in a
        }(),
        Mg = x.splitLines = 3 != \"\\n\\nb\".split(/\\n/).length ? function(a) {
            for (var b = 0, c = [], d = a.length; d >= b;) {
                var e = a.indexOf(\"\\n\", b); - 1 == e && (e = a.length);
                var f = a.slice(b, \"\\r\" == a.charAt(e - 1) ? e - 1 : e),
                    g = f.indexOf(\"\\r\"); - 1 != g ? (c.push(f.slice(0, g)), b += g + 1) : (c.push(f), b = e + 1)
            }
            return c
        } : function(a) {
            return a.split(/\\r\\n?|\\n/)
        },
        Ng = window.getSelection ? function(a) {
            try {
                return a.selectionStart != a.selectionEnd
            } catch (b) {
                return !1
            }
        } : function(a) {
            try {
                var b = a.ownerDocument.selection.createRange()
            } catch (c) {}
            return b && b.parentElement() == a ? 0 != b.compareEndPoints(\"StartToEnd\", b) : !1
        },
        Og = function() {
            var a = tg(\"div\");
            return \"oncopy\" in a ? !0 : (a.setAttribute(\"oncopy\", \"return;\"), \"function\" == typeof a.oncopy)
        }(),
        Pg = null,
        Rg = x.keyNames = {
            3: \"Enter\",
            8: \"Backspace\",
            9: \"Tab\",
            13: \"Enter\",
            16: \"Shift\",
            17: \"Ctrl\",
            18: \"Alt\",
            19: \"Pause\",
            20: \"CapsLock\",
            27: \"Esc\",
            32: \"Space\",
            33: \"PageUp\",
            34: \"PageDown\",
            35: \"End\",
            36: \"Home\",
            37: \"Left\",
            38: \"Up\",
            39: \"Right\",
            40: \"Down\",
            44: \"PrintScrn\",
            45: \"Insert\",
            46: \"Delete\",
            59: \";\",
            61: \"=\",
            91: \"Mod\",
            92: \"Mod\",
            93: \"Mod\",
            106: \"*\",
            107: \"=\",
            109: \"-\",
            110: \".\",
            111: \"/\",
            127: \"Delete\",
            173: \"-\",
            186: \";\",
            187: \"=\",
            188: \",\",
            189: \"-\",
            190: \".\",
            191: \"/\",
            192: \"`\",
            219: \"[\",
            220: \"\\\\\",
            221: \"]\",
            222: \"'\",
            63232: \"Up\",
            63233: \"Down\",
            63234: \"Left\",
            63235: \"Right\",
            63272: \"Delete\",
            63273: \"Home\",
            63275: \"End\",
            63276: \"PageUp\",
            63277: \"PageDown\",
            63302: \"Insert\"
        };
    ! function() {
        for (var a = 0; 10 > a; a++) Rg[a + 48] = Rg[a + 96] = String(a);
        for (var a = 65; 90 >= a; a++) Rg[a] = String.fromCharCode(a);
        for (var a = 1; 12 >= a; a++) Rg[a + 111] = Rg[a + 63235] = \"F\" + a
    }();
    var _g, eh = function() {
        function c(c) {
            return 247 >= c ? a.charAt(c) : c >= 1424 && 1524 >= c ? \"R\" : c >= 1536 && 1773 >= c ? b.charAt(c - 1536) : c >= 1774 && 2220 >= c ? \"r\" : c >= 8192 && 8203 >= c ? \"w\" : 8204 == c ? \"b\" : \"L\"
        }

        function j(a, b, c) {
            this.level = a, this.from = b, this.to = c
        }
        var a = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",
            b = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\",
            d = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,
            e = /[stwN]/,
            f = /[LRr]/,
            g = /[Lb1n]/,
            h = /[1n]/,
            i = \"L\";
        return function(a) {
            if (!d.test(a)) return !1;
            for (var m, b = a.length, k = [], l = 0; b > l; ++l) k.push(m = c(a.charCodeAt(l)));
            for (var l = 0, n = i; b > l; ++l) {
                var m = k[l];
                \"m\" == m ? k[l] = n : n = m
            }
            for (var l = 0, o = i; b > l; ++l) {
                var m = k[l];
                \"1\" == m && \"r\" == o ? k[l] = \"n\" : f.test(m) && (o = m, \"r\" == m && (k[l] = \"R\"))
            }
            for (var l = 1, n = k[0]; b - 1 > l; ++l) {
                var m = k[l];
                \"+\" == m && \"1\" == n && \"1\" == k[l + 1] ? k[l] = \"1\" : \",\" != m || n != k[l + 1] || \"1\" != n && \"n\" != n || (k[l] = n), n = m
            }
            for (var l = 0; b > l; ++l) {
                var m = k[l];
                if (\",\" == m) k[l] = \"N\";
                else if (\"%\" == m) {
                    for (var p = l + 1; b > p && \"%\" == k[p]; ++p);
                    for (var q = l && \"!\" == k[l - 1] || b > p && \"1\" == k[p] ? \"1\" : \"N\", r = l; p > r; ++r) k[r] = q;
                    l = p - 1
                }
            }
            for (var l = 0, o = i; b > l; ++l) {
                var m = k[l];
                \"L\" == o && \"1\" == m ? k[l] = \"L\" : f.test(m) && (o = m)
            }
            for (var l = 0; b > l; ++l)
                if (e.test(k[l])) {
                    for (var p = l + 1; b > p && e.test(k[p]); ++p);
                    for (var s = \"L\" == (l ? k[l - 1] : i), t = \"L\" == (b > p ? k[p] : i), q = s || t ? \"L\" : \"R\", r = l; p > r; ++r) k[r] = q;
                    l = p - 1
                }
            for (var v, u = [], l = 0; b > l;)
                if (g.test(k[l])) {
                    var w = l;
                    for (++l; b > l && g.test(k[l]); ++l);
                    u.push(new j(0, w, l))
                } else {
                    var x = l,
                        y = u.length;
                    for (++l; b > l && \"L\" != k[l]; ++l);
                    for (var r = x; l > r;)
                        if (h.test(k[r])) {
                            r > x && u.splice(y, 0, new j(1, x, r));
                            var z = r;
                            for (++r; l > r && h.test(k[r]); ++r);
                            u.splice(y, 0, new j(2, z, r)), x = r
                        } else ++r;
                    l > x && u.splice(y, 0, new j(1, x, l))
                }
            return 1 == u[0].level && (v = a.match(/^\\s+/)) && (u[0].from = v[0].length, u.unshift(new j(0, 0, v[0].length))), 1 == fg(u).level && (v = a.match(/\\s+\$/)) && (fg(u).to -= v[0].length, u.push(new j(0, b - v[0].length, b))), 2 == u[0].level && u.unshift(new j(1, u[0].to, u[0].to)), u[0].level != fg(u).level && u.push(new j(u[0].level, b, b)), u
        }
    }();
    return x.version = \"5.8.1\", x
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";
    a.defineMode(\"clojure\", function(a) {
        function m(a) {
            for (var b = {}, c = a.split(\" \"), d = 0; d < c.length; ++d) b[c[d]] = !0;
            return b
        }

        function s(a, b, c) {
            this.indent = a, this.type = b, this.prev = c
        }

        function t(a, b, c) {
            a.indentStack = new s(b, c, a.indentStack)
        }

        function u(a) {
            a.indentStack = a.indentStack.prev
        }

        function v(a, b) {
            return \"0\" === a && b.eat(/x/i) ? (b.eatWhile(r.hex), !0) : (\"+\" != a && \"-\" != a || !r.digit.test(b.peek()) || (b.eat(r.sign), a = b.next()), r.digit.test(a) ? (b.eat(a), b.eatWhile(r.digit), \".\" == b.peek() && (b.eat(\".\"), b.eatWhile(r.digit)), b.eat(r.exponent) && (b.eat(r.sign), b.eatWhile(r.digit)), !0) : !1)
        }

        function w(a) {
            var b = a.next();
            b && b.match(/[a-z]/) && a.match(/[a-z]+/, !0) || \"u\" === b && a.match(/[0-9a-z]{4}/i, !0)
        }
        var b = \"builtin\",
            c = \"comment\",
            d = \"string\",
            e = \"string-2\",
            f = \"atom\",
            g = \"number\",
            h = \"bracket\",
            i = \"keyword\",
            j = \"variable\",
            k = a.indentUnit || 2,
            l = a.indentUnit || 2,
            n = m(\"true false nil\"),
            o = m(\"defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle\"),
            p = m(\"* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -> ->> ->ArrayChunk ->Vec ->VecNode ->VecSeq -cache-protocol-fn -reset-methods .. / < <= = == > >= EMPTY-NODE accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* bound? butlast byte byte-array bytes case cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while empty empty? ensure enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by hash hash-combine hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc inc' init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod munge name namespace namespace-munge neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int rand-nth range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string realized? reduce reduce-kv reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents slurp some some-fn sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector-of vector? when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap *default-data-reader-fn* as-> cond-> cond->> reduced reduced? send-via set-agent-send-executor! set-agent-send-off-executor! some-> some->>\"),
            q = m(\"ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace\"),
            r = {
                digit: /\\d/,
                digit_or_colon: /[\\d:]/,
                hex: /[0-9a-f]/i,
                sign: /[+-]/,
                exponent: /e/i,
                keyword_char: /[^\\s\\(\\[\\;\\)\\]]/,
                symbol: /[\\w*+!\\-\\._?:<>\\/\\xa1-\\uffff]/
            };
        return {
            startState: function() {
                return {
                    indentStack: null,
                    indentation: 0,
                    mode: !1
                }
            },
            token: function(a, m) {
                if (null == m.indentStack && a.sol() && (m.indentation = a.indentation()), a.eatSpace()) return null;
                var s = null;
                switch (m.mode) {
                    case \"string\":
                        for (var x, y = !1; null != (x = a.next());) {
                            if ('\"' == x && !y) {
                                m.mode = !1;
                                break
                            }
                            y = !y && \"\\\\\" == x
                        }
                        s = d;
                        break;
                    default:
                        var z = a.next();
                        if ('\"' == z) m.mode = \"string\", s = d;
                        else if (\"\\\\\" == z) w(a), s = e;
                        else if (\"'\" != z || r.digit_or_colon.test(a.peek()))
                            if (\";\" == z) a.skipToEnd(), s = c;
                            else if (v(z, a)) s = g;
                        else if (\"(\" == z || \"[\" == z || \"{\" == z) {
                            var C, A = \"\",
                                B = a.column();
                            if (\"(\" == z)
                                for (; null != (C = a.eat(r.keyword_char));) A += C;
                            A.length > 0 && (q.propertyIsEnumerable(A) || /^(?:def|with)/.test(A)) ? t(m, B + k, z) : (a.eatSpace(), a.eol() || \";\" == a.peek() ? t(m, B + l, z) : t(m, B + a.current().length, z)), a.backUp(a.current().length - 1), s = h
                        } else if (\")\" == z || \"]\" == z || \"}\" == z) s = h, null != m.indentStack && m.indentStack.type == (\")\" == z ? \"(\" : \"]\" == z ? \"[\" : \"{\") && u(m);
                        else {
                            if (\":\" == z) return a.eatWhile(r.symbol), f;
                            a.eatWhile(r.symbol), s = o && o.propertyIsEnumerable(a.current()) ? i : p && p.propertyIsEnumerable(a.current()) ? b : n && n.propertyIsEnumerable(a.current()) ? f : j
                        } else s = f
                }
                return s
            },
            indent: function(a) {
                return null == a.indentStack ? a.indentation : a.indentStack.indent
            },
            closeBrackets: {
                pairs: '()[]{}\"\"'
            },
            lineComment: \";;\"
        }
    }), a.defineMIME(\"text/x-clojure\", \"clojure\")
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function d(a, c) {
        return \"pairs\" == c && \"string\" == typeof a ? a : \"object\" == typeof a && null != a[c] ? a[c] : b[c]
    }

    function h(a) {
        return function(b) {
            return m(b, a)
        }
    }

    function i(a) {
        var b = a.state.closeBrackets;
        if (!b) return null;
        var c = a.getModeAt(a.getCursor());
        return c.closeBrackets || b
    }

    function j(b) {
        var e = i(b);
        if (!e || b.getOption(\"disableInput\")) return a.Pass;
        for (var f = d(e, \"pairs\"), g = b.listSelections(), h = 0; h < g.length; h++) {
            if (!g[h].empty()) return a.Pass;
            var j = o(b, g[h].head);
            if (!j || f.indexOf(j) % 2 != 0) return a.Pass
        }
        for (var h = g.length - 1; h >= 0; h--) {
            var k = g[h].head;
            b.replaceRange(\"\", c(k.line, k.ch - 1), c(k.line, k.ch + 1))
        }
    }

    function k(b) {
        var c = i(b),
            e = c && d(c, \"explode\");
        if (!e || b.getOption(\"disableInput\")) return a.Pass;
        for (var f = b.listSelections(), g = 0; g < f.length; g++) {
            if (!f[g].empty()) return a.Pass;
            var h = o(b, f[g].head);
            if (!h || e.indexOf(h) % 2 != 0) return a.Pass
        }
        b.operation(function() {
            b.replaceSelection(\"\\n\\n\", null), b.execCommand(\"goCharLeft\"), f = b.listSelections();
            for (var a = 0; a < f.length; a++) {
                var c = f[a].head.line;
                b.indentLine(c, null, !0), b.indentLine(c + 1, null, !0)
            }
        })
    }

    function l(b) {
        var d = a.cmpPos(b.anchor, b.head) > 0;
        return {
            anchor: new c(b.anchor.line, b.anchor.ch + (d ? -1 : 1)),
            head: new c(b.head.line, b.head.ch + (d ? 1 : -1))
        }
    }

    function m(b, e) {
        var f = i(b);
        if (!f || b.getOption(\"disableInput\")) return a.Pass;
        var g = d(f, \"pairs\"),
            h = g.indexOf(e);
        if (-1 == h) return a.Pass;
        for (var q, r, j = d(f, \"triples\"), k = g.charAt(h + 1) == e, m = b.listSelections(), o = h % 2 == 0, s = 0; s < m.length; s++) {
            var v, t = m[s],
                u = t.head,
                r = b.getRange(u, c(u.line, u.ch + 1));
            if (o && !t.empty()) v = \"surround\";
            else if (!k && o || r != e)
                if (k && u.ch > 1 && j.indexOf(e) >= 0 && b.getRange(c(u.line, u.ch - 2), u) == e + e && (u.ch <= 2 || b.getRange(c(u.line, u.ch - 3), c(u.line, u.ch - 2)) != e)) v = \"addFour\";
                else if (k) {
                if (a.isWordChar(r) || !p(b, u, e)) return a.Pass;
                v = \"both\"
            } else {
                if (!o || b.getLine(u.line).length != u.ch && !n(r, g) && !/\\s/.test(r)) return a.Pass;
                v = \"both\"
            } else v = j.indexOf(e) >= 0 && b.getRange(u, c(u.line, u.ch + 3)) == e + e + e ? \"skipThree\" : \"skip\";
            if (q) {
                if (q != v) return a.Pass
            } else q = v
        }
        var w = h % 2 ? g.charAt(h - 1) : e,
            x = h % 2 ? e : g.charAt(h + 1);
        b.operation(function() {
            if (\"skip\" == q) b.execCommand(\"goCharRight\");
            else if (\"skipThree\" == q)
                for (var a = 0; 3 > a; a++) b.execCommand(\"goCharRight\");
            else if (\"surround\" == q) {
                for (var c = b.getSelections(), a = 0; a < c.length; a++) c[a] = w + c[a] + x;
                b.replaceSelections(c, \"around\"), c = b.listSelections().slice();
                for (var a = 0; a < c.length; a++) c[a] = l(c[a]);
                b.setSelections(c)
            } else \"both\" == q ? (b.replaceSelection(w + x, null), b.triggerElectric(w + x), b.execCommand(\"goCharLeft\")) : \"addFour\" == q && (b.replaceSelection(w + w + w + w, \"before\"), b.execCommand(\"goCharRight\"))
        })
    }

    function n(a, b) {
        var c = b.lastIndexOf(a);
        return c > -1 && c % 2 == 1
    }

    function o(a, b) {
        var d = a.getRange(c(b.line, b.ch - 1), c(b.line, b.ch + 1));
        return 2 == d.length ? d : null
    }

    function p(b, c, d) {
        var e = b.getLine(c.line),
            f = b.getTokenAt(c);
        if (/\\bstring2?\\b/.test(f.type)) return !1;
        var g = new a.StringStream(e.slice(0, c.ch) + d + e.slice(c.ch), 4);
        for (g.pos = g.start = f.start;;) {
            var h = b.getMode().token(g, f.state);
            if (g.pos >= c.ch + 1) return /\\bstring2?\\b/.test(h);
            g.start = g.pos
        }
    }
    var b = {
            pairs: \"()[]{}''\\\"\\\"\",
            triples: \"\",
            explode: \"[]{}\"
        },
        c = a.Pos;
    a.defineOption(\"autoCloseBrackets\", !1, function(b, c, d) {
        d && d != a.Init && (b.removeKeyMap(f), b.state.closeBrackets = null), c && (b.state.closeBrackets = c, b.addKeyMap(f))
    });
    for (var e = b.pairs + \"`\", f = {
            Backspace: j,
            Enter: k
        }, g = 0; g < e.length; g++) f[\"'\" + e.charAt(g) + \"'\"] = h(e.charAt(g))
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function b(a, b, c) {
        var e, d = a.getWrapperElement();
        return e = d.appendChild(document.createElement(\"div\")), c ? e.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\" : e.className = \"CodeMirror-dialog CodeMirror-dialog-top\", \"string\" == typeof b ? e.innerHTML = b : e.appendChild(b), e
    }

    function c(a, b) {
        a.state.currentNotificationClose && a.state.currentNotificationClose(), a.state.currentNotificationClose = b
    }
    a.defineExtension(\"openDialog\", function(d, e, f) {
        function j(a) {
            if (\"string\" == typeof a) k.value = a;
            else {
                if (h) return;
                h = !0, g.parentNode.removeChild(g), i.focus(), f.onClose && f.onClose(g)
            }
        }
        f || (f = {}), c(this, null);
        var l, g = b(this, d, f.bottom),
            h = !1,
            i = this,
            k = g.getElementsByTagName(\"input\")[0];
        return k ? (f.value && (k.value = f.value, f.selectValueOnOpen !== !1 && k.select()), f.onInput && a.on(k, \"input\", function(a) {
            f.onInput(a, k.value, j)
        }), f.onKeyUp && a.on(k, \"keyup\", function(a) {
            f.onKeyUp(a, k.value, j)
        }), a.on(k, \"keydown\", function(b) {
            f && f.onKeyDown && f.onKeyDown(b, k.value, j) || ((27 == b.keyCode || f.closeOnEnter !== !1 && 13 == b.keyCode) && (k.blur(), a.e_stop(b), j()), 13 == b.keyCode && e(k.value, b))
        }), f.closeOnBlur !== !1 && a.on(k, \"blur\", j), k.focus()) : (l = g.getElementsByTagName(\"button\")[0]) && (a.on(l, \"click\", function() {
            j(), i.focus()
        }), f.closeOnBlur !== !1 && a.on(l, \"blur\", j), l.focus()), j
    }), a.defineExtension(\"openConfirm\", function(d, e, f) {
        function l() {
            i || (i = !0, g.parentNode.removeChild(g), j.focus())
        }
        c(this, null);
        var g = b(this, d, f && f.bottom),
            h = g.getElementsByTagName(\"button\"),
            i = !1,
            j = this,
            k = 1;
        h[0].focus();
        for (var m = 0; m < h.length; ++m) {
            var n = h[m];
            ! function(b) {
                a.on(n, \"click\", function(c) {
                    a.e_preventDefault(c), l(), b && b(j)
                })
            }(e[m]), a.on(n, \"blur\", function() {
                --k, setTimeout(function() {
                    0 >= k && l()
                }, 200)
            }), a.on(n, \"focus\", function() {
                ++k
            })
        }
    }), a.defineExtension(\"openNotification\", function(d, e) {
        function j() {
            g || (g = !0, clearTimeout(h), f.parentNode.removeChild(f))
        }
        c(this, j);
        var h, f = b(this, d, e && e.bottom),
            g = !1,
            i = e && \"undefined\" != typeof e.duration ? e.duration : 5e3;
        return a.on(f, \"click\", function(b) {
            a.e_preventDefault(b), j()
        }), i && (h = setTimeout(j, i)), j
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function e(a, b, e, g) {
        var h = a.getLineHandle(b.line),
            i = b.ch - 1,
            j = i >= 0 && d[h.text.charAt(i)] || d[h.text.charAt(++i)];
        if (!j) return null;
        var k = \">\" == j.charAt(1) ? 1 : -1;
        if (e && k > 0 != (i == b.ch)) return null;
        var l = a.getTokenTypeAt(c(b.line, i + 1)),
            m = f(a, c(b.line, i + (k > 0 ? 1 : 0)), k, l || null, g);
        return null == m ? null : {
            from: c(b.line, i),
            to: m && m.pos,
            match: m && m.ch == j.charAt(0),
            forward: k > 0
        }
    }

    function f(a, b, e, f, g) {
        for (var h = g && g.maxScanLineLength || 1e4, i = g && g.maxScanLines || 1e3, j = [], k = g && g.bracketRegex ? g.bracketRegex : /[(){}[\\]]/, l = e > 0 ? Math.min(b.line + i, a.lastLine() + 1) : Math.max(a.firstLine() - 1, b.line - i), m = b.line; m != l; m += e) {
            var n = a.getLine(m);
            if (n) {
                var o = e > 0 ? 0 : n.length - 1,
                    p = e > 0 ? n.length : -1;
                if (!(n.length > h))
                    for (m == b.line && (o = b.ch - (0 > e ? 1 : 0)); o != p; o += e) {
                        var q = n.charAt(o);
                        if (k.test(q) && (void 0 === f || a.getTokenTypeAt(c(m, o + 1)) == f)) {
                            var r = d[q];
                            if (\">\" == r.charAt(1) == e > 0) j.push(q);
                            else {
                                if (!j.length) return {
                                    pos: c(m, o),
                                    ch: q
                                };
                                j.pop()
                            }
                        }
                    }
            }
        }
        return m - e == (e > 0 ? a.lastLine() : a.firstLine()) ? !1 : null
    }

    function g(a, d, f) {
        for (var g = a.state.matchBrackets.maxHighlightLineLength || 1e3, h = [], i = a.listSelections(), j = 0; j < i.length; j++) {
            var k = i[j].empty() && e(a, i[j].head, !1, f);
            if (k && a.getLine(k.from.line).length <= g) {
                var l = k.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";
                h.push(a.markText(k.from, c(k.from.line, k.from.ch + 1), {
                    className: l
                })), k.to && a.getLine(k.to.line).length <= g && h.push(a.markText(k.to, c(k.to.line, k.to.ch + 1), {
                    className: l
                }))
            }
        }
        if (h.length) {
            b && a.state.focused && a.focus();
            var m = function() {
                a.operation(function() {
                    for (var a = 0; a < h.length; a++) h[a].clear()
                })
            };
            if (!d) return m;
            setTimeout(m, 800)
        }
    }

    function i(a) {
        a.operation(function() {
            h && (h(), h = null), h = g(a, !1, a.state.matchBrackets)
        })
    }
    var b = /MSIE \\d/.test(navigator.userAgent) && (null == document.documentMode || document.documentMode < 8),
        c = a.Pos,
        d = {
            \"(\": \")>\",
            \")\": \"(<\",
            \"[\": \"]>\",
            \"]\": \"[<\",
            \"{\": \"}>\",
            \"}\": \"{<\"
        },
        h = null;
    a.defineOption(\"matchBrackets\", !1, function(b, c, d) {
        d && d != a.Init && b.off(\"cursorActivity\", i), c && (b.state.matchBrackets = \"object\" == typeof c ? c : {}, b.on(\"cursorActivity\", i))
    }), a.defineExtension(\"matchBrackets\", function() {
        g(this, !0)
    }), a.defineExtension(\"findMatchingBracket\", function(a, b, c) {
        return e(this, a, b, c)
    }), a.defineExtension(\"scanForBracket\", function(a, b, c, d) {
        return f(this, a, b, c, d)
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";
    a.runMode = function(b, c, d, e) {
        var f = a.getMode(a.defaults, c),
            g = /MSIE \\d/.test(navigator.userAgent),
            h = g && (null == document.documentMode || document.documentMode < 9);
        if (1 == d.nodeType) {
            var i = e && e.tabSize || a.defaults.tabSize,
                j = d,
                k = 0;
            j.innerHTML = \"\", d = function(a, b) {
                if (\"\\n\" == a) return j.appendChild(document.createTextNode(h ? \"\\r\" : a)), void(k = 0);
                for (var c = \"\", d = 0;;) {
                    var e = a.indexOf(\" \", d);
                    if (-1 == e) {
                        c += a.slice(d), k += a.length - d;
                        break
                    }
                    k += e - d, c += a.slice(d, e);
                    var f = i - k % i;
                    k += f;
                    for (var g = 0; f > g; ++g) c += \" \";
                    d = e + 1
                }
                if (b) {
                    var l = j.appendChild(document.createElement(\"span\"));
                    l.className = \"cm-\" + b.replace(/ +/g, \" cm-\"), l.appendChild(document.createTextNode(c))
                } else j.appendChild(document.createTextNode(c))
            }
        }
        for (var l = a.splitLines(b), m = e && e.state || a.startState(f), n = 0, o = l.length; o > n; ++n) {
            n && d(\"\\n\");
            var p = new a.StringStream(l[n]);
            for (!p.string && f.blankLine && f.blankLine(m); !p.eol();) {
                var q = f.token(p, m);
                d(p.current(), q, n, p.start, m), p.start = p.pos
            }
        }
    }
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function b(a, b) {
        return \"string\" == typeof a ? a = new RegExp(a.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\\$\\|]/g, \"\\\\\$&\"), b ? \"gi\" : \"g\") : a.global || (a = new RegExp(a.source, a.ignoreCase ? \"gi\" : \"g\")), {
            token: function(b) {
                a.lastIndex = b.pos;
                var c = a.exec(b.string);
                return c && c.index == b.pos ? (b.pos += c[0].length, \"searching\") : void(c ? b.pos = c.index : b.skipToEnd())
            }
        }
    }

    function c() {
        this.posFrom = this.posTo = this.lastQuery = this.query = null, this.overlay = null
    }

    function d(a) {
        return a.state.search || (a.state.search = new c)
    }

    function e(a) {
        return \"string\" == typeof a && a == a.toLowerCase()
    }

    function f(a, b, c) {
        return a.getSearchCursor(b, c, e(b))
    }

    function g(a, b, c, d) {
        a.openDialog(b, d, {
            value: c,
            selectValueOnOpen: !0,
            closeOnEnter: !1,
            onClose: function() {
                p(a)
            }
        })
    }

    function h(a, b, c, d, e) {
        a.openDialog ? a.openDialog(b, e, {
            value: d,
            selectValueOnOpen: !0
        }) : e(prompt(c, d))
    }

    function i(a, b, c, d) {
        a.openConfirm ? a.openConfirm(b, d) : confirm(c) && d[0]()
    }

    function j(a) {
        return a.replace(/\\\\(.)/g, function(a, b) {
            return \"n\" == b ? \"\\n\" : \"r\" == b ? \"\\r\" : b
        })
    }

    function k(a) {
        var b = a.match(/^\\/(.*)\\/([a-z]*)\$/);
        if (b) try {
            a = new RegExp(b[1], -1 == b[2].indexOf(\"i\") ? \"\" : \"i\")
        } catch (c) {} else a = j(a);
        return (\"string\" == typeof a ? \"\" == a : a.test(\"\")) && (a = /x^/), a
    }

    function m(a, c, d) {
        c.queryText = d, c.query = k(d), a.removeOverlay(c.overlay, e(c.query)), c.overlay = b(c.query, e(c.query)), a.addOverlay(c.overlay), a.showMatchesOnScrollbar && (c.annotate && (c.annotate.clear(), c.annotate = null), c.annotate = a.showMatchesOnScrollbar(c.query, e(c.query)))
    }

    function n(b, c, e) {
        var f = d(b);
        if (f.query) return o(b, c);
        var i = b.getSelection() || f.lastQuery;
        if (e && b.openDialog) {
            var j = null;
            g(b, l, i, function(c, d) {
                a.e_stop(d), c && (c != f.queryText && m(b, f, c), j && (j.style.opacity = 1), o(b, d.shiftKey, function(a, c) {
                    var d;
                    c.line < 3 && document.querySelector && (d = b.display.wrapper.querySelector(\".CodeMirror-dialog\")) && d.getBoundingClientRect().bottom - 4 > b.cursorCoords(c, \"window\").top && ((j = d).style.opacity = .4)
                }))
            })
        } else h(b, l, \"Search for:\", i, function(a) {
            a && !f.query && b.operation(function() {
                m(b, f, a), f.posFrom = f.posTo = b.getCursor(), o(b, c)
            })
        })
    }

    function o(b, c, e) {
        b.operation(function() {
            var g = d(b),
                h = f(b, g.query, c ? g.posFrom : g.posTo);
            (h.find(c) || (h = f(b, g.query, c ? a.Pos(b.lastLine()) : a.Pos(b.firstLine(), 0)), h.find(c))) && (b.setSelection(h.from(), h.to()), b.scrollIntoView({
                from: h.from(),
                to: h.to()
            }, 20), g.posFrom = h.from(), g.posTo = h.to(), e && e(h.from(), h.to()))
        })
    }

    function p(a) {
        a.operation(function() {
            var b = d(a);
            b.lastQuery = b.query, b.query && (b.query = b.queryText = null, a.removeOverlay(b.overlay), b.annotate && (b.annotate.clear(), b.annotate = null))
        })
    }

    function t(a, b, c) {
        a.operation(function() {
            for (var d = f(a, b); d.findNext();)
                if (\"string\" != typeof b) {
                    var e = a.getRange(d.from(), d.to()).match(b);
                    d.replace(c.replace(/\\\$(\\d)/g, function(a, b) {
                        return e[b]
                    }))
                } else d.replace(c)
        })
    }

    function u(a, b) {
        if (!a.getOption(\"readOnly\")) {
            var c = a.getSelection() || d(a).lastQuery,
                e = b ? \"Replace all:\" : \"Replace:\";
            h(a, e + q, e, c, function(c) {
                c && (c = k(c), h(a, r, \"Replace with:\", \"\", function(d) {
                    if (d = j(d), b) t(a, c, d);
                    else {
                        p(a);
                        var e = f(a, c, a.getCursor()),
                            g = function() {
                                var j, b = e.from();
                                !(j = e.findNext()) && (e = f(a, c), !(j = e.findNext()) || b && e.from().line == b.line && e.from().ch == b.ch) || (a.setSelection(e.from(), e.to()), a.scrollIntoView({
                                    from: e.from(),
                                    to: e.to()
                                }), i(a, s, \"Replace?\", [function() {
                                    h(j)
                                }, g, function() {
                                    t(a, c, d)
                                }]))
                            },
                            h = function(a) {
                                e.replace(\"string\" == typeof c ? d : d.replace(/\\\$(\\d)/g, function(b, c) {
                                    return a[c]
                                })), g()
                            };
                        g()
                    }
                }))
            })
        }
    }
    var l = 'Search: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>',
        q = ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>',
        r = 'With: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>',
        s = \"Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>\";
    a.commands.find = function(a) {
        p(a), n(a)
    }, a.commands.findPersistent = function(a) {
        p(a), n(a, !1, !0)
    }, a.commands.findNext = n, a.commands.findPrev = function(a) {
        n(a, !0)
    }, a.commands.clearSearch = p, a.commands.replace = u, a.commands.replaceAll = function(a) {
        u(a, !0)
    }
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function c(a, c, e, f) {
        if (this.atOccurrence = !1, this.doc = a, null == f && \"string\" == typeof c && (f = !1), e = e ? a.clipPos(e) : b(0, 0), this.pos = {
                from: e,
                to: e
            }, \"string\" != typeof c) c.global || (c = new RegExp(c.source, c.ignoreCase ? \"ig\" : \"g\")), this.matches = function(d, e) {
            if (d) {
                c.lastIndex = 0;
                for (var h, i, f = a.getLine(e.line).slice(0, e.ch), g = 0;;) {
                    c.lastIndex = g;
                    var j = c.exec(f);
                    if (!j) break;
                    if (h = j, i = h.index, g = h.index + (h[0].length || 1), g == f.length) break
                }
                var k = h && h[0].length || 0;
                k || (0 == i && 0 == f.length ? h = void 0 : i != a.getLine(e.line).length && k++)
            } else {
                c.lastIndex = e.ch;
                var f = a.getLine(e.line),
                    h = c.exec(f),
                    k = h && h[0].length || 0,
                    i = h && h.index;
                i + k == f.length || k || (k = 1)
            }
            return h && k ? {
                from: b(e.line, i),
                to: b(e.line, i + k),
                match: h
            } : void 0
        };
        else {
            var g = c;
            f && (c = c.toLowerCase());
            var h = f ? function(a) {
                    return a.toLowerCase()
                } : function(a) {
                    return a
                },
                i = c.split(\"\\n\");
            if (1 == i.length) c.length ? this.matches = function(e, f) {
                if (e) {
                    var i = a.getLine(f.line).slice(0, f.ch),
                        j = h(i),
                        k = j.lastIndexOf(c);
                    if (k > -1) return k = d(i, j, k), {
                        from: b(f.line, k),
                        to: b(f.line, k + g.length)
                    }
                } else {
                    var i = a.getLine(f.line).slice(f.ch),
                        j = h(i),
                        k = j.indexOf(c);
                    if (k > -1) return k = d(i, j, k) + f.ch, {
                        from: b(f.line, k),
                        to: b(f.line, k + g.length)
                    }
                }
            } : this.matches = function() {};
            else {
                var j = g.split(\"\\n\");
                this.matches = function(c, d) {
                    var e = i.length - 1;
                    if (c) {
                        if (d.line - (i.length - 1) < a.firstLine()) return;
                        if (h(a.getLine(d.line).slice(0, j[e].length)) != i[i.length - 1]) return;
                        for (var f = b(d.line, j[e].length), g = d.line - 1, k = e - 1; k >= 1; --k, --g)
                            if (i[k] != h(a.getLine(g))) return;
                        var l = a.getLine(g),
                            m = l.length - j[0].length;
                        if (h(l.slice(m)) != i[0]) return;
                        return {
                            from: b(g, m),
                            to: f
                        }
                    }
                    if (!(d.line + (i.length - 1) > a.lastLine())) {
                        var l = a.getLine(d.line),
                            m = l.length - j[0].length;
                        if (h(l.slice(m)) == i[0]) {
                            for (var n = b(d.line, m), g = d.line + 1, k = 1; e > k; ++k, ++g)
                                if (i[k] != h(a.getLine(g))) return;
                            if (h(a.getLine(g).slice(0, j[e].length)) == i[e]) return {
                                from: n,
                                to: b(g, j[e].length)
                            }
                        }
                    }
                }
            }
        }
    }

    function d(a, b, c) {
        if (a.length == b.length) return c;
        for (var d = Math.min(c, a.length);;) {
            var e = a.slice(0, d).toLowerCase().length;
            if (c > e) ++d;
            else {
                if (!(e > c)) return d;
                --d
            }
        }
    }
    var b = a.Pos;
    c.prototype = {
        findNext: function() {
            return this.find(!1)
        },
        findPrevious: function() {
            return this.find(!0)
        },
        find: function(a) {
            function e(a) {
                var d = b(a, 0);
                return c.pos = {
                    from: d,
                    to: d
                }, c.atOccurrence = !1, !1
            }
            for (var c = this, d = this.doc.clipPos(a ? this.pos.from : this.pos.to);;) {
                if (this.pos = this.matches(a, d)) return this.atOccurrence = !0, this.pos.match || !0;
                if (a) {
                    if (!d.line) return e(0);
                    d = b(d.line - 1, this.doc.getLine(d.line - 1).length)
                } else {
                    var f = this.doc.lineCount();
                    if (d.line == f - 1) return e(f);
                    d = b(d.line + 1, 0)
                }
            }
        },
        from: function() {
            return this.atOccurrence ? this.pos.from : void 0
        },
        to: function() {
            return this.atOccurrence ? this.pos.to : void 0
        },
        replace: function(c, d) {
            if (this.atOccurrence) {
                var e = a.splitLines(c);
                this.doc.replaceRange(e, this.pos.from, this.pos.to, d), this.pos.to = b(this.pos.from.line + e.length - 1, e[e.length - 1].length + (1 == e.length ? this.pos.from.ch : 0))
            }
        }
    }, a.defineExtension(\"getSearchCursor\", function(a, b, d) {
        return new c(this.doc, a, b, d)
    }), a.defineDocExtension(\"getSearchCursor\", function(a, b, d) {
        return new c(this, a, b, d)
    }), a.defineExtension(\"selectMatches\", function(b, c) {
        for (var d = [], e = this.getSearchCursor(b, this.getCursor(\"from\"), c); e.findNext() && !(a.cmpPos(e.to(), this.getCursor(\"to\")) > 0);) d.push({
            anchor: e.from(),
            head: e.to()
        });
        d.length && this.setSelections(d, 0)
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function d(a, b) {
        this.cm = a, this.options = b, this.widget = null, this.debounce = 0, this.tick = 0, this.startPos = this.cm.getCursor(\"start\"), this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;
        var c = this;
        a.on(\"cursorActivity\", this.activityFunc = function() {
            c.cursorActivity()
        })
    }

    function g(a, b, c) {
        var d = a.options.hintOptions,
            e = {};
        for (var f in n) e[f] = n[f];
        if (d)
            for (var f in d) void 0 !== d[f] && (e[f] = d[f]);
        if (c)
            for (var f in c) void 0 !== c[f] && (e[f] = c[f]);
        return e.hint.resolve && (e.hint = e.hint.resolve(a, b)), e
    }

    function h(a) {
        return \"string\" == typeof a ? a : a.text
    }

    function i(a, b) {
        function f(a, d) {
            var f;
            f = \"string\" != typeof d ? function(a) {
                return d(a, b)
            } : c.hasOwnProperty(d) ? c[d] : d, e[a] = f
        }
        var c = {
                Up: function() {
                    b.moveFocus(-1)
                },
                Down: function() {
                    b.moveFocus(1)
                },
                PageUp: function() {
                    b.moveFocus(-b.menuSize() + 1, !0)
                },
                PageDown: function() {
                    b.moveFocus(b.menuSize() - 1, !0)
                },
                Home: function() {
                    b.setFocus(0)
                },
                End: function() {
                    b.setFocus(b.length - 1)
                },
                Enter: b.pick,
                Tab: b.pick,
                Esc: b.close
            },
            d = a.options.customKeys,
            e = d ? {} : c;
        if (d)
            for (var g in d) d.hasOwnProperty(g) && f(g, d[g]);
        var h = a.options.extraKeys;
        if (h)
            for (var g in h) h.hasOwnProperty(g) && f(g, h[g]);
        return e
    }

    function j(a, b) {
        for (; b && b != a;) {
            if (\"LI\" === b.nodeName.toUpperCase() && b.parentNode == a) return b;
            b = b.parentNode
        }
    }

    function k(d, e) {
        this.completion = d, this.data = e, this.picked = !1;
        var f = this,
            g = d.cm,
            k = this.hints = document.createElement(\"ul\");
        k.className = \"CodeMirror-hints\", this.selectedHint = e.selectedHint || 0;
        for (var l = e.list, m = 0; m < l.length; ++m) {
            var n = k.appendChild(document.createElement(\"li\")),
                o = l[m],
                p = b + (m != this.selectedHint ? \"\" : \" \" + c);
            null != o.className && (p = o.className + \" \" + p), n.className = p, o.render ? o.render(n, e, o) : n.appendChild(document.createTextNode(o.displayText || h(o))), n.hintId = m
        }
        var q = g.cursorCoords(d.options.alignWithWord ? e.from : null),
            r = q.left,
            s = q.bottom,
            t = !0;
        k.style.left = r + \"px\", k.style.top = s + \"px\";
        var u = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth),
            v = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);
        (d.options.container || document.body).appendChild(k);
        var w = k.getBoundingClientRect(),
            x = w.bottom - v;
        if (x > 0) {
            var y = w.bottom - w.top,
                z = q.top - (q.bottom - w.top);
            if (z - y > 0) k.style.top = (s = q.top - y) + \"px\", t = !1;
            else if (y > v) {
                k.style.height = v - 5 + \"px\", k.style.top = (s = q.bottom - w.top) + \"px\";
                var A = g.getCursor();
                e.from.ch != A.ch && (q = g.cursorCoords(A), k.style.left = (r = q.left) + \"px\", w = k.getBoundingClientRect())
            }
        }
        var B = w.right - u;
        if (B > 0 && (w.right - w.left > u && (k.style.width = u - 5 + \"px\", B -= w.right - w.left - u), k.style.left = (r = q.left - B) + \"px\"), g.addKeyMap(this.keyMap = i(d, {
                moveFocus: function(a, b) {
                    f.changeActive(f.selectedHint + a, b)
                },
                setFocus: function(a) {
                    f.changeActive(a)
                },
                menuSize: function() {
                    return f.screenAmount()
                },
                length: l.length,
                close: function() {
                    d.close()
                },
                pick: function() {
                    f.pick()
                },
                data: e
            })), d.options.closeOnUnfocus) {
            var C;
            g.on(\"blur\", this.onBlur = function() {
                C = setTimeout(function() {
                    d.close()
                }, 100)
            }), g.on(\"focus\", this.onFocus = function() {
                clearTimeout(C)
            })
        }
        var D = g.getScrollInfo();
        return g.on(\"scroll\", this.onScroll = function() {
            var a = g.getScrollInfo(),
                b = g.getWrapperElement().getBoundingClientRect(),
                c = s + D.top - a.top,
                e = c - (window.pageYOffset || (document.documentElement || document.body).scrollTop);
            return t || (e += k.offsetHeight), e <= b.top || e >= b.bottom ? d.close() : (k.style.top = c + \"px\", void(k.style.left = r + D.left - a.left + \"px\"))
        }), a.on(k, \"dblclick\", function(a) {
            var b = j(k, a.target || a.srcElement);
            b && null != b.hintId && (f.changeActive(b.hintId), f.pick())
        }), a.on(k, \"click\", function(a) {
            var b = j(k, a.target || a.srcElement);
            b && null != b.hintId && (f.changeActive(b.hintId), d.options.completeOnSingleClick && f.pick())
        }), a.on(k, \"mousedown\", function() {
            setTimeout(function() {
                g.focus()
            }, 20)
        }), a.signal(e, \"select\", l[0], k.firstChild), !0
    }

    function l(a, b) {
        if (!a.somethingSelected()) return b;
        for (var c = [], d = 0; d < b.length; d++) b[d].supportsSelection && c.push(b[d]);
        return c
    }

    function m(b, c) {
        var e, d = b.getHelpers(c, \"hint\");
        if (d.length) {
            for (var g, f = !1, h = 0; h < d.length; h++) d[h].async && (f = !0);
            return f ? (g = function(a, b, c) {
                function f(d, g) {
                    if (d == e.length) return b(null);
                    var h = e[d];
                    if (h.async) h(a, function(a) {
                        a ? b(a) : f(d + 1)
                    }, c);
                    else {
                        var g = h(a, c);
                        g ? b(g) : f(d + 1)
                    }
                }
                var e = l(a, d);
                f(0)
            }, g.async = !0) : g = function(a, b) {
                for (var c = l(a, d), e = 0; e < c.length; e++) {
                    var f = c[e](a, b);
                    if (f && f.list.length) return f
                }
            }, g.supportsSelection = !0, g
        }
        return (e = b.getHelper(b.getCursor(), \"hintWords\")) ? function(b) {
            return a.hint.fromList(b, {
                words: e
            })
        } : a.hint.anyword ? function(b, c) {
            return a.hint.anyword(b, c)
        } : function() {}
    }
    var b = \"CodeMirror-hint\",
        c = \"CodeMirror-hint-active\";
    a.showHint = function(a, b, c) {
        if (!b) return a.showHint(c);
        c && c.async && (b.async = !0);
        var d = {
            hint: b
        };
        if (c)
            for (var e in c) d[e] = c[e];
        return a.showHint(d)
    }, a.defineExtension(\"showHint\", function(b) {
        b = g(this, this.getCursor(\"start\"), b);
        var c = this.listSelections();
        if (!(c.length > 1)) {
            if (this.somethingSelected()) {
                if (!b.hint.supportsSelection) return;
                for (var e = 0; e < c.length; e++)
                    if (c[e].head.line != c[e].anchor.line) return
            }
            this.state.completionActive && this.state.completionActive.close();
            var f = this.state.completionActive = new d(this, b);
            f.options.hint && (a.signal(this, \"startCompletion\", this), f.update(!0))
        }
    });
    var e = window.requestAnimationFrame || function(a) {
            return setTimeout(a, 1e3 / 60)
        },
        f = window.cancelAnimationFrame || clearTimeout;
    d.prototype = {
        close: function() {
            this.active() && (this.cm.state.completionActive = null, this.tick = null, this.cm.off(\"cursorActivity\", this.activityFunc), this.widget && this.data && a.signal(this.data, \"close\"), this.widget && this.widget.close(), a.signal(this.cm, \"endCompletion\", this.cm))
        },
        active: function() {
            return this.cm.state.completionActive == this
        },
        pick: function(b, c) {
            var d = b.list[c];
            d.hint ? d.hint(this.cm, b, d) : this.cm.replaceRange(h(d), d.from || b.from, d.to || b.to, \"complete\"), a.signal(b, \"pick\", d), this.close()
        },
        cursorActivity: function() {
            this.debounce && (f(this.debounce), this.debounce = 0);
            var a = this.cm.getCursor(),
                b = this.cm.getLine(a.line);
            if (a.line != this.startPos.line || b.length - a.ch != this.startLen - this.startPos.ch || a.ch < this.startPos.ch || this.cm.somethingSelected() || a.ch && this.options.closeCharacters.test(b.charAt(a.ch - 1))) this.close();
            else {
                var c = this;
                this.debounce = e(function() {
                    c.update()
                }), this.widget && this.widget.disable()
            }
        },
        update: function(a) {
            if (null != this.tick)
                if (this.options.hint.async) {
                    var b = ++this.tick,
                        c = this;
                    this.options.hint(this.cm, function(d) {
                        c.tick == b && c.finishUpdate(d, a)
                    }, this.options)
                } else this.finishUpdate(this.options.hint(this.cm, this.options), a)
        },
        finishUpdate: function(b, c) {
            this.data && a.signal(this.data, \"update\"), b && this.data && a.cmpPos(b.from, this.data.from) && (b = null), this.data = b;
            var d = this.widget && this.widget.picked || c && this.options.completeSingle;
            this.widget && this.widget.close(), b && b.list.length && (d && 1 == b.list.length ? this.pick(b, 0) : (this.widget = new k(this, b), a.signal(b, \"shown\")))
        }
    }, k.prototype = {
        close: function() {
            if (this.completion.widget == this) {
                this.completion.widget = null, this.hints.parentNode.removeChild(this.hints), this.completion.cm.removeKeyMap(this.keyMap);
                var a = this.completion.cm;
                this.completion.options.closeOnUnfocus && (a.off(\"blur\", this.onBlur), a.off(\"focus\", this.onFocus)), a.off(\"scroll\", this.onScroll)
            }
        },
        disable: function() {
            this.completion.cm.removeKeyMap(this.keyMap);
            var a = this;
            this.keyMap = {
                Enter: function() {
                    a.picked = !0
                }
            }, this.completion.cm.addKeyMap(this.keyMap)
        },
        pick: function() {
            this.completion.pick(this.data, this.selectedHint)
        },
        changeActive: function(b, d) {
            if (b >= this.data.list.length ? b = d ? this.data.list.length - 1 : 0 : 0 > b && (b = d ? 0 : this.data.list.length - 1), this.selectedHint != b) {
                var e = this.hints.childNodes[this.selectedHint];
                e.className = e.className.replace(\" \" + c, \"\"), e = this.hints.childNodes[this.selectedHint = b], e.className += \" \" + c, e.offsetTop < this.hints.scrollTop ? this.hints.scrollTop = e.offsetTop - 3 : e.offsetTop + e.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = e.offsetTop + e.offsetHeight - this.hints.clientHeight + 3), a.signal(this.data, \"select\", this.data.list[this.selectedHint], e)
            }
        },
        screenAmount: function() {
            return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1
        }
    }, a.registerHelper(\"hint\", \"auto\", {
        resolve: m
    }), a.registerHelper(\"hint\", \"fromList\", function(b, c) {
        var d = b.getCursor(),
            e = b.getTokenAt(d),
            f = a.Pos(d.line, e.end);
        if (e.string && /\\w/.test(e.string[e.string.length - 1])) var g = e.string,
            h = a.Pos(d.line, e.start);
        else var g = \"\",
            h = f;
        for (var i = [], j = 0; j < c.words.length; j++) {
            var k = c.words[j];
            k.slice(0, g.length) == g && i.push(k)
        }
        return i.length ? {
            list: i,
            from: h,
            to: f
        } : void 0
    }), a.commands.autocomplete = a.showHint;
    var n = {
        hint: a.hint.auto,
        completeSingle: !0,
        alignWithWord: !0,
        closeCharacters: /[\\s()\\[\\]{};:>,]/,
        closeOnUnfocus: !0,
        completeOnSingleClick: !1,
        container: null,
        customKeys: null,
        extraKeys: null
    };
    a.defineOption(\"hintOptions\", null)
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function e(a, b, c) {
        var d = a.docs[b];
        d ? c(J(a, d)) : a.options.getFile ? a.options.getFile(b, c) : c(null)
    }

    function f(a, b, c) {
        for (var d in a.docs) {
            var e = a.docs[d];
            if (e.doc == b) return e
        }
        if (!c)
            for (var f = 0;; ++f)
                if (d = \"[doc\" + (f || \"\") + \"]\", !a.docs[d]) {
                    c = d;
                    break
                }
        return a.addDoc(c, b)
    }

    function g(b, c) {
        return \"string\" == typeof c ? b.docs[c] : (c instanceof a && (c = c.getDoc()), c instanceof a.Doc ? f(b, c) : void 0)
    }

    function h(a, b, c) {
        var e = f(a, b),
            g = a.cachedArgHints;
        g && g.doc == b && A(g.start, c.to) <= 0 && (a.cachedArgHints = null);
        var h = e.changed;
        null == h && (e.changed = h = {
            from: c.from.line,
            to: c.from.line
        });
        var j = c.from.line + (c.text.length - 1);
        c.from.line < h.to && (h.to = h.to - (c.to.line - j)), j >= h.to && (h.to = j + 1), h.from > c.from.line && (h.from = c.from.line), b.lineCount() > d && c.to - h.from > 100 && setTimeout(function() {
            e.changed && e.changed.to - e.changed.from > 100 && i(a, e)
        }, 200)
    }

    function i(a, b) {
        a.server.request({
            files: [{
                type: \"full\",
                name: b.name,
                text: J(a, b)
            }]
        }, function(a) {
            a ? window.console.error(a) : b.changed = null
        })
    }

    function j(d, e, f) {
        d.request(e, {
            type: \"completions\",
            types: !0,
            docs: !0,
            urls: !0
        }, function(g, h) {
            if (g) return H(d, e, g);
            var i = [],
                j = \"\",
                l = h.start,
                m = h.end;
            '[\"' == e.getRange(b(l.line, l.ch - 2), l) && '\"]' != e.getRange(m, b(m.line, m.ch + 2)) && (j = '\"]');
            for (var n = 0; n < h.completions.length; ++n) {
                var o = h.completions[n],
                    p = k(o.type);
                h.guess && (p += \" \" + c + \"guess\"), i.push({
                    text: o.name + j,
                    displayText: o.displayName || o.name,
                    className: p,
                    data: o
                })
            }
            var q = {
                    from: l,
                    to: m,
                    list: i
                },
                r = null;
            a.on(q, \"close\", function() {
                F(r)
            }), a.on(q, \"update\", function() {
                F(r)
            }), a.on(q, \"select\", function(a, b) {
                F(r);
                var e = d.options.completionTip ? d.options.completionTip(a.data) : a.data.doc;
                e && (r = E(b.parentNode.getBoundingClientRect().right + window.pageXOffset, b.getBoundingClientRect().top + window.pageYOffset, e), r.className += \" \" + c + \"hint-doc\")
            }), f(q)
        })
    }

    function k(a) {
        var b;
        return b = \"?\" == a ? \"unknown\" : \"number\" == a || \"string\" == a || \"bool\" == a ? a : /^fn\\(/.test(a) ? \"fn\" : /^\\[/.test(a) ? \"array\" : \"object\", c + \"completion \" + c + \"completion-\" + b
    }

    function l(a, b, c, d, e) {
        a.request(b, d, function(c, d) {
            if (c) return H(a, b, c);
            if (a.options.typeTip) var f = a.options.typeTip(d);
            else {
                var f = B(\"span\", null, B(\"strong\", null, d.type || \"not found\"));
                if (d.doc && f.appendChild(document.createTextNode(\" \\u2014 \" + d.doc)), d.url) {
                    f.appendChild(document.createTextNode(\" \"));
                    var g = f.appendChild(B(\"a\", null, \"[docs]\"));
                    g.href = d.url, g.target = \"_blank\"
                }
            }
            D(b, f, a), e && e()
        }, c)
    }

    function m(c, d) {
        if (I(c), !d.somethingSelected()) {
            var e = d.getTokenAt(d.getCursor()).state,
                f = a.innerMode(d.getMode(), e);
            if (\"javascript\" == f.mode.name) {
                var g = f.state.lexical;
                if (\"call\" == g.info) {
                    for (var h, i = g.pos || 0, j = d.getOption(\"tabSize\"), k = d.getCursor().line, l = Math.max(0, k - 9), m = !1; k >= l; --k) {
                        for (var p = d.getLine(k), q = 0, r = 0;;) {
                            var s = p.indexOf(\"  \", r);
                            if (-1 == s) break;
                            q += j - (s + q) % j - 1, r = s + 1
                        }
                        if (h = g.column - q, \"(\" == p.charAt(h)) {
                            m = !0;
                            break
                        }
                    }
                    if (m) {
                        var t = b(k, h),
                            u = c.cachedArgHints;
                        return u && u.doc == d.getDoc() && 0 == A(t, u.start) ? n(c, d, i) : void c.request(d, {
                            type: \"type\",
                            preferFunction: !0,
                            end: t
                        }, function(a, b) {
                            !a && b.type && /^fn\\(/.test(b.type) && (c.cachedArgHints = {
                                start: r,
                                type: o(b.type),
                                name: b.exprName || b.name || \"fn\",
                                guess: b.guess,
                                doc: d.getDoc()
                            }, n(c, d, i))
                        })
                    }
                }
            }
        }
    }

    function n(a, b, d) {
        I(a);
        for (var e = a.cachedArgHints, f = e.type, g = B(\"span\", e.guess ? c + \"fhint-guess\" : null, B(\"span\", c + \"fname\", e.name), \"(\"), h = 0; h < f.args.length; ++h) {
            h && g.appendChild(document.createTextNode(\", \"));
            var i = f.args[h];
            g.appendChild(B(\"span\", c + \"farg\" + (h == d ? \" \" + c + \"farg-current\" : \"\"), i.name || \"?\")), \"?\" != i.type && (g.appendChild(document.createTextNode(\":\\xa0\")), g.appendChild(B(\"span\", c + \"type\", i.type)))
        }
        g.appendChild(document.createTextNode(f.rettype ? \") ->\\xa0\" : \")\")), f.rettype && g.appendChild(B(\"span\", c + \"type\", f.rettype));
        var j = b.cursorCoords(null, \"page\");
        a.activeArgHints = E(j.right + 1, j.bottom, g)
    }

    function o(a) {
        function d(b) {
            for (var d = 0, e = c;;) {
                var f = a.charAt(c);
                if (b.test(f) && !d) return a.slice(e, c);
                /[{\\[\\(]/.test(f) ? ++d : /[}\\]\\)]/.test(f) && --d, ++c
            }
        }
        var b = [],
            c = 3;
        if (\")\" != a.charAt(c))
            for (;;) {
                var e = a.slice(c).match(/^([^, \\(\\[\\{]+): /);
                if (e && (c += e[0].length, e = e[1]), b.push({
                        name: e,
                        type: d(/[\\),]/)
                    }), \")\" == a.charAt(c)) break;
                c += 2
            }
        var f = a.slice(c).match(/^\\) -> (.*)\$/);
        return {
            args: b,
            rettype: f && f[1]
        }
    }

    function p(a, b) {
        function c(c) {
            var d = {
                    type: \"definition\",
                    variable: c || null
                },
                e = f(a, b.getDoc());
            a.server.request(y(a, e, d), function(c, d) {
                if (c) return H(a, b, c);
                if (!d.file && d.url) return void window.open(d.url);
                if (d.file) {
                    var g, f = a.docs[d.file];
                    if (f && (g = s(f.doc, d))) return a.jumpStack.push({
                        file: e.name,
                        start: b.getCursor(\"from\"),
                        end: b.getCursor(\"to\")
                    }), void r(a, e, f, g.start, g.end)
                }
                H(a, b, \"Could not find a definition.\")
            })
        }
        t(b) ? c() : C(b, \"Jump to variable\", function(a) {
            a && c(a)
        })
    }

    function q(a, b) {
        var c = a.jumpStack.pop(),
            d = c && a.docs[c.file];
        d && r(a, f(a, b.getDoc()), d, c.start, c.end)
    }

    function r(a, b, c, d, e) {
        c.doc.setSelection(d, e), b != c && a.options.switchToDoc && (I(a), a.options.switchToDoc(c.name, c.doc))
    }

    function s(a, c) {
        for (var d = c.context.slice(0, c.contextOffset).split(\"\\n\"), e = c.start.line - (d.length - 1), f = b(e, (1 == d.length ? c.start.ch : a.getLine(e).length) - d[0].length), g = a.getLine(e).slice(f.ch), h = e + 1; h < a.lineCount() && g.length < c.context.length; ++h) g += \"\\n\" + a.getLine(h);
        if (g.slice(0, c.context.length) == c.context) return c;
        for (var j, i = a.getSearchCursor(c.context, 0, !1), k = 1 / 0; i.findNext();) {
            var l = i.from(),
                m = 1e4 * Math.abs(l.line - f.line);
            m || (m = Math.abs(l.ch - f.ch)), k > m && (j = l, k = m)
        }
        if (!j) return null;
        if (1 == d.length ? j.ch += d[0].length : j = b(j.line + (d.length - 1), d[d.length - 1].length), c.start.line == c.end.line) var n = b(j.line, j.ch + (c.end.ch - c.start.ch));
        else var n = b(j.line + (c.end.line - c.start.line), c.end.ch);
        return {
            start: j,
            end: n
        }
    }

    function t(a) {
        var b = a.getCursor(\"end\"),
            c = a.getTokenAt(b);
        return c.start < b.ch && \"comment\" == c.type ? !1 : /[\\w)\\]]/.test(a.getLine(b.line).slice(Math.max(b.ch - 1, 0), b.ch + 1))
    }

    function u(a, b) {
        var c = b.getTokenAt(b.getCursor());
        return /\\w/.test(c.string) ? void C(b, \"New name for \" + c.string, function(c) {
            a.request(b, {
                type: \"rename\",
                newName: c,
                fullDocs: !0
            }, function(c, d) {
                return c ? H(a, b, c) : void x(a, d.changes)
            })
        }) : H(a, b, \"Not at a variable\")
    }

    function v(a, b) {
        var c = f(a, b.doc).name;
        a.request(b, {
            type: \"refs\"
        }, function(d, e) {
            if (d) return H(a, b, d);
            for (var f = [], g = 0, h = b.getCursor(), i = 0; i < e.refs.length; i++) {
                var j = e.refs[i];
                j.file == c && (f.push({
                    anchor: j.start,
                    head: j.end
                }), A(h, j.start) >= 0 && A(h, j.end) <= 0 && (g = f.length - 1))
            }
            b.setSelections(f, g)
        })
    }

    function x(a, b) {
        for (var c = Object.create(null), d = 0; d < b.length; ++d) {
            var e = b[d];
            (c[e.file] || (c[e.file] = [])).push(e)
        }
        for (var f in c) {
            var g = a.docs[f],
                h = c[f];
            if (g) {
                h.sort(function(a, b) {
                    return A(b.start, a.start)
                });
                for (var i = \"*rename\" + ++w, d = 0; d < h.length; ++d) {
                    var e = h[d];
                    g.doc.replaceRange(e.text, e.start, e.end, i)
                }
            }
        }
    }

    function y(a, c, e, f) {
        var g = [],
            h = 0,
            i = !e.fullDocs;
        i || delete e.fullDocs, \"string\" == typeof e && (e = {
            type: e
        }), e.lineCharPositions = !0, null == e.end && (e.end = f || c.doc.getCursor(\"end\"), c.doc.somethingSelected() && (e.start = c.doc.getCursor(\"start\")));
        var j = e.start || e.end;
        if (c.changed)
            if (c.doc.lineCount() > d && i !== !1 && c.changed.to - c.changed.from < 100 && c.changed.from <= j.line && c.changed.to > e.end.line) {
                g.push(z(c, j, e.end)), e.file = \"#0\";
                var h = g[0].offsetLines;
                null != e.start && (e.start = b(e.start.line - -h, e.start.ch)), e.end = b(e.end.line - h, e.end.ch)
            } else g.push({
                type: \"full\",
                name: c.name,
                text: J(a, c)
            }), e.file = c.name, c.changed = null;
        else e.file = c.name;
        for (var k in a.docs) {
            var l = a.docs[k];
            l.changed && l != c && (g.push({
                type: \"full\",
                name: l.name,
                text: J(a, l)
            }), l.changed = null)
        }
        return {
            query: e,
            files: g
        }
    }

    function z(c, d, e) {
        for (var i, f = c.doc, g = null, h = null, j = 4, k = d.line - 1, l = Math.max(0, k - 50); k >= l; --k) {
            var m = f.getLine(k),
                n = m.search(/\\bfunction\\b/);
            if (!(0 > n)) {
                var o = a.countColumn(m, null, j);
                null != g && o >= g || (g = o, h = k)
            }
        }
        null == h && (h = l);
        var p = Math.min(f.lastLine(), e.line + 20);
        if (null == g || g == a.countColumn(f.getLine(d.line), null, j)) i = p;
        else
            for (i = e.line + 1; p > i; ++i) {
                var o = a.countColumn(f.getLine(i), null, j);
                if (g >= o) break
            }
        var q = b(h, 0);
        return {
            type: \"part\",
            name: c.name,
            offsetLines: q.line,
            text: f.getRange(q, b(i, 0))
        }
    }

    function B(a, b) {
        var c = document.createElement(a);
        b && (c.className = b);
        for (var d = 2; d < arguments.length; ++d) {
            var e = arguments[d];
            \"string\" == typeof e && (e = document.createTextNode(e)), c.appendChild(e)
        }
        return c
    }

    function C(a, b, c) {
        a.openDialog ? a.openDialog(b + \": <input type=text>\", c) : c(prompt(b, \"\"))
    }

    function D(b, c, d) {
        function g() {
            j = !0, i || h()
        }

        function h() {
            b.state.ternTooltip = null, f.parentNode && (b.off(\"cursorActivity\", h), b.off(\"blur\", h), b.off(\"scroll\", h), G(f))
        }
        b.state.ternTooltip && F(b.state.ternTooltip);
        var e = b.cursorCoords(),
            f = b.state.ternTooltip = E(e.right + 1, e.bottom, c),
            i = !1,
            j = !1;
        a.on(f, \"mousemove\", function() {
            i = !0
        }), a.on(f, \"mouseout\", function(b) {
            a.contains(f, b.relatedTarget || b.toElement) || (j ? h() : i = !1)
        }), setTimeout(g, d.options.hintDelay ? d.options.hintDelay : 1700), b.on(\"cursorActivity\", h), b.on(\"blur\", h), b.on(\"scroll\", h)
    }

    function E(a, b, d) {
        var e = B(\"div\", c + \"tooltip\", d);
        return e.style.left = a + \"px\", e.style.top = b + \"px\", document.body.appendChild(e), e
    }

    function F(a) {
        var b = a && a.parentNode;
        b && b.removeChild(a)
    }

    function G(a) {
        a.style.opacity = \"0\", setTimeout(function() {
            F(a)
        }, 1100)
    }

    function H(a, b, c) {
        a.options.showError ? a.options.showError(b, c) : D(b, String(c), a)
    }

    function I(a) {
        a.activeArgHints && (F(a.activeArgHints), a.activeArgHints = null)
    }

    function J(a, b) {
        var c = b.doc.getValue();
        return a.options.fileFilter && (c = a.options.fileFilter(c, b.name, b.doc)), c
    }

    function K(a) {
        function f(a, e) {
            e && (a.id = ++c, d[c] = e), b.postMessage(a)
        }
        var b = a.worker = new Worker(a.options.workerScript);
        b.postMessage({
            type: \"init\",
            defs: a.options.defs,
            plugins: a.options.plugins,
            scripts: a.options.workerDeps
        });
        var c = 0,
            d = {};
        b.onmessage = function(b) {
            var c = b.data;
            \"getFile\" == c.type ? e(a, c.name, function(a, b) {
                f({
                    type: \"getFile\",
                    err: String(a),
                    text: b,
                    id: c.id
                })
            }) : \"debug\" == c.type ? window.console.log(c.message) : c.id && d[c.id] && (d[c.id](c.err, c.body), delete d[c.id])
        }, b.onerror = function(a) {
            for (var b in d) d[b](a);
            d = {}
        }, this.addFile = function(a, b) {
            f({
                type: \"add\",
                name: a,
                text: b
            })
        }, this.delFile = function(a) {
            f({
                type: \"del\",
                name: a
            })
        }, this.request = function(a, b) {
            f({
                type: \"req\",
                body: a
            }, b)
        }
    }
    a.TernServer = function(a) {
        var b = this;
        this.options = a || {};
        var c = this.options.plugins || (this.options.plugins = {});
        c.doc_comment || (c.doc_comment = !0), this.docs = Object.create(null), this.options.useWorker ? this.server = new K(this) : this.server = new tern.Server({
            getFile: function(a, c) {
                return e(b, a, c)
            },
            async: !0,
            defs: this.options.defs || [],
            plugins: c
        }), this.trackChange = function(a, c) {
            h(b, a, c)
        }, this.cachedArgHints = null, this.activeArgHints = null, this.jumpStack = [], this.getHint = function(a, c) {
            return j(b, a, c)
        }, this.getHint.async = !0
    }, a.TernServer.prototype = {
        addDoc: function(b, c) {
            var d = {
                doc: c,
                name: b,
                changed: null
            };
            return this.server.addFile(b, J(this, d)), a.on(c, \"change\", this.trackChange), this.docs[b] = d
        },
        delDoc: function(b) {
            var c = g(this, b);
            c && (a.off(c.doc, \"change\", this.trackChange), delete this.docs[c.name], this.server.delFile(c.name))
        },
        hideDoc: function(a) {
            I(this);
            var b = g(this, a);
            b && b.changed && i(this, b)
        },
        complete: function(a) {
            a.showHint({
                hint: this.getHint
            })
        },
        showType: function(a, b, c) {
            l(this, a, b, \"type\", c)
        },
        showDocs: function(a, b, c) {
            l(this, a, b, \"documentation\", c)
        },
        updateArgHints: function(a) {
            m(this, a)
        },
        jumpToDef: function(a) {
            p(this, a)
        },
        jumpBack: function(a) {
            q(this, a)
        },
        rename: function(a) {
            u(this, a)
        },
        selectName: function(a) {
            v(this, a)
        },
        request: function(a, b, c, d) {
            var e = this,
                g = f(this, a.getDoc()),
                h = y(this, g, b, d),
                i = h.query && this.options.queryOptions && this.options.queryOptions[h.query.type];
            if (i)
                for (var j in i) h.query[j] = i[j];
            this.server.request(h, function(a, d) {
                !a && e.options.responseFilter && (d = e.options.responseFilter(g, b, h, a, d)), c(a, d)
            })
        },
        destroy: function() {
            this.worker && (this.worker.terminate(), this.worker = null)
        }
    };
    var b = a.Pos,
        c = \"CodeMirror-Tern-\",
        d = 250,
        w = 0,
        A = a.cmpPos
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, b.acorn = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./identifier\"),
                g = a(\"./util\"),
                h = e.Parser.prototype;
            h.checkPropClash = function(a, b) {
                if (!(this.options.ecmaVersion >= 6 && (a.computed || a.method || a.shorthand))) {
                    var c = a.key,
                        d = void 0;
                    switch (c.type) {
                        case \"Identifier\":
                            d = c.name;
                            break;
                        case \"Literal\":
                            d = String(c.value);
                            break;
                        default:
                            return
                    }
                    var e = a.kind;
                    if (this.options.ecmaVersion >= 6) return void(\"__proto__\" === d && \"init\" === e && (b.proto && this.raise(c.start, \"Redefinition of __proto__ property\"), b.proto = !0));
                    var f = void 0;
                    if (g.has(b, d)) {
                        f = b[d];
                        var h = \"init\" !== e;
                        ((this.strict || h) && f[e] || !(h ^ f.init)) && this.raise(c.start, \"Redefinition of property\")
                    } else f = b[d] = {
                        init: !1,
                        get: !1,
                        set: !1
                    };
                    f[e] = !0
                }
            }, h.parseExpression = function(a, b) {
                var c = this.start,
                    e = this.startLoc,
                    f = this.parseMaybeAssign(a, b);
                if (this.type === d.types.comma) {
                    var g = this.startNodeAt(c, e);
                    for (g.expressions = [f]; this.eat(d.types.comma);) g.expressions.push(this.parseMaybeAssign(a, b));
                    return this.finishNode(g, \"SequenceExpression\")
                }
                return f
            }, h.parseMaybeAssign = function(a, b, c) {
                if (this.type == d.types._yield && this.inGenerator) return this.parseYield();
                var e = void 0;
                b ? e = !1 : (b = {
                    start: 0
                }, e = !0);
                var f = this.start,
                    g = this.startLoc;
                (this.type == d.types.parenL || this.type == d.types.name) && (this.potentialArrowAt = this.start);
                var h = this.parseMaybeConditional(a, b);
                if (c && (h = c.call(this, h, f, g)), this.type.isAssign) {
                    var i = this.startNodeAt(f, g);
                    return i.operator = this.value, i.left = this.type === d.types.eq ? this.toAssignable(h) : h, b.start = 0, this.checkLVal(h), this.next(), i.right = this.parseMaybeAssign(a), this.finishNode(i, \"AssignmentExpression\")
                }
                return e && b.start && this.unexpected(b.start), h
            }, h.parseMaybeConditional = function(a, b) {
                var c = this.start,
                    e = this.startLoc,
                    f = this.parseExprOps(a, b);
                if (b && b.start) return f;
                if (this.eat(d.types.question)) {
                    var g = this.startNodeAt(c, e);
                    return g.test = f, g.consequent = this.parseMaybeAssign(), this.expect(d.types.colon), g.alternate = this.parseMaybeAssign(a), this.finishNode(g, \"ConditionalExpression\")
                }
                return f
            }, h.parseExprOps = function(a, b) {
                var c = this.start,
                    d = this.startLoc,
                    e = this.parseMaybeUnary(b);
                return b && b.start ? e : this.parseExprOp(e, c, d, -1, a)
            }, h.parseExprOp = function(a, b, c, e, f) {
                var g = this.type.binop;
                if (null != g && (!f || this.type !== d.types._in) && g > e) {
                    var h = this.startNodeAt(b, c);
                    h.left = a, h.operator = this.value;
                    var i = this.type;
                    this.next();
                    var j = this.start,
                        k = this.startLoc;
                    return h.right = this.parseExprOp(this.parseMaybeUnary(), j, k, g, f), this.finishNode(h, i === d.types.logicalOR || i === d.types.logicalAND ? \"LogicalExpression\" : \"BinaryExpression\"), this.parseExprOp(h, b, c, e, f)
                }
                return a
            }, h.parseMaybeUnary = function(a) {
                if (this.type.prefix) {
                    var b = this.startNode(),
                        c = this.type === d.types.incDec;
                    return b.operator = this.value, b.prefix = !0, this.next(), b.argument = this.parseMaybeUnary(), a && a.start && this.unexpected(a.start), c ? this.checkLVal(b.argument) : this.strict && \"delete\" === b.operator && \"Identifier\" === b.argument.type && this.raise(b.start, \"Deleting local variable in strict mode\"), this.finishNode(b, c ? \"UpdateExpression\" : \"UnaryExpression\")
                }
                var e = this.start,
                    f = this.startLoc,
                    g = this.parseExprSubscripts(a);
                if (a && a.start) return g;
                for (; this.type.postfix && !this.canInsertSemicolon();) {
                    var b = this.startNodeAt(e, f);
                    b.operator = this.value, b.prefix = !1, b.argument = g, this.checkLVal(g), this.next(), g = this.finishNode(b, \"UpdateExpression\")
                }
                return g
            }, h.parseExprSubscripts = function(a) {
                var b = this.start,
                    c = this.startLoc,
                    d = this.parseExprAtom(a);
                return a && a.start ? d : this.parseSubscripts(d, b, c)
            }, h.parseSubscripts = function(a, b, c, e) {
                for (;;)
                    if (this.eat(d.types.dot)) {
                        var f = this.startNodeAt(b, c);
                        f.object = a, f.property = this.parseIdent(!0), f.computed = !1, a = this.finishNode(f, \"MemberExpression\")
                    } else if (this.eat(d.types.bracketL)) {
                    var f = this.startNodeAt(b, c);
                    f.object = a, f.property = this.parseExpression(), f.computed = !0, this.expect(d.types.bracketR), a = this.finishNode(f, \"MemberExpression\")
                } else if (!e && this.eat(d.types.parenL)) {
                    var f = this.startNodeAt(b, c);
                    f.callee = a, f.arguments = this.parseExprList(d.types.parenR, !1), a = this.finishNode(f, \"CallExpression\")
                } else {
                    if (this.type !== d.types.backQuote) return a;
                    var f = this.startNodeAt(b, c);
                    f.tag = a, f.quasi = this.parseTemplate(), a = this.finishNode(f, \"TaggedTemplateExpression\")
                }
            }, h.parseExprAtom = function(a) {
                var b = void 0,
                    c = this.potentialArrowAt == this.start;
                switch (this.type) {
                    case d.types._super:
                        this.inFunction || this.raise(this.start, \"'super' outside of function or class\");
                    case d.types._this:
                        var e = this.type === d.types._this ? \"ThisExpression\" : \"Super\";
                        return b = this.startNode(), this.next(), this.finishNode(b, e);
                    case d.types._yield:
                        this.inGenerator && this.unexpected();
                    case d.types.name:
                        var f = this.start,
                            g = this.startLoc,
                            h = this.parseIdent(this.type !== d.types.name);
                        return c && !this.canInsertSemicolon() && this.eat(d.types.arrow) ? this.parseArrowExpression(this.startNodeAt(f, g), [h]) : h;
                    case d.types.regexp:
                        var i = this.value;
                        return b = this.parseLiteral(i.value), b.regex = {
                            pattern: i.pattern,
                            flags: i.flags
                        }, b;
                    case d.types.num:
                    case d.types.string:
                        return this.parseLiteral(this.value);
                    case d.types._null:
                    case d.types._true:
                    case d.types._false:
                        return b = this.startNode(), b.value = this.type === d.types._null ? null : this.type === d.types._true, b.raw = this.type.keyword, this.next(), this.finishNode(b, \"Literal\");
                    case d.types.parenL:
                        return this.parseParenAndDistinguishExpression(c);
                    case d.types.bracketL:
                        return b = this.startNode(), this.next(), this.options.ecmaVersion >= 7 && this.type === d.types._for ? this.parseComprehension(b, !1) : (b.elements = this.parseExprList(d.types.bracketR, !0, !0, a), this.finishNode(b, \"ArrayExpression\"));
                    case d.types.braceL:
                        return this.parseObj(!1, a);
                    case d.types._function:
                        return b = this.startNode(), this.next(), this.parseFunction(b, !1);
                    case d.types._class:
                        return this.parseClass(this.startNode(), !1);
                    case d.types._new:
                        return this.parseNew();
                    case d.types.backQuote:
                        return this.parseTemplate();
                    default:
                        this.unexpected()
                }
            }, h.parseLiteral = function(a) {
                var b = this.startNode();
                return b.value = a, b.raw = this.input.slice(this.start, this.end), this.next(), this.finishNode(b, \"Literal\")
            }, h.parseParenExpression = function() {
                this.expect(d.types.parenL);
                var a = this.parseExpression();
                return this.expect(d.types.parenR), a
            }, h.parseParenAndDistinguishExpression = function(a) {
                var b = this.start,
                    c = this.startLoc,
                    e = void 0;
                if (this.options.ecmaVersion >= 6) {
                    if (this.next(), this.options.ecmaVersion >= 7 && this.type === d.types._for) return this.parseComprehension(this.startNodeAt(b, c), !0);
                    for (var f = this.start, g = this.startLoc, h = [], i = !0, j = {
                            start: 0
                        }, k = void 0, l = void 0; this.type !== d.types.parenR;) {
                        if (i ? i = !1 : this.expect(d.types.comma), this.type === d.types.ellipsis) {
                            k = this.start, h.push(this.parseParenItem(this.parseRest()));
                            break
                        }
                        this.type !== d.types.parenL || l || (l = this.start), h.push(this.parseMaybeAssign(!1, j, this.parseParenItem))
                    }
                    var m = this.start,
                        n = this.startLoc;
                    if (this.expect(d.types.parenR), a && !this.canInsertSemicolon() && this.eat(d.types.arrow)) return l && this.unexpected(l), this.parseParenArrowList(b, c, h);
                    h.length || this.unexpected(this.lastTokStart), k && this.unexpected(k), j.start && this.unexpected(j.start), h.length > 1 ? (e = this.startNodeAt(f, g), e.expressions = h, this.finishNodeAt(e, \"SequenceExpression\", m, n)) : e = h[0]
                } else e = this.parseParenExpression();
                if (this.options.preserveParens) {
                    var o = this.startNodeAt(b, c);
                    return o.expression = e, this.finishNode(o, \"ParenthesizedExpression\")
                }
                return e
            }, h.parseParenItem = function(a) {
                return a
            }, h.parseParenArrowList = function(a, b, c) {
                return this.parseArrowExpression(this.startNodeAt(a, b), c)
            };
            var i = [];
            h.parseNew = function() {
                var a = this.startNode(),
                    b = this.parseIdent(!0);
                if (this.options.ecmaVersion >= 6 && this.eat(d.types.dot)) return a.meta = b, a.property = this.parseIdent(!0), \"target\" !== a.property.name && this.raise(a.property.start, \"The only valid meta property for new is new.target\"), this.finishNode(a, \"MetaProperty\");
                var c = this.start,
                    e = this.startLoc;
                return a.callee = this.parseSubscripts(this.parseExprAtom(), c, e, !0), this.eat(d.types.parenL) ? a.arguments = this.parseExprList(d.types.parenR, !1) : a.arguments = i, this.finishNode(a, \"NewExpression\")
            }, h.parseTemplateElement = function() {
                var a = this.startNode();
                return a.value = {
                    raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),
                    cooked: this.value
                }, this.next(), a.tail = this.type === d.types.backQuote, this.finishNode(a, \"TemplateElement\")
            }, h.parseTemplate = function() {
                var a = this.startNode();
                this.next(), a.expressions = [];
                var b = this.parseTemplateElement();
                for (a.quasis = [b]; !b.tail;) this.expect(d.types.dollarBraceL), a.expressions.push(this.parseExpression()), this.expect(d.types.braceR), a.quasis.push(b = this.parseTemplateElement());
                return this.next(), this.finishNode(a, \"TemplateLiteral\")
            }, h.parseObj = function(a, b) {
                var c = this.startNode(),
                    e = !0,
                    f = {};
                for (c.properties = [], this.next(); !this.eat(d.types.braceR);) {
                    if (e) e = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var g = this.startNode(),
                        h = void 0,
                        i = void 0,
                        j = void 0;
                    this.options.ecmaVersion >= 6 && (g.method = !1, g.shorthand = !1, (a || b) && (i = this.start, j = this.startLoc), a || (h = this.eat(d.types.star))), this.parsePropertyName(g), this.parsePropertyValue(g, a, h, i, j, b), this.checkPropClash(g, f), c.properties.push(this.finishNode(g, \"Property\"))
                }
                return this.finishNode(c, a ? \"ObjectPattern\" : \"ObjectExpression\")
            }, h.parsePropertyValue = function(a, b, c, e, g, h) {
                if (this.eat(d.types.colon)) a.value = b ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(!1, h), a.kind = \"init\";
                else if (this.options.ecmaVersion >= 6 && this.type === d.types.parenL) b && this.unexpected(), a.kind = \"init\", a.method = !0, a.value = this.parseMethod(c);
                else if (this.options.ecmaVersion >= 5 && !a.computed && \"Identifier\" === a.key.type && (\"get\" === a.key.name || \"set\" === a.key.name) && this.type != d.types.comma && this.type != d.types.braceR) {
                    (c || b) && this.unexpected(), a.kind = a.key.name, this.parsePropertyName(a), a.value = this.parseMethod(!1);
                    var i = \"get\" === a.kind ? 0 : 1;
                    if (a.value.params.length !== i) {
                        var j = a.value.start;
                        \"get\" === a.kind ? this.raise(j, \"getter should have no params\") : this.raise(j, \"setter should have exactly one param\")
                    }
                } else this.options.ecmaVersion >= 6 && !a.computed && \"Identifier\" === a.key.type ? (a.kind = \"init\", b ? ((this.isKeyword(a.key.name) || this.strict && (f.reservedWords.strictBind(a.key.name) || f.reservedWords.strict(a.key.name)) || !this.options.allowReserved && this.isReservedWord(a.key.name)) && this.raise(a.key.start, \"Binding \" + a.key.name), a.value = this.parseMaybeDefault(e, g, a.key)) : this.type === d.types.eq && h ? (h.start || (h.start = this.start), a.value = this.parseMaybeDefault(e, g, a.key)) : a.value = a.key, a.shorthand = !0) : this.unexpected()
            }, h.parsePropertyName = function(a) {
                if (this.options.ecmaVersion >= 6) {
                    if (this.eat(d.types.bracketL)) return a.computed = !0, a.key = this.parseMaybeAssign(), this.expect(d.types.bracketR), a.key;
                    a.computed = !1
                }
                return a.key = this.type === d.types.num || this.type === d.types.string ? this.parseExprAtom() : this.parseIdent(!0)
            }, h.initFunction = function(a) {
                a.id = null, this.options.ecmaVersion >= 6 && (a.generator = !1, a.expression = !1)
            }, h.parseMethod = function(a) {
                var b = this.startNode();
                this.initFunction(b), this.expect(d.types.parenL), b.params = this.parseBindingList(d.types.parenR, !1, !1);
                return this.options.ecmaVersion >= 6 && (b.generator = a), this.parseFunctionBody(b, !1), this.finishNode(b, \"FunctionExpression\")
            }, h.parseArrowExpression = function(a, b) {
                return this.initFunction(a), a.params = this.toAssignableList(b, !0), this.parseFunctionBody(a, !0), this.finishNode(a, \"ArrowFunctionExpression\")
            }, h.parseFunctionBody = function(a, b) {
                var c = b && this.type !== d.types.braceL;
                if (c) a.body = this.parseMaybeAssign(), a.expression = !0;
                else {
                    var e = this.inFunction,
                        f = this.inGenerator,
                        g = this.labels;
                    this.inFunction = !0, this.inGenerator = a.generator, this.labels = [], a.body = this.parseBlock(!0), a.expression = !1, this.inFunction = e, this.inGenerator = f, this.labels = g
                }
                if (this.strict || !c && a.body.body.length && this.isUseStrict(a.body.body[0])) {
                    var h = {},
                        i = this.strict;
                    this.strict = !0, a.id && this.checkLVal(a.id, !0);
                    for (var j = 0; j < a.params.length; j++) this.checkLVal(a.params[j], !0, h);
                    this.strict = i
                }
            }, h.parseExprList = function(a, b, c, e) {
                for (var f = [], g = !0; !this.eat(a);) {
                    if (g) g = !1;
                    else if (this.expect(d.types.comma), b && this.afterTrailingComma(a)) break;
                    var h = void 0;
                    h = c && this.type === d.types.comma ? null : this.type === d.types.ellipsis ? this.parseSpread(e) : this.parseMaybeAssign(!1, e), f.push(h)
                }
                return f
            }, h.parseIdent = function(a) {
                var b = this.startNode();
                return a && \"never\" == this.options.allowReserved && (a = !1), this.type === d.types.name ? (!a && (!this.options.allowReserved && this.isReservedWord(this.value) || this.strict && f.reservedWords.strict(this.value) && (this.options.ecmaVersion >= 6 || -1 == this.input.slice(this.start, this.end).indexOf(\"\\\\\"))) && this.raise(this.start, \"The keyword '\" + this.value + \"' is reserved\"), b.name = this.value) : a && this.type.keyword ? b.name = this.type.keyword : this.unexpected(), this.next(), this.finishNode(b, \"Identifier\")
            }, h.parseYield = function() {
                var a = this.startNode();
                return this.next(), this.type == d.types.semi || this.canInsertSemicolon() || this.type != d.types.star && !this.type.startsExpr ? (a.delegate = !1, a.argument = null) : (a.delegate = this.eat(d.types.star), a.argument = this.parseMaybeAssign()), this.finishNode(a, \"YieldExpression\")
            }, h.parseComprehension = function(a, b) {
                for (a.blocks = []; this.type === d.types._for;) {
                    var c = this.startNode();
                    this.next(), this.expect(d.types.parenL), c.left = this.parseBindingAtom(), this.checkLVal(c.left, !0), this.expectContextual(\"of\"), c.right = this.parseExpression(), this.expect(d.types.parenR), a.blocks.push(this.finishNode(c, \"ComprehensionBlock\"))
                }
                return a.filter = this.eat(d.types._if) ? this.parseParenExpression() : null, a.body = this.parseExpression(), this.expect(b ? d.types.parenR : d.types.bracketR), a.generator = b, this.finishNode(a, \"ComprehensionExpression\")
            }
        }, {
            \"./identifier\": 2,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./util\": 15
        }],
        2: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                function f(a) {
                    if (1 == a.length) return b += \"return str === \" + JSON.stringify(a[0]) + \";\";
                    b += \"switch(str){\";
                    for (var c = 0; c < a.length; ++c) b += \"case \" + JSON.stringify(a[c]) + \":\";
                    b += \"return true}return false;\"
                }
                a = a.split(\" \");
                var b = \"\",
                    c = [];
                a: for (var d = 0; d < a.length; ++d) {
                    for (var e = 0; e < c.length; ++e)
                        if (c[e][0].length == a[d].length) {
                            c[e].push(a[d]);
                            continue a
                        }
                    c.push([a[d]])
                }
                if (c.length > 3) {
                    c.sort(function(a, b) {
                        return b.length - a.length
                    }), b += \"switch(str.length){\";
                    for (var d = 0; d < c.length; ++d) {
                        var g = c[d];
                        b += \"case \" + g[0].length + \":\", f(g)
                    }
                    b += \"}\"
                } else f(a);
                return new Function(\"str\", b)
            }

            function n(a, b) {
                for (var c = 65536, d = 0; d < b.length; d += 2) {
                    if (c += b[d], c > a) return !1;
                    if (c += b[d + 1], c >= a) return !0
                }
            }

            function o(a, b) {
                return 65 > a ? 36 === a : 91 > a ? !0 : 97 > a ? 95 === a : 123 > a ? !0 : 65535 >= a ? a >= 170 && j.test(String.fromCharCode(a)) : b === !1 ? !1 : n(a, l)
            }

            function p(a, b) {
                return 48 > a ? 36 === a : 58 > a ? !0 : 65 > a ? !1 : 91 > a ? !0 : 97 > a ? 95 === a : 123 > a ? !0 : 65535 >= a ? a >= 170 && k.test(String.fromCharCode(a)) : b === !1 ? !1 : n(a, l) || n(a, m)
            }
            c.__esModule = !0, c.isIdentifierStart = o, c.isIdentifierChar = p;
            var e = {
                3: d(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\"),
                5: d(\"class enum extends super const export import\"),
                6: d(\"enum await\"),
                strict: d(\"implements interface let package private protected public static yield\"),
                strictBind: d(\"eval arguments\")
            };
            c.reservedWords = e;
            var f = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\",
                g = {
                    5: d(f),
                    6: d(f + \" let const class extends export import yield super\")
                };
            c.keywords = g;
            var h = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0-\\u08b2\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua7ad\\ua7b0\\ua7b1\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab5f\\uab64\\uab65\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\",
                i = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e4-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d01-\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19b0-\\u19c0\\u19c8\\u19c9\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2-\\u1cf4\\u1cf8\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua900-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2d\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\",
                j = new RegExp(\"[\" + h + \"]\"),
                k = new RegExp(\"[\" + h + i + \"]\");
            h = i = null;
            var l = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 17, 26, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 99, 39, 9, 51, 157, 310, 10, 21, 11, 7, 153, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 98, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 26, 45, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 955, 52, 76, 44, 33, 24, 27, 35, 42, 34, 4, 0, 13, 47, 15, 3, 22, 0, 38, 17, 2, 24, 133, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 32, 4, 287, 47, 21, 1, 2, 0, 185, 46, 82, 47, 21, 0, 60, 42, 502, 63, 32, 0, 449, 56, 1288, 920, 104, 110, 2962, 1070, 13266, 568, 8, 30, 114, 29, 19, 47, 17, 3, 32, 20, 6, 18, 881, 68, 12, 0, 67, 12, 16481, 1, 3071, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 4149, 196, 1340, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42710, 42, 4148, 12, 221, 16355, 541],
                m = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 1306, 2, 54, 14, 32, 9, 16, 3, 46, 10, 54, 9, 7, 2, 37, 13, 2, 9, 52, 0, 13, 2, 49, 13, 16, 9, 83, 11, 168, 11, 6, 9, 8, 2, 57, 0, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 316, 19, 13, 9, 214, 6, 3, 8, 112, 16, 16, 9, 82, 12, 9, 9, 535, 9, 20855, 9, 135, 4, 60, 6, 26, 9, 1016, 45, 17, 3, 19723, 1, 5319, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 4305, 6, 792618, 239]
        }, {}],
        3: [function(a, b, c) {
            \"use strict\";

            function n(a, b) {
                return new d.Parser(b, a).parse()
            }

            function o(a, b, c) {
                var e = new d.Parser(c, a, b);
                return e.nextToken(), e.parseExpression()
            }

            function p(a, b) {
                return new d.Parser(b, a)
            }
            c.__esModule = !0, c.parse = n, c.parseExpressionAt = o, c.tokenizer = p;
            var d = a(\"./state\"),
                e = a(\"./options\");
            a(\"./parseutil\"), a(\"./statement\"), a(\"./lval\"), a(\"./expression\"), a(\"./location\"), c.Parser = d.Parser, c.plugins = d.plugins, c.defaultOptions = e.defaultOptions;
            var f = a(\"./locutil\");
            c.Position = f.Position, c.SourceLocation = f.SourceLocation, c.getLineInfo = f.getLineInfo;
            var g = a(\"./node\");
            c.Node = g.Node;
            var h = a(\"./tokentype\");
            c.TokenType = h.TokenType, c.tokTypes = h.types;
            var i = a(\"./tokencontext\");
            c.TokContext = i.TokContext, c.tokContexts = i.types;
            var j = a(\"./identifier\");
            c.isIdentifierChar = j.isIdentifierChar, c.isIdentifierStart = j.isIdentifierStart;
            var k = a(\"./tokenize\");
            c.Token = k.Token;
            var l = a(\"./whitespace\");
            c.isNewLine = l.isNewLine, c.lineBreak = l.lineBreak, c.lineBreakG = l.lineBreakG;
            var m = \"2.4.0\";
            c.version = m
        }, {
            \"./expression\": 1,
            \"./identifier\": 2,
            \"./location\": 4,
            \"./locutil\": 5,
            \"./lval\": 6,
            \"./node\": 7,
            \"./options\": 8,
            \"./parseutil\": 9,
            \"./state\": 10,
            \"./statement\": 11,
            \"./tokencontext\": 12,
            \"./tokenize\": 13,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        4: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./locutil\"),
                f = d.Parser.prototype;
            f.raise = function(a, b) {
                var c = e.getLineInfo(this.input, a);
                b += \" (\" + c.line + \":\" + c.column + \")\";
                var d = new SyntaxError(b);
                throw d.pos = a, d.loc = c, d.raisedAt = this.pos, d
            }, f.curPosition = function() {
                return this.options.locations ? new e.Position(this.curLine, this.pos - this.lineStart) : void 0
            }
        }, {
            \"./locutil\": 5,
            \"./state\": 10
        }],
        5: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function h(a, b) {
                for (var c = 1, d = 0;;) {
                    e.lineBreakG.lastIndex = d;
                    var g = e.lineBreakG.exec(a);
                    if (!(g && g.index < b)) return new f(c, b - d);
                    ++c, d = g.index + g[0].length
                }
            }
            c.__esModule = !0, c.getLineInfo = h;
            var e = a(\"./whitespace\"),
                f = function() {
                    function a(b, c) {
                        d(this, a), this.line = b, this.column = c
                    }
                    return a.prototype.offset = function(b) {
                        return new a(this.line, this.column + b)
                    }, a
                }();
            c.Position = f;
            var g = function i(a, b, c) {
                d(this, i), this.start = b, this.end = c, null !== a.sourceFile && (this.source = a.sourceFile)
            };
            c.SourceLocation = g
        }, {
            \"./whitespace\": 16
        }],
        6: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./identifier\"),
                g = a(\"./util\"),
                h = e.Parser.prototype;
            h.toAssignable = function(a, b) {
                if (this.options.ecmaVersion >= 6 && a) switch (a.type) {
                    case \"Identifier\":
                    case \"ObjectPattern\":
                    case \"ArrayPattern\":
                    case \"AssignmentPattern\":
                        break;
                    case \"ObjectExpression\":
                        a.type = \"ObjectPattern\";
                        for (var c = 0; c < a.properties.length; c++) {
                            var d = a.properties[c];
                            \"init\" !== d.kind && this.raise(d.key.start, \"Object pattern can't contain getter or setter\"), this.toAssignable(d.value, b)
                        }
                        break;
                    case \"ArrayExpression\":
                        a.type = \"ArrayPattern\", this.toAssignableList(a.elements, b);
                        break;
                    case \"AssignmentExpression\":
                        \"=\" === a.operator ? (a.type = \"AssignmentPattern\", delete a.operator) : this.raise(a.left.end, \"Only '=' operator can be used for specifying default value.\");
                        break;
                    case \"ParenthesizedExpression\":
                        a.expression = this.toAssignable(a.expression, b);
                        break;
                    case \"MemberExpression\":
                        if (!b) break;
                    default:
                        this.raise(a.start, \"Assigning to rvalue\")
                }
                return a
            }, h.toAssignableList = function(a, b) {
                var c = a.length;
                if (c) {
                    var d = a[c - 1];
                    if (d && \"RestElement\" == d.type) --c;
                    else if (d && \"SpreadElement\" == d.type) {
                        d.type = \"RestElement\";
                        var e = d.argument;
                        this.toAssignable(e, b), \"Identifier\" !== e.type && \"MemberExpression\" !== e.type && \"ArrayPattern\" !== e.type && this.unexpected(e.start), --c
                    }
                }
                for (var f = 0; c > f; f++) {
                    var g = a[f];
                    g && this.toAssignable(g, b)
                }
                return a
            }, h.parseSpread = function(a) {
                var b = this.startNode();
                return this.next(), b.argument = this.parseMaybeAssign(a), this.finishNode(b, \"SpreadElement\")
            }, h.parseRest = function() {
                var a = this.startNode();
                return this.next(), a.argument = this.type === d.types.name || this.type === d.types.bracketL ? this.parseBindingAtom() : this.unexpected(), this.finishNode(a, \"RestElement\")
            }, h.parseBindingAtom = function() {
                if (this.options.ecmaVersion < 6) return this.parseIdent();
                switch (this.type) {
                    case d.types.name:
                        return this.parseIdent();
                    case d.types.bracketL:
                        var a = this.startNode();
                        return this.next(), a.elements = this.parseBindingList(d.types.bracketR, !0, !0), this.finishNode(a, \"ArrayPattern\");
                    case d.types.braceL:
                        return this.parseObj(!0);
                    default:
                        this.unexpected()
                }
            }, h.parseBindingList = function(a, b, c) {
                for (var e = [], f = !0; !this.eat(a);)
                    if (f ? f = !1 : this.expect(d.types.comma), b && this.type === d.types.comma) e.push(null);
                    else {
                        if (c && this.afterTrailingComma(a)) break;
                        if (this.type === d.types.ellipsis) {
                            var g = this.parseRest();
                            this.parseBindingListItem(g), e.push(g), this.expect(a);
                            break
                        }
                        var h = this.parseMaybeDefault(this.start, this.startLoc);
                        this.parseBindingListItem(h), e.push(h)
                    }
                return e
            }, h.parseBindingListItem = function(a) {
                return a
            }, h.parseMaybeDefault = function(a, b, c) {
                if (c = c || this.parseBindingAtom(), this.options.ecmaVersion < 6 || !this.eat(d.types.eq)) return c;
                var e = this.startNodeAt(a, b);
                return e.left = c, e.right = this.parseMaybeAssign(), this.finishNode(e, \"AssignmentPattern\")
            }, h.checkLVal = function(a, b, c) {
                switch (a.type) {
                    case \"Identifier\":
                        this.strict && (f.reservedWords.strictBind(a.name) || f.reservedWords.strict(a.name)) && this.raise(a.start, (b ? \"Binding \" : \"Assigning to \") + a.name + \" in strict mode\"), c && (g.has(c, a.name) && this.raise(a.start, \"Argument name clash in strict mode\"), c[a.name] = !0);
                        break;
                    case \"MemberExpression\":
                        b && this.raise(a.start, (b ? \"Binding\" : \"Assigning to\") + \" member expression\");
                        break;
                    case \"ObjectPattern\":
                        for (var d = 0; d < a.properties.length; d++) this.checkLVal(a.properties[d].value, b, c);
                        break;
                    case \"ArrayPattern\":
                        for (var d = 0; d < a.elements.length; d++) {
                            var e = a.elements[d];
                            e && this.checkLVal(e, b, c)
                        }
                        break;
                    case \"AssignmentPattern\":
                        this.checkLVal(a.left, b, c);
                        break;
                    case \"RestElement\":
                        this.checkLVal(a.argument, b, c);
                        break;
                    case \"ParenthesizedExpression\":
                        this.checkLVal(a.expression, b, c);
                        break;
                    default:
                        this.raise(a.start, (b ? \"Binding\" : \"Assigning to\") + \" rvalue\")
                }
            }
        }, {
            \"./identifier\": 2,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./util\": 15
        }],
        7: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function i(a, b, c, d) {
                return a.type = b, a.end = c, this.options.locations && (a.loc.end = d), this.options.ranges && (a.range[1] = c), a
            }
            c.__esModule = !0;
            var e = a(\"./state\"),
                f = a(\"./locutil\"),
                g = function j(a, b, c) {
                    d(this, j), this.type = \"\", this.start = b, this.end = 0, a.options.locations && (this.loc = new f.SourceLocation(a, c)), a.options.directSourceFile && (this.sourceFile = a.options.directSourceFile), a.options.ranges && (this.range = [b, 0])
                };
            c.Node = g;
            var h = e.Parser.prototype;
            h.startNode = function() {
                return new g(this, this.start, this.startLoc)
            }, h.startNodeAt = function(a, b) {
                return new g(this, a, b)
            }, h.finishNode = function(a, b) {
                return i.call(this, a, b, this.lastTokEnd, this.lastTokEndLoc)
            }, h.finishNodeAt = function(a, b, c, d) {
                return i.call(this, a, b, c, d)
            }
        }, {
            \"./locutil\": 5,
            \"./state\": 10
        }],
        8: [function(a, b, c) {
            \"use strict\";

            function g(a) {
                var b = {};
                for (var c in f) b[c] = a && d.has(a, c) ? a[c] : f[c];
                return d.isArray(b.onToken) && ! function() {
                    var a = b.onToken;
                    b.onToken = function(b) {
                        return a.push(b)
                    }
                }(), d.isArray(b.onComment) && (b.onComment = h(b, b.onComment)), b
            }

            function h(a, b) {
                return function(c, d, f, g, h, i) {
                    var j = {
                        type: c ? \"Block\" : \"Line\",
                        value: d,
                        start: f,
                        end: g
                    };
                    a.locations && (j.loc = new e.SourceLocation(this, h, i)), a.ranges && (j.range = [f, g]), b.push(j)
                }
            }
            c.__esModule = !0, c.getOptions = g;
            var d = a(\"./util\"),
                e = a(\"./locutil\"),
                f = {
                    ecmaVersion: 5,
                    sourceType: \"script\",
                    onInsertedSemicolon: null,
                    onTrailingComma: null,
                    allowReserved: !0,
                    allowReturnOutsideFunction: !1,
                    allowImportExportEverywhere: !1,
                    allowHashBang: !1,
                    locations: !1,
                    onToken: null,
                    onComment: null,
                    ranges: !1,
                    program: null,
                    sourceFile: null,
                    directSourceFile: null,
                    preserveParens: !1,
                    plugins: {}
                };
            c.defaultOptions = f
        }, {
            \"./locutil\": 5,
            \"./util\": 15
        }],
        9: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./whitespace\"),
                g = e.Parser.prototype;
            g.isUseStrict = function(a) {
                return this.options.ecmaVersion >= 5 && \"ExpressionStatement\" === a.type && \"Literal\" === a.expression.type && \"use strict\" === a.expression.raw.slice(1, -1)
            }, g.eat = function(a) {
                return this.type === a ? (this.next(), !0) : !1
            }, g.isContextual = function(a) {
                return this.type === d.types.name && this.value === a
            }, g.eatContextual = function(a) {
                return this.value === a && this.eat(d.types.name)
            }, g.expectContextual = function(a) {
                this.eatContextual(a) || this.unexpected()
            }, g.canInsertSemicolon = function() {
                return this.type === d.types.eof || this.type === d.types.braceR || f.lineBreak.test(this.input.slice(this.lastTokEnd, this.start))
            }, g.insertSemicolon = function() {
                return this.canInsertSemicolon() ? (this.options.onInsertedSemicolon && this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc), !0) : void 0
            }, g.semicolon = function() {
                this.eat(d.types.semi) || this.insertSemicolon() || this.unexpected()
            }, g.afterTrailingComma = function(a) {
                return this.type == a ? (this.options.onTrailingComma && this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc), this.next(), !0) : void 0
            }, g.expect = function(a) {
                this.eat(a) || this.unexpected()
            }, g.unexpected = function(a) {
                this.raise(null != a ? a : this.start, \"Unexpected token\")
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        10: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"./identifier\"),
                f = a(\"./tokentype\"),
                g = a(\"./whitespace\"),
                h = a(\"./options\"),
                i = {};
            c.plugins = i;
            var j = function() {
                function a(b, c, i) {
                    d(this, a), this.options = h.getOptions(b), this.sourceFile = this.options.sourceFile, this.isKeyword = e.keywords[this.options.ecmaVersion >= 6 ? 6 : 5], this.isReservedWord = e.reservedWords[this.options.ecmaVersion], this.input = String(c), this.containsEsc = !1, this.loadPlugins(this.options.plugins), i ? (this.pos = i, this.lineStart = Math.max(0, this.input.lastIndexOf(\"\\n\", i)), this.curLine = this.input.slice(0, this.lineStart).split(g.lineBreak).length) : (this.pos = this.lineStart = 0, this.curLine = 1), this.type = f.types.eof, this.value = null, this.start = this.end = this.pos, this.startLoc = this.endLoc = this.curPosition(), this.lastTokEndLoc = this.lastTokStartLoc = null, this.lastTokStart = this.lastTokEnd = this.pos, this.context = this.initialContext(), this.exprAllowed = !0, this.strict = this.inModule = \"module\" === this.options.sourceType, this.potentialArrowAt = -1, this.inFunction = this.inGenerator = !1, this.labels = [], 0 === this.pos && this.options.allowHashBang && \"#!\" === this.input.slice(0, 2) && this.skipLineComment(2)
                }
                return a.prototype.extend = function(a, b) {
                    this[a] = b(this[a])
                }, a.prototype.loadPlugins = function(a) {
                    for (var b in a) {
                        var c = i[b];
                        if (!c) throw new Error(\"Plugin '\" + b + \"' not found\");
                        c(this, a[b])
                    }
                }, a.prototype.parse = function() {
                    var a = this.options.program || this.startNode();
                    return this.nextToken(), this.parseTopLevel(a)
                }, a
            }();
            c.Parser = j
        }, {
            \"./identifier\": 2,
            \"./options\": 8,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        11: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./whitespace\"),
                g = e.Parser.prototype;
            g.parseTopLevel = function(a) {
                var b = !0;
                for (a.body || (a.body = []); this.type !== d.types.eof;) {
                    var c = this.parseStatement(!0, !0);
                    a.body.push(c), b && (this.isUseStrict(c) && this.setStrict(!0), b = !1)
                }
                return this.next(), this.options.ecmaVersion >= 6 && (a.sourceType = this.options.sourceType), this.finishNode(a, \"Program\")
            };
            var h = {
                    kind: \"loop\"
                },
                i = {
                    kind: \"switch\"
                };
            g.parseStatement = function(a, b) {
                var c = this.type,
                    e = this.startNode();
                switch (c) {
                    case d.types._break:
                    case d.types._continue:
                        return this.parseBreakContinueStatement(e, c.keyword);
                    case d.types._debugger:
                        return this.parseDebuggerStatement(e);
                    case d.types._do:
                        return this.parseDoStatement(e);
                    case d.types._for:
                        return this.parseForStatement(e);
                    case d.types._function:
                        return !a && this.options.ecmaVersion >= 6 && this.unexpected(), this.parseFunctionStatement(e);
                    case d.types._class:
                        return a || this.unexpected(), this.parseClass(e, !0);
                    case d.types._if:
                        return this.parseIfStatement(e);
                    case d.types._return:
                        return this.parseReturnStatement(e);
                    case d.types._switch:
                        return this.parseSwitchStatement(e);
                    case d.types._throw:
                        return this.parseThrowStatement(e);
                    case d.types._try:
                        return this.parseTryStatement(e);
                    case d.types._let:
                    case d.types._const:
                        a || this.unexpected();
                    case d.types._var:
                        return this.parseVarStatement(e, c);
                    case d.types._while:
                        return this.parseWhileStatement(e);
                    case d.types._with:
                        return this.parseWithStatement(e);
                    case d.types.braceL:
                        return this.parseBlock();
                    case d.types.semi:
                        return this.parseEmptyStatement(e);
                    case d.types._export:
                    case d.types._import:
                        return this.options.allowImportExportEverywhere || (b || this.raise(this.start, \"'import' and 'export' may only appear at the top level\"), this.inModule || this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\")), c === d.types._import ? this.parseImport(e) : this.parseExport(e);
                    default:
                        var f = this.value,
                            g = this.parseExpression();
                        return c === d.types.name && \"Identifier\" === g.type && this.eat(d.types.colon) ? this.parseLabeledStatement(e, f, g) : this.parseExpressionStatement(e, g)
                }
            }, g.parseBreakContinueStatement = function(a, b) {
                var c = \"break\" == b;
                this.next(), this.eat(d.types.semi) || this.insertSemicolon() ? a.label = null : this.type !== d.types.name ? this.unexpected() : (a.label = this.parseIdent(), this.semicolon());
                for (var e = 0; e < this.labels.length; ++e) {
                    var f = this.labels[e];
                    if (null == a.label || f.name === a.label.name) {
                        if (null != f.kind && (c || \"loop\" === f.kind)) break;
                        if (a.label && c) break
                    }
                }
                return e === this.labels.length && this.raise(a.start, \"Unsyntactic \" + b), this.finishNode(a, c ? \"BreakStatement\" : \"ContinueStatement\")
            }, g.parseDebuggerStatement = function(a) {
                return this.next(), this.semicolon(), this.finishNode(a, \"DebuggerStatement\")
            }, g.parseDoStatement = function(a) {
                return this.next(), this.labels.push(h), a.body = this.parseStatement(!1), this.labels.pop(), this.expect(d.types._while), a.test = this.parseParenExpression(), this.options.ecmaVersion >= 6 ? this.eat(d.types.semi) : this.semicolon(), this.finishNode(a, \"DoWhileStatement\")
            }, g.parseForStatement = function(a) {
                if (this.next(), this.labels.push(h), this.expect(d.types.parenL), this.type === d.types.semi) return this.parseFor(a, null);
                if (this.type === d.types._var || this.type === d.types._let || this.type === d.types._const) {
                    var b = this.startNode(),
                        c = this.type;
                    return this.next(), this.parseVar(b, !0, c), this.finishNode(b, \"VariableDeclaration\"), !(this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\")) || 1 !== b.declarations.length || c !== d.types._var && b.declarations[0].init ? this.parseFor(a, b) : this.parseForIn(a, b)
                }
                var e = {
                        start: 0
                    },
                    f = this.parseExpression(!0, e);
                return this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\") ? (this.toAssignable(f), this.checkLVal(f), this.parseForIn(a, f)) : (e.start && this.unexpected(e.start), this.parseFor(a, f))
            }, g.parseFunctionStatement = function(a) {
                return this.next(), this.parseFunction(a, !0)
            }, g.parseIfStatement = function(a) {
                return this.next(), a.test = this.parseParenExpression(), a.consequent = this.parseStatement(!1), a.alternate = this.eat(d.types._else) ? this.parseStatement(!1) : null, this.finishNode(a, \"IfStatement\")
            }, g.parseReturnStatement = function(a) {
                return this.inFunction || this.options.allowReturnOutsideFunction || this.raise(this.start, \"'return' outside of function\"), this.next(), this.eat(d.types.semi) || this.insertSemicolon() ? a.argument = null : (a.argument = this.parseExpression(), this.semicolon()), this.finishNode(a, \"ReturnStatement\")
            }, g.parseSwitchStatement = function(a) {
                this.next(), a.discriminant = this.parseParenExpression(), a.cases = [], this.expect(d.types.braceL), this.labels.push(i);
                for (var b, c = !1; this.type != d.types.braceR;)
                    if (this.type === d.types._case || this.type === d.types._default) {
                        var e = this.type === d.types._case;
                        b && this.finishNode(b, \"SwitchCase\"), a.cases.push(b = this.startNode()), b.consequent = [], this.next(), e ? b.test = this.parseExpression() : (c && this.raise(this.lastTokStart, \"Multiple default clauses\"), c = !0, b.test = null), this.expect(d.types.colon)
                    } else b || this.unexpected(), b.consequent.push(this.parseStatement(!0));
                return b && this.finishNode(b, \"SwitchCase\"), this.next(), this.labels.pop(), this.finishNode(a, \"SwitchStatement\")
            }, g.parseThrowStatement = function(a) {
                return this.next(), f.lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) && this.raise(this.lastTokEnd, \"Illegal newline after throw\"), a.argument = this.parseExpression(), this.semicolon(), this.finishNode(a, \"ThrowStatement\")
            };
            var j = [];
            g.parseTryStatement = function(a) {
                if (this.next(), a.block = this.parseBlock(), a.handler = null, this.type === d.types._catch) {
                    var b = this.startNode();
                    this.next(), this.expect(d.types.parenL), b.param = this.parseBindingAtom(), this.checkLVal(b.param, !0), this.expect(d.types.parenR), b.guard = null, b.body = this.parseBlock(), a.handler = this.finishNode(b, \"CatchClause\")
                }
                return a.guardedHandlers = j, a.finalizer = this.eat(d.types._finally) ? this.parseBlock() : null, a.handler || a.finalizer || this.raise(a.start, \"Missing catch or finally clause\"), this.finishNode(a, \"TryStatement\")
            }, g.parseVarStatement = function(a, b) {
                return this.next(), this.parseVar(a, !1, b), this.semicolon(), this.finishNode(a, \"VariableDeclaration\")
            }, g.parseWhileStatement = function(a) {
                return this.next(), a.test = this.parseParenExpression(), this.labels.push(h), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, \"WhileStatement\")
            }, g.parseWithStatement = function(a) {
                return this.strict && this.raise(this.start, \"'with' in strict mode\"), this.next(), a.object = this.parseParenExpression(), a.body = this.parseStatement(!1), this.finishNode(a, \"WithStatement\")
            }, g.parseEmptyStatement = function(a) {
                return this.next(), this.finishNode(a, \"EmptyStatement\")
            }, g.parseLabeledStatement = function(a, b, c) {
                for (var e = 0; e < this.labels.length; ++e) this.labels[e].name === b && this.raise(c.start, \"Label '\" + b + \"' is already declared\");
                for (var f = this.type.isLoop ? \"loop\" : this.type === d.types._switch ? \"switch\" : null, e = this.labels.length - 1; e >= 0; e--) {
                    var g = this.labels[e];
                    if (g.statementStart != a.start) break;
                    g.statementStart = this.start, g.kind = f
                }
                return this.labels.push({
                    name: b,
                    kind: f,
                    statementStart: this.start
                }), a.body = this.parseStatement(!0), this.labels.pop(), a.label = c, this.finishNode(a, \"LabeledStatement\")
            }, g.parseExpressionStatement = function(a, b) {
                return a.expression = b, this.semicolon(), this.finishNode(a, \"ExpressionStatement\")
            }, g.parseBlock = function(a) {
                var b = this.startNode(),
                    c = !0,
                    e = void 0;
                for (b.body = [], this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    var f = this.parseStatement(!0);
                    b.body.push(f), c && a && this.isUseStrict(f) && (e = this.strict, this.setStrict(this.strict = !0)), c = !1
                }
                return e === !1 && this.setStrict(!1), this.finishNode(b, \"BlockStatement\")
            }, g.parseFor = function(a, b) {
                return a.init = b, this.expect(d.types.semi), a.test = this.type === d.types.semi ? null : this.parseExpression(), this.expect(d.types.semi), a.update = this.type === d.types.parenR ? null : this.parseExpression(), this.expect(d.types.parenR), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, \"ForStatement\")
            }, g.parseForIn = function(a, b) {
                var c = this.type === d.types._in ? \"ForInStatement\" : \"ForOfStatement\";
                return this.next(), a.left = b, a.right = this.parseExpression(), this.expect(d.types.parenR), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, c)
            }, g.parseVar = function(a, b, c) {
                for (a.declarations = [], a.kind = c.keyword;;) {
                    var e = this.startNode();
                    if (this.parseVarId(e), this.eat(d.types.eq) ? e.init = this.parseMaybeAssign(b) : c !== d.types._const || this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\") ? \"Identifier\" == e.id.type || b && (this.type === d.types._in || this.isContextual(\"of\")) ? e.init = null : this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\") : this.unexpected(), a.declarations.push(this.finishNode(e, \"VariableDeclarator\")), !this.eat(d.types.comma)) break
                }
                return a
            }, g.parseVarId = function(a) {
                a.id = this.parseBindingAtom(), this.checkLVal(a.id, !0)
            }, g.parseFunction = function(a, b, c) {
                return this.initFunction(a), this.options.ecmaVersion >= 6 && (a.generator = this.eat(d.types.star)), (b || this.type === d.types.name) && (a.id = this.parseIdent()), this.parseFunctionParams(a), this.parseFunctionBody(a, c), this.finishNode(a, b ? \"FunctionDeclaration\" : \"FunctionExpression\")
            }, g.parseFunctionParams = function(a) {
                this.expect(d.types.parenL), a.params = this.parseBindingList(d.types.parenR, !1, !1)
            }, g.parseClass = function(a, b) {
                this.next(), this.parseClassId(a, b), this.parseClassSuper(a);
                var c = this.startNode(),
                    e = !1;
                for (c.body = [], this.expect(d.types.braceL); !this.eat(d.types.braceR);)
                    if (!this.eat(d.types.semi)) {
                        var f = this.startNode(),
                            g = this.eat(d.types.star),
                            h = this.type === d.types.name && \"static\" === this.value;
                        this.parsePropertyName(f), f[\"static\"] = h && this.type !== d.types.parenL, f[\"static\"] && (g && this.unexpected(), g = this.eat(d.types.star), this.parsePropertyName(f)), f.kind = \"method\";
                        var i = !1;
                        if (!f.computed) {
                            var j = f.key;
                            g || \"Identifier\" !== j.type || this.type === d.types.parenL || \"get\" !== j.name && \"set\" !== j.name || (i = !0, f.kind = j.name, j = this.parsePropertyName(f)), !f[\"static\"] && (\"Identifier\" === j.type && \"constructor\" === j.name || \"Literal\" === j.type && \"constructor\" === j.value) && (e && this.raise(j.start, \"Duplicate constructor in the same class\"), i && this.raise(j.start, \"Constructor can't have get/set modifier\"), g && this.raise(j.start, \"Constructor can't be a generator\"), f.kind = \"constructor\", e = !0)
                        }
                        if (this.parseClassMethod(c, f, g), i) {
                            var k = \"get\" === f.kind ? 0 : 1;
                            if (f.value.params.length !== k) {
                                var l = f.value.start;
                                \"get\" === f.kind ? this.raise(l, \"getter should have no params\") : this.raise(l, \"setter should have exactly one param\")
                            }
                        }
                    }
                return a.body = this.finishNode(c, \"ClassBody\"), this.finishNode(a, b ? \"ClassDeclaration\" : \"ClassExpression\")
            }, g.parseClassMethod = function(a, b, c) {
                b.value = this.parseMethod(c), a.body.push(this.finishNode(b, \"MethodDefinition\"))
            }, g.parseClassId = function(a, b) {
                a.id = this.type === d.types.name ? this.parseIdent() : b ? this.unexpected() : null
            }, g.parseClassSuper = function(a) {
                a.superClass = this.eat(d.types._extends) ? this.parseExprSubscripts() : null
            }, g.parseExport = function(a) {
                if (this.next(), this.eat(d.types.star)) return this.expectContextual(\"from\"), a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected(), this.semicolon(), this.finishNode(a, \"ExportAllDeclaration\");
                if (this.eat(d.types._default)) {
                    var b = this.parseMaybeAssign(),
                        c = !0;
                    return (\"FunctionExpression\" == b.type || \"ClassExpression\" == b.type) && (c = !1, b.id && (b.type = \"FunctionExpression\" == b.type ? \"FunctionDeclaration\" : \"ClassDeclaration\")), a.declaration = b, c && this.semicolon(), this.finishNode(a, \"ExportDefaultDeclaration\")
                }
                return this.shouldParseExportStatement() ? (a.declaration = this.parseStatement(!0), a.specifiers = [], a.source = null) : (a.declaration = null, a.specifiers = this.parseExportSpecifiers(), this.eatContextual(\"from\") ? a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected() : a.source = null, this.semicolon()), this.finishNode(a, \"ExportNamedDeclaration\")
            }, g.shouldParseExportStatement = function() {
                return this.type.keyword
            }, g.parseExportSpecifiers = function() {
                var a = [],
                    b = !0;
                for (this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    if (b) b = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var c = this.startNode();
                    c.local = this.parseIdent(this.type === d.types._default), c.exported = this.eatContextual(\"as\") ? this.parseIdent(!0) : c.local, a.push(this.finishNode(c, \"ExportSpecifier\"))
                }
                return a
            }, g.parseImport = function(a) {
                return this.next(), this.type === d.types.string ? (a.specifiers = j, a.source = this.parseExprAtom()) : (a.specifiers = this.parseImportSpecifiers(), this.expectContextual(\"from\"), a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected()), this.semicolon(), this.finishNode(a, \"ImportDeclaration\")
            }, g.parseImportSpecifiers = function() {
                var a = [],
                    b = !0;
                if (this.type === d.types.name) {
                    var c = this.startNode();
                    if (c.local = this.parseIdent(), this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportDefaultSpecifier\")), !this.eat(d.types.comma)) return a
                }
                if (this.type === d.types.star) {
                    var c = this.startNode();
                    return this.next(), this.expectContextual(\"as\"), c.local = this.parseIdent(), this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportNamespaceSpecifier\")), a
                }
                for (this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    if (b) b = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var c = this.startNode();
                    c.imported = this.parseIdent(!0), c.local = this.eatContextual(\"as\") ? this.parseIdent() : c.imported, this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportSpecifier\"))
                }
                return a
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        12: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"./state\"),
                f = a(\"./tokentype\"),
                g = a(\"./whitespace\"),
                h = function k(a, b, c, e) {
                    d(this, k), this.token = a, this.isExpr = !!b, this.preserveSpace = !!c, this.override = e
                };
            c.TokContext = h;
            var i = {
                b_stat: new h(\"{\", !1),
                b_expr: new h(\"{\", !0),
                b_tmpl: new h(\"\${\", !0),
                p_stat: new h(\"(\", !1),
                p_expr: new h(\"(\", !0),
                q_tmpl: new h(\"`\", !0, !0, function(a) {
                    return a.readTmplToken()
                }),
                f_expr: new h(\"function\", !0)
            };
            c.types = i;
            var j = e.Parser.prototype;
            j.initialContext = function() {
                return [i.b_stat]
            }, j.braceIsBlock = function(a) {
                if (a === f.types.colon) {
                    var b = this.curContext();
                    if (b === i.b_stat || b === i.b_expr) return !b.isExpr
                }
                return a === f.types._return ? g.lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) : a === f.types._else || a === f.types.semi || a === f.types.eof || a === f.types.parenR ? !0 : a == f.types.braceL ? this.curContext() === i.b_stat : !this.exprAllowed
            }, j.updateContext = function(a) {
                var b = void 0,
                    c = this.type;
                c.keyword && a == f.types.dot ? this.exprAllowed = !1 : (b = c.updateContext) ? b.call(this, a) : this.exprAllowed = c.beforeExpr
            }, f.types.parenR.updateContext = f.types.braceR.updateContext = function() {
                if (1 == this.context.length) return void(this.exprAllowed = !0);
                var a = this.context.pop();
                a === i.b_stat && this.curContext() === i.f_expr ? (this.context.pop(), this.exprAllowed = !1) : a === i.b_tmpl ? this.exprAllowed = !0 : this.exprAllowed = !a.isExpr
            }, f.types.braceL.updateContext = function(a) {
                this.context.push(this.braceIsBlock(a) ? i.b_stat : i.b_expr), this.exprAllowed = !0
            }, f.types.dollarBraceL.updateContext = function() {
                this.context.push(i.b_tmpl), this.exprAllowed = !0
            }, f.types.parenL.updateContext = function(a) {
                var b = a === f.types._if || a === f.types._for || a === f.types._with || a === f.types._while;
                this.context.push(b ? i.p_stat : i.p_expr), this.exprAllowed = !0
            }, f.types.incDec.updateContext = function() {}, f.types._function.updateContext = function() {
                this.curContext() !== i.b_stat && this.context.push(i.f_expr), this.exprAllowed = !1
            }, f.types.backQuote.updateContext = function() {
                this.curContext() === i.q_tmpl ? this.context.pop() : this.context.push(i.q_tmpl), this.exprAllowed = !1
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        13: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function m(a, b, c) {
                try {
                    return new RegExp(a, b)
                } catch (d) {
                    void 0 !== c && (d instanceof SyntaxError && this.raise(c, \"Error parsing regular expression: \" + d.message), this.raise(d))
                }
            }

            function o(a) {
                return 65535 >= a ? String.fromCharCode(a) : (a -= 65536, String.fromCharCode((a >> 10) + 55296, (1023 & a) + 56320))
            }
            c.__esModule = !0;
            var e = a(\"./identifier\"),
                f = a(\"./tokentype\"),
                g = a(\"./state\"),
                h = a(\"./locutil\"),
                i = a(\"./whitespace\"),
                j = function p(a) {
                    d(this, p), this.type = a.type, this.value = a.value, this.start = a.start, this.end = a.end, a.options.locations && (this.loc = new h.SourceLocation(a, a.startLoc, a.endLoc)), a.options.ranges && (this.range = [a.start, a.end])
                };
            c.Token = j;
            var k = g.Parser.prototype,
                l = \"object\" == typeof Packages && \"[object JavaPackage]\" == Object.prototype.toString.call(Packages);
            k.next = function() {
                this.options.onToken && this.options.onToken(new j(this)), this.lastTokEnd = this.end, this.lastTokStart = this.start, this.lastTokEndLoc = this.endLoc, this.lastTokStartLoc = this.startLoc, this.nextToken()
            }, k.getToken = function() {
                return this.next(), new j(this)
            }, \"undefined\" != typeof Symbol && (k[Symbol.iterator] = function() {
                var a = this;
                return {
                    next: function() {
                        var b = a.getToken();
                        return {
                            done: b.type === f.types.eof,
                            value: b
                        }
                    }
                }
            }), k.setStrict = function(a) {
                if (this.strict = a, this.type === f.types.num || this.type === f.types.string) {
                    if (this.pos = this.start, this.options.locations)
                        for (; this.pos < this.lineStart;) this.lineStart = this.input.lastIndexOf(\"\\n\", this.lineStart - 2) + 1, --this.curLine;
                    this.nextToken()
                }
            }, k.curContext = function() {
                return this.context[this.context.length - 1]
            }, k.nextToken = function() {
                var a = this.curContext();
                return a && a.preserveSpace || this.skipSpace(), this.start = this.pos, this.options.locations && (this.startLoc = this.curPosition()), this.pos >= this.input.length ? this.finishToken(f.types.eof) : a.override ? a.override(this) : void this.readToken(this.fullCharCodeAtPos())
            }, k.readToken = function(a) {
                return e.isIdentifierStart(a, this.options.ecmaVersion >= 6) || 92 === a ? this.readWord() : this.getTokenFromCode(a)
            }, k.fullCharCodeAtPos = function() {
                var a = this.input.charCodeAt(this.pos);
                if (55295 >= a || a >= 57344) return a;
                var b = this.input.charCodeAt(this.pos + 1);
                return (a << 10) + b - 56613888
            }, k.skipBlockComment = function() {
                var a = this.options.onComment && this.curPosition(),
                    b = this.pos,
                    c = this.input.indexOf(\"*/\", this.pos += 2);
                if (-1 === c && this.raise(this.pos - 2, \"Unterminated comment\"), this.pos = c + 2, this.options.locations) {
                    i.lineBreakG.lastIndex = b;
                    for (var d = void 0;
                        (d = i.lineBreakG.exec(this.input)) && d.index < this.pos;) ++this.curLine, this.lineStart = d.index + d[0].length
                }
                this.options.onComment && this.options.onComment(!0, this.input.slice(b + 2, c), b, this.pos, a, this.curPosition())
            }, k.skipLineComment = function(a) {
                for (var b = this.pos, c = this.options.onComment && this.curPosition(), d = this.input.charCodeAt(this.pos += a); this.pos < this.input.length && 10 !== d && 13 !== d && 8232 !== d && 8233 !== d;) ++this.pos, d = this.input.charCodeAt(this.pos);
                this.options.onComment && this.options.onComment(!1, this.input.slice(b + a, this.pos), b, this.pos, c, this.curPosition())
            }, k.skipSpace = function() {
                a: for (; this.pos < this.input.length;) {
                    var a = this.input.charCodeAt(this.pos);
                    switch (a) {
                        case 32:
                        case 160:
                            ++this.pos;
                            break;
                        case 13:
                            10 === this.input.charCodeAt(this.pos + 1) && ++this.pos;
                        case 10:
                        case 8232:
                        case 8233:
                            ++this.pos, this.options.locations && (++this.curLine, this.lineStart = this.pos);
                            break;
                        case 47:
                            switch (this.input.charCodeAt(this.pos + 1)) {
                                case 42:
                                    this.skipBlockComment();
                                    break;
                                case 47:
                                    this.skipLineComment(2);
                                    break;
                                default:
                                    break a
                            }
                            break;
                        default:
                            if (!(a > 8 && 14 > a || a >= 5760 && i.nonASCIIwhitespace.test(String.fromCharCode(a)))) break a;
                            ++this.pos
                    }
                }
            }, k.finishToken = function(a, b) {
                this.end = this.pos, this.options.locations && (this.endLoc = this.curPosition());
                var c = this.type;
                this.type = a, this.value = b, this.updateContext(c)
            }, k.readToken_dot = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                if (a >= 48 && 57 >= a) return this.readNumber(!0);
                var b = this.input.charCodeAt(this.pos + 2);
                return this.options.ecmaVersion >= 6 && 46 === a && 46 === b ? (this.pos += 3, this.finishToken(f.types.ellipsis)) : (++this.pos, this.finishToken(f.types.dot))
            }, k.readToken_slash = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                return this.exprAllowed ? (++this.pos, this.readRegexp()) : 61 === a ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.slash, 1)
            }, k.readToken_mult_modulo = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(42 === a ? f.types.star : f.types.modulo, 1)
            }, k.readToken_pipe_amp = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return b === a ? this.finishOp(124 === a ? f.types.logicalOR : f.types.logicalAND, 2) : 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(124 === a ? f.types.bitwiseOR : f.types.bitwiseAND, 1)
            }, k.readToken_caret = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                return 61 === a ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.bitwiseXOR, 1)
            }, k.readToken_plus_min = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return b === a ? 45 == b && 62 == this.input.charCodeAt(this.pos + 2) && i.lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)) ? (this.skipLineComment(3), this.skipSpace(), this.nextToken()) : this.finishOp(f.types.incDec, 2) : 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.plusMin, 1)
            }, k.readToken_lt_gt = function(a) {
                var b = this.input.charCodeAt(this.pos + 1),
                    c = 1;
                return b === a ? (c = 62 === a && 62 === this.input.charCodeAt(this.pos + 2) ? 3 : 2, 61 === this.input.charCodeAt(this.pos + c) ? this.finishOp(f.types.assign, c + 1) : this.finishOp(f.types.bitShift, c)) : 33 == b && 60 == a && 45 == this.input.charCodeAt(this.pos + 2) && 45 == this.input.charCodeAt(this.pos + 3) ? (this.inModule && this.unexpected(), this.skipLineComment(4), this.skipSpace(), this.nextToken()) : (61 === b && (c = 61 === this.input.charCodeAt(this.pos + 2) ? 3 : 2), this.finishOp(f.types.relational, c))
            }, k.readToken_eq_excl = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return 61 === b ? this.finishOp(f.types.equality, 61 === this.input.charCodeAt(this.pos + 2) ? 3 : 2) : 61 === a && 62 === b && this.options.ecmaVersion >= 6 ? (this.pos += 2, this.finishToken(f.types.arrow)) : this.finishOp(61 === a ? f.types.eq : f.types.prefix, 1)
            }, k.getTokenFromCode = function(a) {
                switch (a) {
                    case 46:
                        return this.readToken_dot();
                    case 40:
                        return ++this.pos, this.finishToken(f.types.parenL);
                    case 41:
                        return ++this.pos, this.finishToken(f.types.parenR);
                    case 59:
                        return ++this.pos, this.finishToken(f.types.semi);
                    case 44:
                        return ++this.pos, this.finishToken(f.types.comma);
                    case 91:
                        return ++this.pos, this.finishToken(f.types.bracketL);
                    case 93:
                        return ++this.pos, this.finishToken(f.types.bracketR);
                    case 123:
                        return ++this.pos, this.finishToken(f.types.braceL);
                    case 125:
                        return ++this.pos, this.finishToken(f.types.braceR);
                    case 58:
                        return ++this.pos, this.finishToken(f.types.colon);
                    case 63:
                        return ++this.pos, this.finishToken(f.types.question);
                    case 96:
                        if (this.options.ecmaVersion < 6) break;
                        return ++this.pos, this.finishToken(f.types.backQuote);
                    case 48:
                        var b = this.input.charCodeAt(this.pos + 1);
                        if (120 === b || 88 === b) return this.readRadixNumber(16);
                        if (this.options.ecmaVersion >= 6) {
                            if (111 === b || 79 === b) return this.readRadixNumber(8);
                            if (98 === b || 66 === b) return this.readRadixNumber(2);
                        }
                    case 49:
                    case 50:
                    case 51:
                    case 52:
                    case 53:
                    case 54:
                    case 55:
                    case 56:
                    case 57:
                        return this.readNumber(!1);
                    case 34:
                    case 39:
                        return this.readString(a);
                    case 47:
                        return this.readToken_slash();
                    case 37:
                    case 42:
                        return this.readToken_mult_modulo(a);
                    case 124:
                    case 38:
                        return this.readToken_pipe_amp(a);
                    case 94:
                        return this.readToken_caret();
                    case 43:
                    case 45:
                        return this.readToken_plus_min(a);
                    case 60:
                    case 62:
                        return this.readToken_lt_gt(a);
                    case 61:
                    case 33:
                        return this.readToken_eq_excl(a);
                    case 126:
                        return this.finishOp(f.types.prefix, 1)
                }
                this.raise(this.pos, \"Unexpected character '\" + o(a) + \"'\")
            }, k.finishOp = function(a, b) {
                var c = this.input.slice(this.pos, this.pos + b);
                return this.pos += b, this.finishToken(a, c)
            };
            var n = !!m(\"\\uffff\", \"u\");
            k.readRegexp = function() {
                for (var a = this, b = void 0, c = void 0, d = this.pos;;) {
                    this.pos >= this.input.length && this.raise(d, \"Unterminated regular expression\");
                    var e = this.input.charAt(this.pos);
                    if (i.lineBreak.test(e) && this.raise(d, \"Unterminated regular expression\"), b) b = !1;
                    else {
                        if (\"[\" === e) c = !0;
                        else if (\"]\" === e && c) c = !1;
                        else if (\"/\" === e && !c) break;
                        b = \"\\\\\" === e
                    }++this.pos
                }
                var g = this.input.slice(d, this.pos);
                ++this.pos;
                var h = this.readWord1(),
                    j = g;
                if (h) {
                    var k = /^[gmsiy]*\$/;
                    this.options.ecmaVersion >= 6 && (k = /^[gmsiyu]*\$/), k.test(h) || this.raise(d, \"Invalid regular expression flag\"), h.indexOf(\"u\") >= 0 && !n && (j = j.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g, function(b, c, e) {
                        return c = Number(\"0x\" + c), c > 1114111 && a.raise(d + e + 3, \"Code point out of bounds\"), \"x\"
                    }), j = j.replace(/\\\\u([a-fA-F0-9]{4})|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, \"x\"))
                }
                var o = null;
                return l || (m(j, void 0, d), o = m(g, h)), this.finishToken(f.types.regexp, {
                    pattern: g,
                    flags: h,
                    value: o
                })
            }, k.readInt = function(a, b) {
                for (var c = this.pos, d = 0, e = 0, f = null == b ? 1 / 0 : b; f > e; ++e) {
                    var g = this.input.charCodeAt(this.pos),
                        h = void 0;
                    if (h = g >= 97 ? g - 97 + 10 : g >= 65 ? g - 65 + 10 : g >= 48 && 57 >= g ? g - 48 : 1 / 0, h >= a) break;
                    ++this.pos, d = d * a + h
                }
                return this.pos === c || null != b && this.pos - c !== b ? null : d
            }, k.readRadixNumber = function(a) {
                this.pos += 2;
                var b = this.readInt(a);
                return null == b && this.raise(this.start + 2, \"Expected number in radix \" + a), e.isIdentifierStart(this.fullCharCodeAtPos()) && this.raise(this.pos, \"Identifier directly after number\"), this.finishToken(f.types.num, b)
            }, k.readNumber = function(a) {
                var b = this.pos,
                    c = !1,
                    d = 48 === this.input.charCodeAt(this.pos);
                a || null !== this.readInt(10) || this.raise(b, \"Invalid number\");
                var g = this.input.charCodeAt(this.pos);
                46 === g && (++this.pos, this.readInt(10), c = !0, g = this.input.charCodeAt(this.pos)), (69 === g || 101 === g) && (g = this.input.charCodeAt(++this.pos), (43 === g || 45 === g) && ++this.pos, null === this.readInt(10) && this.raise(b, \"Invalid number\"), c = !0), e.isIdentifierStart(this.fullCharCodeAtPos()) && this.raise(this.pos, \"Identifier directly after number\");
                var h = this.input.slice(b, this.pos),
                    i = void 0;
                return c ? i = parseFloat(h) : d && 1 !== h.length ? /[89]/.test(h) || this.strict ? this.raise(b, \"Invalid number\") : i = parseInt(h, 8) : i = parseInt(h, 10), this.finishToken(f.types.num, i)
            }, k.readCodePoint = function() {
                var a = this.input.charCodeAt(this.pos),
                    b = void 0;
                if (123 === a) {
                    this.options.ecmaVersion < 6 && this.unexpected();
                    var c = ++this.pos;
                    b = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos), ++this.pos, b > 1114111 && this.raise(c, \"Code point out of bounds\")
                } else b = this.readHexChar(4);
                return b
            }, k.readString = function(a) {
                for (var b = \"\", c = ++this.pos;;) {
                    this.pos >= this.input.length && this.raise(this.start, \"Unterminated string constant\");
                    var d = this.input.charCodeAt(this.pos);
                    if (d === a) break;
                    92 === d ? (b += this.input.slice(c, this.pos), b += this.readEscapedChar(!1), c = this.pos) : (i.isNewLine(d) && this.raise(this.start, \"Unterminated string constant\"), ++this.pos)
                }
                return b += this.input.slice(c, this.pos++), this.finishToken(f.types.string, b)
            }, k.readTmplToken = function() {
                for (var a = \"\", b = this.pos;;) {
                    this.pos >= this.input.length && this.raise(this.start, \"Unterminated template\");
                    var c = this.input.charCodeAt(this.pos);
                    if (96 === c || 36 === c && 123 === this.input.charCodeAt(this.pos + 1)) return this.pos === this.start && this.type === f.types.template ? 36 === c ? (this.pos += 2, this.finishToken(f.types.dollarBraceL)) : (++this.pos, this.finishToken(f.types.backQuote)) : (a += this.input.slice(b, this.pos), this.finishToken(f.types.template, a));
                    if (92 === c) a += this.input.slice(b, this.pos), a += this.readEscapedChar(!0), b = this.pos;
                    else if (i.isNewLine(c)) {
                        switch (a += this.input.slice(b, this.pos), ++this.pos, c) {
                            case 13:
                                10 === this.input.charCodeAt(this.pos) && ++this.pos;
                            case 10:
                                a += \"\\n\";
                                break;
                            default:
                                a += String.fromCharCode(c)
                        }
                        this.options.locations && (++this.curLine, this.lineStart = this.pos), b = this.pos
                    } else ++this.pos
                }
            }, k.readEscapedChar = function(a) {
                var b = this.input.charCodeAt(++this.pos);
                switch (++this.pos, b) {
                    case 110:
                        return \"\\n\";
                    case 114:
                        return \"\\r\";
                    case 120:
                        return String.fromCharCode(this.readHexChar(2));
                    case 117:
                        return o(this.readCodePoint());
                    case 116:
                        return \"  \";
                    case 98:
                        return \"\\b\";
                    case 118:
                        return \"\";
                    case 102:
                        return \"\\f\";
                    case 13:
                        10 === this.input.charCodeAt(this.pos) && ++this.pos;
                    case 10:
                        return this.options.locations && (this.lineStart = this.pos, ++this.curLine), \"\";
                    default:
                        if (b >= 48 && 55 >= b) {
                            var c = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0],
                                d = parseInt(c, 8);
                            return d > 255 && (c = c.slice(0, -1), d = parseInt(c, 8)), d > 0 && (this.strict || a) && this.raise(this.pos - 2, \"Octal literal in strict mode\"), this.pos += c.length - 1, String.fromCharCode(d)
                        }
                        return String.fromCharCode(b)
                }
            }, k.readHexChar = function(a) {
                var b = this.pos,
                    c = this.readInt(16, a);
                return null === c && this.raise(b, \"Bad character escape sequence\"), c
            }, k.readWord1 = function() {
                this.containsEsc = !1;
                for (var a = \"\", b = !0, c = this.pos, d = this.options.ecmaVersion >= 6; this.pos < this.input.length;) {
                    var f = this.fullCharCodeAtPos();
                    if (e.isIdentifierChar(f, d)) this.pos += 65535 >= f ? 1 : 2;
                    else {
                        if (92 !== f) break;
                        this.containsEsc = !0, a += this.input.slice(c, this.pos);
                        var g = this.pos;
                        117 != this.input.charCodeAt(++this.pos) && this.raise(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"), ++this.pos;
                        var h = this.readCodePoint();
                        (b ? e.isIdentifierStart : e.isIdentifierChar)(h, d) || this.raise(g, \"Invalid Unicode escape\"), a += o(h), c = this.pos
                    }
                    b = !1
                }
                return a + this.input.slice(c, this.pos)
            }, k.readWord = function() {
                var a = this.readWord1(),
                    b = f.types.name;
                return (this.options.ecmaVersion >= 6 || !this.containsEsc) && this.isKeyword(a) && (b = f.keywords[a]), this.finishToken(b, a)
            }
        }, {
            \"./identifier\": 2,
            \"./locutil\": 5,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        14: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function f(a, b) {
                return new e(a, {
                    beforeExpr: !0,
                    binop: b
                })
            }

            function k(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                b.keyword = a, j[a] = i[\"_\" + a] = new e(a, b)
            }
            c.__esModule = !0;
            var e = function l(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                d(this, l), this.label = a, this.keyword = b.keyword, this.beforeExpr = !!b.beforeExpr, this.startsExpr = !!b.startsExpr, this.isLoop = !!b.isLoop, this.isAssign = !!b.isAssign, this.prefix = !!b.prefix, this.postfix = !!b.postfix, this.binop = b.binop || null, this.updateContext = null
            };
            c.TokenType = e;
            var g = {
                    beforeExpr: !0
                },
                h = {
                    startsExpr: !0
                },
                i = {
                    num: new e(\"num\", h),
                    regexp: new e(\"regexp\", h),
                    string: new e(\"string\", h),
                    name: new e(\"name\", h),
                    eof: new e(\"eof\"),
                    bracketL: new e(\"[\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    bracketR: new e(\"]\"),
                    braceL: new e(\"{\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    braceR: new e(\"}\"),
                    parenL: new e(\"(\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    parenR: new e(\")\"),
                    comma: new e(\",\", g),
                    semi: new e(\";\", g),
                    colon: new e(\":\", g),
                    dot: new e(\".\"),
                    question: new e(\"?\", g),
                    arrow: new e(\"=>\", g),
                    template: new e(\"template\"),
                    ellipsis: new e(\"...\", g),
                    backQuote: new e(\"`\", h),
                    dollarBraceL: new e(\"\${\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    eq: new e(\"=\", {
                        beforeExpr: !0,
                        isAssign: !0
                    }),
                    assign: new e(\"_=\", {
                        beforeExpr: !0,
                        isAssign: !0
                    }),
                    incDec: new e(\"++/--\", {
                        prefix: !0,
                        postfix: !0,
                        startsExpr: !0
                    }),
                    prefix: new e(\"prefix\", {
                        beforeExpr: !0,
                        prefix: !0,
                        startsExpr: !0
                    }),
                    logicalOR: f(\"||\", 1),
                    logicalAND: f(\"&&\", 2),
                    bitwiseOR: f(\"|\", 3),
                    bitwiseXOR: f(\"^\", 4),
                    bitwiseAND: f(\"&\", 5),
                    equality: f(\"==/!=\", 6),
                    relational: f(\"</>\", 7),
                    bitShift: f(\"<</>>\", 8),
                    plusMin: new e(\"+/-\", {
                        beforeExpr: !0,
                        binop: 9,
                        prefix: !0,
                        startsExpr: !0
                    }),
                    modulo: f(\"%\", 10),
                    star: f(\"*\", 10),
                    slash: f(\"/\", 10)
                };
            c.types = i;
            var j = {};
            c.keywords = j, k(\"break\"), k(\"case\", g), k(\"catch\"), k(\"continue\"), k(\"debugger\"), k(\"default\", g), k(\"do\", {
                isLoop: !0
            }), k(\"else\", g), k(\"finally\"), k(\"for\", {
                isLoop: !0
            }), k(\"function\", h), k(\"if\"), k(\"return\", g), k(\"switch\"), k(\"throw\", g), k(\"try\"), k(\"var\"), k(\"let\"), k(\"const\"), k(\"while\", {
                isLoop: !0
            }), k(\"with\"), k(\"new\", {
                beforeExpr: !0,
                startsExpr: !0
            }), k(\"this\", h), k(\"super\", h), k(\"class\"), k(\"extends\", g), k(\"export\"), k(\"import\"), k(\"yield\", {
                beforeExpr: !0,
                startsExpr: !0
            }), k(\"null\", h), k(\"true\", h), k(\"false\", h), k(\"in\", {
                beforeExpr: !0,
                binop: 7
            }), k(\"instanceof\", {
                beforeExpr: !0,
                binop: 7
            }), k(\"typeof\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            }), k(\"void\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            }), k(\"delete\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            })
        }, {}],
        15: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                return \"[object Array]\" === Object.prototype.toString.call(a)
            }

            function e(a, b) {
                return Object.prototype.hasOwnProperty.call(a, b)
            }
            c.__esModule = !0, c.isArray = d, c.has = e
        }, {}],
        16: [function(a, b, c) {
            \"use strict\";

            function f(a) {
                return 10 === a || 13 === a || 8232 === a || 8233 == a
            }
            c.__esModule = !0, c.isNewLine = f;
            var d = /\\r\\n?|\\n|\\u2028|\\u2029/;
            c.lineBreak = d;
            var e = new RegExp(d.source, \"g\");
            c.lineBreakG = e;
            var g = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;
            c.nonASCIIwhitespace = g
        }, {}]
    }, {}, [3])(3)
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, (b.acorn || (b.acorn = {})).loose = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";
            b.exports = \"undefined\" != typeof acorn ? acorn : require(\"./acorn\")
        }, {}],
        2: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./parseutil\"),
                f = a(\"..\"),
                g = d.LooseParser.prototype;
            g.checkLVal = function(a, b) {
                if (!a) return a;
                switch (a.type) {
                    case \"Identifier\":
                        return a;
                    case \"MemberExpression\":
                        return b ? this.dummyIdent() : a;
                    case \"ParenthesizedExpression\":
                        return a.expression = this.checkLVal(a.expression, b), a;
                    case \"ObjectPattern\":
                    case \"ArrayPattern\":
                    case \"RestElement\":
                    case \"AssignmentPattern\":
                        if (this.options.ecmaVersion >= 6) return a;
                    default:
                        return this.dummyIdent()
                }
            }, g.parseExpression = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseMaybeAssign(a);
                if (this.tok.type === f.tokTypes.comma) {
                    var d = this.startNodeAt(b);
                    for (d.expressions = [c]; this.eat(f.tokTypes.comma);) d.expressions.push(this.parseMaybeAssign(a));
                    return this.finishNode(d, \"SequenceExpression\")
                }
                return c
            }, g.parseParenExpression = function() {
                this.pushCx(), this.expect(f.tokTypes.parenL);
                var a = this.parseExpression();
                return this.popCx(), this.expect(f.tokTypes.parenR), a
            }, g.parseMaybeAssign = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseMaybeConditional(a);
                if (this.tok.type.isAssign) {
                    var d = this.startNodeAt(b);
                    return d.operator = this.tok.value, d.left = this.tok.type === f.tokTypes.eq ? this.toAssignable(c) : this.checkLVal(c), this.next(), d.right = this.parseMaybeAssign(a), this.finishNode(d, \"AssignmentExpression\")
                }
                return c
            }, g.parseMaybeConditional = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseExprOps(a);
                if (this.eat(f.tokTypes.question)) {
                    var d = this.startNodeAt(b);
                    return d.test = c, d.consequent = this.parseMaybeAssign(), d.alternate = this.expect(f.tokTypes.colon) ? this.parseMaybeAssign(a) : this.dummyIdent(), this.finishNode(d, \"ConditionalExpression\")
                }
                return c
            }, g.parseExprOps = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.curIndent,
                    d = this.curLineStart;
                return this.parseExprOp(this.parseMaybeUnary(a), b, -1, a, c, d)
            }, g.parseExprOp = function(a, b, c, d, e, g) {
                if (this.curLineStart != g && this.curIndent < e && this.tokenStartsLine()) return a;
                var h = this.tok.type.binop;
                if (null != h && (!d || this.tok.type !== f.tokTypes._in) && h > c) {
                    var i = this.startNodeAt(b);
                    if (i.left = a, i.operator = this.tok.value, this.next(), this.curLineStart != g && this.curIndent < e && this.tokenStartsLine()) i.right = this.dummyIdent();
                    else {
                        var j = this.storeCurrentPos();
                        i.right = this.parseExprOp(this.parseMaybeUnary(d), j, h, d, e, g)
                    }
                    return this.finishNode(i, /&&|\\|\\|/.test(i.operator) ? \"LogicalExpression\" : \"BinaryExpression\"), this.parseExprOp(i, b, c, d, e, g)
                }
                return a
            }, g.parseMaybeUnary = function(a) {
                if (this.tok.type.prefix) {
                    var b = this.startNode(),
                        c = this.tok.type === f.tokTypes.incDec;
                    return b.operator = this.tok.value, b.prefix = !0, this.next(), b.argument = this.parseMaybeUnary(a), c && (b.argument = this.checkLVal(b.argument)), this.finishNode(b, c ? \"UpdateExpression\" : \"UnaryExpression\")
                }
                if (this.tok.type === f.tokTypes.ellipsis) {
                    var b = this.startNode();
                    return this.next(), b.argument = this.parseMaybeUnary(a), this.finishNode(b, \"SpreadElement\")
                }
                for (var d = this.storeCurrentPos(), e = this.parseExprSubscripts(); this.tok.type.postfix && !this.canInsertSemicolon();) {
                    var b = this.startNodeAt(d);
                    b.operator = this.tok.value, b.prefix = !1, b.argument = this.checkLVal(e), this.next(), e = this.finishNode(b, \"UpdateExpression\")
                }
                return e
            }, g.parseExprSubscripts = function() {
                var a = this.storeCurrentPos();
                return this.parseSubscripts(this.parseExprAtom(), a, !1, this.curIndent, this.curLineStart)
            }, g.parseSubscripts = function(a, b, c, d, e) {
                for (;;) {
                    if (this.curLineStart != e && this.curIndent <= d && this.tokenStartsLine()) {
                        if (this.tok.type != f.tokTypes.dot || this.curIndent != d) return a;
                        --d
                    }
                    if (this.eat(f.tokTypes.dot)) {
                        var g = this.startNodeAt(b);
                        g.object = a, this.curLineStart != e && this.curIndent <= d && this.tokenStartsLine() ? g.property = this.dummyIdent() : g.property = this.parsePropertyAccessor() || this.dummyIdent(), g.computed = !1, a = this.finishNode(g, \"MemberExpression\")
                    } else if (this.tok.type == f.tokTypes.bracketL) {
                        this.pushCx(), this.next();
                        var g = this.startNodeAt(b);
                        g.object = a, g.property = this.parseExpression(), g.computed = !0, this.popCx(), this.expect(f.tokTypes.bracketR), a = this.finishNode(g, \"MemberExpression\")
                    } else if (c || this.tok.type != f.tokTypes.parenL) {
                        if (this.tok.type != f.tokTypes.backQuote) return a;
                        var g = this.startNodeAt(b);
                        g.tag = a, g.quasi = this.parseTemplate(), a = this.finishNode(g, \"TaggedTemplateExpression\")
                    } else {
                        var g = this.startNodeAt(b);
                        g.callee = a, g.arguments = this.parseExprList(f.tokTypes.parenR), a = this.finishNode(g, \"CallExpression\")
                    }
                }
            }, g.parseExprAtom = function() {
                var a = void 0;
                switch (this.tok.type) {
                    case f.tokTypes._this:
                    case f.tokTypes._super:
                        var b = this.tok.type === f.tokTypes._this ? \"ThisExpression\" : \"Super\";
                        return a = this.startNode(), this.next(), this.finishNode(a, b);
                    case f.tokTypes.name:
                        var c = this.storeCurrentPos(),
                            d = this.parseIdent();
                        return this.eat(f.tokTypes.arrow) ? this.parseArrowExpression(this.startNodeAt(c), [d]) : d;
                    case f.tokTypes.regexp:
                        a = this.startNode();
                        var g = this.tok.value;
                        return a.regex = {
                            pattern: g.pattern,
                            flags: g.flags
                        }, a.value = g.value, a.raw = this.input.slice(this.tok.start, this.tok.end), this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes.num:
                    case f.tokTypes.string:
                        return a = this.startNode(), a.value = this.tok.value, a.raw = this.input.slice(this.tok.start, this.tok.end), this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes._null:
                    case f.tokTypes._true:
                    case f.tokTypes._false:
                        return a = this.startNode(), a.value = this.tok.type === f.tokTypes._null ? null : this.tok.type === f.tokTypes._true, a.raw = this.tok.type.keyword, this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes.parenL:
                        var h = this.storeCurrentPos();
                        this.next();
                        var i = this.parseExpression();
                        if (this.expect(f.tokTypes.parenR), this.eat(f.tokTypes.arrow)) return this.parseArrowExpression(this.startNodeAt(h), i.expressions || (e.isDummy(i) ? [] : [i]));
                        if (this.options.preserveParens) {
                            var j = this.startNodeAt(h);
                            j.expression = i, i = this.finishNode(j, \"ParenthesizedExpression\")
                        }
                        return i;
                    case f.tokTypes.bracketL:
                        return a = this.startNode(), a.elements = this.parseExprList(f.tokTypes.bracketR, !0), this.finishNode(a, \"ArrayExpression\");
                    case f.tokTypes.braceL:
                        return this.parseObj();
                    case f.tokTypes._class:
                        return this.parseClass();
                    case f.tokTypes._function:
                        return a = this.startNode(), this.next(), this.parseFunction(a, !1);
                    case f.tokTypes._new:
                        return this.parseNew();
                    case f.tokTypes._yield:
                        return a = this.startNode(), this.next(), this.semicolon() || this.canInsertSemicolon() || this.tok.type != f.tokTypes.star && !this.tok.type.startsExpr ? (a.delegate = !1, a.argument = null) : (a.delegate = this.eat(f.tokTypes.star), a.argument = this.parseMaybeAssign()), this.finishNode(a, \"YieldExpression\");
                    case f.tokTypes.backQuote:
                        return this.parseTemplate();
                    default:
                        return this.dummyIdent()
                }
            }, g.parseNew = function() {
                var a = this.startNode(),
                    b = this.curIndent,
                    c = this.curLineStart,
                    d = this.parseIdent(!0);
                if (this.options.ecmaVersion >= 6 && this.eat(f.tokTypes.dot)) return a.meta = d, a.property = this.parseIdent(!0), this.finishNode(a, \"MetaProperty\");
                var e = this.storeCurrentPos();
                return a.callee = this.parseSubscripts(this.parseExprAtom(), e, !0, b, c), this.tok.type == f.tokTypes.parenL ? a.arguments = this.parseExprList(f.tokTypes.parenR) : a.arguments = [], this.finishNode(a, \"NewExpression\")
            }, g.parseTemplateElement = function() {
                var a = this.startNode();
                return a.value = {
                    raw: this.input.slice(this.tok.start, this.tok.end).replace(/\\r\\n?/g, \"\\n\"),
                    cooked: this.tok.value
                }, this.next(), a.tail = this.tok.type === f.tokTypes.backQuote, this.finishNode(a, \"TemplateElement\")
            }, g.parseTemplate = function() {
                var a = this.startNode();
                this.next(), a.expressions = [];
                var b = this.parseTemplateElement();
                for (a.quasis = [b]; !b.tail;) this.next(), a.expressions.push(this.parseExpression()), this.expect(f.tokTypes.braceR) ? b = this.parseTemplateElement() : (b = this.startNode(), b.value = {
                    cooked: \"\",
                    raw: \"\"
                }, b.tail = !0), a.quasis.push(b);
                return this.expect(f.tokTypes.backQuote), this.finishNode(a, \"TemplateLiteral\")
            }, g.parseObj = function() {
                var a = this.startNode();
                a.properties = [], this.pushCx();
                var b = this.curIndent + 1,
                    c = this.curLineStart;
                for (this.eat(f.tokTypes.braceL), this.curIndent + 1 < b && (b = this.curIndent, c = this.curLineStart); !this.closes(f.tokTypes.braceR, b, c);) {
                    var d = this.startNode(),
                        g = void 0,
                        h = void 0;
                    if (this.options.ecmaVersion >= 6 && (h = this.storeCurrentPos(), d.method = !1, d.shorthand = !1, g = this.eat(f.tokTypes.star)), this.parsePropertyName(d), e.isDummy(d.key)) e.isDummy(this.parseMaybeAssign()) && this.next(), this.eat(f.tokTypes.comma);
                    else {
                        if (this.eat(f.tokTypes.colon)) d.kind = \"init\", d.value = this.parseMaybeAssign();
                        else if (this.options.ecmaVersion >= 6 && (this.tok.type === f.tokTypes.parenL || this.tok.type === f.tokTypes.braceL)) d.kind = \"init\", d.method = !0, d.value = this.parseMethod(g);
                        else if (this.options.ecmaVersion >= 5 && \"Identifier\" === d.key.type && !d.computed && (\"get\" === d.key.name || \"set\" === d.key.name) && this.tok.type != f.tokTypes.comma && this.tok.type != f.tokTypes.braceR) d.kind = d.key.name, this.parsePropertyName(d), d.value = this.parseMethod(!1);
                        else {
                            if (d.kind = \"init\", this.options.ecmaVersion >= 6)
                                if (this.eat(f.tokTypes.eq)) {
                                    var i = this.startNodeAt(h);
                                    i.operator = \"=\", i.left = d.key, i.right = this.parseMaybeAssign(), d.value = this.finishNode(i, \"AssignmentExpression\")
                                } else d.value = d.key;
                            else d.value = this.dummyIdent();
                            d.shorthand = !0
                        }
                        a.properties.push(this.finishNode(d, \"Property\")), this.eat(f.tokTypes.comma)
                    }
                }
                return this.popCx(), this.eat(f.tokTypes.braceR) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), this.finishNode(a, \"ObjectExpression\")
            }, g.parsePropertyName = function(a) {
                if (this.options.ecmaVersion >= 6) {
                    if (this.eat(f.tokTypes.bracketL)) return a.computed = !0, a.key = this.parseExpression(), void this.expect(f.tokTypes.bracketR);
                    a.computed = !1
                }
                var b = this.tok.type === f.tokTypes.num || this.tok.type === f.tokTypes.string ? this.parseExprAtom() : this.parseIdent();
                a.key = b || this.dummyIdent()
            }, g.parsePropertyAccessor = function() {
                return this.tok.type === f.tokTypes.name || this.tok.type.keyword ? this.parseIdent() : void 0
            }, g.parseIdent = function() {
                var a = this.tok.type === f.tokTypes.name ? this.tok.value : this.tok.type.keyword;
                if (!a) return this.dummyIdent();
                var b = this.startNode();
                return this.next(), b.name = a, this.finishNode(b, \"Identifier\")
            }, g.initFunction = function(a) {
                a.id = null, a.params = [], this.options.ecmaVersion >= 6 && (a.generator = !1, a.expression = !1)
            }, g.toAssignable = function(a, b) {
                if (this.options.ecmaVersion >= 6 && a) switch (a.type) {
                    case \"ObjectExpression\":
                        a.type = \"ObjectPattern\";
                        for (var c = a.properties, d = 0; d < c.length; d++) this.toAssignable(c[d].value, b);
                        break;
                    case \"ArrayExpression\":
                        a.type = \"ArrayPattern\", this.toAssignableList(a.elements, b);
                        break;
                    case \"SpreadElement\":
                        a.type = \"RestElement\", a.argument = this.toAssignable(a.argument, b);
                        break;
                    case \"AssignmentExpression\":
                        a.type = \"AssignmentPattern\", delete a.operator
                }
                return this.checkLVal(a, b)
            }, g.toAssignableList = function(a, b) {
                for (var c = 0; c < a.length; c++) a[c] = this.toAssignable(a[c], b);
                return a
            }, g.parseFunctionParams = function(a) {
                return a = this.parseExprList(f.tokTypes.parenR), this.toAssignableList(a, !0)
            }, g.parseMethod = function(a) {
                var b = this.startNode();
                return this.initFunction(b), b.params = this.parseFunctionParams(), b.generator = a || !1, b.expression = this.options.ecmaVersion >= 6 && this.tok.type !== f.tokTypes.braceL, b.body = b.expression ? this.parseMaybeAssign() : this.parseBlock(), this.finishNode(b, \"FunctionExpression\")
            }, g.parseArrowExpression = function(a, b) {
                return this.initFunction(a), a.params = this.toAssignableList(b, !0), a.expression = this.tok.type !== f.tokTypes.braceL, a.body = a.expression ? this.parseMaybeAssign() : this.parseBlock(), this.finishNode(a, \"ArrowFunctionExpression\")
            }, g.parseExprList = function(a, b) {
                this.pushCx();
                var c = this.curIndent,
                    d = this.curLineStart,
                    g = [];
                for (this.next(); !this.closes(a, c + 1, d);)
                    if (this.eat(f.tokTypes.comma)) g.push(b ? null : this.dummyIdent());
                    else {
                        var h = this.parseMaybeAssign();
                        if (e.isDummy(h)) {
                            if (this.closes(a, c, d)) break;
                            this.next()
                        } else g.push(h);
                        this.eat(f.tokTypes.comma)
                    }
                return this.popCx(), this.eat(a) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), g
            }
        }, {
            \"..\": 1,
            \"./parseutil\": 4,
            \"./state\": 5
        }],
        3: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var c in a) Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b[\"default\"] = a, b
            }

            function h(a, b) {
                var c = new g.LooseParser(a, b);
                return c.next(), c.parseTopLevel()
            }
            c.__esModule = !0, c.parse_dammit = h;
            var e = a(\"..\"),
                f = d(e),
                g = a(\"./state\");
            a(\"./tokenize\"), a(\"./statement\"), a(\"./expression\"), c.LooseParser = g.LooseParser, f.defaultOptions.tabSize = 4, f.parse_dammit = h, f.LooseParser = g.LooseParser
        }, {
            \"..\": 1,
            \"./expression\": 2,
            \"./state\": 5,
            \"./statement\": 6,
            \"./tokenize\": 7
        }],
        4: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                return \"\\u2716\" == a.name
            }
            c.__esModule = !0, c.isDummy = d
        }, {}],
        5: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"..\"),
                f = function() {
                    function a(b, c) {
                        if (d(this, a), this.toks = e.tokenizer(b, c), this.options = this.toks.options, this.input = this.toks.input, this.tok = this.last = {
                                type: e.tokTypes.eof,
                                start: 0,
                                end: 0
                            }, this.options.locations) {
                            var f = this.toks.curPosition();
                            this.tok.loc = new e.SourceLocation(this.toks, f, f)
                        }
                        this.ahead = [], this.context = [], this.curIndent = 0, this.curLineStart = 0, this.nextLineStart = this.lineEnd(this.curLineStart) + 1
                    }
                    return a.prototype.startNode = function() {
                        return new e.Node(this.toks, this.tok.start, this.options.locations ? this.tok.loc.start : null)
                    }, a.prototype.storeCurrentPos = function() {
                        return this.options.locations ? [this.tok.start, this.tok.loc.start] : this.tok.start
                    }, a.prototype.startNodeAt = function(a) {
                        return this.options.locations ? new e.Node(this.toks, a[0], a[1]) : new e.Node(this.toks, a)
                    }, a.prototype.finishNode = function(a, b) {
                        return a.type = b, a.end = this.last.end, this.options.locations && (a.loc.end = this.last.loc.end), this.options.ranges && (a.range[1] = this.last.end), a
                    }, a.prototype.dummyIdent = function() {
                        var a = this.startNode();
                        return a.name = \"\\u2716\", this.finishNode(a, \"Identifier\")
                    }, a.prototype.dummyString = function() {
                        var a = this.startNode();
                        return a.value = a.raw = \"\\u2716\", this.finishNode(a, \"Literal\")
                    }, a.prototype.eat = function(a) {
                        return this.tok.type === a ? (this.next(), !0) : !1
                    }, a.prototype.isContextual = function(a) {
                        return this.tok.type === e.tokTypes.name && this.tok.value === a
                    }, a.prototype.eatContextual = function(a) {
                        return this.tok.value === a && this.eat(e.tokTypes.name)
                    }, a.prototype.canInsertSemicolon = function() {
                        return this.tok.type === e.tokTypes.eof || this.tok.type === e.tokTypes.braceR || e.lineBreak.test(this.input.slice(this.last.end, this.tok.start))
                    }, a.prototype.semicolon = function() {
                        return this.eat(e.tokTypes.semi)
                    }, a.prototype.expect = function(a) {
                        if (this.eat(a)) return !0;
                        for (var b = 1; 2 >= b; b++)
                            if (this.lookAhead(b).type == a) {
                                for (var c = 0; b > c; c++) this.next();
                                return !0
                            }
                    }, a.prototype.pushCx = function() {
                        this.context.push(this.curIndent)
                    }, a.prototype.popCx = function() {
                        this.curIndent = this.context.pop()
                    }, a.prototype.lineEnd = function(a) {
                        for (; a < this.input.length && !e.isNewLine(this.input.charCodeAt(a));) ++a;
                        return a
                    }, a.prototype.indentationAfter = function(a) {
                        for (var b = 0;; ++a) {
                            var c = this.input.charCodeAt(a);
                            if (32 === c) ++b;
                            else {
                                if (9 !== c) return b;
                                b += this.options.tabSize
                            }
                        }
                    }, a.prototype.closes = function(a, b, c, d) {
                        return this.tok.type === a || this.tok.type === e.tokTypes.eof ? !0 : c != this.curLineStart && this.curIndent < b && this.tokenStartsLine() && (!d || this.nextLineStart >= this.input.length || this.indentationAfter(this.nextLineStart) < b)
                    }, a.prototype.tokenStartsLine = function() {
                        for (var a = this.tok.start - 1; a >= this.curLineStart; --a) {
                            var b = this.input.charCodeAt(a);
                            if (9 !== b && 32 !== b) return !1
                        }
                        return !0
                    }, a
                }();
            c.LooseParser = f
        }, {
            \"..\": 1
        }],
        6: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./parseutil\"),
                f = a(\"..\"),
                g = d.LooseParser.prototype;
            g.parseTopLevel = function() {
                var a = this.startNodeAt(this.options.locations ? [0, f.getLineInfo(this.input, 0)] : 0);
                for (a.body = []; this.tok.type !== f.tokTypes.eof;) a.body.push(this.parseStatement());
                return this.last = this.tok, this.options.ecmaVersion >= 6 && (a.sourceType = this.options.sourceType), this.finishNode(a, \"Program\")
            }, g.parseStatement = function() {
                var a = this.tok.type,
                    b = this.startNode();
                switch (a) {
                    case f.tokTypes._break:
                    case f.tokTypes._continue:
                        this.next();
                        var c = a === f.tokTypes._break;
                        return this.semicolon() || this.canInsertSemicolon() ? b.label = null : (b.label = this.tok.type === f.tokTypes.name ? this.parseIdent() : null, this.semicolon()), this.finishNode(b, c ? \"BreakStatement\" : \"ContinueStatement\");
                    case f.tokTypes._debugger:
                        return this.next(), this.semicolon(), this.finishNode(b, \"DebuggerStatement\");
                    case f.tokTypes._do:
                        return this.next(), b.body = this.parseStatement(), b.test = this.eat(f.tokTypes._while) ? this.parseParenExpression() : this.dummyIdent(), this.semicolon(), this.finishNode(b, \"DoWhileStatement\");
                    case f.tokTypes._for:
                        if (this.next(), this.pushCx(), this.expect(f.tokTypes.parenL), this.tok.type === f.tokTypes.semi) return this.parseFor(b, null);
                        if (this.tok.type === f.tokTypes._var || this.tok.type === f.tokTypes._let || this.tok.type === f.tokTypes._const) {
                            var d = this.parseVar(!0);
                            return 1 !== d.declarations.length || this.tok.type !== f.tokTypes._in && !this.isContextual(\"of\") ? this.parseFor(b, d) : this.parseForIn(b, d)
                        }
                        var g = this.parseExpression(!0);
                        return this.tok.type === f.tokTypes._in || this.isContextual(\"of\") ? this.parseForIn(b, this.toAssignable(g)) : this.parseFor(b, g);
                    case f.tokTypes._function:
                        return this.next(), this.parseFunction(b, !0);
                    case f.tokTypes._if:
                        return this.next(), b.test = this.parseParenExpression(), b.consequent = this.parseStatement(), b.alternate = this.eat(f.tokTypes._else) ? this.parseStatement() : null, this.finishNode(b, \"IfStatement\");
                    case f.tokTypes._return:
                        return this.next(), this.eat(f.tokTypes.semi) || this.canInsertSemicolon() ? b.argument = null : (b.argument = this.parseExpression(), this.semicolon()), this.finishNode(b, \"ReturnStatement\");
                    case f.tokTypes._switch:
                        var h = this.curIndent,
                            i = this.curLineStart;
                        this.next(), b.discriminant = this.parseParenExpression(), b.cases = [], this.pushCx(), this.expect(f.tokTypes.braceL);
                        for (var j = void 0; !this.closes(f.tokTypes.braceR, h, i, !0);)
                            if (this.tok.type === f.tokTypes._case || this.tok.type === f.tokTypes._default) {
                                var k = this.tok.type === f.tokTypes._case;
                                j && this.finishNode(j, \"SwitchCase\"), b.cases.push(j = this.startNode()), j.consequent = [], this.next(), k ? j.test = this.parseExpression() : j.test = null, this.expect(f.tokTypes.colon)
                            } else j || (b.cases.push(j = this.startNode()), j.consequent = [], j.test = null), j.consequent.push(this.parseStatement());
                        return j && this.finishNode(j, \"SwitchCase\"), this.popCx(), this.eat(f.tokTypes.braceR), this.finishNode(b, \"SwitchStatement\");
                    case f.tokTypes._throw:
                        return this.next(), b.argument = this.parseExpression(), this.semicolon(), this.finishNode(b, \"ThrowStatement\");
                    case f.tokTypes._try:
                        if (this.next(), b.block = this.parseBlock(), b.handler = null, this.tok.type === f.tokTypes._catch) {
                            var l = this.startNode();
                            this.next(), this.expect(f.tokTypes.parenL), l.param = this.toAssignable(this.parseExprAtom(), !0), this.expect(f.tokTypes.parenR), l.guard = null, l.body = this.parseBlock(), b.handler = this.finishNode(l, \"CatchClause\")
                        }
                        return b.finalizer = this.eat(f.tokTypes._finally) ? this.parseBlock() : null, b.handler || b.finalizer ? this.finishNode(b, \"TryStatement\") : b.block;
                    case f.tokTypes._var:
                    case f.tokTypes._let:
                    case f.tokTypes._const:
                        return this.parseVar();
                    case f.tokTypes._while:
                        return this.next(), b.test = this.parseParenExpression(), b.body = this.parseStatement(), this.finishNode(b, \"WhileStatement\");
                    case f.tokTypes._with:
                        return this.next(), b.object = this.parseParenExpression(), b.body = this.parseStatement(), this.finishNode(b, \"WithStatement\");
                    case f.tokTypes.braceL:
                        return this.parseBlock();
                    case f.tokTypes.semi:
                        return this.next(), this.finishNode(b, \"EmptyStatement\");
                    case f.tokTypes._class:
                        return this.parseClass(!0);
                    case f.tokTypes._import:
                        return this.parseImport();
                    case f.tokTypes._export:
                        return this.parseExport();
                    default:
                        var m = this.parseExpression();
                        return e.isDummy(m) ? (this.next(), this.tok.type === f.tokTypes.eof ? this.finishNode(b, \"EmptyStatement\") : this.parseStatement()) : a === f.tokTypes.name && \"Identifier\" === m.type && this.eat(f.tokTypes.colon) ? (b.body = this.parseStatement(), b.label = m, this.finishNode(b, \"LabeledStatement\")) : (b.expression = m, this.semicolon(), this.finishNode(b, \"ExpressionStatement\"))
                }
            }, g.parseBlock = function() {
                var a = this.startNode();
                this.pushCx(), this.expect(f.tokTypes.braceL);
                var b = this.curIndent,
                    c = this.curLineStart;
                for (a.body = []; !this.closes(f.tokTypes.braceR, b, c, !0);) a.body.push(this.parseStatement());
                return this.popCx(), this.eat(f.tokTypes.braceR), this.finishNode(a, \"BlockStatement\")
            }, g.parseFor = function(a, b) {
                return a.init = b, a.test = a.update = null, this.eat(f.tokTypes.semi) && this.tok.type !== f.tokTypes.semi && (a.test = this.parseExpression()), this.eat(f.tokTypes.semi) && this.tok.type !== f.tokTypes.parenR && (a.update = this.parseExpression()), this.popCx(), this.expect(f.tokTypes.parenR), a.body = this.parseStatement(), this.finishNode(a, \"ForStatement\")
            }, g.parseForIn = function(a, b) {
                var c = this.tok.type === f.tokTypes._in ? \"ForInStatement\" : \"ForOfStatement\";
                return this.next(), a.left = b, a.right = this.parseExpression(), this.popCx(), this.expect(f.tokTypes.parenR), a.body = this.parseStatement(), this.finishNode(a, c)
            }, g.parseVar = function(a) {
                var b = this.startNode();
                b.kind = this.tok.type.keyword, this.next(), b.declarations = [];
                do {
                    var c = this.startNode();
                    c.id = this.options.ecmaVersion >= 6 ? this.toAssignable(this.parseExprAtom(), !0) : this.parseIdent(), c.init = this.eat(f.tokTypes.eq) ? this.parseMaybeAssign(a) : null, b.declarations.push(this.finishNode(c, \"VariableDeclarator\"))
                } while (this.eat(f.tokTypes.comma));
                if (!b.declarations.length) {
                    var c = this.startNode();
                    c.id = this.dummyIdent(), b.declarations.push(this.finishNode(c, \"VariableDeclarator\"))
                }
                return a || this.semicolon(), this.finishNode(b, \"VariableDeclaration\")
            }, g.parseClass = function(a) {
                var b = this.startNode();
                this.next(), this.tok.type === f.tokTypes.name ? b.id = this.parseIdent() : a ? b.id = this.dummyIdent() : b.id = null, b.superClass = this.eat(f.tokTypes._extends) ? this.parseExpression() : null, b.body = this.startNode(), b.body.body = [], this.pushCx();
                var c = this.curIndent + 1,
                    d = this.curLineStart;
                for (this.eat(f.tokTypes.braceL), this.curIndent + 1 < c && (c = this.curIndent, d = this.curLineStart); !this.closes(f.tokTypes.braceR, c, d);)
                    if (!this.semicolon()) {
                        var g = this.startNode(),
                            h = void 0;
                        this.options.ecmaVersion >= 6 && (g[\"static\"] = !1, h = this.eat(f.tokTypes.star)), this.parsePropertyName(g), e.isDummy(g.key) ? (e.isDummy(this.parseMaybeAssign()) && this.next(), this.eat(f.tokTypes.comma)) : (\"Identifier\" !== g.key.type || g.computed || \"static\" !== g.key.name || this.tok.type == f.tokTypes.parenL || this.tok.type == f.tokTypes.braceL ? g[\"static\"] = !1 : (g[\"static\"] = !0,
                            h = this.eat(f.tokTypes.star), this.parsePropertyName(g)), this.options.ecmaVersion >= 5 && \"Identifier\" === g.key.type && !g.computed && (\"get\" === g.key.name || \"set\" === g.key.name) && this.tok.type !== f.tokTypes.parenL && this.tok.type !== f.tokTypes.braceL ? (g.kind = g.key.name, this.parsePropertyName(g), g.value = this.parseMethod(!1)) : (g.computed || g[\"static\"] || h || !(\"Identifier\" === g.key.type && \"constructor\" === g.key.name || \"Literal\" === g.key.type && \"constructor\" === g.key.value) ? g.kind = \"method\" : g.kind = \"constructor\", g.value = this.parseMethod(h)), b.body.body.push(this.finishNode(g, \"MethodDefinition\")))
                    }
                return this.popCx(), this.eat(f.tokTypes.braceR) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), this.semicolon(), this.finishNode(b.body, \"ClassBody\"), this.finishNode(b, a ? \"ClassDeclaration\" : \"ClassExpression\")
            }, g.parseFunction = function(a, b) {
                return this.initFunction(a), this.options.ecmaVersion >= 6 && (a.generator = this.eat(f.tokTypes.star)), this.tok.type === f.tokTypes.name ? a.id = this.parseIdent() : b && (a.id = this.dummyIdent()), a.params = this.parseFunctionParams(), a.body = this.parseBlock(), this.finishNode(a, b ? \"FunctionDeclaration\" : \"FunctionExpression\")
            }, g.parseExport = function() {
                var a = this.startNode();
                if (this.next(), this.eat(f.tokTypes.star)) return a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : null, this.finishNode(a, \"ExportAllDeclaration\");
                if (this.eat(f.tokTypes._default)) {
                    var b = this.parseMaybeAssign();
                    if (b.id) switch (b.type) {
                        case \"FunctionExpression\":
                            b.type = \"FunctionDeclaration\";
                            break;
                        case \"ClassExpression\":
                            b.type = \"ClassDeclaration\"
                    }
                    return a.declaration = b, this.semicolon(), this.finishNode(a, \"ExportDefaultDeclaration\")
                }
                return this.tok.type.keyword ? (a.declaration = this.parseStatement(), a.specifiers = [], a.source = null) : (a.declaration = null, a.specifiers = this.parseExportSpecifierList(), a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : null, this.semicolon()), this.finishNode(a, \"ExportNamedDeclaration\")
            }, g.parseImport = function() {
                var a = this.startNode();
                if (this.next(), this.tok.type === f.tokTypes.string) a.specifiers = [], a.source = this.parseExprAtom(), a.kind = \"\";
                else {
                    var b = void 0;
                    this.tok.type === f.tokTypes.name && \"from\" !== this.tok.value && (b = this.startNode(), b.local = this.parseIdent(), this.finishNode(b, \"ImportDefaultSpecifier\"), this.eat(f.tokTypes.comma)), a.specifiers = this.parseImportSpecifierList(), a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : this.dummyString(), b && a.specifiers.unshift(b)
                }
                return this.semicolon(), this.finishNode(a, \"ImportDeclaration\")
            }, g.parseImportSpecifierList = function() {
                var a = [];
                if (this.tok.type === f.tokTypes.star) {
                    var b = this.startNode();
                    this.next(), this.eatContextual(\"as\") && (b.local = this.parseIdent()), a.push(this.finishNode(b, \"ImportNamespaceSpecifier\"))
                } else {
                    var c = this.curIndent,
                        d = this.curLineStart,
                        g = this.nextLineStart;
                    for (this.pushCx(), this.eat(f.tokTypes.braceL), this.curLineStart > g && (g = this.curLineStart); !this.closes(f.tokTypes.braceR, c + (this.curLineStart <= g ? 1 : 0), d);) {
                        var b = this.startNode();
                        if (this.eat(f.tokTypes.star)) this.eatContextual(\"as\") && (b.local = this.parseIdent()), this.finishNode(b, \"ImportNamespaceSpecifier\");
                        else {
                            if (this.isContextual(\"from\")) break;
                            if (b.imported = this.parseIdent(), e.isDummy(b.imported)) break;
                            b.local = this.eatContextual(\"as\") ? this.parseIdent() : b.imported, this.finishNode(b, \"ImportSpecifier\")
                        }
                        a.push(b), this.eat(f.tokTypes.comma)
                    }
                    this.eat(f.tokTypes.braceR), this.popCx()
                }
                return a
            }, g.parseExportSpecifierList = function() {
                var a = [],
                    b = this.curIndent,
                    c = this.curLineStart,
                    d = this.nextLineStart;
                for (this.pushCx(), this.eat(f.tokTypes.braceL), this.curLineStart > d && (d = this.curLineStart); !this.closes(f.tokTypes.braceR, b + (this.curLineStart <= d ? 1 : 0), c) && !this.isContextual(\"from\");) {
                    var g = this.startNode();
                    if (g.local = this.parseIdent(), e.isDummy(g.local)) break;
                    g.exported = this.eatContextual(\"as\") ? this.parseIdent() : g.local, this.finishNode(g, \"ExportSpecifier\"), a.push(g), this.eat(f.tokTypes.comma)
                }
                return this.eat(f.tokTypes.braceR), this.popCx(), a
            }
        }, {
            \"..\": 1,
            \"./parseutil\": 4,
            \"./state\": 5
        }],
        7: [function(a, b, c) {
            \"use strict\";

            function g(a) {
                return 14 > a && a > 8 || 32 === a || 160 === a || d.isNewLine(a)
            }
            var d = a(\"..\"),
                e = a(\"./state\"),
                f = e.LooseParser.prototype;
            f.next = function() {
                if (this.last = this.tok, this.ahead.length ? this.tok = this.ahead.shift() : this.tok = this.readToken(), this.tok.start >= this.nextLineStart) {
                    for (; this.tok.start >= this.nextLineStart;) this.curLineStart = this.nextLineStart, this.nextLineStart = this.lineEnd(this.curLineStart) + 1;
                    this.curIndent = this.indentationAfter(this.curLineStart)
                }
            }, f.readToken = function() {
                for (;;) try {
                    return this.toks.next(), this.toks.type === d.tokTypes.dot && \".\" === this.input.substr(this.toks.end, 1) && this.options.ecmaVersion >= 6 && (this.toks.end++, this.toks.type = d.tokTypes.ellipsis), new d.Token(this.toks)
                } catch (a) {
                    if (!(a instanceof SyntaxError)) throw a;
                    var b = a.message,
                        c = a.raisedAt,
                        e = !0;
                    if (/unterminated/i.test(b))
                        if (c = this.lineEnd(a.pos + 1), /string/.test(b)) e = {
                            start: a.pos,
                            end: c,
                            type: d.tokTypes.string,
                            value: this.input.slice(a.pos + 1, c)
                        };
                        else if (/regular expr/i.test(b)) {
                        var f = this.input.slice(a.pos, c);
                        try {
                            f = new RegExp(f)
                        } catch (a) {}
                        e = {
                            start: a.pos,
                            end: c,
                            type: d.tokTypes.regexp,
                            value: f
                        }
                    } else e = /template/.test(b) ? {
                        start: a.pos,
                        end: c,
                        type: d.tokTypes.template,
                        value: this.input.slice(a.pos, c)
                    } : !1;
                    else if (/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(b))
                        for (; c < this.input.length && !g(this.input.charCodeAt(c));) ++c;
                    else if (/character escape|expected hexadecimal/i.test(b))
                        for (; c < this.input.length;) {
                            var h = this.input.charCodeAt(c++);
                            if (34 === h || 39 === h || d.isNewLine(h)) break
                        } else if (/unexpected character/i.test(b)) c++, e = !1;
                        else {
                            if (!/regular expression/i.test(b)) throw a;
                            e = !0
                        }
                    if (this.resetTo(c), e === !0 && (e = {
                            start: c,
                            end: c,
                            type: d.tokTypes.name,
                            value: \"\\u2716\"
                        }), e) return this.options.locations && (e.loc = new d.SourceLocation(this.toks, d.getLineInfo(this.input, e.start), d.getLineInfo(this.input, e.end))), e
                }
            }, f.resetTo = function(a) {
                this.toks.pos = a;
                var b = this.input.charAt(a - 1);
                if (this.toks.exprAllowed = !b || /[\\[\\{\\(,;:?\\/*=+\\-~!|&%^<>]/.test(b) || /[enwfd]/.test(b) && /\\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)\$/.test(this.input.slice(a - 10, a)), this.options.locations) {
                    this.toks.curLine = 1, this.toks.lineStart = d.lineBreakG.lastIndex = 0;
                    for (var c = void 0;
                        (c = d.lineBreakG.exec(this.input)) && c.index < a;) ++this.toks.curLine, this.toks.lineStart = c.index + c[0].length
                }
            }, f.lookAhead = function(a) {
                for (; a > this.ahead.length;) this.ahead.push(this.readToken());
                return this.ahead[a - 1]
            }
        }, {
            \"..\": 1,
            \"./state\": 5
        }]
    }, {}, [3])(3)
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, (b.acorn || (b.acorn = {})).walk = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function e(a, b, d, e, f) {
                d || (d = c.base),
                    function g(a, c, e) {
                        var f = e || a.type,
                            h = b[f];
                        d[f](a, c, g), h && h(a, c)
                    }(a, e, f)
            }

            function f(a, b, d, e) {
                d || (d = c.base), e || (e = []),
                    function f(a, c, e) {
                        var g = e || a.type,
                            h = b[g];
                        a != c[c.length - 1] && (c = c.slice(), c.push(a)), d[g](a, c, f), h && h(a, c)
                    }(a, e)
            }

            function g(a, b, d, e, f) {
                var g = d ? c.make(d, e) : e;
                ! function h(a, b, c) {
                    g[c || a.type](a, b, h)
                }(a, b, f)
            }

            function h(a) {
                return \"string\" == typeof a ? function(b) {
                    return b == a
                } : a ? a : function() {
                    return !0
                }
            }

            function j(a, b, d, e, f, g) {
                e = h(e), f || (f = c.base);
                try {
                    ! function k(a, c, g) {
                        var h = g || a.type;
                        if ((null == b || a.start <= b) && (null == d || a.end >= d) && f[h](a, c, k), (null == b || a.start == b) && (null == d || a.end == d) && e(h, a)) throw new i(a, c)
                    }(a, g)
                } catch (j) {
                    if (j instanceof i) return j;
                    throw j
                }
            }

            function k(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                try {
                    ! function j(a, c, f) {
                        var g = f || a.type;
                        if (!(a.start > b || a.end < b) && (e[g](a, c, j), d(g, a))) throw new i(a, c)
                    }(a, f)
                } catch (g) {
                    if (g instanceof i) return g;
                    throw g
                }
            }

            function l(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                try {
                    ! function j(a, c, f) {
                        if (!(a.end < b)) {
                            var g = f || a.type;
                            if (a.start >= b && d(g, a)) throw new i(a, c);
                            e[g](a, c, j)
                        }
                    }(a, f)
                } catch (g) {
                    if (g instanceof i) return g;
                    throw g
                }
            }

            function m(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                var g = void 0;
                return function j(a, c, f) {
                    if (!(a.start > b)) {
                        var h = f || a.type;
                        a.end <= b && (!g || g.node.end < a.end) && d(h, a) && (g = new i(a, c)), e[h](a, c, j)
                    }
                }(a, f), g
            }

            function n(a, b) {
                b || (b = c.base);
                var d = {};
                for (var e in b) d[e] = b[e];
                for (var e in a) d[e] = a[e];
                return d
            }

            function o(a, b, c) {
                c(a, b)
            }

            function p(a, b, c) {}
            c.__esModule = !0, c.simple = e, c.ancestor = f, c.recursive = g, c.findNodeAt = j, c.findNodeAround = k, c.findNodeAfter = l, c.findNodeBefore = m, c.make = n;
            var i = function r(a, b) {
                    d(this, r), this.node = a, this.state = b
                },
                q = {};
            c.base = q, q.Program = q.BlockStatement = function(a, b, c) {
                for (var d = 0; d < a.body.length; ++d) c(a.body[d], b, \"Statement\")
            }, q.Statement = o, q.EmptyStatement = p, q.ExpressionStatement = q.ParenthesizedExpression = function(a, b, c) {
                return c(a.expression, b, \"Expression\")
            }, q.IfStatement = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.consequent, b, \"Statement\"), a.alternate && c(a.alternate, b, \"Statement\")
            }, q.LabeledStatement = function(a, b, c) {
                return c(a.body, b, \"Statement\")
            }, q.BreakStatement = q.ContinueStatement = p, q.WithStatement = function(a, b, c) {
                c(a.object, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.SwitchStatement = function(a, b, c) {
                c(a.discriminant, b, \"Expression\");
                for (var d = 0; d < a.cases.length; ++d) {
                    var e = a.cases[d];
                    e.test && c(e.test, b, \"Expression\");
                    for (var f = 0; f < e.consequent.length; ++f) c(e.consequent[f], b, \"Statement\")
                }
            }, q.ReturnStatement = q.YieldExpression = function(a, b, c) {
                a.argument && c(a.argument, b, \"Expression\")
            }, q.ThrowStatement = q.SpreadElement = function(a, b, c) {
                return c(a.argument, b, \"Expression\")
            }, q.TryStatement = function(a, b, c) {
                c(a.block, b, \"Statement\"), a.handler && (c(a.handler.param, b, \"Pattern\"), c(a.handler.body, b, \"ScopeBody\")), a.finalizer && c(a.finalizer, b, \"Statement\")
            }, q.WhileStatement = q.DoWhileStatement = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForStatement = function(a, b, c) {
                a.init && c(a.init, b, \"ForInit\"), a.test && c(a.test, b, \"Expression\"), a.update && c(a.update, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForInStatement = q.ForOfStatement = function(a, b, c) {
                c(a.left, b, \"ForInit\"), c(a.right, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForInit = function(a, b, c) {
                \"VariableDeclaration\" == a.type ? c(a, b) : c(a, b, \"Expression\")
            }, q.DebuggerStatement = p, q.FunctionDeclaration = function(a, b, c) {
                return c(a, b, \"Function\")
            }, q.VariableDeclaration = function(a, b, c) {
                for (var d = 0; d < a.declarations.length; ++d) c(a.declarations[d], b)
            }, q.VariableDeclarator = function(a, b, c) {
                c(a.id, b, \"Pattern\"), a.init && c(a.init, b, \"Expression\")
            }, q.Function = function(a, b, c) {
                a.id && c(a.id, b, \"Pattern\");
                for (var d = 0; d < a.params.length; d++) c(a.params[d], b, \"Pattern\");
                c(a.body, b, a.expression ? \"ScopeExpression\" : \"ScopeBody\")
            }, q.ScopeBody = function(a, b, c) {
                return c(a, b, \"Statement\")
            }, q.ScopeExpression = function(a, b, c) {
                return c(a, b, \"Expression\")
            }, q.Pattern = function(a, b, c) {
                \"Identifier\" == a.type ? c(a, b, \"VariablePattern\") : \"MemberExpression\" == a.type ? c(a, b, \"MemberPattern\") : c(a, b)
            }, q.VariablePattern = p, q.MemberPattern = o, q.RestElement = function(a, b, c) {
                return c(a.argument, b, \"Pattern\")
            }, q.ArrayPattern = function(a, b, c) {
                for (var d = 0; d < a.elements.length; ++d) {
                    var e = a.elements[d];
                    e && c(e, b, \"Pattern\")
                }
            }, q.ObjectPattern = function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) c(a.properties[d].value, b, \"Pattern\")
            }, q.Expression = o, q.ThisExpression = q.Super = q.MetaProperty = p, q.ArrayExpression = function(a, b, c) {
                for (var d = 0; d < a.elements.length; ++d) {
                    var e = a.elements[d];
                    e && c(e, b, \"Expression\")
                }
            }, q.ObjectExpression = function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) c(a.properties[d], b)
            }, q.FunctionExpression = q.ArrowFunctionExpression = q.FunctionDeclaration, q.SequenceExpression = q.TemplateLiteral = function(a, b, c) {
                for (var d = 0; d < a.expressions.length; ++d) c(a.expressions[d], b, \"Expression\")
            }, q.UnaryExpression = q.UpdateExpression = function(a, b, c) {
                c(a.argument, b, \"Expression\")
            }, q.BinaryExpression = q.LogicalExpression = function(a, b, c) {
                c(a.left, b, \"Expression\"), c(a.right, b, \"Expression\")
            }, q.AssignmentExpression = q.AssignmentPattern = function(a, b, c) {
                c(a.left, b, \"Pattern\"), c(a.right, b, \"Expression\")
            }, q.ConditionalExpression = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.consequent, b, \"Expression\"), c(a.alternate, b, \"Expression\")
            }, q.NewExpression = q.CallExpression = function(a, b, c) {
                if (c(a.callee, b, \"Expression\"), a.arguments)
                    for (var d = 0; d < a.arguments.length; ++d) c(a.arguments[d], b, \"Expression\")
            }, q.MemberExpression = function(a, b, c) {
                c(a.object, b, \"Expression\"), a.computed && c(a.property, b, \"Expression\")
            }, q.ExportNamedDeclaration = q.ExportDefaultDeclaration = function(a, b, c) {
                a.declaration && c(a.declaration, b), a.source && c(a.source, b, \"Expression\")
            }, q.ExportAllDeclaration = function(a, b, c) {
                c(a.source, b, \"Expression\")
            }, q.ImportDeclaration = function(a, b, c) {
                for (var d = 0; d < a.specifiers.length; d++) c(a.specifiers[d], b);
                c(a.source, b, \"Expression\")
            }, q.ImportSpecifier = q.ImportDefaultSpecifier = q.ImportNamespaceSpecifier = q.Identifier = q.Literal = p, q.TaggedTemplateExpression = function(a, b, c) {
                c(a.tag, b, \"Expression\"), c(a.quasi, b)
            }, q.ClassDeclaration = q.ClassExpression = function(a, b, c) {
                return c(a, b, \"Class\")
            }, q.Class = function(a, b, c) {
                a.id && c(a.id, b, \"Pattern\"), a.superClass && c(a.superClass, b, \"Expression\");
                for (var d = 0; d < a.body.body.length; d++) c(a.body.body[d], b)
            }, q.MethodDefinition = q.Property = function(a, b, c) {
                a.computed && c(a.key, b, \"Expression\"), c(a.value, b, \"Expression\")
            }, q.ComprehensionExpression = function(a, b, c) {
                for (var d = 0; d < a.blocks.length; d++) c(a.blocks[d].right, b, \"Expression\");
                c(a.body, b, \"Expression\")
            }
        }, {}]
    }, {}, [1])(1)
}),
function() {
    Object.create = Object.create || function() {
        function a() {}
        if (!({
                    __proto__: null
                }
                instanceof Object)) return function(a) {
            return {
                __proto__: a
            }
        };
        var b = document.body.appendChild(document.createElement(\"iframe\"));
        b.src = \"javascript:\";
        var c = b.contentWindow.Object.prototype;
        return delete c.hasOwnProperty, delete c.isPrototypeOf, delete c.propertyIsEnumerable, delete c.valueOf, delete c.toString, delete c.toLocaleString, delete c.constructor,
            function(b) {
                return a.prototype = b || c, new a
            }
    }();
    var a = Array.prototype;
    a.some = a.some || function(a) {
        for (var b = 0; b < this.length; ++b)
            if (a(this[b], b)) return !0
    }, a.forEach = a.forEach || function(a) {
        for (var b = 0; b < this.length; ++b) a(this[b], b)
    }, a.indexOf = a.indexOf || function(a, b) {
        for (var c = b || 0; c < this.length; ++c)
            if (this[c] === a) return c;
        return -1
    }, a.lastIndexOf = a.lastIndexOf || function(a, b) {
        for (var c = null == b ? this.length - 1 : b; c >= 0; ++c)
            if (this[c] === a) return c;
        return -1
    }, a.map = a.map || function(a) {
        for (var b = [], c = 0; c < this.length; ++c) b.push(a(this[c], c));
        return b
    }, Array.isArray = Array.isArray || function(a) {
        return \"[object Array]\" == Object.prototype.toString.call(a)
    }, String.prototype.trim = String.prototype.trim || function() {
        for (var a = 0, b = this.length;
            /\\s/.test(this.charAt(a));) ++a;
        for (;
            /\\s/.test(this.charAt(b - 1));) --b;
        return this.slice(a, b)
    }, window.JSON || function() {
        function A(e) {
            var f, g, i, j = \"json\" == e;
            if (j || \"json-stringify\" == e || \"json-parse\" == e) {
                if (\"json-stringify\" == e || j) {
                    if (f = \"function\" == typeof h.stringify && v) {
                        (i = function() {
                            return 1
                        }).toJSON = i;
                        try {
                            f = \"0\" === h.stringify(0) && \"0\" === h.stringify(new Number) && '\"\"' == h.stringify(new String) && h.stringify(d) === a && h.stringify(a) === a && h.stringify() === a && \"1\" === h.stringify(i) && \"[1]\" == h.stringify([i]) && \"[null]\" == h.stringify([a]) && \"null\" == h.stringify(c) && \"[null,null,null]\" == h.stringify([a, d, c]) && '{\"A\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}' == h.stringify({
                                A: [i, b, !1, c, \"\\x00\\b\\n\\f\\r \"]
                            }) && \"1\" === h.stringify(c, i) && \"[\\n 1,\\n 2\\n]\" == h.stringify([1, 2], c, 1) && '\"-271821-04-20T00:00:00.000Z\"' == h.stringify(new Date(-864e13)) && '\"+275760-09-13T00:00:00.000Z\"' == h.stringify(new Date(864e13)) && '\"-000001-01-01T00:00:00.000Z\"' == h.stringify(new Date(-621987552e5)) && '\"1969-12-31T23:59:59.999Z\"' == h.stringify(new Date(-1))
                        } catch (k) {
                            f = !1
                        }
                    }
                    if (!j) return f
                }
                if (\"json-parse\" == e || j) {
                    if (\"function\" == typeof h.parse) try {
                        if (0 === h.parse(\"0\") && !h.parse(!1) && (i = h.parse('{\"A\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}'), g = 5 == i.a.length && 1 == i.a[0])) {
                            try {
                                g = !h.parse('\" \"')
                            } catch (l) {}
                            if (g) try {
                                g = 1 != h.parse(\"01\")
                            } catch (m) {}
                        }
                    } catch (n) {
                        g = !1
                    }
                    if (!j) return g
                }
                return f && g
            }
        }
        var e, f, a = void 0,
            b = !0,
            c = null,
            d = {}.toString,
            g = \"function\" == typeof define && define.c,
            h = !g && \"object\" == typeof exports && exports;
        h || g ? \"object\" == typeof JSON && JSON ? g ? h = JSON : (h.stringify = JSON.stringify, h.parse = JSON.parse) : g && (h = this.JSON = {}) : h = this.JSON || (this.JSON = {});
        var i, j, k, l, m, n, o, p, q, r, s, t, u, w, x, y, v = new Date(-0xc782b5b800cec);
        try {
            v = -109252 == v.getUTCFullYear() && 0 === v.getUTCMonth() && 1 == v.getUTCDate() && 10 == v.getUTCHours() && 37 == v.getUTCMinutes() && 6 == v.getUTCSeconds() && 708 == v.getUTCMilliseconds()
        } catch (z) {}
        A(\"json\") || (v || (w = Math.floor, x = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], y = function(a, b) {
            return x[b] + 365 * (a - 1970) + w((a - 1969 + (b = +(b > 1))) / 4) - w((a - 1901 + b) / 100) + w((a - 1601 + b) / 400)
        }), (e = {}.hasOwnProperty) || (e = function(a) {
            var f, b = {};
            return (b.__proto__ = c, b.__proto__ = {
                toString: 1
            }, b).toString != d ? e = function(a) {
                var b = this.__proto__,
                    a = a in (this.__proto__ = c, this);
                return this.__proto__ = b, a
            } : (f = b.constructor, e = function(a) {
                var b = (this.constructor || f).prototype;
                return a in this && !(a in b && this[a] === b[a])
            }), b = c, e.call(this, a)
        }), f = function(a, b) {
            var g, h, i, f = 0;
            (g = function() {
                this.valueOf = 0
            }).prototype.valueOf = 0, h = new g;
            for (i in h) e.call(h, i) && f++;
            g = h = c, f ? f = 2 == f ? function(a, b) {
                var g, c = {},
                    f = \"[object Function]\" == d.call(a);
                for (g in a) !(f && \"prototype\" == g) && !e.call(c, g) && (c[g] = 1) && e.call(a, g) && b(g)
            } : function(a, b) {
                var f, g, c = \"[object Function]\" == d.call(a);
                for (f in a) !(c && \"prototype\" == f) && e.call(a, f) && !(g = \"constructor\" === f) && b(f);
                (g || e.call(a, f = \"constructor\")) && b(f)
            } : (h = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"], f = function(a, b) {
                var f, c = \"[object Function]\" == d.call(a);
                for (f in a) !(c && \"prototype\" == f) && e.call(a, f) && b(f);
                for (c = h.length; f = h[--c]; e.call(a, f) && b(f));
            }), f(a, b)
        }, A(\"json-stringify\") || (i = {
            \"\\\\\": \"\\\\\\\\\",
            '\"': '\\\\\"',
            \"\\b\": \"\\\\b\",
            \"\\f\": \"\\\\f\",
            \"\\n\": \"\\\\n\",
            \"\\r\": \"\\\\r\",
            \"  \": \"\\\\t\"
        }, j = function(a, b) {
            return (\"000000\" + (b || 0)).slice(-a)
        }, k = function(a) {
            for (var d, b = '\"', c = 0; d = a.charAt(c); c++) b += '\\\\\"\\b\\f\\n\\r '.indexOf(d) > -1 ? i[d] : i[d] = \" \" > d ? \"\\\\u00\" + j(2, d.charCodeAt(0).toString(16)) : d;
            return b + '\"'
        }, l = function(g, h, i, m, n, o, p) {
            var r, s, t, u, v, x, z, A, B, q = h[g];
            if (\"object\" == typeof q && q)
                if (r = d.call(q), \"[object Date]\" != r || e.call(q, \"toJSON\")) \"function\" == typeof q.toJSON && (\"[object Number]\" != r && \"[object String]\" != r && \"[object Array]\" != r || e.call(q, \"toJSON\")) && (q = q.toJSON(g));
                else if (q > -1 / 0 && 1 / 0 > q) {
                if (y) {
                    for (t = w(q / 864e5), r = w(t / 365.2425) + 1970 - 1; y(r + 1, 0) <= t; r++);
                    for (s = w((t - y(r, 0)) / 30.42); y(r, s + 1) <= t; s++);
                    t = 1 + t - y(r, s), u = (q % 864e5 + 864e5) % 864e5, v = w(u / 36e5) % 24, x = w(u / 6e4) % 60, z = w(u / 1e3) % 60, u %= 1e3
                } else r = q.getUTCFullYear(), s = q.getUTCMonth(), t = q.getUTCDate(), v = q.getUTCHours(), x = q.getUTCMinutes(), z = q.getUTCSeconds(), u = q.getUTCMilliseconds();
                q = (0 >= r || r >= 1e4 ? (0 > r ? \"-\" : \"+\") + j(6, 0 > r ? -r : r) : j(4, r)) + \"-\" + j(2, s + 1) + \"-\" + j(2, t) + \"T\" + j(2, v) + \":\" + j(2, x) + \":\" + j(2, z) + \".\" + j(3, u) + \"Z\"
            } else q = c;
            if (i && (q = i.call(h, g, q)), q === c) return \"null\";
            if (r = d.call(q), \"[object Boolean]\" == r) return \"\" + q;
            if (\"[object Number]\" == r) return q > -1 / 0 && 1 / 0 > q ? \"\" + q : \"null\";
            if (\"[object String]\" == r) return k(q);
            if (\"object\" == typeof q) {
                for (g = p.length; g--;)
                    if (p[g] === q) throw TypeError();
                if (p.push(q), A = [], h = o, o += n, \"[object Array]\" == r) {
                    for (s = 0, g = q.length; g > s; B || (B = b), s++) r = l(s, q, i, m, n, o, p), A.push(r === a ? \"null\" : r);
                    g = B ? n ? \"[\\n\" + o + A.join(\",\\n\" + o) + \"\\n\" + h + \"]\" : \"[\" + A.join(\",\") + \"]\" : \"[]\"
                } else f(m || q, function(c) {
                    var d = l(c, q, i, m, n, o, p);
                    d !== a && A.push(k(c) + \":\" + (n ? \" \" : \"\") + d), B || (B = b)
                }), g = B ? n ? \"{\\n\" + o + A.join(\",\\n\" + o) + \"\\n\" + h + \"}\" : \"{\" + A.join(\",\") + \"}\" : \"{}\";
                return p.pop(), g
            }
        }, h.stringify = function(a, b, c) {
            var e, f, g, h, i, j;
            if (\"function\" == typeof b || \"object\" == typeof b && b)
                if (\"[object Function]\" == d.call(b)) f = b;
                else if (\"[object Array]\" == d.call(b))
                for (g = {}, h = 0, i = b.length; i > h; j = b[h++], (\"[object String]\" == d.call(j) || \"[object Number]\" == d.call(j)) && (g[j] = 1));
            if (c)
                if (\"[object Number]\" == d.call(c)) {
                    if ((c -= c % 1) > 0)
                        for (e = \"\", c > 10 && (c = 10); e.length < c; e += \" \");
                } else \"[object String]\" == d.call(c) && (e = c.length <= 10 ? c : c.slice(0, 10));
            return l(\"\", (j = {}, j[\"\"] = a, j), f, g, e, \"\", [])
        }), A(\"json-parse\") || (m = String.fromCharCode, n = {
            \"\\\\\": \"\\\\\",
            '\"': '\"',
            \"/\": \"/\",
            b: \"\\b\",
            t: \"  \",
            n: \"\\n\",
            f: \"\\f\",
            r: \"\\r\"
        }, o = function() {
            throw t = u = c, SyntaxError()
        }, p = function() {
            for (var e, f, g, h, i, a = u, d = a.length; d > t;)
                if (e = a.charAt(t), \" \\r\\n \".indexOf(e) > -1) t++;
                else {
                    if (\"{}[]:,\".indexOf(e) > -1) return t++, e;
                    if ('\"' == e) {
                        for (f = \"@\", t++; d > t;)
                            if (e = a.charAt(t), \" \" > e) o();
                            else if (\"\\\\\" == e)
                            if (e = a.charAt(++t), '\\\\\"/btnfr'.indexOf(e) > -1) f += n[e], t++;
                            else if (\"u\" == e) {
                            for (g = ++t, h = t + 4; h > t; t++) e = a.charAt(t), e >= \"0\" && \"9\" >= e || e >= \"a\" && \"f\" >= e || e >= \"A\" && \"F\" >= e || o();
                            f += m(\"0x\" + a.slice(g, t))
                        } else o();
                        else {
                            if ('\"' == e) break;
                            f += e, t++
                        }
                        if ('\"' == a.charAt(t)) return t++, f
                    } else {
                        if (g = t, \"-\" == e && (i = b, e = a.charAt(++t)), e >= \"0\" && \"9\" >= e) {
                            for (\"0\" == e && (e = a.charAt(t + 1), e >= \"0\" && \"9\" >= e) && o(); d > t && (e = a.charAt(t), e >= \"0\" && \"9\" >= e); t++);
                            if (\".\" == a.charAt(t)) {
                                for (h = ++t; d > h && (e = a.charAt(h), e >= \"0\" && \"9\" >= e); h++);
                                h == t && o(), t = h
                            }
                            if (e = a.charAt(t), \"e\" == e || \"E\" == e) {
                                for (e = a.charAt(++t), (\"+\" == e || \"-\" == e) && t++, h = t; d > h && (e = a.charAt(h), e >= \"0\" && \"9\" >= e); h++);
                                h == t && o(), t = h
                            }
                            return +a.slice(g, t)
                        }
                        if (i && o(), \"true\" == a.slice(t, t + 4)) return t += 4, b;
                        if (\"false\" == a.slice(t, t + 5)) return t += 5, !1;
                        if (\"null\" == a.slice(t, t + 4)) return t += 4, c
                    }
                    o()
                }
            return \"\$\"
        }, q = function(a) {
            var c, d;
            if (\"\$\" == a && o(), \"string\" == typeof a) {
                if (\"@\" == a.charAt(0)) return a.slice(1);
                if (\"[\" == a) {
                    for (c = []; a = p(), \"]\" != a; d || (d = b)) d && (\",\" == a ? (a = p(), \"]\" == a && o()) : o()), \",\" == a && o(), c.push(q(a));
                    return c
                }
                if (\"{\" == a) {
                    for (c = {}; a = p(), \"}\" != a; d || (d = b)) d && (\",\" == a ? (a = p(), \"}\" == a && o()) : o()), (\",\" == a || \"string\" != typeof a || \"@\" != a.charAt(0) || \":\" != p()) && o(), c[a.slice(1)] = q(p());
                    return c
                }
                o()
            }
            return a
        }, s = function(b, c, d) {
            d = r(b, c, d), d === a ? delete b[c] : b[c] = d
        }, r = function(a, b, c) {
            var g, e = a[b];
            if (\"object\" == typeof e && e)
                if (\"[object Array]\" == d.call(e))
                    for (g = e.length; g--;) s(e, g, c);
                else f(e, function(a) {
                    s(e, a, c)
                });
            return c.call(a, b, e)
        }, h.parse = function(a, b) {
            var e, f;
            return t = 0, u = a, e = q(p()), \"\$\" != p() && o(), t = u = c, b && \"[object Function]\" == d.call(b) ? r((f = {}, f[\"\"] = e, f), \"\", b) : e
        })), g && define(function() {
            return h
        })
    }()
}(),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], b) : void b((a.tern || (a.tern = {})).signal = {})
}(this, function(a) {
    function b(a, b) {
        var c = this._handlers || (this._handlers = Object.create(null));
        (c[a] || (c[a] = [])).push(b)
    }

    function c(a, b) {
        var c = this._handlers && this._handlers[a];
        if (c)
            for (var d = 0; d < c.length; ++d)
                if (c[d] == b) {
                    c.splice(d, 1);
                    break
                }
    }

    function e(a, b) {
        var c = a._handlers && a._handlers[b];
        return c && c.length ? c.slice() : d
    }

    function f(a, b, c, d, f) {
        for (var g = e(this, a), h = 0; h < g.length; ++h) g[h].call(this, b, c, d, f)
    }

    function g(a, b, c, d, f) {
        for (var g = e(this, a), h = 0; h < g.length; ++h) {
            var i = g[h].call(this, b, c, d, f);
            if (i) return i
        }
    }

    function h(a) {
        var b = this._handlers && this._handlers[a];
        return b && b.length > 0 && b
    }
    var d = [];
    a.mixin = function(a) {
        return a.on = b, a.off = c, a.signal = f, a.signalReturnFirst = g, a.hasHandler = h, a
    }
}),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports, require(\"./infer\"), require(\"./signal\"), require(\"acorn\"), require(\"acorn/dist/walk\")) : \"function\" == typeof define && define.amd ? define([\"exports\", \"./infer\", \"./signal\", \"acorn/dist/acorn\", \"acorn/dist/walk\"], b) : void b(a.tern || (a.tern = {}), tern, tern.signal, acorn, acorn.walk)
}(this, function(a, b, c, d, e) {
    \"use strict\";

    function i(a, b) {
        this.name = a, this.parent = b, this.scope = this.text = this.ast = this.lineOffsets = null
    }

    function j(a, c) {
        var d = {
                directSourceFile: c,
                allowReturnOutsideFunction: !0,
                allowImportExportEverywhere: !0,
                ecmaVersion: a.options.ecmaVersion
            },
            e = a.signalReturnFirst(\"preParse\", c.text, d) || c.text,
            f = b.parse(e, d);
        return a.signal(\"postParse\", f, e), f
    }

    function k(a, c, d) {
        a.text = d.options.stripCRs ? c.replace(/\\r\\n/g, \"\\n\") : c, b.withContext(d.cx, function() {
            a.ast = j(d, a)
        }), a.lineOffsets = null
    }

    function m(a, c, d) {
        if (c.query && !h.hasOwnProperty(c.query.type)) return d(\"No query type '\" + c.query.type + \"' defined\");
        var e = c.query;
        e || d(null, {});
        var f = c.files || [];
        f.length && ++a.uses;
        for (var g = 0; g < f.length; ++g) {
            var i = f[g];
            \"delete\" == i.type ? a.delFile(i.name) : o(a, i.name, null, \"full\" == i.type ? i.text : null)
        }
        var j = \"number\" == typeof c.timeout ? [c.timeout] : null;
        if (!e) return void r(a, j, function() {});
        var k = h[e.type];
        if (k.takesFile) {
            if (\"string\" != typeof e.file) return d(\".query.file must be a string\");
            /^#/.test(e.file) || o(a, e.file, null)
        }
        r(a, j, function(c) {
            function h() {
                var b;
                try {
                    b = k.run(a, e, g)
                } catch (c) {
                    return a.options.debug && \"TernError\" != c.name && console.error(c.stack), d(c)
                }
                d(null, b)
            }
            if (c) return d(c);
            var g = k.takesFile && w(a, f, e.file);
            return k.fullFile && \"part\" == g.type ? d(\"Can't run a \" + e.type + \" query on a file fragment\") : (b.resetGuessing(), void b.withContext(a.cx, j ? function() {
                b.withTimeout(j[0], h)
            } : h))
        })
    }

    function n(a, c) {
        return b.withContext(a.cx, function() {
            c.scope = a.cx.topScope, a.signal(\"beforeLoad\", c), b.analyze(c.ast, c.name, c.scope), a.signal(\"afterLoad\", c)
        }), c
    }

    function o(a, b, c, d) {
        var e = a.findFile(b);
        if (e) return null != d && (e.scope && (a.needsPurge.push(b), e.scope = null), k(e, d, a)), void(y(a, e.parent) > y(a, c) && (e.parent = c, e.excluded && (e.excluded = null)));
        var f = new i(b, c);
        a.files.push(f), a.fileMap[b] = f, null != d ? k(f, d, a) : a.options.async ? (a.startAsyncAction(), a.options.getFile(b, function(b, c) {
            k(f, c || \"\", a), a.finishAsyncAction(b)
        })) : k(f, a.options.getFile(b) || \"\", a)
    }

    function q(a, b, c) {
        var d = function() {
            a.off(\"everythingFetched\", d), clearTimeout(e), r(a, b, c)
        };
        a.on(\"everythingFetched\", d);
        var e = setTimeout(d, a.options.fetchTimeout)
    }

    function r(a, c, d) {
        if (a.pending) return q(a, c, d);
        var e = a.fetchError;
        if (e) return a.fetchError = null, d(e);
        a.needsPurge.length > 0 && b.withContext(a.cx, function() {
            b.purge(a.needsPurge), a.needsPurge.length = 0
        });
        for (var f = !0, g = 0; g < a.files.length;) {
            for (var h = []; g < a.files.length; ++g) {
                var i = a.files[g];
                null == i.text ? f = !1 : null != i.scope || i.excluded || h.push(i)
            }
            h.sort(function(b, c) {
                return y(a, b.parent) - y(a, c.parent)
            });
            for (var j = 0; j < h.length; j++) {
                var i = h[j];
                if (i.parent && !A(a, i)) i.excluded = !0;
                else if (c) {
                    var k = +new Date;
                    b.withTimeout(c[0], function() {
                        n(a, i)
                    }), c[0] -= +new Date - k
                } else n(a, i)
            }
        }
        f ? d() : q(a, c, d)
    }

    function s(a) {
        var b = a.indexOf(\"\\n\");
        return 0 > b ? a : a.slice(0, b)
    }

    function t(a, b, c) {
        var d = Math.max(0, c - 500),
            e = null;
        if (!/^\\s*\$/.test(a))
            for (;;) {
                var f = b.indexOf(a, d);
                if (0 > f || f > c + 500) break;
                (null == e || Math.abs(e - c) > Math.abs(f - c)) && (e = f), d = f + a.length
            }
        return e
    }

    function u(a) {
        for (var b = 0; a; ++b, a = a.prev);
        return b
    }

    function v(a) {
        var b = new Error(a);
        return b.name = \"TernError\", b
    }

    function w(a, c, d) {
        var f = d.match(/^#(\\d+)\$/);
        if (!f) return a.findFile(d);
        var g = c[f[1]];
        if (!g || \"delete\" == g.type) throw v(\"Reference to unknown file \" + d);
        if (\"full\" == g.type) return a.findFile(g.name);
        var h = g.backing = a.findFile(g.name),
            i = g.offset;
        g.offsetLines && (i = {
            line: g.offsetLines,
            ch: 0
        }), g.offset = i = F(h, null == g.offsetLines ? g.offset : {
            line: g.offsetLines,
            ch: 0
        }, !0);
        var n, o, k = s(g.text),
            l = t(k, h.text, i),
            m = null == l ? Math.max(0, h.text.lastIndexOf(\"\\n\", i)) : l;
        return b.withContext(a.cx, function() {
            b.purge(g.name, m, m + g.text.length);
            var d, c = g.text;
            if (d = c.match(/(?:\"([^\"]*)\"|([\\w\$]+))\\s*:\\s*function\\b/)) {
                var f = e.findNodeAround(g.backing.ast, m, \"ObjectExpression\");
                f && f.node.objType && (n = {
                    type: f.node.objType,
                    prop: d[2] || d[1]
                })
            }
            if (l && (d = k.match(/^(.*?)\\bfunction\\b/))) {
                for (var i = d[1].length, p = \"\", q = 0; i > q; ++q) p += \" \";
                g.text = p + c.slice(i), o = !0
            }
            var r = b.scopeAt(h.ast, m, h.scope),
                s = b.scopeAt(h.ast, m + c.length, h.scope),
                t = g.scope = u(r) < u(s) ? s : r;
            g.ast = j(a, g), b.analyze(g.ast, g.name, t);
            a: if (n || o) {
                var v = b.scopeAt(g.ast, k.length, r);
                if (!v.fnType) break a;
                if (n) {
                    var w = n.type.getProp(n.prop);
                    w.addType(v.fnType)
                } else if (o) {
                    var x = b.scopeAt(h.ast, m + k.length, h.scope);
                    if (x == r || !x.fnType) break a;
                    var y = x.fnType,
                        z = v.fnType;
                    if (!z || z.name != y.name && y.name) break a;
                    for (var q = 0, A = Math.min(y.args.length, z.args.length); A > q; ++q) y.args[q].propagate(z.args[q]);
                    y.self.propagate(z.self), z.retval.propagate(y.retval)
                }
            }
        }), g
    }

    function x(a) {
        var b = 0;
        return e.simple(a, {
            Expression: function() {
                ++b
            }
        }), b
    }

    function y(a, b) {
        for (var c = 0; b;) b = a.findFile(b).parent, ++c;
        return c
    }

    function z(a, b) {
        for (;;) {
            var c = a.findFile(b.parent);
            if (!c.parent) break;
            b = c
        }
        return b.name
    }

    function A(a, b) {
        var c = z(a, b),
            d = x(b.ast),
            e = a.budgets[c];
        return null == e && (e = a.budgets[c] = a.options.dependencyBudget), d > e ? !1 : (a.budgets[c] = e - d, !0)
    }

    function B(a) {
        return \"number\" == typeof a || \"object\" == typeof a && \"number\" == typeof a.line && \"number\" == typeof a.ch
    }

    function C(a) {
        if (a.query) {
            if (\"string\" != typeof a.query.type) return \".query.type must be a string\";
            if (a.query.start && !B(a.query.start)) return \".query.start must be a position\";
            if (a.query.end && !B(a.query.end)) return \".query.end must be a position\"
        }
        if (a.files) {
            if (!Array.isArray(a.files)) return \"Files property must be an array\";
            for (var b = 0; b < a.files.length; ++b) {
                var c = a.files[b];
                if (\"object\" != typeof c) return \".files[n] must be objects\";
                if (\"string\" != typeof c.name) return \".files[n].name must be a string\";
                if (\"delete\" != c.type) {
                    if (\"string\" != typeof c.text) return \".files[n].text must be a string\";
                    if (\"part\" == c.type) {
                        if (!B(c.offset) && \"number\" != typeof c.offsetLines) return \".files[n].offset must be a position\"
                    } else if (\"full\" != c.type) return '.files[n].type must be \"full\" or \"part\"'
                }
            }
        }
    }

    function E(a, b) {
        for (var c = a.text, d = a.lineOffsets || (a.lineOffsets = [0]), e = 0, f = 0, g = Math.min(Math.floor(b / D), d.length - 1), e = d[g], f = g * D; b > f;) {
            if (++f, e = c.indexOf(\"\\n\", e) + 1, 0 === e) return null;
            f % D === 0 && d.push(e)
        }
        return e
    }

    function G(a, b) {
        if (!a) return {
            line: 0,
            ch: 0
        };
        for (var e, f, c = a.lineOffsets || (a.lineOffsets = [0]), d = a.text, g = c.length - 1; g >= 0; --g) c[g] <= b && (e = g * D, f = c[g]);
        for (;;) {
            var h = d.indexOf(\"\\n\", f);
            if (h >= b || 0 > h) break;
            f = h + 1, ++e
        }
        return {
            line: e,
            ch: b - f
        }
    }

    function I(a) {
        for (var b in a) null == a[b] && delete a[b];
        return a
    }

    function J(a, b, c) {
        null != c && (a[b] = c)
    }

    function K(a, b) {
        \"string\" != typeof a && (a = a.name, b = b.name);
        var c = /^[A-Z]/.test(a),
            d = /^[A-Z]/.test(b);
        return c == d ? b > a ? -1 : a == b ? 0 : 1 : c ? 1 : -1
    }

    function L(a, b, c) {
        return \"Literal\" == a.type && \"string\" == typeof a.value && a.start == b - 1 && a.end <= c + 1
    }

    function M(a, b) {
        for (var c = 0; c < a.properties.length; c++) {
            var d = a.properties[c];
            if (d.key.start <= b && d.key.end >= b) return d
        }
    }

    function P(a, c, e) {
        function m(b, d, e, f) {
            if ((!t && c.omitObjectPrototype === !1 || d != a.cx.protos.Object || j) && !(c.filter !== !1 && j && 0 !== (c.caseInsensitive ? b.toLowerCase() : b).indexOf(j) || l && l.props[b])) {
                var g = O(c, k, b, d && d.props[b], e);
                f && g && \"string\" != typeof g && f(g)
            }
        }
        if (null == c.end) throw v(\"missing .query.end field\");
        var f = a.signalReturnFirst(\"completion\", e, c);
        if (f) return f;
        for (var g = F(e, c.end), h = g, i = e.text; g && d.isIdentifierChar(i.charCodeAt(g - 1));) --g;
        if (c.expandWordForward !== !1)
            for (; h < i.length && d.isIdentifierChar(i.charCodeAt(h));) ++h;
        var l, j = i.slice(g, h),
            k = [];
        c.caseInsensitive && (j = j.toLowerCase());
        var n, o, p, q, s, t, r = b.findExpressionAround(e.ast, null, g, e.scope);
        if (r) {
            var u = r.node;
            if (\"MemberExpression\" == u.type && u.object.end < g) s = r;
            else if (L(u, g, h)) {
                var w = b.parentNode(u, e.ast);
                \"MemberExpression\" == w.type && w.property == u && (s = {
                    node: w,
                    state: r.state
                })
            } else if (\"ObjectExpression\" == u.type) {
                var x = M(u, h);
                x ? (t = r, o = q = x.key.name) : j || /:\\s*\$/.test(e.text.slice(0, g)) || (t = r, o = q = !0)
            }
        }
        if (t) p = b.typeFromContext(e.ast, t), l = t.node.objType;
        else if (s) o = s.node.property, o = \"Literal\" == o.type ? o.value.slice(1) : o.name, s.node = s.node.object, p = b.expressionType(s);
        else if (\".\" == i.charAt(g - 1)) {
            for (var y = g - 1; y && (\".\" == i.charAt(y - 1) || d.isIdentifierChar(i.charCodeAt(y - 1)));) y--;
            var z = i.slice(y, g - 1);
            z && (p = b.def.parsePath(z, e.scope).getObjType(), o = j)
        }
        if (null != o) {
            if (a.cx.completingProperty = o, p && b.forAllPropertiesOf(p, m), !k.length && c.guess !== !1 && p && p.guessProperties && p.guessProperties(function(a, b, c) {
                    a != o && \"\\u2716\" != a && m(a, b, c)
                }), !k.length && j.length >= 2 && c.guess !== !1)
                for (var o in a.cx.props) m(o, a.cx.props[o][0], 0);
            n = \"memberCompletion\"
        } else b.forAllLocalsAt(e.ast, g, e.scope, m), c.includeKeywords && N.forEach(function(a) {
            m(a, null, 0, function(a) {
                a.isKeyword = !0
            })
        }), n = \"variableCompletion\";
        return a.signal(n, e, g, h, m), c.sort !== !1 && k.sort(K), a.cx.completingProperty = null, {
            start: H(c, e, g),
            end: H(c, e, h),
            isProperty: !!o,
            isObjectKey: !!q,
            completions: k
        }
    }

    function Q(a, b) {
        var c = b.prefix,
            d = [];
        for (var e in a.cx.props) \"<i>\" == e || c && 0 !== e.indexOf(c) || d.push(e);
        return b.sort !== !1 && d.sort(K), {
            completions: d
        }
    }

    function S(a, b, c) {
        var d = R(a, b, c);
        if (d) return d;
        throw v(\"No expression at the given position.\");
    }

    function T(a) {
        return a && (a = a.getType()) && a instanceof b.Obj ? a : null
    }

    function U(a, c, d, e) {
        var f;
        e && (b.resetGuessing(), f = b.expressionType(e));
        var g = a.hasHandler(\"typeAt\");
        if (g)
            for (var h = F(d, c.end), i = 0; i < g.length; i++) f = g[i](d, h, e, f);
        if (!f) throw v(\"No type found at the given position.\");
        var j;
        if (\"ObjectExpression\" == e.node.type && null != c.end && (j = M(e.node, F(d, c.end)))) {
            var k = j.key.name,
                l = T(b.typeFromContext(d.ast, e));
            if (l && l.hasProp(k)) f = l.hasProp(k);
            else {
                var m = T(f);
                m && m.hasProp(k) && (f = m.hasProp(k))
            }
        }
        return f
    }

    function V(a, c, d) {
        var f, e = R(d, c),
            g = U(a, c, d, e),
            h = g;
        if (g = c.preferFunction ? g.getFunctionType() || g.getType() : g.getType(), e && (\"Identifier\" == e.node.type ? f = e.node.name : \"MemberExpression\" != e.node.type || e.node.computed || (f = e.node.property.name)), null != c.depth && \"number\" != typeof c.depth) throw v(\".query.depth must be a number\");
        var i = {
            guess: b.didGuess(),
            type: b.toString(h, c.depth),
            name: g && g.name,
            exprName: f,
            doc: h.doc,
            url: h.url
        };
        return g && Y(c, g, i), I(i)
    }

    function W(a, b) {
        if (!b) return null;
        if (\"full\" == a.docFormat) return b;
        var c = /.\\n[\\s@\\n]/.exec(b);
        if (c && (b = b.slice(0, c.index + 1)), b = b.replace(/\\n\\s*/g, \" \"), b.length < 100) return b;
        var d = /[\\.!?] [A-Z]/g;
        d.lastIndex = 80;
        var e = d.exec(b);
        return e && (b = b.slice(0, e.index + 1)), b
    }

    function X(a, c, d) {
        var e = R(d, c),
            f = U(a, c, d, e),
            g = {
                url: f.url,
                doc: W(c, f.doc),
                type: b.toString(f)
            },
            h = f.getType();
        return h && Y(c, h, g), I(g)
    }

    function Y(a, c, d) {
        d.url || (d.url = c.url), d.doc || (d.doc = W(a, c.doc)), d.origin || (d.origin = c.origin);
        var e, f = b.cx().protos;
        !d.url && !d.doc && c.proto && (e = c.proto.hasCtor) && c.proto != f.Object && c.proto != f.Function && c.proto != f.Array && (d.url = e.url, d.doc = W(a, e.doc))
    }

    function _(a, c, d) {
        var e = R(d, c),
            f = U(a, c, d, e);
        if (b.didGuess()) return {};
        var g = Z(f),
            h = {
                url: f.url,
                doc: W(c, f.doc),
                origin: f.origin
            };
        if (f.types)
            for (var i = f.types.length - 1; i >= 0; --i) {
                var j = f.types[i];
                Y(c, j, h), g || (g = Z(j))
            }
        if (g && g.node) {
            var k = g.node.sourceFile || a.findFile(g.origin),
                l = H(c, k, g.node.start),
                m = H(c, k, g.node.end);
            h.start = l, h.end = m, h.file = g.origin;
            var n = Math.max(0, g.node.start - 50);
            h.contextOffset = g.node.start - n, h.context = k.text.slice(n, n + 50)
        } else g && (h.file = g.origin, \$(a, c, g, h));
        return I(h)
    }

    function aa(a, c, d, e, f) {
        function k(a) {
            return function(b, d) {
                if (f)
                    for (var e = d; e != h; e = e.prev) {
                        var i = e.hasProp(f);
                        if (i) throw v(\"Renaming `\" + g + \"` to `\" + f + \"` would make a variable at line \" + (G(a, b.start).line + 1) + \" point to the definition at line \" + (G(a, i.name.start).line + 1))
                    }
                j.push({
                    file: a.name,
                    start: H(c, a, b.start),
                    end: H(c, a, b.end)
                })
            }
        }
        for (var g = e.node.name, h = e.state; h && !(g in h.props); h = h.prev);
        if (!h) throw v(\"Could not find a definition for \" + g);
        var i, j = [];
        if (h.originNode) {
            if (i = \"local\", f) {
                for (var l = h.prev; l && !(f in l.props); l = l.prev);
                l && b.findRefs(h.originNode, h, f, l, function(a) {
                    throw v(\"Renaming `\" + g + \"` to `\" + f + \"` would shadow the definition used at line \" + (G(d, a.start).line + 1))
                })
            }
            b.findRefs(h.originNode, h, g, h, k(d))
        } else {
            i = \"global\";
            for (var m = 0; m < a.files.length; ++m) {
                var n = a.files[m];
                b.findRefs(n.ast, n.scope, g, h, k(n))
            }
        }
        return {
            refs: j,
            type: i,
            name: g
        }
    }

    function ba(a, c, d, e) {
        function h(a) {
            return function(b) {
                g.push({
                    file: a.name,
                    start: H(c, a, b.start),
                    end: H(c, a, b.end)
                })
            }
        }
        var f = b.expressionType(d).getObjType();
        if (!f) throw v(\"Couldn't determine type of base object.\");
        for (var g = [], i = 0; i < a.files.length; ++i) {
            var j = a.files[i];
            b.findPropRefs(j.ast, j.scope, f, e.name, h(j))
        }
        return {
            refs: g,
            name: e.name
        }
    }

    function ca(a, b, c) {
        var d = S(c, b, !0);
        if (d && \"Identifier\" == d.node.type) return aa(a, b, c, d);
        if (d && \"MemberExpression\" == d.node.type && !d.node.computed) {
            var e = d.node.property;
            return d.node = d.node.object, ba(a, b, d, e)
        }
        if (d && \"ObjectExpression\" == d.node.type)
            for (var f = F(c, b.end), g = 0; g < d.node.properties.length; ++g) {
                var h = d.node.properties[g].key;
                if (h.start <= f && h.end >= f) return ba(a, b, d, h)
            }
        throw v(\"Not at a variable or property name.\")
    }

    function da(a, b, c) {
        if (\"string\" != typeof b.newName) throw v(\".query.newName should be a string\");
        var d = S(c, b);
        if (!d || \"Identifier\" != d.node.type) throw v(\"Not at a variable.\");
        var e = aa(a, b, c, d, b.newName),
            f = e.refs;
        delete e.refs, e.files = a.files.map(function(a) {
            return a.name
        });
        for (var g = e.changes = [], h = 0; h < f.length; ++h) {
            var i = f[h];
            i.text = b.newName, g.push(i)
        }
        return e
    }

    function ea(a) {
        return {
            files: a.files.map(function(a) {
                return a.name
            })
        }
    }
    var f = Object.create(null);
    a.registerPlugin = function(a, b) {
        f[a] = b
    };
    var g = a.defaultOptions = {
            debug: !1,
            async: !1,
            getFile: function(a, b) {
                this.async && b(null, null)
            },
            normalizeFilename: function(a) {
                return a
            },
            defs: [],
            plugins: {},
            fetchTimeout: 1e3,
            dependencyBudget: 2e4,
            reuseInstances: !0,
            stripCRs: !1,
            ecmaVersion: 6,
            projectDir: \"/\"
        },
        h = {
            completions: {
                takesFile: !0,
                run: P
            },
            properties: {
                run: Q
            },
            type: {
                takesFile: !0,
                run: V
            },
            documentation: {
                takesFile: !0,
                run: X
            },
            definition: {
                takesFile: !0,
                run: _
            },
            refs: {
                takesFile: !0,
                fullFile: !0,
                run: ca
            },
            rename: {
                takesFile: !0,
                fullFile: !0,
                run: da
            },
            files: {
                run: ea
            }
        };
    a.defineQueryType = function(a, b) {
        h[a] = b
    }, i.prototype.asLineChar = function(a) {
        return G(this, a)
    };
    var l = a.Server = function(a) {
        this.cx = null, this.options = a || {};
        for (var b in g) a.hasOwnProperty(b) || (a[b] = g[b]);
        this.projectDir = a.projectDir.replace(/\\\\/g, \"/\"), /\\/\$/.test(this.projectDir) || (this.projectDir += \"/\"), this.handlers = Object.create(null), this.files = [], this.fileMap = Object.create(null), this.needsPurge = [], this.budgets = Object.create(null), this.uses = 0, this.pending = 0, this.asyncError = null, this.mod = {}, this.defs = a.defs.slice(0), this.plugins = Object.create(null);
        for (var c in a.plugins) a.plugins.hasOwnProperty(c) && this.loadPlugin(c, a.plugins[c]);
        this.reset()
    };
    l.prototype = c.mixin({
        addFile: function(a, b, c) {
            !c || c in this.fileMap || (c = null), a in this.fileMap || (a = this.normalizeFilename(a)), o(this, a, c, b)
        },
        delFile: function(a) {
            var b = this.findFile(a);
            b && (this.needsPurge.push(b.name), this.files.splice(this.files.indexOf(b), 1), delete this.fileMap[a])
        },
        reset: function() {
            this.signal(\"reset\"), this.cx = new b.Context(this.defs, this), this.uses = 0, this.budgets = Object.create(null);
            for (var a = 0; a < this.files.length; ++a) {
                var c = this.files[a];
                c.scope = null
            }
            this.signal(\"postReset\")
        },
        request: function(a, b) {
            var c = C(a);
            if (c) return b(c);
            var d = this;
            m(this, a, function(a, c) {
                b(a, c), d.uses > 40 && (d.reset(), r(d, null, function() {}))
            })
        },
        findFile: function(a) {
            return this.fileMap[a]
        },
        flush: function(a) {
            var c = this.cx;
            r(this, null, function(d) {
                return d ? a(d) : void b.withContext(c, a)
            })
        },
        startAsyncAction: function() {
            ++this.pending
        },
        finishAsyncAction: function(a) {
            a && (this.asyncError = a), 0 === --this.pending && this.signal(\"everythingFetched\")
        },
        addDefs: function(a, b) {
            b ? this.defs.unshift(a) : this.defs.push(a), this.cx && this.reset()
        },
        loadPlugin: function(a, b) {
            if (1 == arguments.length && (b = this.options.plugins[a] || !0), !(a in this.plugins) && a in f && b) {
                this.plugins[a] = !0;
                var c = f[a](this, b);
                if (c && (c.defs && this.addDefs(c.defs, c.loadFirst), c.passes))
                    for (var d in c.passes) c.passes.hasOwnProperty(d) && this.on(d, c.passes[d])
            }
        },
        normalizeFilename: function(a) {
            var b = this.options.normalizeFilename(a).replace(/\\\\/g, \"/\");
            return 0 == b.indexOf(this.projectDir) && (b = b.slice(this.projectDir.length)), b
        }
    });
    var D = 25,
        F = a.resolvePos = function(a, b, c) {
            if (\"number\" != typeof b) {
                var d = E(a, b.line);
                if (null == d) {
                    if (!c) throw v(\"File doesn't contain a line \" + b.line);
                    b = a.text.length
                } else b = d + b.ch
            }
            if (b > a.text.length) {
                if (!c) throw v(\"Position \" + b + \" is outside of file.\");
                b = a.text.length
            }
            return b
        },
        H = a.outputPos = function(a, b, c) {
            if (a.lineCharPositions) {
                var d = G(b, c);
                return \"part\" == b.type && (d.line += null != b.offsetLines ? b.offsetLines : G(b.backing, b.offset).line), d
            }
            return c + (\"part\" == b.type ? b.offset : 0)
        },
        N = \"break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try\".split(\" \"),
        O = a.addCompletion = function(a, c, d, e, f) {
            for (var g = a.types || a.docs || a.urls || a.origins, h = g || a.depths, i = 0; i < c.length; ++i) {
                var j = c[i];
                if ((h ? j.name : j) == d) return
            }
            var k = h ? {
                name: d
            } : d;
            if (c.push(k), e && g) {
                b.resetGuessing();
                var l = e.getType();
                k.guess = b.didGuess(), a.types && (k.type = b.toString(e)), a.docs && J(k, \"doc\", W(a, e.doc || l && l.doc)), a.urls && J(k, \"url\", e.url || l && l.url), a.origins && J(k, \"origin\", e.origin || l && l.origin)
            }
            return a.depths && (k.depth = f || 0), k
        },
        R = a.findQueryExpr = function(a, c, d) {
            if (null == c.end) throw v(\"missing .query.end field\");
            if (c.variable) {
                var e = b.scopeAt(a.ast, F(a, c.end), a.scope);
                return {
                    node: {
                        type: \"Identifier\",
                        name: c.variable,
                        start: c.end,
                        end: c.end + 1
                    },
                    state: e
                }
            }
            var f = c.start && F(a, c.start),
                g = F(a, c.end),
                h = b.findExpressionAt(a.ast, f, g, a.scope);
            return h ? h : (h = b.findExpressionAround(a.ast, f, g, a.scope), h && (\"ObjectExpression\" == h.node.type || d || (null == f ? g : f) - h.node.start < 20 || h.node.end - g < 20) ? h : null)
        },
        Z = a.getSpan = function(a) {
            if (a.origin) {
                if (a.originNode) {
                    var b = a.originNode;
                    return /^Function/.test(b.type) && b.id && (b = b.id), {
                        origin: a.origin,
                        node: b
                    }
                }
                return a.span ? {
                    origin: a.origin,
                    span: a.span
                } : void 0
            }
        },
        \$ = a.storeSpan = function(a, b, c, d) {
            if (d.origin = c.origin, c.span) {
                var e = /^(\\d+)\\[(\\d+):(\\d+)\\]-(\\d+)\\[(\\d+):(\\d+)\\]\$/.exec(c.span);
                d.start = b.lineCharPositions ? {
                    line: Number(e[2]),
                    ch: Number(e[3])
                } : Number(e[1]), d.end = b.lineCharPositions ? {
                    line: Number(e[5]),
                    ch: Number(e[6])
                } : Number(e[4])
            } else {
                var f = a.findFile(c.origin);
                d.start = H(b, f, c.node.start), d.end = H(b, f, c.node.end)
            }
        };
    a.version = \"0.15.1\"
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? exports.init = a : \"function\" == typeof define && define.amd ? define({
        init: a
    }) : void(tern.def = {
        init: a
    })
}(function(a, b) {
    \"use strict\";

    function c(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }

    function e(a, b, c) {
        return a.call ? a(b, c) : a
    }

    function f(a, c) {
        if (\"!ret\" == c) {
            if (a.retval) return a.retval;
            var d = new b.AVal;
            return a.propagate(new b.IsCallee(b.ANull, [], null, d)), d
        }
        return a.getProp(c)
    }

    function g(a, c, d, f) {
        return function(g, h) {
            for (var i = [], j = 0; j < c.length; j++) i.push(e(c[j], g, h));
            return new b.Fn(a, b.ANull, i, e(d, g, h), f)
        }
    }

    function h(a) {
        return function(c, d) {
            for (var f = new b.AVal, g = 0; g < a.length; g++) e(a[g], c, d).propagate(f);
            return f.maxWeight = 1e5, f
        }
    }

    function i(a) {
        return function(c, d) {
            return new b.Arr(a(c, d))
        }
    }

    function j(a) {
        return function(c, d) {
            return new b.Arr(a.map(function(a) {
                return e(a, c, d)
            }))
        }
    }

    function k(a, c, e, f) {
        var g = new d(a, null, e, f).parseType(!1, c, !0);
        if (/^fn\\(/.test(a))
            for (var h = 0; h < g.args.length; ++h)(function(a) {
                var c = g.args[a];
                c instanceof b.Fn && c.args && c.args.length && l(g, function(d, e) {
                    var f = e[a];
                    f && f.propagate(new b.IsCallee(b.cx().topScope, c.args, null, b.ANull))
                })
            })(h);
        return g
    }

    function l(a, b, c) {
        var d = a.computeRet,
            e = a.retval;
        a.computeRet = function(a, f, g) {
            var h = b(a, f, g),
                i = d ? d(a, f, g) : e;
            return c ? h : i
        }
    }

    function p(a, c) {
        for (var d = 0; d < c.length && a != b.ANull; ++d) {
            var e = c[d];
            if (\"!\" == e.charAt(0))
                if (\"!proto\" == e) a = a instanceof b.Obj && a.proto || b.ANull;
                else {
                    var f = a.getFunctionType();
                    if (f)
                        if (\"!ret\" == e) a = f.retval && f.retval.getType(!1) || b.ANull;
                        else {
                            var g = f.args && f.args[Number(e.slice(1))];
                            a = g && g.getType(!1) || b.ANull
                        } else a = b.ANull
                } else if (a instanceof b.Obj) {
                var h = \"prototype\" == e && a instanceof b.Fn ? a.getProp(e) : a.props[e];
                a = !h || h.isEmpty() ? b.ANull : h.types[0]
            }
        }
        return a
    }

    function q(a) {
        var b = Object.create(a.prototype);
        return b.props = Object.create(null), b.isShell = !0, b
    }

    function r(a) {
        if (!a[\"!type\"] || /^(fn\\(|\\[)/.test(a[\"!type\"])) return !1;
        for (var b in a)
            if (\"!type\" != b && \"!doc\" != b && \"!url\" != b && \"!span\" != b && \"!data\" != b) return !1;
        return !0
    }

    function s(a, d, e) {
        if (!a) {
            var f = d[\"!type\"];
            if (f)
                if (/^fn\\(/.test(f)) a = q(b.Fn);
                else {
                    if (\"[\" != f.charAt(0)) throw new Error(\"Invalid !type spec: \" + f);
                    a = q(b.Arr)
                } else a = d[\"!stdProto\"] ? b.cx().protos[d[\"!stdProto\"]] : q(b.Obj);
            a.name = e
        }
        for (var g in d)
            if (c(d, g) && 33 != g.charCodeAt(0)) {
                var h = d[g];
                if (\"string\" == typeof h || r(h)) continue;
                var i = a.defProp(g);
                s(i.getObjType(), h, e ? e + \".\" + g : g).propagate(i)
            }
        return a
    }

    function t(a, d, e) {
        if (a.isShell) {
            delete a.isShell;
            var f = d[\"!type\"];
            if (f) k(f, e, a);
            else {
                var g = d[\"!proto\"] && k(d[\"!proto\"]);
                b.Obj.call(a, g instanceof b.Obj ? g : !0, e)
            }
        }
        var h = d[\"!effects\"];
        if (h && a instanceof b.Fn)
            for (var i = 0; i < h.length; ++i) m(h[i], a);
        u(d, a);
        for (var j in d)
            if (c(d, j) && 33 != j.charCodeAt(0)) {
                var l = d[j],
                    n = a.defProp(j),
                    o = e ? e + \".\" + j : j;
                if (\"string\" == typeof l) n.isEmpty() && k(l, o).propagate(n);
                else {
                    if (r(l)) {
                        if (!n.isEmpty()) continue;
                        k(l[\"!type\"], o, null, !0).propagate(n)
                    } else t(n.getObjType(), l, o);
                    l[\"!doc\"] && (n.doc = l[\"!doc\"]), l[\"!url\"] && (n.url = l[\"!url\"]), l[\"!span\"] && (n.span = l[\"!span\"])
                }
            }
        return a
    }

    function u(a, b) {
        a[\"!doc\"] && (b.doc = a[\"!doc\"]), a[\"!url\"] && (b.url = a[\"!url\"]), a[\"!span\"] && (b.span = a[\"!span\"]), a[\"!data\"] && (b.metaData = a[\"!data\"])
    }

    function v(a, c) {
        var d = b.cx(),
            e = d.parent;
        b.addOrigin(d.curOrigin = a[\"!name\"] || \"env#\" + d.origins.length), d.localDefs = d.definitions[d.curOrigin] = Object.create(null), e && e.signal(\"preLoadDef\", a), s(c, a);
        var f = a[\"!define\"];
        if (f) {
            for (var g in f) {
                var h = f[g];
                d.localDefs[g] = \"string\" == typeof h ? o(h) : s(null, h, g)
            }
            for (var g in f) {
                var h = f[g];
                \"string\" != typeof h && t(d.localDefs[g], f[g], g)
            }
        }
        t(c, a), e && e.signal(\"postLoadDef\", a), d.curOrigin = d.localDefs = null
    }
    var d = a.TypeParser = function(a, b, c, d) {
        this.pos = b || 0, this.spec = a, this.base = c, this.forceNew = d
    };
    d.prototype = {
        eat: function(a) {
            return (1 == a.length ? this.spec.charAt(this.pos) == a : this.spec.indexOf(a, this.pos) == this.pos) ? (this.pos += a.length, !0) : void 0
        },
        word: function(a) {
            for (var c, b = \"\", a = a || /[\\w\$]/;
                (c = this.spec.charAt(this.pos)) && a.test(c);) b += c, ++this.pos;
            return b
        },
        error: function() {
            throw new Error(\"Unrecognized type spec: \" + this.spec + \" (at \" + this.pos + \")\")
        },
        parseFnType: function(a, c, d, e) {
            var f = [],
                h = [],
                i = !1;
            if (!this.eat(\")\"))
                for (var j = 0;; ++j) {
                    var l, k = this.spec.indexOf(\": \", this.pos); - 1 != k && (l = this.spec.slice(this.pos, k), /^[\$\\w?]+\$/.test(l) ? this.pos = k + 2 : l = null), h.push(l);
                    var m = this.parseType(a);
                    if (m.call && (i = !0), f.push(m), !this.eat(\", \")) {
                        this.eat(\")\") || this.error();
                        break
                    }
                }
            var n, o, p, q;
            if (this.eat(\" -> \")) {
                var r = this.pos;
                n = this.parseType(!0), n.call && !i && (o = n, n = b.ANull, p = r)
            } else n = b.ANull;
            return i ? g(c, f, n, e) : (d && (q = this.base) ? b.Fn.call(this.base, c, b.ANull, f, h, n, e) : q = new b.Fn(c, b.ANull, f, h, n, e), o && (q.computeRet = o), null != p && (q.computeRetSource = this.spec.slice(p, this.pos)), q)
        },
        parseType: function(a, c, d) {
            var e = this.parseTypeMaybeProp(a, c, d);
            if (!this.eat(\"|\")) return e;
            for (var f = [e], g = e.call;;) {
                var i = this.parseTypeMaybeProp(a, c, d);
                if (f.push(i), i.call && (g = !0), !this.eat(\"|\")) break
            }
            if (g) return h(f);
            for (var j = new b.AVal, k = 0; k < f.length; k++) f[k].propagate(j);
            return j.maxWeight = 1e5, j
        },
        parseTypeMaybeProp: function(a, b, c) {
            for (var d = this.parseTypeInner(a, b, c); a && this.eat(\".\");) d = this.extendWithProp(d);
            return d
        },
        extendWithProp: function(a) {
            var b = this.word(/[\\w<>\$!:]/) || this.error();
            return a.apply ? function(c, d) {
                return f(a(c, d), b)
            } : f(a, b)
        },
        parseTypeInner: function(a, c, d) {
            var e;
            if (this.eat(\"fn(\") || (e = this.eat(\"fn*(\"))) return this.parseFnType(a, c, d, e);
            if (this.eat(\"[\")) {
                for (var g, f = this.parseType(a), h = f.call; this.eat(\", \");) {
                    g || (g = [f]);
                    var k = this.parseType(a);
                    g.push(k), h = h || k.call
                }
                return this.eat(\"]\") || this.error(), h ? g ? j(g) : i(f) : d && this.base ? (b.Arr.call(this.base, g || f), this.base) : new b.Arr(g || f)
            }
            if (this.eat(\"+\")) {
                var l = this.word(/[\\w\$<>\\.:!]/),
                    m = b.cx().localDefs[l + \".prototype\"];
                if (!m) {
                    var m = o(l);
                    if (!(m instanceof b.Obj)) return m;
                    var n = p(m, [\"prototype\"]);
                    n && (n = n.getObjType()) && (m = n)
                }
                return a && this.eat(\"[\") ? this.parsePoly(m) : d && this.forceNew ? new b.Obj(m) : b.getInstance(m)
            }
            if (this.eat(\":\")) {
                var c = this.word(/[\\w\$\\.]/);
                return b.getSymbol(c)
            }
            if (a && this.eat(\"!\")) {
                var q = this.word(/\\d/);
                if (q) return q = Number(q),
                    function(a, c) {
                        return c[q] || b.ANull
                    };
                if (this.eat(\"this\")) return function(a) {
                    return a
                };
                if (this.eat(\"custom:\")) {
                    var r = this.word(/[\\w\$]/);
                    return w[r] || function() {
                        return b.ANull
                    }
                }
                return this.fromWord(\"!\" + this.word(/[\\w\$<>\\.!:]/))
            }
            return this.eat(\"?\") ? b.ANull : this.fromWord(this.word(/[\\w\$<>\\.!:`]/))
        },
        fromWord: function(a) {
            var c = b.cx();
            switch (a) {
                case \"number\":
                    return c.num;
                case \"string\":
                    return c.str;
                case \"bool\":
                    return c.bool;
                case \"<top>\":
                    return c.topScope
            }
            return c.localDefs && a in c.localDefs ? c.localDefs[a] : o(a)
        },
        parsePoly: function(a) {
            var d, c = \"<i>\";
            (d = this.spec.slice(this.pos).match(/^\\s*([\\w\$:]+)\\s*=\\s*/)) && (c = d[1], this.pos += d[0].length);
            var e = this.parseType(!0);
            if (this.eat(\"]\") || this.error(), e.call) return function(d, f) {
                var g = new b.Obj(a);
                return e(d, f).propagate(g.defProp(c)), g
            };
            var f = new b.Obj(a);
            return e.propagate(f.defProp(c)), f
        }
    };
    var n, m = a.parseEffect = function(a, c) {
            var f;
            if (0 == a.indexOf(\"propagate \")) {
                var g = new d(a, 10),
                    h = g.parseType(!0);
                g.eat(\" \") || g.error();
                var i = g.parseType(!0);
                l(c, function(a, b) {
                    e(h, a, b).propagate(e(i, a, b))
                })
            } else if (0 == a.indexOf(\"call \")) {
                var j = 5 == a.indexOf(\"and return \", 5),
                    g = new d(a, j ? 16 : 5),
                    k = g.parseType(!0),
                    m = null,
                    n = [];
                for (g.eat(\" this=\") && (m = g.parseType(!0)); g.eat(\" \");) n.push(g.parseType(!0));
                l(c, function(a, c) {
                    for (var d = e(k, a, c), f = m ? e(m, a, c) : b.ANull, g = [], h = 0; h < n.length; ++h) g.push(e(n[h], a, c));
                    var i = j ? new b.AVal : b.ANull;
                    return d.propagate(new b.IsCallee(f, g, null, i)), i
                }, j)
            } else if (f = a.match(/^custom (\\S+)\\s*(.*)/)) {
                var o = w[f[1]];
                o && l(c, f[2] ? o(f[2]) : o)
            } else {
                if (0 != a.indexOf(\"copy \")) throw new Error(\"Unknown effect type: \" + a);
                var g = new d(a, 5),
                    p = g.parseType(!0);
                g.eat(\" \");
                var q = g.parseType(!0);
                l(c, function(a, c) {
                    var d = e(p, a, c),
                        f = e(q, a, c);
                    d.forAllProps(function(a, c, d) {
                        d && \"<i>\" != a && f.propagate(new b.DefProp(a, c))
                    })
                })
            }
        },
        o = a.parsePath = function(a, c) {
            var d = b.cx(),
                e = d.paths[a],
                f = a;
            if (null != e) return e;
            d.paths[a] = b.ANull;
            var g = c || n || d.topScope;
            if (d.localDefs)
                for (var h in d.localDefs)
                    if (0 == a.indexOf(h)) {
                        if (a == h) return d.paths[a] = d.localDefs[a];
                        if (\".\" == a.charAt(h.length)) {
                            g = d.localDefs[h], a = a.slice(h.length + 1);
                            break
                        }
                    }
            var i = p(g, a.split(\".\"));
            return d.paths[f] = i == b.ANull ? null : i, i
        };
    a.load = function(a, c) {
        c || (c = b.cx().topScope);
        var d = n;
        n = c;
        try {
            v(a, c)
        } finally {
            n = d
        }
    }, a.parse = function(a, c, d) {
        var e = b.cx();
        c && (e.origin = c, e.localDefs = e.definitions[c]);
        try {
            return \"string\" == typeof a ? k(a, d) : t(s(null, a, d), a, d)
        } finally {
            c && (e.origin = e.localDefs = null)
        }
    };
    var w = Object.create(null);
    b.registerFunction = function(a, b) {
        w[a] = b
    };
    var x = b.constraint({
        construct: function(a, b, c) {
            this.created = a, this.target = b, this.spec = c
        },
        addType: function(a) {
            if (a instanceof b.Obj && this.created++ < 5) {
                var c = new b.Obj(a),
                    d = this.spec;
                if (d instanceof b.AVal && (d = d.getObjType(!1)), d instanceof b.Obj)
                    for (var e in d.props) {
                        var f = d.props[e].types[0],
                            g = c.defProp(e);
                        if (f && f instanceof b.Obj && f.props.value) {
                            var h = f.props.value.getType(!1);
                            h && g.addType(h)
                        }
                    }
                this.target.addType(c)
            }
        }
    });
    b.registerFunction(\"Object_create\", function(a, c, d) {
        if (d && d.length && \"Literal\" == d[0].type && null == d[0].value) return new b.Obj;
        var e = new b.AVal;
        return c[0] && c[0].propagate(new x(0, e, c[1])), e
    });
    var y = b.constraint({
        construct: function(a) {
            this.target = a
        },
        addType: function(a) {
            a instanceof b.Obj && (a.hasProp(\"value\") ? a.getProp(\"value\").propagate(this.target) : a.hasProp(\"get\") && a.getProp(\"get\").propagate(new b.IsCallee(b.ANull, [], null, this.target)))
        }
    });
    b.registerFunction(\"Object_defineProperty\", function(a, c, d) {
        if (d && d.length >= 3 && \"Literal\" == d[1].type && \"string\" == typeof d[1].value) {
            var e = c[0],
                f = new b.AVal;
            e.propagate(new b.DefProp(d[1].value, f, d[1])), c[2].propagate(new y(f))
        }
        return b.ANull
    }), b.registerFunction(\"Object_defineProperties\", function(a, c, d) {
        if (c.length >= 2) {
            var e = c[0];
            c[1].forAllProps(function(a, c, f) {
                if (f) {
                    var g = new b.AVal;
                    e.propagate(new b.DefProp(a, g, d && d[1])), c.propagate(new y(g))
                }
            })
        }
        return b.ANull
    });
    var z = b.constraint({
        construct: function(a, b, c) {
            this.self = a, this.args = b, this.target = c
        },
        addType: function(a) {
            if (a instanceof b.Fn) {
                this.target.addType(new b.Fn(a.name, b.ANull, a.args.slice(this.args.length), a.argNames.slice(this.args.length), a.retval, a.generator)), this.self.propagate(a.self);
                for (var c = 0; c < Math.min(a.args.length, this.args.length); ++c) this.args[c].propagate(a.args[c])
            }
        }
    });
    b.registerFunction(\"Function_bind\", function(a, c) {
        if (!c.length) return b.ANull;
        var d = new b.AVal;
        return a.propagate(new z(c[0], c.slice(1), d)), d
    }), b.registerFunction(\"Array_ctor\", function(a, c) {
        var d = new b.Arr;
        if (1 != c.length || !c[0].hasType(b.cx().num))
            for (var e = d.getProp(\"<i>\"), f = 0; f < c.length; ++f) c[f].propagate(e);
        return d
    }), b.registerFunction(\"Promise_ctor\", function(a, c, d) {
        var e = b.cx().definitions.ecma6;
        if (!e || c.length < 1) return b.ANull;
        var f = new b.Obj(e[\"Promise.prototype\"]),
            g = f.defProp(\":t\", d && d[0]),
            h = new b.AVal;
        h.propagate(g);
        var i = new b.Fn(\"execute\", b.ANull, [h], [\"value\"], b.ANull),
            j = e.Promise_reject;
        return c[0].propagate(new b.IsCallee(b.ANull, [i, j], null, b.ANull)), f
    });
    var A = b.constraint({
            construct: function(a) {
                this.output = a
            },
            addType: function(a) {
                a.constructor == b.Obj && \"Promise\" == a.name && a.hasProp(\":t\") ? a.getProp(\":t\").propagate(this.output) : a.propagate(this.output)
            }
        }),
        B = 50;
    return b.registerFunction(\"Promise_then\", function(a, c, d) {
        var e = c.length && c[0].getFunctionType(),
            f = b.cx().definitions.ecma6;
        if (!e || !f) return a;
        var i, g = new b.Obj(f[\"Promise.prototype\"]),
            h = g.defProp(\":t\", d && d[0]);
        return e.retval.isEmpty() && (i = a.getType()) instanceof b.Obj && i.hasProp(\":t\") && i.getProp(\":t\").propagate(h, B), e.retval.propagate(new A(h)), g
    }), b.registerFunction(\"getOwnPropertySymbols\", function(a, c) {
        if (!c.length) return b.ANull;
        var d = new b.AVal;
        return c[0].forAllProps(function(a, c, e) {
            e && \":\" == a.charAt(0) && d.addType(b.getSymbol(a.slice(1)))
        }), d
    }), b.registerFunction(\"getSymbol\", function(a, c, d) {
        return d.length && \"Literal\" == d[0].type && \"string\" == typeof d[0].value ? b.getSymbol(d[0].value) : b.ANull
    }), a
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? a(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], a) : void a(tern.comment || (tern.comment = {}))
}(function(a) {
    function b(a) {
        return 14 > a && a > 8 || 32 === a || 160 === a
    }

    function c(a, c) {
        for (; c > 0; --c) {
            var d = a.charCodeAt(c - 1);
            if (10 == d) break;
            if (!b(d)) return !1
        }
        return !0
    }
    a.commentsBefore = function(a, d) {
        var g, e = null,
            f = 0;
        a: for (; d > 0;) {
            var h = a.charCodeAt(d - 1);
            if (10 == h)
                for (var i = --d, j = !1; i > 0; --i) {
                    if (h = a.charCodeAt(i - 1), 47 == h && 47 == a.charCodeAt(i - 2)) {
                        if (!c(a, i - 2)) break a;
                        var k = a.slice(i, d);
                        !f && g ? e[0] = k + \"\\n\" + e[0] : (e || (e = [])).unshift(k), g = !0, f = 0, d = i - 2;
                        break
                    }
                    if (10 == h) {
                        if (!j && ++f > 1) break a;
                        break
                    }
                    j || b(h) || (j = !0)
                } else if (47 == h && 42 == a.charCodeAt(d - 2)) {
                    for (var i = d - 2; i > 1; --i)
                        if (42 == a.charCodeAt(i - 1) && 47 == a.charCodeAt(i - 2)) {
                            if (!c(a, i - 2)) break a;
                            (e || (e = [])).unshift(a.slice(i, d - 2)), g = !1, f = 0;
                            break
                        }
                    d = i - 2
                } else {
                    if (!b(h)) break;
                    --d
                }
        }
        return e
    }, a.commentAfter = function(a, c) {
        for (; c < a.length;) {
            var d = a.charCodeAt(c);
            if (47 == d) {
                var f, e = a.charCodeAt(c + 1);
                if (47 == e) f = a.indexOf(\"\\n\", c + 2);
                else {
                    if (42 != e) return;
                    f = a.indexOf(\"*/\", c + 2)
                }
                return a.slice(c + 2, 0 > f ? a.length : f)
            }
            b(d) && ++c
        }
    }, a.ensureCommentsBefore = function(b, c) {
        return c.hasOwnProperty(\"commentsBefore\") ? c.commentsBefore : c.commentsBefore = a.commentsBefore(b, c.start)
    }
}),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports, require(\"acorn\"), require(\"acorn/dist/acorn_loose\"), require(\"acorn/dist/walk\"), require(\"./def\"), require(\"./signal\")) : \"function\" == typeof define && define.amd ? define([\"exports\", \"acorn/dist/acorn\", \"acorn/dist/acorn_loose\", \"acorn/dist/walk\", \"./def\", \"./signal\"], b) : void b(a.tern || (a.tern = {}), acorn, acorn, acorn.walk, tern.def, tern.signal)
}(this, function(a, b, c, d, e, f) {
    \"use strict\";

    function i(a, b) {
        var c = Object.create(a);
        if (b)
            for (var d in b) c[d] = b[d];
        return c
    }

    function t(a, b, c) {
        var d = a.getType(!1),
            e = b.getType(!1);
        return d && e ? u(d, e, c) : !0
    }

    function u(a, b, c) {
        if (!a || c >= 5) return b;
        if (!a || a == b) return a;
        if (!b) return a;
        if (a.constructor != b.constructor) return !1;
        if (a.constructor != S) {
            if (a.constructor == Q) {
                var f = 0,
                    g = 0,
                    h = 0;
                for (var i in a.props) f++, i in b.props && t(a.props[i], b.props[i], c + 1) && h++;
                for (var i in b.props) g++;
                return f && g && h < Math.max(f, g) / 2 ? !1 : f > g ? a : b
            }
            return a.constructor == R && a.args.length == b.args.length && a.args.every(function(a, d) {
                return t(a, b.args[d], c + 1)
            }) && t(a.retval, b.retval, c + 1) && t(a.self, b.self, c + 1) ? a : !1
        }
        var d = a.getProp(\"<i>\").getType(!1);
        if (!d) return b;
        var e = b.getProp(\"<i>\").getType(!1);
        return !e || u(d, e, c + 1) ? b : void 0
    }

    function w(a) {
        for (var b = 0, c = 0, d = 0, e = null, f = 0; f < a.length; ++f) {
            var g = a[f];
            if (g instanceof S) ++b;
            else if (g instanceof R) ++c;
            else if (g instanceof Q) ++d;
            else if (g instanceof O) {
                if (e && g.name != e.name) return null;
                e = g
            }
        }
        var h = (b && 1) + (c && 1) + (d && 1) + (e && 1);
        if (h > 1) return null;
        if (e) return e;
        for (var i = 0, j = null, f = 0; f < a.length; ++f) {
            var g = a[f],
                k = 0;
            if (b) k = g.getProp(\"<i>\").isEmpty() ? 1 : 2;
            else if (c) {
                k = 1;
                for (var l = 0; l < g.args.length; ++l) g.args[l].isEmpty() || ++k;
                g.retval.isEmpty() || ++k
            } else d && (k = g.name ? 100 : 2);
            k >= i && (i = k, j = g)
        }
        return j
    }

    function B(a, b) {
        W.disabledComputing = {
            fn: a,
            prev: W.disabledComputing
        };
        var c = b();
        return W.disabledComputing = W.disabledComputing.prev, c
    }

    function P(a) {
        var b = a.charCodeAt(0);
        return b >= 48 && 57 >= b ? !/\\D/.test(a) : !1
    }

    function U(a, b) {
        var c = W.props[a] || (W.props[a] = []);
        c.push(b)
    }

    function V(a) {
        return W.props[a]
    }

    function \$(b) {
        if (W.workList) return b(W.workList);
        for (var c = [], d = 0, e = W.workList = function(a, b, e) {
                d < Y - Z * c.length && c.push(a, b, e, d)
            }, f = b(e), g = 0; g < c.length; g += 4) {
            if (X && +new Date >= X) throw new a.TimedOut;
            d = c[g + 3] + 1, c[g + 1].addType(c[g], c[g + 2])
        }
        return W.workList = null, f
    }

    function _(a, b, c) {
        var d = W.curSuperCtor,
            e = W.curSuper;
        W.curSuperCtor = a, W.curSuper = b;
        var f = c();
        return W.curSuperCtor = d, W.curSuper = e, f
    }

    function ba(a) {
        for (; a.isBlock;) a = a.prev;
        return a
    }

    function ca(a, b) {
        var c = ba(a).fnType;
        c && (c.instantiateScore = (c.instantiateScore || 0) + b)
    }

    function ea(a, b) {
        try {
            return d.simple(a, {
                Expression: function() {
                    if (--b <= 0) throw da
                }
            }), !0
        } catch (c) {
            if (c == da) return !1;
            throw c
        }
    }

    function fa(a, b) {
        var c = b.instantiateScore;
        return !W.disabledComputing && c && b.args.length && ea(a, 5 * c) ? (ca(ba(b.originNode.scope.prev), c / 2), ga(a, b), !0) : void(b.instantiateScore = null)
    }

    function ga(a, b) {
        for (var c = 0; c < b.args.length; ++c) b.args[c] = new s;
        b.self = new s, b.computeRet = function(c, e) {
            return B(b, function() {
                var f = W.curOrigin;
                W.curOrigin = b.origin;
                var g = a.scope,
                    i = new aa(g.prev, g.originNode);
                for (var j in g.props)
                    for (var k = i.defProp(j, g.props[j].originNode), l = 0; l < e.length; ++l) b.argNames[l] == j && l < e.length && e[l].propagate(k);
                for (var m = b.argNames.length != e.length ? b.argNames.slice(0, e.length) : b.argNames; m.length < e.length;) m.push(\"?\");
                if (i.fnType = new R(b.name, c, e, m, h, b.generator), i.fnType.originNode = b.originNode, b.arguments) {
                    var n = i.fnType.arguments = new s;
                    i.defProp(\"arguments\").addType(new S(n));
                    for (var l = 0; l < e.length; ++l) e[l].propagate(n)
                }
                return a.scope = i, d.recursive(a.body, i, null, ma), d.recursive(a.body, i, null, Ga), W.curOrigin = f, i.fnType.retval
            })
        }
    }

    function ha(a) {
        function f(a, c, d) {
            if (!(d > 3) && a.forward)
                for (var e = 0; e < a.forward.length; ++e) {
                    var g = a.forward[e].propagatesTo();
                    if (g) {
                        var i, h = c;
                        if (g instanceof s) i = g;
                        else {
                            if (!(g.target instanceof s)) continue;
                            h += g.pathExt, i = g.target
                        }
                        if (i == b) return h;
                        var j = f(i, h, d + 1);
                        if (j) return j
                    }
                }
        }
        var b = a.retval;
        if (b != h) {
            var c, d;
            !b.isEmpty() && (c = b.getType()) instanceof S && (b = d = c.getProp(\"<i>\"));
            for (var g = f(a.self, \"!this\", 0), i = 0; !g && i < a.args.length; ++i) g = f(a.args[i], \"!\" + i, 0);
            if (g) {
                d && (g = \"[\" + g + \"]\");
                var j = new e.TypeParser(g),
                    k = j.parseType(!0);
                return a.computeRet = k.apply ? k : function() {
                    return k
                }, a.computeRetSource = g, !0
            }
        }
    }

    function ia(a, b) {
        return a.defProp(b.name, b)
    }

    function ja(a) {
        return \"Identifier\" == a.type ? a.name : \"AssignmentPattern\" == a.type ? ja(a.left) : \"ObjectPattern\" == a.type ? \"{\" + a.properties.map(function(a) {
            return ja(a.value)
        }).join(\", \") + \"}\" : \"ArrayPattern\" == a.type ? \"[\" + a.elements.map(ja).join(\", \") + \"]\" : \"RestElement\" == a.type ? \"...\" + ja(a.argument) : \"_\"
    }

    function ka(a) {
        return \"VariableDeclaration\" == a.type && \"var\" != a.kind || \"FunctionDeclaration\" == a.type || \"ClassDeclaration\" == a.type
    }

    function la(a, b) {
        return {
            inner: a,
            outer: b || a
        }
    }

    function oa(a) {
        var b = a.getSymbolType();
        return b ? b.asPropName() : void 0
    }

    function pa(a) {
        switch (a) {
            case \"+\":
            case \"-\":
            case \"~\":
                return W.num;
            case \"!\":
                return W.bool;
            case \"typeof\":
                return W.str;
            case \"void\":
            case \"delete\":
                return h
        }
    }

    function qa(a) {
        switch (a) {
            case \"==\":
            case \"!=\":
            case \"===\":
            case \"!==\":
            case \"<\":
            case \">\":
            case \">=\":
            case \"<=\":
            case \"in\":
            case \"instanceof\":
                return !0
        }
    }

    function ra(a) {
        if (a.regex) return F(W.protos.RegExp);
        switch (typeof a.value) {
            case \"boolean\":
                return W.bool;
            case \"number\":
                return W.num;
            case \"string\":
                return W.str;
            case \"object\":
            case \"function\":
                return a.value ? F(W.protos.RegExp) : h
        }
    }

    function sa(a, b) {
        if (a == b || b == h) return a;
        if (a == h) return b;
        var c = new s;
        return a.propagate(c), b.propagate(c), c
    }

    function ta(a, b) {
        for (var c = 0; c < a.params.length; c++) {
            var d = a.params[c];
            \"Identifier\" != d.type && wa(d, b, a.scope.fnType.args[c])
        }
    }

    function ua(a, b) {
        return b.hasProp(a.name) || W.topScope.defProp(a.name, a)
    }

    function wa(a, b, c) {
        var d = va[a.type];
        d && d(a, b, c)
    }

    function xa(a) {
        var b = ba(a);
        return b.fnType ? b.fnType.self : b
    }

    function ya(a) {
        a.isEmpty() && a.propertyOf && (a.propertyOf.getProp(a.propertyName).addType(new Q, o), ya(a.propertyOf))
    }

    function za(a, b, c) {
        !c && a.id && (c = a.id.name);
        var e, f, d = W.protos.Object;
        if (a.superClass)
            if (\"Literal\" == a.superClass.type && null == a.superClass.value) d = null;
            else {
                var i, g = Ea(a.superClass, b);
                e = g.getFunctionType(), e && (i = e.getProp(\"prototype\").getObjType()) ? d = i : (e = g, f = g.getProp(\"prototype\"))
            }
        var j = new Q(d, c && c + \".prototype\");
        return f && f.propagate(new L(j)), _(e, f || d, function() {
            for (var d, e = a.body.body, f = 0; f < e.length; f++) \"constructor\" == e[f].kind && (d = e[f].value);
            var g = a.objType = d ? Ea(d, b) : new R(c, h, [], null, h);
            g.originNode = a.id || d || a;
            var i = F(j, g);
            g.self.addType(i), g.defProp(\"prototype\", a).addType(j);
            for (var f = 0; f < e.length; f++) {
                var l, k = e[f];
                if (\"constructor\" != k.kind) {
                    var m = na(k, b);
                    \"<i>\" == m || \"set\" == k.kind ? l = h : (l = (k[\"static\"] ? g : j).defProp(m, k.key), l.initializer = !0, \"get\" == k.kind && (l = new C(i, [], null, l))), Ea(k.value, b, l);
                    var n = l.getFunctionType();
                    n && n.self.addType(i)
                }
            }
            return g
        })
    }

    function Aa(a, b, c) {
        var d = a.length > 1 && a.length < 6;
        if (d) {
            for (var f, e = !0, g = 0; g < a.length; g++) {
                var h = a[g];
                h ? \"Literal\" != h.type || f && f != typeof h.value ? e = !1 : f = typeof h.value : d = !1
            }
            e && (d = !1)
        }
        if (d) {
            for (var i = [], g = 0; g < a.length; ++g) i.push(c(a[g], b));
            return new S(i)
        }
        if (a.length < 2) return new S(a[0] && c(a[0], b));
        for (var j = new s, g = 0; g < a.length; g++) a[g] && c(a[g], b).propagate(j);
        return new S(j)
    }

    function Ba(a) {
        return function(b, c, d, e) {
            var f = a(b, c, e);
            return d && f.propagate(d), f
        }
    }

    function Ca(a) {
        return function(b, c, d, e) {
            return d || (d = new s), a(b, c, d, e), d
        }
    }

    function Ea(a, b, c, d) {
        var e = Da[a.type];
        return e ? e(a, b, c, d) : h
    }

    function Fa(a) {
        return \"VariableDeclaration\" == a.type ? a.declarations[0].id : a
    }

    function Ia(a, b, c) {
        var d = Array.isArray(a);
        return d && 1 == a.length && (a = a[0], d = !1), d ? null == c ? function(b) {
            return a.indexOf(b.origin) > -1
        } : function(d, e) {
            return e && e.start >= b && e.end <= c && a.indexOf(d.origin) > -1
        } : null == c ? function(b) {
            return b.origin == a
        } : function(d, e) {
            return e && e.start >= b && e.end <= c && d.origin == a
        }
    }

    function Ja(a) {
        Ra = !0;
        var b = V(a);
        if (b)
            for (var c = 0; c < b.length; ++c) {
                var d = b[c].getProp(a);
                if (!d.isEmpty()) return d
            }
        return h
    }

    function Ka(a, b) {
        var c = new Q(!0);
        c.defProp(\"done\").addType(W.bool), b.propagate(c.defProp(\"value\"));
        var d = new R(null, h, a ? [a] : [], a ? [\"?\"] : [], c),
            e = new Q(W.definitions.ecma6 && W.definitions.ecma6.generator_prototype || !0);
        return e.defProp(\"next\").addType(d), e
    }

    function La(a, b) {
        return a.generator ? a.computeRet ? Ka(a.yieldval, b) : (a.generator === !0 && (a.generator = Ka(a.yieldval, b)), a.generator) : b
    }

    function Ma(a, b, c) {
        var d = Oa(a, c).getFunctionType();
        if (!d) return h;
        var e = d.retval;
        if (d.computeRet) {
            for (var f = 0, g = []; f < b.length; ++f) g.push(Oa(b[f], c));
            var i = h;
            \"MemberExpression\" == a.type && (i = Oa(a.object, c)), e = d.computeRet(i, g, b)
        }
        return La(d, e)
    }

    function Oa(a, b) {
        var c = Na[a.type];
        return c ? c(a, b) : h
    }
    var g = a.toString = function(a, b, c) {
            return !a || a == c || b && -3 > b ? \"?\" : a.toString(b, c)
        },
        h = a.ANull = f.mixin({
            addType: function() {},
            propagate: function() {},
            getProp: function() {
                return h
            },
            forAllProps: function() {},
            hasType: function() {
                return !1
            },
            isEmpty: function() {
                return !0
            },
            getFunctionType: function() {},
            getObjType: function() {},
            getSymbolType: function() {},
            getType: function() {},
            gatherProperties: function() {},
            propagatesTo: function() {},
            typeHint: function() {},
            propHint: function() {},
            toString: function() {
                return \"?\"
            }
        }),
        j = 100,
        k = 90,
        l = 10,
        m = 6,
        n = 6,
        o = 1,
        p = 90,
        q = 2,
        r = 4,
        s = a.AVal = function() {
            this.types = [], this.forward = null, this.maxWeight = 0
        };
    s.prototype = i(h, {
        addType: function(a, b) {
            if (b = b || j, this.maxWeight < b) {
                if (this.maxWeight = b, 1 == this.types.length && this.types[0] == a) return;
                this.types.length = 0
            } else if (this.maxWeight > b || this.types.indexOf(a) > -1) return;
            this.signal(\"addType\", a), this.types.push(a);
            var c = this.forward;
            c && \$(function(d) {
                for (var e = 0; e < c.length; ++e) d(a, c[e], b)
            })
        },
        propagate: function(a, b) {
            if (!(a == h || a instanceof N && this.forward && this.forward.length > 2)) {
                b && b != j && (a = new M(a, b)), (this.forward || (this.forward = [])).push(a);
                var c = this.types;
                c.length && \$(function(d) {
                    for (var e = 0; e < c.length; ++e) d(c[e], a, b)
                })
            }
        },
        getProp: function(a) {
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            var b = (this.props || (this.props = Object.create(null)))[a];
            return b || (b = this.props[a] = new s, this.propagate(new y(a, b))), b
        },
        forAllProps: function(a) {
            this.propagate(new A(a))
        },
        hasType: function(a) {
            return this.types.indexOf(a) > -1
        },
        isEmpty: function() {
            return 0 === this.types.length
        },
        getFunctionType: function() {
            for (var a = this.types.length - 1; a >= 0; --a)
                if (this.types[a] instanceof R) return this.types[a]
        },
        getObjType: function() {
            for (var a = null, b = this.types.length - 1; b >= 0; --b) {
                var c = this.types[b];
                if (c instanceof Q) {
                    if (c.name) return c;
                    a || (a = c)
                }
            }
            return a
        },
        getSymbolType: function() {
            for (var a = this.types.length - 1; a >= 0; --a)
                if (this.types[a] instanceof T) return this.types[a]
        },
        getType: function(a) {
            return 0 === this.types.length && a !== !1 ? this.makeupType() : 1 === this.types.length ? this.types[0] : w(this.types)
        },
        toString: function(a, b) {
            if (0 == this.types.length) return g(this.makeupType(), a, b);
            if (1 == this.types.length) return g(this.types[0], a, b);
            var c = v(this.types);
            return c.length > 2 ? \"?\" : c.map(function(c) {
                return g(c, a, b)
            }).join(\"|\")
        },
        makeupPropType: function(a) {
            var b = this.propertyName,
                c = a.proto && a.proto.hasProp(b);
            if (c) {
                var d = c.getType();
                if (d) return d
            }
            if (\"<i>\" != b) {
                var e = a.hasProp(\"<i>\");
                if (e) return e.getType()
            } else if (a.props[\"<i>\"] != this)
                for (var f in a.props) {
                    var g = a.props[f];
                    if (!g.isEmpty()) return g.getType()
                }
        },
        makeupType: function() {
            var a = this.propertyOf && this.makeupPropType(this.propertyOf);
            if (a) return a;
            if (!this.forward) return null;
            for (var b = this.forward.length - 1; b >= 0; --b) {
                var c = this.forward[b].typeHint();
                if (c && !c.isEmpty()) return Ra = !0, c
            }
            for (var d = Object.create(null), e = null, b = 0; b < this.forward.length; ++b) {
                var f = this.forward[b].propHint();
                f && \"length\" != f && \"<i>\" != f && \"\\u2716\" != f && f != W.completingProperty && (d[f] = !0, e = f)
            }
            if (!e) return null;
            var g = V(e);
            if (g) {
                var h = [];
                a: for (var b = 0; b < g.length; ++b) {
                    var i = g[b];
                    for (var f in d)
                        if (!i.hasProp(f)) continue a;
                    i.hasCtor && (i = F(i)), h.push(i)
                }
                var j = w(h);
                if (j) return Ra = !0, j
            }
        },
        typeHint: function() {
            return this.types.length ? this.getType() : null
        },
        propagatesTo: function() {
            return this
        },
        gatherProperties: function(a, b) {
            for (var c = 0; c < this.types.length; ++c) this.types[c].gatherProperties(a, b)
        },
        guessProperties: function(a) {
            if (this.forward)
                for (var b = 0; b < this.forward.length; ++b) {
                    var c = this.forward[b].propHint();
                    c && a(c, null, 0)
                }
            var d = this.makeupType();
            d && d.gatherProperties(a)
        }
    });
    var v = a.simplifyTypes = function(a) {
            var b = [];
            a: for (var c = 0; c < a.length; ++c) {
                for (var d = a[c], e = 0; e < b.length; e++) {
                    var f = u(d, b[e], 0);
                    if (f) {
                        b[e] = f;
                        continue a
                    }
                }
                b.push(d)
            }
            return b
        },
        x = a.constraint = function(a) {
            var b = function() {
                this.origin = W.curOrigin, this.construct.apply(this, arguments)
            };
            b.prototype = Object.create(h);
            for (var c in a) a.hasOwnProperty(c) && (b.prototype[c] = a[c]);
            return b
        },
        y = x({
            construct: function(a, b) {
                this.prop = a, this.target = b
            },
            addType: function(a, b) {
                a.getProp && a.getProp(this.prop).propagate(this.target, b)
            },
            propHint: function() {
                return this.prop
            },
            propagatesTo: function() {
                return \"<i>\" != this.prop && /[^\\w_]/.test(this.prop) ? void 0 : {
                    target: this.target,
                    pathExt: \".\" + this.prop
                }
            }
        }),
        z = a.PropHasSubset = a.DefProp = x({
            construct: function(a, b, c) {
                this.prop = a, this.type = b, this.originNode = c
            },
            addType: function(a, b) {
                if (a instanceof Q) {
                    var c = a.defProp(this.prop, this.originNode);
                    c.origin || (c.origin = this.origin), this.type.propagate(c, b)
                }
            },
            propHint: function() {
                return this.prop
            }
        }),
        A = x({
            construct: function(a) {
                this.c = a
            },
            addType: function(a) {
                a instanceof Q && a.forAllProps(this.c)
            }
        }),
        C = a.IsCallee = x({
            construct: function(a, b, c, d) {
                this.self = a, this.args = b, this.argNodes = c, this.retval = d, this.disabled = W.disabledComputing
            },
            addType: function(a, b) {
                if (a instanceof R) {
                    for (var c = 0; c < this.args.length; ++c) c < a.args.length && this.args[c].propagate(a.args[c], b), a.arguments && this.args[c].propagate(a.arguments, b);
                    this.self.propagate(a.self, this.self == W.topScope ? p : b);
                    var d = a.computeRet,
                        e = a.retval;
                    if (d)
                        for (var f = this.disabled; f; f = f.prev)(f.fn == a || a.originNode && f.fn.originNode == a.originNode) && (d = null);
                    if (d) {
                        var g = W.disabledComputing;
                        W.disabledComputing = this.disabled, e = d(this.self, this.args, this.argNodes), W.disabledComputing = g
                    }
                    La(a, e).propagate(this.retval, b)
                }
            },
            typeHint: function() {
                for (var a = [], b = 0; b < this.args.length; ++b) a.push(\"?\");
                return new R(null, this.self, this.args, a, h)
            },
            propagatesTo: function() {
                return {
                    target: this.retval,
                    pathExt: \".!ret\"
                }
            }
        }),
        D = x({
            construct: function(a, b, c, d) {
                this.propName = a, this.args = b, this.argNodes = c, this.retval = d, this.disabled = W.disabledComputing
            },
            addType: function(a, b) {
                var c = new C(a, this.args, this.argNodes, this.retval);
                c.disabled = this.disabled, a.getProp(this.propName).propagate(c, b)
            },
            propHint: function() {
                return this.propName
            }
        }),
        E = a.IsCtor = x({
            construct: function(a, b) {
                this.target = a, this.noReuse = b
            },
            addType: function(a, b) {
                a instanceof R && (W.parent && !W.parent.options.reuseInstances && (this.noReuse = !0), a.getProp(\"prototype\").propagate(new G(this.noReuse ? !1 : a, this.target), b))
            }
        }),
        F = a.getInstance = function(a, b) {
            if (b === !1) return new Q(a);
            b || (b = a.hasCtor), a.instances || (a.instances = []);
            for (var c = 0; c < a.instances.length; ++c) {
                var d = a.instances[c];
                if (d.ctor == b) return d.instance
            }
            var e = new Q(a, b && b.name);
            return e.origin = a.origin, a.instances.push({
                ctor: b,
                instance: e
            }), e
        },
        G = a.IsProto = x({
            construct: function(a, b) {
                this.ctor = a, this.target = b
            },
            addType: function(a, b) {
                a instanceof Q && ((this.count = (this.count || 0) + 1) > 8 || (a == W.protos.Array ? this.target.addType(new S) : this.target.addType(F(a, this.ctor))))
            }
        }),
        H = x({
            construct: function(a) {
                this.fn = a
            },
            addType: function(a, b) {
                if (a instanceof Q && !a.hasCtor) {
                    a.hasCtor = this.fn;
                    var c = new K(a, this.fn);
                    c.addType(this.fn), a.forAllProps(function(a, b, d) {
                        d && b.propagate(c)
                    })
                }
            }
        }),
        I = x({
            construct: function(a, b) {
                this.other = a, this.target = b
            },
            addType: function(a, b) {
                a == W.str ? this.target.addType(W.str, b) : a == W.num && this.other.hasType(W.num) && this.target.addType(W.num, b)
            },
            typeHint: function() {
                return this.other
            }
        }),
        J = a.IfObj = x({
            construct: function(a) {
                this.target = a
            },
            addType: function(a, b) {
                a instanceof Q && this.target.addType(a, b)
            },
            propagatesTo: function() {
                return this.target
            }
        }),
        K = x({
            construct: function(a, b) {
                this.obj = a, this.ctor = b
            },
            addType: function(a) {
                a instanceof R && a.self && a.self.addType(F(this.obj, this.ctor), r)
            }
        }),
        L = x({
            construct: function(a) {
                this.obj = a
            },
            addType: function(a) {
                a instanceof Q && this.obj.proto == W.protos.Object && this.obj.replaceProto(a)
            }
        }),
        M = x({
            construct: function(a, b) {
                this.inner = a, this.weight = b
            },
            addType: function(a, b) {
                this.inner.addType(a, Math.min(b, this.weight))
            },
            propagatesTo: function() {
                return this.inner.propagatesTo()
            },
            typeHint: function() {
                return this.inner.typeHint()
            },
            propHint: function() {
                return this.inner.propHint()
            }
        }),
        N = a.Type = function() {};
    N.prototype = i(h, {
        constructor: N,
        propagate: function(a, b) {
            a.addType(this, b)
        },
        hasType: function(a) {
            return a == this
        },
        isEmpty: function() {
            return !1
        },
        typeHint: function() {
            return this
        },
        getType: function() {
            return this
        }
    });
    var O = a.Prim = function(a, b) {
        this.name = b, this.proto = a
    };
    O.prototype = i(N.prototype, {
        constructor: O,
        toString: function() {
            return this.name
        },
        getProp: function(a) {
            return this.proto.hasProp(a) || h
        },
        gatherProperties: function(a, b) {
            this.proto && this.proto.gatherProperties(a, b)
        }
    });
    var Q = a.Obj = function(a, b) {
        if (this.props || (this.props = Object.create(null)), this.proto = a === !0 ? W.protos.Object : a, a && !b && a.name && !(this instanceof R)) {
            var c = /^(.*)\\.prototype\$/.exec(this.proto.name);
            c && (b = c[1])
        }
        this.name = b, this.maybeProps = null, this.origin = W.curOrigin
    };
    Q.prototype = i(N.prototype, {
        constructor: Q,
        toString: function(a) {
            if (null == a && (a = 0), 0 >= a && this.name) return this.name;
            var b = [],
                c = !1;
            for (var d in this.props)
                if (\"<i>\" != d) {
                    if (b.length > 5) {
                        c = !0;
                        break
                    }
                    a ? b.push(d + \": \" + g(this.props[d], a - 1, this)) : b.push(d)
                }
            return b.sort(), c && b.push(\"...\"), \"{\" + b.join(\", \") + \"}\"
        },
        hasProp: function(a, b) {
            P(a) && (a = this.normalizeIntegerProp(a));
            var c = this.props[a];
            if (b !== !1)
                for (var d = this.proto; d && !c; d = d.proto) c = d.props[a];
            return c
        },
        defProp: function(a, b) {
            var c = this.hasProp(a, !1);
            if (c) return b && !c.originNode && (c.originNode = b), c;
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            P(a) && (a = this.normalizeIntegerProp(a));
            var d = this.maybeProps && this.maybeProps[a];
            return d ? (delete this.maybeProps[a], this.maybeUnregProtoPropHandler()) : (d = new s, d.propertyOf = this, d.propertyName = a), this.props[a] = d, d.originNode = b, d.origin = W.curOrigin, this.broadcastProp(a, d, !0), d
        },
        getProp: function(a) {
            var b = this.hasProp(a, !0) || this.maybeProps && this.maybeProps[a];
            if (b) return b;
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            P(a) && (a = this.normalizeIntegerProp(a));
            var c = this.ensureMaybeProps()[a] = new s;
            return c.propertyOf = this, c.propertyName = a, c
        },
        normalizeIntegerProp: function(a) {
            return \"<i>\"
        },
        broadcastProp: function(a, b, c) {
            if (c && (this.signal(\"addProp\", a, b), this instanceof aa || U(a, this)), this.onNewProp)
                for (var d = 0; d < this.onNewProp.length; ++d) {
                    var e = this.onNewProp[d];
                    e.onProtoProp ? e.onProtoProp(a, b, c) : e(a, b, c)
                }
        },
        onProtoProp: function(a, b, c) {
            var d = this.maybeProps && this.maybeProps[a];
            d && (delete this.maybeProps[a], this.maybeUnregProtoPropHandler(), this.proto.getProp(a).propagate(d)), this.broadcastProp(a, b, !1)
        },
        replaceProto: function(a) {
            this.proto && this.maybeProps && this.proto.unregPropHandler(this), this.proto = a, this.maybeProps && this.proto.forAllProps(this)
        },
        ensureMaybeProps: function() {
            return this.maybeProps || (this.proto && this.proto.forAllProps(this), this.maybeProps = Object.create(null)), this.maybeProps
        },
        removeProp: function(a) {
            var b = this.props[a];
            delete this.props[a], this.ensureMaybeProps()[a] = b, b.types.length = 0
        },
        forAllProps: function(a) {
            this.onNewProp || (this.onNewProp = [], this.proto && this.proto.forAllProps(this)), this.onNewProp.push(a);
            for (var b = this; b; b = b.proto)
                for (var c in b.props) a.onProtoProp ? a.onProtoProp(c, b.props[c], b == this) : a(c, b.props[c], b == this)
        },
        maybeUnregProtoPropHandler: function() {
            if (this.maybeProps) {
                for (var a in this.maybeProps) return;
                this.maybeProps = null
            }!this.proto || this.onNewProp && this.onNewProp.length || this.proto.unregPropHandler(this)
        },
        unregPropHandler: function(a) {
            for (var b = 0; b < this.onNewProp.length; ++b)
                if (this.onNewProp[b] == a) {
                    this.onNewProp.splice(b, 1);
                    break
                }
            this.maybeUnregProtoPropHandler()
        },
        gatherProperties: function(a, b) {
            for (var c in this.props) \"<i>\" != c && \":\" != c.charAt(0) && a(c, this, b);
            this.proto && this.proto.gatherProperties(a, b + 1)
        },
        getObjType: function() {
            return this
        }
    });
    var R = a.Fn = function(a, b, c, d, e, f) {
        Q.call(this, W.protos.Function, a), this.self = b, this.args = c, this.argNames = d, this.retval = e, this.generator = f
    };
    R.prototype = i(Q.prototype, {
        constructor: R,
        toString: function(a) {
            null == a && (a = 0);
            for (var b = this.generator ? \"fn*(\" : \"fn(\", c = 0; c < this.args.length; ++c) {
                c && (b += \", \");
                var d = this.argNames[c];
                d && \"?\" != d && (b += d + \": \"), b += a > -3 ? g(this.args[c], a - 1, this) : \"?\"
            }
            return b += \")\", this.retval.isEmpty() || (b += \" -> \" + (a > -3 ? g(this.retval, a - 1, this) : \"?\")), b
        },
        getProp: function(a) {
            if (\"prototype\" == a) {
                var b = this.hasProp(a, !1);
                if (!b) {
                    b = this.defProp(a);
                    var c = new Q(!0, this.name && this.name + \".prototype\");
                    c.origin = this.origin, b.addType(c, l)
                }
                return b
            }
            return Q.prototype.getProp.call(this, a)
        },
        defProp: function(a, b) {
            if (\"prototype\" == a) {
                var c = this.hasProp(a, !1);
                return c ? c : (c = Q.prototype.defProp.call(this, a, b), c.origin = this.origin, c.propagate(new H(this)), c)
            }
            return Q.prototype.defProp.call(this, a, b)
        },
        getFunctionType: function() {
            return this
        }
    });
    var S = a.Arr = function(a) {
        Q.call(this, W.protos.Array);
        var b = this.defProp(\"<i>\");
        if (Array.isArray(a)) {
            this.tuple = a.length;
            for (var c = 0; c < a.length; c++) {
                var d = this.defProp(String(c));
                a[c].propagate(d), d.propagate(b)
            }
        } else a && (this.tuple = 0, a.propagate(b))
    };
    S.prototype = i(Q.prototype, {
        constructor: S,
        toString: function(a) {
            if (null == a && (a = 0), -3 >= a) return \"[?]\";
            var b = \"\";
            if (this.tuple) {
                for (var c, d = 0; d in this.props; d++) {
                    var e = g(this.getProp(String(d)), a - 1, this);
                    c = null == c ? e : c != e ? !1 : e, b += (b ? \", \" : \"\") + e
                }
                c && (b = c)
            } else b = g(this.getProp(\"<i>\"), a - 1, this);
            return \"[\" + b + \"]\"
        },
        normalizeIntegerProp: function(a) {
            return +a < this.tuple ? a : \"<i>\"
        }
    });
    var T = a.Sym = function(a, b) {
        O.call(this, W.protos.Symbol, \"Symbol\"), this.symName = a, this.originNode = b
    };
    T.prototype = i(O.prototype, {
        constructor: T,
        asPropName: function() {
            return \":\" + this.symName
        },
        getSymbolType: function() {
            return this
        }
    }), a.getSymbol = function(a, b) {
        var c = a.replace(/[^\\w\$\\.]/g, \"_\"),
            d = W.symbols[c];
        return d ? (b && !d.originNode && (d.originNode = b), d) : W.symbols[c] = new T(c, b)
    }, a.Context = function(b, c) {
        this.parent = c, this.props = Object.create(null), this.protos = Object.create(null), this.origins = [], this.curOrigin = \"ecma5\", this.paths = Object.create(null), this.definitions = Object.create(null), this.purgeGen = 0, this.workList = null, this.disabledComputing = null, this.curSuperCtor = this.curSuper = null, this.symbols = Object.create(null), a.withContext(this, function() {
            if (W.protos.Object = new Q(null, \"Object.prototype\"), W.topScope = new aa, W.topScope.name = \"<top>\", W.protos.Array = new Q(!0, \"Array.prototype\"), W.protos.Function = new R(\"Function.prototype\", h, [], [], h), W.protos.Function.proto = W.protos.Object, W.protos.RegExp = new Q(!0, \"RegExp.prototype\"), W.protos.String = new Q(!0, \"String.prototype\"), W.protos.Number = new Q(!0, \"Number.prototype\"), W.protos.Boolean = new Q(!0, \"Boolean.prototype\"), W.protos.Symbol = new Q(!0, \"Symbol.prototype\"), W.str = new O(W.protos.String, \"string\"), W.bool = new O(W.protos.Boolean, \"bool\"), W.num = new O(W.protos.Number, \"number\"), W.curOrigin = null, b)
                for (var a = 0; a < b.length; ++a) e.load(b[a])
        })
    }, a.Context.prototype.startAnalysis = function() {
        this.disabledComputing = this.workList = this.curSuperCtor = this.curSuper = null
    };
    var W = null;
    a.cx = function() {
        return W
    }, a.withContext = function(a, b) {
        var c = W;
        W = a;
        try {
            return b()
        } finally {
            W = c
        }
    }, a.TimedOut = function() {
        this.message = \"Timed out\", this.stack = (new Error).stack
    }, a.TimedOut.prototype = Object.create(Error.prototype), a.TimedOut.prototype.name = \"infer.TimedOut\";
    var X;
    a.withTimeout = function(a, b) {
        var c = +new Date + a,
            d = X;
        if (d && c > d) return b();
        X = c;
        try {
            return b()
        } finally {
            X = d
        }
    }, a.addOrigin = function(a) {
        W.origins.indexOf(a) < 0 && W.origins.push(a)
    };
    var Y = 20,
        Z = 1e-4,
        aa = a.Scope = function(a, b, c) {
            Q.call(this, a || !0), this.prev = a, this.originNode = b, this.isBlock = !!c
        };
    aa.prototype = i(Q.prototype, {
        constructor: aa,
        defVar: function(a, b) {
            for (var c = this;; c = c.proto) {
                var d = c.props[a];
                if (d) return d;
                if (!c.prev) return c.defProp(a, b)
            }
        }
    });
    var da = {},
        ma = a.scopeGatherer = d.make({
            VariablePattern: function(a, b) {
                b.inner && ia(b.inner, a)
            },
            AssignmentPattern: function(a, b, c) {
                c(a.left, b, \"Pattern\"), c(a.right, b.outer, \"Expression\")
            },
            AssignmentExpression: function(a, b, c) {
                \"MemberExpression\" == a.left.type ? c(a.left, b, \"Expression\") : c(a.left, la(!1, b), \"Pattern\"), c(a.right, b, \"Expression\")
            },
            Function: function(a, b, c) {
                for (var d = a.scope = new aa(b, a), e = [], f = [], g = 0; g < a.params.length; ++g) {
                    var i = a.params[g];
                    if (f.push(ja(i)), \"Identifier\" == i.type) e.push(ia(d, i));
                    else {
                        var j = new s;
                        e.push(j), j.originNode = i, c(i, la(d), \"Pattern\")
                    }
                }
                if (d.fnType = new R(a.id && a.id.name, new s, e, f, h, a.generator), d.fnType.originNode = a, a.id) {
                    var k = \"FunctionDeclaration\" == a.type;
                    ia(k ? b : d, a.id)
                }
                c(a.body, d, a.expression ? \"Expression\" : \"Statement\")
            },
            BlockStatement: function(a, b, c) {
                !a.scope && a.body.some(ka) && (b = a.scope = new aa(b, a, !0)), d.base.BlockStatement(a, b, c)
            },
            TryStatement: function(a, b, c) {
                if (c(a.block, b, \"Statement\"), a.handler)
                    if (\"Identifier\" == a.handler.param.type) {
                        var d = ia(b, a.handler.param);
                        c(a.handler.body, b, \"Statement\");
                        var e = W.definitions.ecma5;
                        e && d.isEmpty() && F(e[\"Error.prototype\"]).propagate(d, n)
                    } else c(a.handler.param, la(b), \"Pattern\");
                a.finalizer && c(a.finalizer, b, \"Statement\")
            },
            VariableDeclaration: function(a, b, c) {
                for (var d = \"var\" == a.kind ? ba(b) : b, e = 0; e < a.declarations.length; ++e) {
                    var f = a.declarations[e];
                    c(f.id, la(d, b), \"Pattern\"), f.init && c(f.init, b, \"Expression\")
                }
            },
            ClassDeclaration: function(a, b, c) {
                ia(b, a.id), a.superClass && c(a.superClass, b, \"Expression\");
                for (var d = 0; d < a.body.body.length; d++) c(a.body.body[d], b)
            },
            ForInStatement: function(a, b, c) {
                !a.scope && ka(a.left) && (b = a.scope = new aa(b, a, !0)), d.base.ForInStatement(a, b, c)
            },
            ForStatement: function(a, b, c) {
                !a.scope && a.init && ka(a.init) && (b = a.scope = new aa(b, a, !0)), d.base.ForStatement(a, b, c)
            },
            ImportDeclaration: function(a, b) {
                for (var c = 0; c < a.specifiers.length; c++) ia(b, a.specifiers[c].local)
            }
        });
    ma.ForOfStatement = ma.ForInStatement;
    var na = a.propName = function(a, b) {
            var c = a.property || a.key;
            if (!a.computed && \"Identifier\" == c.type) return c.name;
            if (\"Literal\" == c.type) {
                if (\"string\" == typeof c.value) return c.value;
                if (\"number\" == typeof c.value) return String(c.value)
            }
            if (b) {
                var d = oa(Ea(c, b));
                if (d) return a.propName = d
            } else if (a.propName) return a.propName;
            return \"<i>\"
        },
        va = a.inferPatternVisitor = {
            Identifier: function(a, b, c) {
                c.propagate(ua(a, b))
            },
            MemberExpression: function(a, b, c) {
                var d = Ea(a.object, b),
                    e = na(a, b);
                d.propagate(new z(e, c, a.property))
            },
            RestElement: function(a, b, c) {
                wa(a.argument, b, new S(c))
            },
            ObjectPattern: function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) {
                    var e = a.properties[d];
                    wa(e.value, b, c.getProp(e.key.name))
                }
            },
            ArrayPattern: function(a, b, c) {
                for (var d = 0; d < a.elements.length; d++) a.elements[d] && wa(a.elements[d], b, c.getProp(String(d)))
            },
            AssignmentPattern: function(a, b, c) {
                wa(a.left, b, sa(c, Ea(a.right, b)))
            }
        },
        Da = a.inferExprVisitor = {
            ArrayExpression: Ba(function(a, b) {
                return Aa(a.elements, b, Ea)
            }),
            ObjectExpression: Ba(function(a, b, c) {
                for (var e, d = !0, f = 0; f < a.properties.length; ++f) {
                    var g = a.properties[f];
                    if (\"__proto__\" == g.key.name)
                        if (\"Literal\" == g.value.type && null == g.value.value) d = null;
                        else {
                            var i = Ea(g.value, b),
                                j = i.getObjType();
                            j ? d = j : e = i
                        }
                }
                var k = a.objType = new Q(d, c);
                return e && e.propagate(new L(k)), k.originNode = a, _(null, e || d, function() {
                    for (var c = 0; c < a.properties.length; ++c) {
                        var d = a.properties[c],
                            e = d.key;
                        if (\"\\u2716\" != d.value.name && \"__proto__\" != d.key.name) {
                            var g, f = na(d, b);
                            if (\"<i>\" == f || \"set\" == d.kind) g = h;
                            else {
                                var i = g = k.defProp(f, e);
                                i.initializer = !0, \"get\" == d.kind && (g = new C(k, [], null, i))
                            }
                            Ea(d.value, b, g, f), \"FunctionExpression\" == d.value.type && d.value.scope.fnType.self.addType(k, q)
                        }
                    }
                }), k
            }),
            FunctionExpression: Ba(function(a, b, c) {
                var e = a.scope,
                    f = e.fnType;
                return c && !f.name && (f.name = c), ta(a, e), a.expression ? Ea(a.body, e, e.fnType.retval = new s) : d.recursive(a.body, e, null, Ga, \"Statement\"), \"ArrowFunctionExpression\" == a.type && (xa(b).propagate(f.self), f.self = h), fa(a, f) || ha(f), a.id && e.getProp(a.id.name).addType(f), f
            }),
            ClassExpression: Ba(za),
            SequenceExpression: Ba(function(a, b) {
                for (var c = 0, d = a.expressions.length - 1; d > c; ++c) Ea(a.expressions[c], b, h);
                return Ea(a.expressions[d], b)
            }),
            UnaryExpression: Ba(function(a, b) {
                return Ea(a.argument, b, h), pa(a.operator)
            }),
            UpdateExpression: Ba(function(a, b) {
                return Ea(a.argument, b, h), W.num
            }),
            BinaryExpression: Ba(function(a, b) {
                if (\"+\" == a.operator) {
                    var c = Ea(a.left, b),
                        d = Ea(a.right, b);
                    if (c.hasType(W.str) || d.hasType(W.str)) return W.str;
                    if (c.hasType(W.num) && d.hasType(W.num)) return W.num;
                    var e = new s;
                    return c.propagate(new I(d, e)), d.propagate(new I(c, e)), e
                }
                return Ea(a.left, b, h), Ea(a.right, b, h), qa(a.operator) ? W.bool : W.num
            }),
            AssignmentExpression: Ba(function(a, b, c) {
                var d, e;
                if (\"MemberExpression\" == a.left.type ? (e = na(a.left, b), c || (c = \"Identifier\" == a.left.object.type ? a.left.object.name + \".\" + e : e)) : c || \"Identifier\" != a.left.type || (c = a.left.name), a.operator && \"=\" != a.operator && \"+=\" != a.operator ? (Ea(a.right, b, h), d = W.num) : d = Ea(a.right, b, null, c), \"MemberExpression\" == a.left.type) {
                    var f = Ea(a.left.object, b);
                    if (\"prototype\" == e && ca(b, 20), \"<i>\" == e) {
                        var g = a.left.property.name,
                            i = b.props[g],
                            j = i && i.iteratesOver;
                        if (j) {
                            ca(b, 20);
                            var k = \"MemberExpression\" == a.right.type && a.right.computed && a.right.property.name == g;
                            return j.forAllProps(function(a, b, c) {
                                c && \"prototype\" != a && \"<i>\" != a && f.propagate(new z(a, k ? b : h))
                            }), d
                        }
                    }
                    f.propagate(new z(e, d, a.left.property)), ya(f), \"FunctionExpression\" == a.right.type && f.propagate(a.right.scope.fnType.self, q)
                } else wa(a.left, b, d);
                return d
            }),
            LogicalExpression: Ca(function(a, b, c) {
                Ea(a.left, b, c), Ea(a.right, b, c)
            }),
            ConditionalExpression: Ca(function(a, b, c) {
                Ea(a.test, b, h), Ea(a.consequent, b, c), Ea(a.alternate, b, c)
            }),
            NewExpression: Ca(function(a, b, c, d) {
                \"Identifier\" == a.callee.type && a.callee.name in b.props && ca(b, 20);
                for (var e = 0, f = []; e < a.arguments.length; ++e) f.push(Ea(a.arguments[e], b));
                var g = Ea(a.callee, b),
                    h = new s;
                g.propagate(new E(h, d && /\\.prototype\$/.test(d))), h.propagate(c, k), g.propagate(new C(h, f, a.arguments, new J(c)))
            }),
            CallExpression: Ca(function(a, b, c) {
                for (var d = 0, e = []; d < a.arguments.length; ++d) e.push(Ea(a.arguments[d], b));
                var f = ba(b).fnType;
                if (\"MemberExpression\" == a.callee.type) {
                    var g = Ea(a.callee.object, b),
                        h = na(a.callee, b);
                    f && (\"call\" == h || \"apply\" == h) && f.args.indexOf(g) > -1 && ca(b, 30), g.propagate(new D(h, e, a.arguments, c))
                } else if (\"Super\" == a.callee.type && W.curSuperCtor) W.curSuperCtor.propagate(new C(xa(b), e, a.arguments, c));
                else {
                    var i = Ea(a.callee, b);
                    f && f.args.indexOf(i) > -1 && ca(b, 30);
                    var j = i.getFunctionType();
                    j && j.instantiateScore && f && ca(b, j.instantiateScore / 5), i.propagate(new C(W.topScope, e, a.arguments, c))
                }
            }),
            MemberExpression: Ca(function(a, b, c) {
                var e, d = na(a);
                if (\"<i>\" == d) {
                    var f = Ea(a.property, b),
                        g = oa(f);
                    g ? d = a.propName = g : f.hasType(W.num) || (e = m)
                }
                Ea(a.object, b).getProp(d).propagate(c, e)
            }),
            Identifier: Ba(function(a, b) {
                if (\"arguments\" == a.name) {
                    var c = ba(b);
                    !c.fnType || a.name in c.props || b.defProp(a.name, c.fnType.originNode).addType(new S(c.fnType.arguments = new s))
                }
                return b.getProp(a.name)
            }),
            ThisExpression: Ba(function(a, b) {
                return xa(b)
            }),
            Super: Ba(function(a) {
                return a.superType = W.curSuper || h
            }),
            Literal: Ba(function(a) {
                return ra(a)
            }),
            TemplateLiteral: Ba(function(a, b) {
                for (var c = 0; c < a.expressions.length; ++c) Ea(a.expressions[c], b, h);
                return W.str
            }),
            TaggedTemplateExpression: Ca(function(a, b, c) {
                for (var d = [new S(W.str)], e = 0; e < a.quasi.expressions.length; ++e) d.push(Ea(a.quasi.expressions[e], b));
                Ea(a.tag, b, new C(W.topScope, d, a.quasi.expressions, c))
            }),
            YieldExpression: Ba(function(a, b) {
                var c = h,
                    d = ba(b).fnType;
                return d && (d.retval == h && (d.retval = new s), d.yieldval || (d.yieldval = new s), c = d.retval), a.argument && (a.delegate ? Ea(a.argument, b, new D(\"next\", [], null, new y(\"value\", c))) : Ea(a.argument, b, c)), d ? d.yieldval : h
            })
        };
    Da.ArrowFunctionExpression = Da.FunctionExpression;
    var Ga = a.inferWrapper = d.make({
            Expression: function(a, b) {
                Ea(a, a.scope || b, h)
            },
            FunctionDeclaration: function(a, b, c) {
                var d = a.scope,
                    e = d.fnType;
                ta(a, d), c(a.body, d, \"Statement\"), fa(a, e) || ha(e), b.getProp(a.id.name).addType(e)
            },
            Statement: function(a, b, c) {
                c(a, a.scope || b)
            },
            VariableDeclaration: function(a, b) {
                for (var c = 0; c < a.declarations.length; ++c) {
                    var d = a.declarations[c];
                    if (\"Identifier\" == d.id.type) {
                        var e = b.getProp(d.id.name);
                        d.init && Ea(d.init, b, e, d.id.name)
                    } else d.init && wa(d.id, b, Ea(d.init, b))
                }
            },
            ClassDeclaration: function(a, b) {
                b.getProp(a.id.name).addType(za(a, b, a.id.name))
            },
            ReturnStatement: function(a, b) {
                if (a.argument) {
                    var c = h,
                        d = ba(b).fnType;
                    d && (d.retval == h && (d.retval = new s), c = d.retval), Ea(a.argument, b, c)
                }
            },
            ForInStatement: function(a, b, c) {
                var d = Ea(a.right, b);
                if (\"Identifier\" == a.right.type && a.right.name in b.props || \"MemberExpression\" == a.right.type && \"prototype\" == a.right.property.name) {
                    ca(b, 5);
                    var e = Fa(a.left);
                    \"Identifier\" == e.type ? (e.name in b.props && (b.getProp(e.name).iteratesOver = d), d.getProp(\"<i>\").propagate(ua(e, b))) : wa(e, b, d.getProp(\"<i>\"))
                }
                c(a.body, b, \"Statement\")
            },
            ForOfStatement: function(a, b, c) {
                var e, d = Fa(a.left);
                \"Identifier\" == d.type ? e = ua(d, b) : wa(d, b, e = new s), Ea(a.right, b, new D(\":Symbol.iterator\", [], null, new D(\"next\", [], null, new y(\"value\", e)))), c(a.body, b, \"Statement\")
            }
        }),
        Ha = a.parse = function(a, d, e) {
            (!d || Array.isArray(d)) && (d = e);
            var f;
            try {
                f = b.parse(a, d)
            } catch (g) {
                f = c.parse_dammit(a, d)
            }
            return f
        };
    a.analyze = function(b, c, e) {
        \"string\" == typeof b && (b = Ha(b)), c || (c = \"file#\" + W.origins.length), a.addOrigin(W.curOrigin = c), e || (e = W.topScope), W.startAnalysis(), d.recursive(b, e, null, ma), W.parent && W.parent.signal(\"preInfer\", b, e), d.recursive(b, e, null, Ga), W.parent && W.parent.signal(\"postInfer\", b, e), W.curOrigin = null
    }, a.purge = function(a, b, c) {
        var d = Ia(a, b, c);
        ++W.purgeGen, W.topScope.purge(d);
        for (var e in W.props) {
            for (var f = W.props[e], g = 0; g < f.length; ++g) {
                var h = f[g],
                    i = h.props[e];
                (!i || d(i, i.originNode)) && f.splice(g--, 1)
            }
            f.length || delete W.props[e]
        }
    }, s.prototype.purge = function(a) {
        if (this.purgeGen != W.purgeGen) {
            this.purgeGen = W.purgeGen;
            for (var b = 0; b < this.types.length; ++b) {
                var c = this.types[b];
                a(c, c.originNode) ? this.types.splice(b--, 1) : c.purge(a)
            }
            if (this.types.length || (this.maxWeight = 0), this.forward)
                for (var b = 0; b < this.forward.length; ++b) {
                    var d = this.forward[b];
                    a(d) ? (this.forward.splice(b--, 1), this.props && (this.props = null)) : d.purge && d.purge(a)
                }
        }
    }, h.purge = function() {}, Q.prototype.purge = function(a) {
        if (this.purgeGen == W.purgeGen) return !0;
        this.purgeGen = W.purgeGen;
        for (var b in this.props) {
            var c = this.props[b];
            a(c, c.originNode) && this.removeProp(b), c.purge(a)
        }
    }, R.prototype.purge = function(a) {
        if (!Q.prototype.purge.call(this, a)) {
            this.self.purge(a), this.retval.purge(a);
            for (var b = 0; b < this.args.length; ++b) this.args[b].purge(a)
        }
    };
    var Na = a.typeFinder = {
            ArrayExpression: function(a, b) {
                return Aa(a.elements, b, Oa)
            },
            ObjectExpression: function(a) {
                return a.objType
            },
            ClassExpression: function(a) {
                return a.objType
            },
            FunctionExpression: function(a) {
                return a.scope.fnType
            },
            ArrowFunctionExpression: function(a) {
                return a.scope.fnType
            },
            SequenceExpression: function(a, b) {
                return Oa(a.expressions[a.expressions.length - 1], b)
            },
            UnaryExpression: function(a) {
                return pa(a.operator)
            },
            UpdateExpression: function() {
                return W.num
            },
            BinaryExpression: function(a, b) {
                if (qa(a.operator)) return W.bool;
                if (\"+\" == a.operator) {
                    var c = Oa(a.left, b),
                        d = Oa(a.right, b);
                    if (c.hasType(W.str) || d.hasType(W.str)) return W.str
                }
                return W.num
            },
            AssignmentExpression: function(a, b) {
                return Oa(a.right, b)
            },
            LogicalExpression: function(a, b) {
                var c = Oa(a.left, b);
                return c.isEmpty() ? Oa(a.right, b) : c
            },
            ConditionalExpression: function(a, b) {
                var c = Oa(a.consequent, b);
                return c.isEmpty() ? Oa(a.alternate, b) : c
            },
            NewExpression: function(a, b) {
                var c = Oa(a.callee, b).getFunctionType(),
                    d = c && c.getProp(\"prototype\").getObjType();
                return d ? F(d, c) : h
            },
            CallExpression: function(a, b) {
                return Ma(a.callee, a.arguments, b)
            },
            MemberExpression: function(a, b) {
                var c = na(a),
                    d = Oa(a.object, b).getType();
                return d ? d.getProp(c) : \"<i>\" == c ? h : Ja(c)
            },
            Identifier: function(a, b) {
                return b.hasProp(a.name) || h
            },
            ThisExpression: function(a, b) {
                return xa(b)
            },
            Literal: function(a) {
                return ra(a)
            },
            Super: Ba(function(a) {
                return a.superType
            }),
            TemplateLiteral: function() {
                return W.str
            },
            TaggedTemplateExpression: function(a, b) {
                return Ma(a.tag, a.quasi.expressions, b)
            },
            YieldExpression: function(a, b) {
                var c = ba(b).fnType;
                return c ? c.yieldval : h
            }
        },
        Pa = a.searchVisitor = d.make({
            Function: function(a, b, c) {
                d.base.Function(a, a.scope, c)
            },
            Property: function(a, b, c) {
                a.computed && c(a.key, b, \"Expression\"), a.key != a.value && c(a.value, b, \"Expression\")
            },
            Statement: function(a, b, c) {
                c(a, a.scope || b)
            },
            ImportSpecifier: function(a, b, c) {
                c(a.local, b)
            },
            ImportDefaultSpecifier: function(a, b, c) {
                c(a.local, b)
            },
            ImportNamespaceSpecifier: function(a, b, c) {
                c(a.local, b)
            }
        });
    a.fullVisitor = d.make({
        MemberExpression: function(a, b, c) {
            c(a.object, b, \"Expression\"), c(a.property, b, a.computed ? \"Expression\" : null)
        },
        ObjectExpression: function(a, b, c) {
            for (var d = 0; d < a.properties.length; ++d) c(a.properties[d].value, b, \"Expression\"), c(a.properties[d].key, b)
        }
    }, Pa), a.findExpressionAt = function(a, b, c, e, f) {
        var g = f || function(a, b) {
            return \"Identifier\" == b.type && \"\\u2716\" == b.name ? !1 : Na.hasOwnProperty(b.type)
        };
        return d.findNodeAt(a, b, c, g, Pa, e || W.topScope)
    }, a.findExpressionAround = function(a, b, c, e, f) {
        var g = f || function(a, c) {
            return null != b && c.start > b ? !1 : \"Identifier\" == c.type && \"\\u2716\" == c.name ? !1 : Na.hasOwnProperty(c.type)
        };
        return d.findNodeAround(a, c, g, Pa, e || W.topScope)
    }, a.expressionType = function(a) {
        return Oa(a.node, a.state)
    }, a.parentNode = function(a, b) {
        function e(b, f, g) {
            if (b.start <= a.start && b.end >= a.end) {
                var h = c[c.length - 1];
                if (b == a) throw {
                    found: h
                };
                h != b && c.push(b), d.base[g || b.type](b, f, e), h != b && c.pop()
            }
        }
        var c = [];
        try {
            e(b, null)
        } catch (f) {
            if (f.found) return f.found;
            throw f
        }
    };
    var Qa = a.findTypeFromContext = {
        ArrayExpression: function(a, b, c) {
            return c(a, !0).getProp(\"<i>\")
        },
        ObjectExpression: function(a, b, c) {
            for (var d = 0; d < a.properties.length; ++d) {
                var e = b.properties[d];
                if (e.value == b) return c(a, !0).getProp(e.key.name)
            }
        },
        UnaryExpression: function(a) {
            return pa(a.operator)
        },
        UpdateExpression: function() {
            return W.num
        },
        BinaryExpression: function(a) {
            return qa(a.operator) ? W.bool : W.num
        },
        AssignmentExpression: function(a, b, c) {
            return c(a.left)
        },
        LogicalExpression: function(a, b, c) {
            return c(a, !0)
        },
        ConditionalExpression: function(a, b, c) {
            return a.consequent == b || a.alternate == b ? c(a, !0) : void 0
        },
        CallExpression: function(a, b, c) {
            for (var d = 0; d < a.arguments.length; d++) {
                var e = a.arguments[d];
                if (e == b) {
                    var f = c(a.callee).getFunctionType();
                    if (f instanceof R) return f.args[d];
                    break
                }
            }
        },
        ReturnStatement: function(a, b, c) {
            var e = d.findNodeAround(b.sourceFile.ast, b.start, \"Function\");
            if (e) {
                var f = \"FunctionDeclaration\" != e.node.type ? c(e.node, !0).getFunctionType() : e.node.scope.fnType;
                if (f) return f.retval.getType()
            }
        },
        VariableDeclarator: function(a, b, c) {
            return a.init == b ? c(a.id) : void 0
        }
    };
    Qa.NewExpression = Qa.CallExpression, a.typeFromContext = function(b, c) {
        var d = a.parentNode(c.node, b),
            e = null;
        if (Qa.hasOwnProperty(d.type)) {
            var f = Qa[d.type];
            e = f && f(d, c.node, function(d, e) {
                var f = {
                        node: d,
                        state: c.state
                    },
                    g = e ? a.typeFromContext(b, f) : a.expressionType(f);
                return g || h
            })
        }
        return e || a.expressionType(c)
    };
    var Ra = !1;
    a.resetGuessing = function(a) {
        Ra = a
    }, a.didGuess = function() {
        return Ra
    }, a.forAllPropertiesOf = function(a, b) {
        a.gatherProperties(b, 0)
    };
    var Sa = d.make({}, Pa);
    a.findRefs = function(a, b, c, e, f) {
        Sa.Identifier = Sa.VariablePattern = function(a, b) {
            if (a.name == c)
                for (var d = b; d; d = d.prev)
                    if (d == e && f(a, b), c in d.props) return
        }, d.recursive(a, b, null, Sa)
    };
    var Ta = d.make({
        Function: function(a, b, c) {
            c(a.body, a.scope, a.expression ? \"Expression\" : \"Statement\")
        },
        Statement: function(a, b, c) {
            c(a, a.scope || b)
        }
    });
    a.findPropRefs = function(a, b, c, e, f) {
        d.simple(a, {
            MemberExpression: function(a, b) {
                a.computed || a.property.name != e || Oa(a.object, b).getType() == c && f(a.property)
            },
            ObjectExpression: function(a, b) {
                if (Oa(a, b).getType() == c)
                    for (var d = 0; d < a.properties.length; ++d) a.properties[d].key.name == e && f(a.properties[d].key)
            }
        }, Ta, b)
    };
    var Ua = a.scopeAt = function(a, b, c) {
        var e = d.findNodeAround(a, b, function(a, b) {
            return b.scope
        });
        return e ? e.node.scope : c || W.topScope
    };
    a.forAllLocalsAt = function(a, b, c, d) {
        var e = Ua(a, b, c);
        e.gatherProperties(d, 0)
    }, e = a.def = e.init({}, a)
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../lib/infer\"), require(\"../lib/tern\"), require(\"../lib/comment\"), require(\"acorn\"), require(\"acorn/dist/walk\")) : \"function\" == typeof define && define.amd ? define([\"../lib/infer\", \"../lib/tern\", \"../lib/comment\", \"acorn/dist/acorn\", \"acorn/dist/walk\"], a) : void a(tern, tern, tern.comment, acorn, acorn.walk)
}(function(a, b, c, d, e) {
    \"use strict\";

    function h(a, b) {
        function d(a) {
            c.ensureCommentsBefore(b, a)
        }
        e.simple(a, {
            VariableDeclaration: d,
            FunctionDeclaration: d,
            MethodDefinition: d,
            Property: d,
            AssignmentExpression: function(a) {
                \"=\" == a.operator && d(a)
            },
            CallExpression: function(a) {
                i(a) && d(a)
            }
        })
    }

    function i(a) {
        return \"MemberExpression\" == a.callee.type && \"Object\" == a.callee.object.name && \"defineProperty\" == a.callee.property.name && a.arguments.length >= 3 && \"string\" == typeof a.arguments[1].value
    }

    function j(b, c) {
        w(b.sourceFile.text, c), e.simple(b, {
            VariableDeclaration: function(a, b) {
                var c = a.declarations[0].id;
                a.commentsBefore && \"Identifier\" == c.type && m(a, a.commentsBefore, b, b.getProp(a.declarations[0].id.name))
            },
            FunctionDeclaration: function(a, b) {
                a.commentsBefore && m(a, a.commentsBefore, b, b.getProp(a.id.name), a.scope.fnType)
            },
            ClassDeclaration: function(a, b) {
                a.commentsBefore && m(a, a.commentsBefore, b, b.getProp(a.id.name), a.objType)
            },
            AssignmentExpression: function(b, c) {
                b.commentsBefore && m(b, b.commentsBefore, c, a.expressionType({
                    node: b.left,
                    state: c
                }))
            },
            ObjectExpression: function(b, c) {
                for (var d = 0; d < b.properties.length; ++d) {
                    var e = b.properties[d],
                        f = a.propName(e);
                    \"<i>\" != f && e.commentsBefore && m(e, e.commentsBefore, c, b.objType.getProp(f))
                }
            },
            Class: function(b, c) {
                var d = b.objType.getProp(\"prototype\").getObjType();
                if (d)
                    for (var e = 0; e < b.body.body.length; e++) {
                        var g, f = b.body.body[e];
                        f.commentsBefore && (\"constructor\" == f.kind ? m(f, f.commentsBefore, c, b.objType) : \"<i>\" != (g = a.propName(f)) && m(f, f.commentsBefore, c, d.getProp(g)))
                    }
            },
            CallExpression: function(b, c) {
                if (b.commentsBefore && i(b)) {
                    var d = a.expressionType({
                        node: b.arguments[0],
                        state: c
                    }).getObjType();
                    if (d && d instanceof a.Obj) {
                        var e = d.props[b.arguments[1].value];
                        e && m(b, b.commentsBefore, c, e)
                    }
                }
            }
        }, a.searchVisitor, c)
    }

    function k(b) {
        var c = b[\"!typedef\"],
            d = a.cx(),
            e = b[\"!name\"];
        if (c)
            for (var f in c) d.parent.mod.jsdocTypedefs[f] = t(a.def.parse(c[f], e, f), f)
    }

    function l(a) {
        for (var b, c = 1; c < a.length; c++) {
            var d = a[c],
                e = d.match(/^[\\s\\*]*/)[0];
            if (e != d)
                if (null == b) b = e;
                else {
                    for (var f = 0; f < b.length && b.charCodeAt(f) == e.charCodeAt(f);) ++f;
                    f < b.length && (b = b.slice(0, f))
                }
        }
        for (a = a.map(function(a, c) {
                if (a = a.replace(/\\s+\$/, \"\"), 0 == c && null != b)
                    for (var d = 0; d < b.length; d++) {
                        var e = a.indexOf(b.slice(d));
                        if (0 == e) return a.slice(b.length - d)
                    }
                return null == b || 0 == c ? a.replace(/^[\\s\\*]*/, \"\") : a.length < b.length ? \"\" : a.slice(b.length)
            }); a.length && !a[a.length - 1];) a.pop();
        for (; a.length && !a[0];) a.shift();
        return a
    }

    function m(b, c, d, e, f) {
        v(b, d, e, c);
        var g = a.cx();
        !f && e instanceof a.AVal && e.types.length && (f = e.types[e.types.length - 1], f instanceof a.Obj && f.origin == g.curOrigin && !f.doc || (f = null));
        for (var h = c.length - 1; h >= 0; h--) {
            var i = l(c[h].split(/\\r\\n?|\\n/)).join(\"\\n\");
            if (i) {
                e instanceof a.AVal && (e.doc = i), f && (f.doc = i);
                break
            }
        }
    }

    function n(a, b) {
        for (;
            /\\s/.test(a.charAt(b));) ++b;
        return b
    }

    function o(a) {
        if (!d.isIdentifierStart(a.charCodeAt(0))) return !1;
        for (var b = 1; b < a.length; b++)
            if (!d.isIdentifierChar(a.charCodeAt(b))) return !1;
        return !0
    }

    function p(a, b, c, d) {
        for (var e = [], f = [], g = !1, h = !0; c = n(b, c), !h || b.charAt(c) != d; h = !1) {
            var i = b.indexOf(\":\", c);
            if (0 > i) return null;
            var j = b.slice(c, i);
            if (!o(j)) return null;
            e.push(j), c = i + 1;
            var k = r(a, b, c);
            if (!k) return null;
            c = k.end, g = g || k.madeUp, f.push(k.type), c = n(b, c);
            var l = b.charAt(c);
            if (++c, l == d) break;
            if (\",\" != l) return null
        }
        return {
            labels: e,
            types: f,
            end: c,
            madeUp: g
        }
    }

    function q(b, c, d) {
        var e = s(b, c, d);
        return e ? \"[]\" == c.slice(e.end, e.end + 2) ? {
            madeUp: e.madeUp,
            end: e.end + 2,
            type: new a.Arr(e.type)
        } : e : null
    }

    function r(b, c, d) {
        for (var e, f = !1, g = !1;;) {
            var h = q(b, c, d);
            if (!h) return null;
            if (g = g || h.madeUp, f ? h.type.propagate(f) : e = h.type, d = n(c, h.end), \"|\" != c.charAt(d)) break;
            d++, f || (f = new a.AVal, e.propagate(f), e = f)
        }
        var i = !1;
        return \"=\" == c.charAt(d) && (++d, i = !0), {
            type: e,
            end: d,
            isOptional: i,
            madeUp: g
        }
    }

    function s(b, c, e) {
        e = n(c, e);
        var f, g = !1;
        if (c.indexOf(\"function(\", e) == e) {
            var h = p(b, c, e + 9, \")\"),
                i = a.ANull;
            if (!h) return null;
            if (e = n(c, h.end), \":\" == c.charAt(e)) {
                ++e;
                var j = r(b, c, e + 1);
                if (!j) return null;
                e = j.end, i = j.type, g = j.madeUp
            }
            f = new a.Fn(null, a.ANull, h.types, h.labels, i)
        } else if (\"[\" == c.charAt(e)) {
            var k = r(b, c, e + 1);
            if (!k) return null;
            if (e = n(c, k.end), g = k.madeUp, \"]\" != c.charAt(e)) return null;
            ++e, f = new a.Arr(k.type)
        } else if (\"{\" == c.charAt(e)) {
            var l = p(b, c, e + 1, \"}\");
            if (!l) return null;
            f = new a.Obj(!0);
            for (var m = 0; m < l.types.length; ++m) {
                var o = f.defProp(l.labels[m]);
                o.initializer = !0, l.types[m].propagate(o)
            }
            e = l.end, g = l.madeUp
        } else if (\"(\" == c.charAt(e)) {
            var k = r(b, c, e + 1);
            if (!k) return null;
            if (e = n(c, k.end), \")\" != c.charAt(e)) return null;
            ++e, f = k.type
        } else {
            var q = e;
            if (!d.isIdentifierStart(c.charCodeAt(e))) return null;
            for (; d.isIdentifierChar(c.charCodeAt(e));) ++e;
            if (q == e) return null;
            var s = c.slice(q, e);
            if (/^(number|integer)\$/i.test(s)) f = a.cx().num;
            else if (/^bool(ean)?\$/i.test(s)) f = a.cx().bool;
            else if (/^string\$/i.test(s)) f = a.cx().str;
            else if (/^(null|undefined)\$/i.test(s)) f = a.ANull;
            else if (/^array\$/i.test(s)) {
                var k = null;
                if (\".\" == c.charAt(e) && \"<\" == c.charAt(e + 1)) {
                    var u = r(b, c, e + 2);
                    if (!u) return null;
                    if (e = n(c, u.end), g = u.madeUp, \">\" != c.charAt(e++)) return null;
                    k = u.type
                }
                f = new a.Arr(k)
            } else if (/^object\$/i.test(s)) {
                if (f = new a.Obj(!0), \".\" == c.charAt(e) && \"<\" == c.charAt(e + 1)) {
                    var v = r(b, c, e + 2);
                    if (!v) return null;
                    if (e = n(c, v.end), g = g || v.madeUp, \",\" != c.charAt(e++)) return null;
                    var w = r(b, c, e);
                    if (!w) return null;
                    if (e = n(c, w.end), g = v.madeUp || w.madeUp, \">\" != c.charAt(e++)) return null;
                    w.type.propagate(f.defProp(\"<i>\"))
                }
            } else {
                for (; 46 == c.charCodeAt(e) || d.isIdentifierChar(c.charCodeAt(e));) ++e;
                var A, x = c.slice(q, e),
                    y = a.cx(),
                    z = y.parent && y.parent.mod.jsdocTypedefs;
                z && x in z ? f = z[x] : (A = a.def.parsePath(x, b).getObjType()) ? f = t(A, x) : (y.jsdocPlaceholders || (y.jsdocPlaceholders = Object.create(null)), f = x in y.jsdocPlaceholders ? y.jsdocPlaceholders[x] : y.jsdocPlaceholders[x] = new a.Obj(null, x), g = !0)
            }
        }
        return {
            type: f,
            end: e,
            madeUp: g
        }
    }

    function t(b, c) {
        if (b instanceof a.Fn && /(?:^|\\.)[A-Z][^\\.]*\$/.test(c)) {
            var d = b.getProp(\"prototype\").getObjType();
            if (d instanceof a.Obj) return a.getInstance(d)
        }
        return b
    }

    function u(a, b, c) {
        if (c = n(b, c || 0), \"{\" != b.charAt(c)) return null;
        var d = r(a, b, c + 1);
        if (!d) return null;
        var e = n(b, d.end);
        return \"}\" != b.charAt(e) ? null : (d.end = e + 1, d)
    }

    function v(a, b, c, d) {
        for (var e, f, g, h, i, j, k = 0; k < d.length; ++k)
            for (var n, l = d[k], m = /(?:\\n|\$|\\*)\\s*@(type|param|arg(?:ument)?|returns?|this)\\s+(.*)/g; n = m.exec(l);)
                if (\"this\" == n[1] && (j = r(b, n[2], 0))) i = j, h = !0;
                else if (j = u(b, n[2])) switch (h = !0, n[1]) {
            case \"returns\":
            case \"return\":
                g = j;
                break;
            case \"type\":
                e = j;
                break;
            case \"param\":
            case \"arg\":
            case \"argument\":
                var o = n[2].slice(j.end).match(/^\\s*(\\[?)\\s*([^\\]\\s=]+)\\s*(?:=[^\\]]+\\s*)?(\\]?).*/);
                if (!o) continue;
                var p = o[2] + (j.isOptional || \"[\" === o[1] && \"]\" === o[3] ? \"?\" : \"\");
                (f || (f = Object.create(null)))[p] = j
        }
        h && z(e, i, f, g, a, c)
    }

    function w(b, c) {
        for (var f, d = a.cx(), e = /\\s@typedef\\s+(.*)/g; f = e.exec(b);) {
            var g = u(c, f[1]),
                h = g && f[1].slice(g.end).match(/^\\s*(\\S+)/);
            if (h && g.type instanceof a.Obj) {
                for (var i = b.slice(f.index + f[0].length); f = /\\s+@prop(?:erty)?\\s+(.*)/.exec(i);) {
                    var k, j = u(c, f[1]);
                    j && (k = f[1].slice(j.end).match(/^\\s*(\\S+)/)) && j.type.propagate(g.type.defProp(k[1])), i = i.slice(f[0].length)
                }
                d.parent.mod.jsdocTypedefs[h[1]] = g.type
            }
        }
    }

    function x(b, c) {
        var d = a.cx().parent.mod.docComment.weight;
        b.type.propagate(c, d || (b.madeUp ? f : void 0))
    }

    function y(a) {
        return \"FunctionExpression\" == a.type || \"ArrowFunctionExpression\" == a.type
    }

    function z(b, c, d, e, f, g) {
        var h;
        if (\"VariableDeclaration\" == f.type) {
            var i = f.declarations[0];
            i.init && y(i.init) && (h = i.init.scope.fnType)
        } else \"FunctionDeclaration\" == f.type ? h = f.scope.fnType : \"AssignmentExpression\" == f.type ? y(f.right) && (h = f.right.scope.fnType) : \"CallExpression\" == f.type || y(f.value) && (h = f.value.scope.fnType);
        if (h && (d || e || c)) {
            if (d)
                for (var j = 0; j < h.argNames.length; ++j) {
                    var k = h.argNames[j],
                        l = d[k];
                    !l && (l = d[k + \"?\"]) && (h.argNames[j] += \"?\"), l && x(l, h.args[j])
                }
            e && (h.retval == a.ANull && (h.retval = new a.AVal), x(e, h.retval)), c && x(c, h.self)
        } else b && x(b, g)
    }
    var f = 1,
        g = 101;
    b.registerPlugin(\"doc_comment\", function(a, b) {
        a.mod.jsdocTypedefs = Object.create(null), a.on(\"reset\", function() {
            a.mod.jsdocTypedefs = Object.create(null)
        }), a.mod.docComment = {
            weight: b && b.strong ? g : void 0,
            fullDocs: b && b.fullDocs
        }, a.on(\"postParse\", h), a.on(\"postInfer\", j), a.on(\"postLoadDef\", k)
    })
});
  </script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/acorn.js\"></script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/acorn_loose.js\"></script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/walk.js\"></script>
  <script src=\"http://ternjs.net/doc/demo/polyfill.js\"></script>
  <script src=\"http://ternjs.net/lib/signal.js\"></script>
  <script src=\"http://ternjs.net/lib/tern.js\"></script>
  <script src=\"http://ternjs.net/lib/def.js\"></script>
  <script src=\"http://ternjs.net/lib/comment.js\"></script>
  <script src=\"http://ternjs.net/lib/infer.js\"></script>
  <script src=\"http://ternjs.net/plugin/doc_comment.js\"></script>
  <script type=\"text/javascript\">


if (typeof jseval === 'undefined') {
  jseval = eval;
}

global = window;

var foo = ml(function(){ /*
  this
  is
  a
  multiline
  string.
*/})

function innerSplit(s, by) {
  by = by || \"\\n\";
  return s.split(by).slice(1, -1).join(by);
}

function ml(x) {
  return innerSplit(x.toString());
}

function require(name) {
  if(!(name in modules)) {
    console.error(name + \" unknown requirement\");
  }
  if(global[name] === undefined) {
    modules[name][\"require\"]()
  }
  if(global[name] === undefined) {
    console.error(\"failed to require \" + name);
    return;
  }
  return global[name];
}

function jsrep(s) {
  //console.log(s);
  return jseval(s);
}

modules = {}
exports = {}

function pkg(name, f) {
  modules[name] = {}
  modules[name][\"require\"] = function() {
    f.bind(modules[name])();
    modules[name][\"exports\"] = exports;
    global[name] = exports;
    exports = {}
  }
  return modules[name]
}

pkg(\"path\", function(){ 
   exports.sep = \"/\";   
});
require(\"path\");

pkg(\"process\", function() {
   exports.argv = [];
   exports.stdout = {};
   exports.stdout.write = console.log.bind(console);
   exports.stdin = {};
   exports.env = {};
   exports.stdin.setEncoding = function (enc) { }
   exports.stdin.on = function (kind, cb) { }
});
require(\"process\");

pkg(\"fs\", function() {
  exports.readFileSync = function(path, encoding) { return \"\"; }
  exports.writeFileSync = function(path, data, encoding) { return \"\"; }
  exports.existsSync = function(path) { return false; }
});
require(\"fs\");

pkg(\"compiler\", function () {
var reader = require(\"reader\");
var getenv = function (k, p) {
  if (string63(k)) {
    var b = find(function (e) {
      return(e[k]);
    }, reverse(environment));
    if (is63(b)) {
      if (p) {
        return(b[p]);
      } else {
        return(b);
      }
    }
  }
};
var macro_function = function (k) {
  return(getenv(k, \"macro\"));
};
var macro63 = function (k) {
  return(is63(macro_function(k)));
};
var special63 = function (k) {
  return(is63(getenv(k, \"special\")));
};
var special_form63 = function (form) {
  return(! atom63(form) && special63(hd(form)));
};
var statement63 = function (k) {
  return(special63(k) && getenv(k, \"stmt\"));
};
var symbol_expansion = function (k) {
  return(getenv(k, \"symbol\"));
};
var symbol63 = function (k) {
  return(is63(symbol_expansion(k)));
};
var variable63 = function (k) {
  var b = first(function (frame) {
    return(frame[k]);
  }, reverse(environment));
  return(! atom63(b) && is63(b.variable));
};
bound63 = function (x) {
  return(macro63(x) || special63(x) || symbol63(x) || variable63(x));
};
quoted = function (form) {
  if (string63(form)) {
    return(escape(form));
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      return(join([\"list\"], map(quoted, form)));
    }
  }
};
var literal = function (s) {
  if (string_literal63(s)) {
    return(s);
  } else {
    return(quoted(s));
  }
};
var _names = {};
unique = function (x) {
  if (_names[x]) {
    var i = _names[x];
    _names[x] = _names[x] + 1;
    return(unique(x + i));
  } else {
    _names[x] = 1;
    return(\"_\" + x);
  }
};
var stash42 = function (args) {
  if (keys63(args)) {
    var l = [\"%object\", \"\\\"_stash\\\"\", true];
    var _o = args;
    var k = undefined;
    for (k in _o) {
      var v = _o[k];
      var _e9;
      if (numeric63(k)) {
        _e9 = parseInt(k);
      } else {
        _e9 = k;
      }
      var _k = _e9;
      if (! number63(_k)) {
        add(l, literal(_k));
        add(l, v);
      }
    }
    return(join(args, [l]));
  } else {
    return(args);
  }
};
var bias = function (k) {
  if (number63(k) && !( target === \"js\")) {
    if (target === \"js\") {
      k = k - 1;
    } else {
      k = k + 1;
    }
  }
  return(k);
};
bind = function (lh, rh) {
  if (atom63(lh)) {
    return([lh, rh]);
  } else {
    var id = unique(\"id\");
    var bs = [id, rh];
    var _o1 = lh;
    var k = undefined;
    for (k in _o1) {
      var v = _o1[k];
      var _e10;
      if (numeric63(k)) {
        _e10 = parseInt(k);
      } else {
        _e10 = k;
      }
      var _k1 = _e10;
      var _e11;
      if (_k1 === \"rest\") {
        _e11 = [\"cut\", id, _35(lh)];
      } else {
        _e11 = [\"get\", id, [\"quote\", bias(_k1)]];
      }
      var x = _e11;
      if (is63(_k1)) {
        var _e12;
        if (v === true) {
          _e12 = _k1;
        } else {
          _e12 = v;
        }
        var _k2 = _e12;
        bs = join(bs, bind(_k2, x));
      }
    }
    return(bs);
  }
};
setenv(\"arguments%\", {_stash: true, macro: function (from) {
  return([[\"get\", [\"get\", [\"get\", \"Array\", [\"quote\", \"prototype\"]], [\"quote\", \"slice\"]], [\"quote\", \"call\"]], \"arguments\", from]);
}});
bind42 = function (args, body) {
  var args1 = [];
  var rest = function () {
    if (target === \"js\") {
      return([\"unstash\", [\"arguments%\", _35(args1)]]);
    } else {
      add(args1, \"|...|\");
      return([\"unstash\", [\"list\", \"|...|\"]]);
    }
  };
  if (atom63(args)) {
    return([args1, join([\"let\", [args, rest()]], body)]);
  } else {
    var bs = [];
    var r = unique(\"r\");
    var _o2 = args;
    var k = undefined;
    for (k in _o2) {
      var v = _o2[k];
      var _e13;
      if (numeric63(k)) {
        _e13 = parseInt(k);
      } else {
        _e13 = k;
      }
      var _k3 = _e13;
      if (number63(_k3)) {
        if (atom63(v)) {
          add(args1, v);
        } else {
          var x = unique(\"x\");
          add(args1, x);
          bs = join(bs, [v, x]);
        }
      }
    }
    if (keys63(args)) {
      bs = join(bs, [r, rest()]);
      bs = join(bs, [keys(args), r]);
    }
    return([args1, join([\"let\", bs], body)]);
  }
};
var quoting63 = function (depth) {
  return(number63(depth));
};
var quasiquoting63 = function (depth) {
  return(quoting63(depth) && depth > 0);
};
var can_unquote63 = function (depth) {
  return(quoting63(depth) && depth === 1);
};
var quasisplice63 = function (x, depth) {
  return(can_unquote63(depth) && ! atom63(x) && hd(x) === \"unquote-splicing\");
};
var expand_local = function (_x34) {
  var _id = _x34;
  var x = _id[0];
  var name = _id[1];
  var value = _id[2];
  return([\"%local\", name, macroexpand(value)]);
};
var expand_function = function (_x36) {
  var _id1 = _x36;
  var x = _id1[0];
  var args = _id1[1];
  var body = cut(_id1, 2);
  add(environment, {});
  var _o3 = args;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var _x37 = _o3[_i3];
    var _e14;
    if (numeric63(_i3)) {
      _e14 = parseInt(_i3);
    } else {
      _e14 = _i3;
    }
    var __i3 = _e14;
    setenv(_x37, {_stash: true, variable: true});
  }
  var _x38 = join([\"%function\", args], macroexpand(body));
  drop(environment);
  return(_x38);
};
var expand_definition = function (_x40) {
  var _id2 = _x40;
  var x = _id2[0];
  var name = _id2[1];
  var args = _id2[2];
  var body = cut(_id2, 3);
  add(environment, {});
  var _o4 = args;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var _x41 = _o4[_i4];
    var _e15;
    if (numeric63(_i4)) {
      _e15 = parseInt(_i4);
    } else {
      _e15 = _i4;
    }
    var __i4 = _e15;
    setenv(_x41, {_stash: true, variable: true});
  }
  var _x42 = join([x, name, args], macroexpand(body));
  drop(environment);
  return(_x42);
};
var expand_macro = function (_x44) {
  var _id3 = _x44;
  var name = _id3[0];
  var body = cut(_id3, 1);
  return(macroexpand(apply(macro_function(name), body)));
};
macroexpand = function (form) {
  if (symbol63(form)) {
    return(macroexpand(symbol_expansion(form)));
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      var x = hd(form);
      if (x === \"%local\") {
        return(expand_local(form));
      } else {
        if (x === \"%function\") {
          return(expand_function(form));
        } else {
          if (x === \"%global-function\") {
            return(expand_definition(form));
          } else {
            if (x === \"%local-function\") {
              return(expand_definition(form));
            } else {
              if (macro63(x)) {
                return(expand_macro(form));
              } else {
                return(map(macroexpand, form));
              }
            }
          }
        }
      }
    }
  }
};
var quasiquote_list = function (form, depth) {
  var xs = [[\"list\"]];
  var _o5 = form;
  var k = undefined;
  for (k in _o5) {
    var v = _o5[k];
    var _e16;
    if (numeric63(k)) {
      _e16 = parseInt(k);
    } else {
      _e16 = k;
    }
    var _k4 = _e16;
    if (! number63(_k4)) {
      var _e17;
      if (quasisplice63(v, depth)) {
        _e17 = quasiexpand(v[1]);
      } else {
        _e17 = quasiexpand(v, depth);
      }
      var _v = _e17;
      last(xs)[_k4] = _v;
    }
  }
  var _x47 = form;
  var _n6 = _35(_x47);
  var _i6 = 0;
  while (_i6 < _n6) {
    var x = _x47[_i6];
    if (quasisplice63(x, depth)) {
      var _x48 = quasiexpand(x[1]);
      add(xs, _x48);
      add(xs, [\"list\"]);
    } else {
      add(last(xs), quasiexpand(x, depth));
    }
    _i6 = _i6 + 1;
  }
  var pruned = keep(function (x) {
    return(_35(x) > 1 || !( hd(x) === \"list\") || keys63(x));
  }, xs);
  if (one63(pruned)) {
    return(hd(pruned));
  } else {
    return(join([\"join\"], pruned));
  }
};
quasiexpand = function (form, depth) {
  if (quasiquoting63(depth)) {
    if (atom63(form)) {
      return([\"quote\", form]);
    } else {
      if (can_unquote63(depth) && hd(form) === \"unquote\") {
        return(quasiexpand(form[1]));
      } else {
        if (hd(form) === \"unquote\" || hd(form) === \"unquote-splicing\") {
          return(quasiquote_list(form, depth - 1));
        } else {
          if (hd(form) === \"quasiquote\") {
            return(quasiquote_list(form, depth + 1));
          } else {
            return(quasiquote_list(form, depth));
          }
        }
      }
    }
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      if (hd(form) === \"quote\") {
        return(form);
      } else {
        if (hd(form) === \"quasiquote\") {
          return(quasiexpand(form[1], 1));
        } else {
          return(map(function (x) {
            return(quasiexpand(x, depth));
          }, form));
        }
      }
    }
  }
};
expand_if = function (_x52) {
  var _id4 = _x52;
  var a = _id4[0];
  var b = _id4[1];
  var c = cut(_id4, 2);
  if (is63(b)) {
    return([join([\"%if\", a, b], expand_if(c))]);
  } else {
    if (is63(a)) {
      return([a]);
    }
  }
};
indent_level = 0;
indentation = function () {
  var s = \"\";
  var i = 0;
  while (i < indent_level) {
    s = s + \"  \";
    i = i + 1;
  }
  return(s);
};
var reserved = {\"else\": true, \"<\": true, \"true\": true, \"/\": true, \"end\": true, \"typeof\": true, \"function\": true, \"switch\": true, \"=\": true, \"or\": true, \"try\": true, \"catch\": true, \"until\": true, \"local\": true, \"repeat\": true, \"-\": true, \"false\": true, \"continue\": true, \"==\": true, \"and\": true, \"if\": true, \"for\": true, \">=\": true, \"<=\": true, \"with\": true, \"return\": true, \"finally\": true, \"nil\": true, \"new\": true, \"do\": true, \"case\": true, \"break\": true, \"elseif\": true, \"+\": true, \"not\": true, \"void\": true, \"var\": true, \"%\": true, \"in\": true, \"delete\": true, \"throw\": true, \"debugger\": true, \"instanceof\": true, \"this\": true, \"while\": true, \"then\": true, \"default\": true, \"*\": true, \">\": true};
reserved63 = function (x) {
  return(reserved[x]);
};
var valid_code63 = function (n) {
  return(number_code63(n) || n > 64 && n < 91 || n > 96 && n < 123 || n === 46 || n === 95);
};
valid_id63 = function (id) {
  if (none63(id) || reserved63(id)) {
    return(false);
  } else {
    var i = 0;
    while (i < _35(id)) {
      if (! valid_code63(code(id, i))) {
        return(false);
      }
      i = i + 1;
    }
    return(true);
  }
};
key = function (k) {
  var i = inner(k);
  if (valid_id63(i)) {
    return(i);
  } else {
    if (target === \"js\") {
      return(k);
    } else {
      return(\"[\" + k + \"]\");
    }
  }
};
mapo = function (f, t) {
  var o = [];
  var _o6 = t;
  var k = undefined;
  for (k in _o6) {
    var v = _o6[k];
    var _e18;
    if (numeric63(k)) {
      _e18 = parseInt(k);
    } else {
      _e18 = k;
    }
    var _k5 = _e18;
    var x = f(v);
    if (is63(x)) {
      add(o, literal(_k5));
      add(o, x);
    }
  }
  return(o);
};
var __x57 = [];
var _x58 = [];
_x58.lua = \"not\";
_x58.js = \"!\";
__x57[\"not\"] = _x58;
var __x59 = [];
__x59[\"/\"] = true;
__x59[\"*\"] = true;
__x59[\"%\"] = true;
var __x60 = [];
__x60[\"+\"] = true;
__x60[\"-\"] = true;
var __x61 = [];
var _x62 = [];
_x62.lua = \"..\";
_x62.js = \"+\";
__x61.cat = _x62;
var __x63 = [];
__x63[\"<=\"] = true;
__x63[\">=\"] = true;
__x63[\"<\"] = true;
__x63[\">\"] = true;
var __x64 = [];
var _x65 = [];
_x65.lua = \"==\";
_x65.js = \"===\";
__x64[\"=\"] = _x65;
var __x66 = [];
var _x67 = [];
_x67.lua = \"and\";
_x67.js = \"&&\";
__x66[\"and\"] = _x67;
var __x68 = [];
var _x69 = [];
_x69.lua = \"or\";
_x69.js = \"||\";
__x68[\"or\"] = _x69;
var infix = [__x57, __x59, __x60, __x61, __x63, __x64, __x66, __x68];
var unary63 = function (form) {
  return(two63(form) && in63(hd(form), [\"not\", \"-\"]));
};
var index = function (k) {
  return(k);
};
var precedence = function (form) {
  if (!( atom63(form) || unary63(form))) {
    var _o7 = infix;
    var k = undefined;
    for (k in _o7) {
      var v = _o7[k];
      var _e19;
      if (numeric63(k)) {
        _e19 = parseInt(k);
      } else {
        _e19 = k;
      }
      var _k6 = _e19;
      if (v[hd(form)]) {
        return(index(_k6));
      }
    }
  }
  return(0);
};
var getop = function (op) {
  return(find(function (level) {
    var x = level[op];
    if (x === true) {
      return(op);
    } else {
      if (is63(x)) {
        return(x[target]);
      }
    }
  }, infix));
};
var infix63 = function (x) {
  return(is63(getop(x)));
};
var compile_args = function (args) {
  var s = \"(\";
  var c = \"\";
  var _x71 = args;
  var _n9 = _35(_x71);
  var _i9 = 0;
  while (_i9 < _n9) {
    var x = _x71[_i9];
    s = s + c + compile(x);
    c = \", \";
    _i9 = _i9 + 1;
  }
  return(s + \")\");
};
var escape_newlines = function (s) {
  var s1 = \"\";
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    var _e20;
    if (c === \"\\n\") {
      _e20 = \"\\\\n\";
    } else {
      _e20 = c;
    }
    s1 = s1 + _e20;
    i = i + 1;
  }
  return(s1);
};
var id = function (id) {
  var id1 = \"\";
  var i = 0;
  while (i < _35(id)) {
    var c = char(id, i);
    var n = code(c);
    var _e21;
    if (c === \"-\") {
      _e21 = \"_\";
    } else {
      var _e22;
      if (valid_code63(n)) {
        _e22 = c;
      } else {
        var _e23;
        if (i === 0) {
          _e23 = \"_\" + n;
        } else {
          _e23 = n;
        }
        _e22 = _e23;
      }
      _e21 = _e22;
    }
    var c1 = _e21;
    id1 = id1 + c1;
    i = i + 1;
  }
  return(id1);
};
var compile_atom = function (x) {
  if (x === \"nil\" && target === \"lua\") {
    return(x);
  } else {
    if (x === \"nil\") {
      return(\"undefined\");
    } else {
      if (id_literal63(x)) {
        return(inner(x));
      } else {
        if (string_literal63(x)) {
          return(escape_newlines(x));
        } else {
          if (string63(x)) {
            return(id(x));
          } else {
            if (boolean63(x)) {
              if (x) {
                return(\"true\");
              } else {
                return(\"false\");
              }
            } else {
              if (nan63(x)) {
                return(\"nan\");
              } else {
                if (x === inf) {
                  return(\"inf\");
                } else {
                  if (x === -inf) {
                    return(\"-inf\");
                  } else {
                    if (number63(x)) {
                      return(x + \"\");
                    } else {
                      throw new Error(\"Cannot compile atom: \" + string(x));
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
var terminator = function (stmt63) {
  if (! stmt63) {
    return(\"\");
  } else {
    if (target === \"js\") {
      return(\";\\n\");
    } else {
      return(\"\\n\");
    }
  }
};
var compile_special = function (form, stmt63) {
  var _id5 = form;
  var x = _id5[0];
  var args = cut(_id5, 1);
  var _id6 = getenv(x);
  var self_tr63 = _id6.tr;
  var stmt = _id6.stmt;
  var special = _id6.special;
  var tr = terminator(stmt63 && ! self_tr63);
  return(apply(special, args) + tr);
};
var parenthesize_call63 = function (x) {
  return(! atom63(x) && hd(x) === \"%function\" || precedence(x) > 0);
};
var compile_call = function (form) {
  var f = hd(form);
  var f1 = compile(f);
  var args = compile_args(stash42(tl(form)));
  if (parenthesize_call63(f)) {
    return(\"(\" + f1 + \")\" + args);
  } else {
    return(f1 + args);
  }
};
var op_delims = function (parent, child) {
  var _r56 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id7 = _r56;
  var right = _id7.right;
  var _e24;
  if (right) {
    _e24 = _6261;
  } else {
    _e24 = _62;
  }
  if (_e24(precedence(child), precedence(parent))) {
    return([\"(\", \")\"]);
  } else {
    return([\"\", \"\"]);
  }
};
var compile_infix = function (form) {
  var _id8 = form;
  var op = _id8[0];
  var _id9 = cut(_id8, 1);
  var a = _id9[0];
  var b = _id9[1];
  var _id10 = op_delims(form, a);
  var ao = _id10[0];
  var ac = _id10[1];
  var _id11 = op_delims(form, b, {_stash: true, right: true});
  var bo = _id11[0];
  var bc = _id11[1];
  var _a = compile(a);
  var _b = compile(b);
  var _op = getop(op);
  if (unary63(form)) {
    return(_op + ao + \" \" + _a + ac);
  } else {
    return(ao + _a + ac + \" \" + _op + \" \" + bo + _b + bc);
  }
};
compile_function = function (args, body) {
  var _r58 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id12 = _r58;
  var name = _id12.name;
  var prefix = _id12.prefix;
  var _e25;
  if (name) {
    _e25 = compile(name);
  } else {
    _e25 = \"\";
  }
  var _id13 = _e25;
  var _args = compile_args(args);
  indent_level = indent_level + 1;
  var _x74 = compile(body, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var _body = _x74;
  var ind = indentation();
  var _e26;
  if (prefix) {
    _e26 = prefix + \" \";
  } else {
    _e26 = \"\";
  }
  var p = _e26;
  var _e27;
  if (target === \"js\") {
    _e27 = \"\";
  } else {
    _e27 = \"end\";
  }
  var tr = _e27;
  if (name) {
    tr = tr + \"\\n\";
  }
  if (target === \"js\") {
    return(\"function \" + _id13 + _args + \" {\\n\" + _body + ind + \"}\" + tr);
  } else {
    return(p + \"function \" + _id13 + _args + \"\\n\" + _body + ind + tr);
  }
};
var can_return63 = function (form) {
  return(is63(form) && (atom63(form) || !( hd(form) === \"return\") && ! statement63(hd(form))));
};
compile = function (form) {
  var _r60 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id14 = _r60;
  var stmt = _id14.stmt;
  if (nil63(form)) {
    return(\"\");
  } else {
    if (special_form63(form)) {
      return(compile_special(form, stmt));
    } else {
      var tr = terminator(stmt);
      var _e28;
      if (stmt) {
        _e28 = indentation();
      } else {
        _e28 = \"\";
      }
      var ind = _e28;
      var _e29;
      if (atom63(form)) {
        _e29 = compile_atom(form);
      } else {
        var _e30;
        if (infix63(hd(form))) {
          _e30 = compile_infix(form);
        } else {
          _e30 = compile_call(form);
        }
        _e29 = _e30;
      }
      var _form = _e29;
      return(ind + _form + tr);
    }
  }
};
var lower_statement = function (form, tail63) {
  var hoist = [];
  var e = lower(form, hoist, true, tail63);
  if (some63(hoist) && is63(e)) {
    return(join([\"do\"], hoist, [e]));
  } else {
    if (is63(e)) {
      return(e);
    } else {
      if (_35(hoist) > 1) {
        return(join([\"do\"], hoist));
      } else {
        return(hd(hoist));
      }
    }
  }
};
var lower_body = function (body, tail63) {
  return(lower_statement(join([\"do\"], body), tail63));
};
var literal63 = function (form) {
  return(atom63(form) || hd(form) === \"%array\" || hd(form) === \"%object\");
};
var standalone63 = function (form) {
  return(! atom63(form) && ! infix63(hd(form)) && ! literal63(form) && !( \"get\" === hd(form)));
};
var lower_do = function (args, hoist, stmt63, tail63) {
  var _x79 = almost(args);
  var _n10 = _35(_x79);
  var _i10 = 0;
  while (_i10 < _n10) {
    var x = _x79[_i10];
    var _y = lower(x, hoist, stmt63);
    if (_y) {
      var e = _y;
      if (standalone63(e)) {
        add(hoist, e);
      }
    }
    _i10 = _i10 + 1;
  }
  var e = lower(last(args), hoist, stmt63, tail63);
  if (tail63 && can_return63(e)) {
    return([\"return\", e]);
  } else {
    return(e);
  }
};
var lower_set = function (args, hoist, stmt63, tail63) {
  var _id15 = args;
  var lh = _id15[0];
  var rh = _id15[1];
  add(hoist, [\"set\", lh, lower(rh, hoist)]);
  if (!( stmt63 && ! tail63)) {
    return(lh);
  }
};
var lower_if = function (args, hoist, stmt63, tail63) {
  var _id16 = args;
  var cond = _id16[0];
  var _then = _id16[1];
  var _else = _id16[2];
  if (stmt63 || tail63) {
    var _e32;
    if (_else) {
      _e32 = [lower_body([_else], tail63)];
    }
    return(add(hoist, join([\"%if\", lower(cond, hoist), lower_body([_then], tail63)], _e32)));
  } else {
    var e = unique(\"e\");
    add(hoist, [\"%local\", e]);
    var _e31;
    if (_else) {
      _e31 = [lower([\"set\", e, _else])];
    }
    add(hoist, join([\"%if\", lower(cond, hoist), lower([\"set\", e, _then])], _e31));
    return(e);
  }
};
var lower_short = function (x, args, hoist) {
  var _id17 = args;
  var a = _id17[0];
  var b = _id17[1];
  var hoist1 = [];
  var b1 = lower(b, hoist1);
  if (some63(hoist1)) {
    var _id18 = unique(\"id\");
    var _e33;
    if (x === \"and\") {
      _e33 = [\"%if\", _id18, b, _id18];
    } else {
      _e33 = [\"%if\", _id18, _id18, b];
    }
    return(lower([\"do\", [\"%local\", _id18, a], _e33], hoist));
  } else {
    return([x, lower(a, hoist), b1]);
  }
};
var lower_try = function (args, hoist, tail63) {
  return(add(hoist, [\"%try\", lower_body(args, tail63)]));
};
var lower_while = function (args, hoist) {
  var _id19 = args;
  var c = _id19[0];
  var body = cut(_id19, 1);
  return(add(hoist, [\"while\", lower(c, hoist), lower_body(body)]));
};
var lower_for = function (args, hoist) {
  var _id20 = args;
  var t = _id20[0];
  var k = _id20[1];
  var body = cut(_id20, 2);
  return(add(hoist, [\"%for\", lower(t, hoist), k, lower_body(body)]));
};
var lower_function = function (args) {
  var _id21 = args;
  var a = _id21[0];
  var body = cut(_id21, 1);
  return([\"%function\", a, lower_body(body, true)]);
};
var lower_definition = function (kind, args, hoist) {
  var _id22 = args;
  var name = _id22[0];
  var _args1 = _id22[1];
  var body = cut(_id22, 2);
  return(add(hoist, [kind, name, _args1, lower_body(body, true)]));
};
var lower_call = function (form, hoist) {
  var _form1 = map(function (x) {
    return(lower(x, hoist));
  }, form);
  if (some63(_form1)) {
    return(_form1);
  }
};
var lower_infix63 = function (form) {
  return(infix63(hd(form)) && _35(form) > 3);
};
var lower_infix = function (form, hoist) {
  var _id23 = form;
  var x = _id23[0];
  var args = cut(_id23, 1);
  return(lower(reduce(function (a, b) {
    return([x, b, a]);
  }, reverse(args)), hoist));
};
var lower_special = function (form, hoist) {
  var e = lower_call(form, hoist);
  if (e) {
    return(add(hoist, e));
  }
};
lower = function (form, hoist, stmt63, tail63) {
  if (atom63(form)) {
    return(form);
  } else {
    if (empty63(form)) {
      return([\"%array\"]);
    } else {
      if (nil63(hoist)) {
        return(lower_statement(form));
      } else {
        if (lower_infix63(form)) {
          return(lower_infix(form, hoist));
        } else {
          var _id24 = form;
          var x = _id24[0];
          var args = cut(_id24, 1);
          if (x === \"do\") {
            return(lower_do(args, hoist, stmt63, tail63));
          } else {
            if (x === \"set\") {
              return(lower_set(args, hoist, stmt63, tail63));
            } else {
              if (x === \"%if\") {
                return(lower_if(args, hoist, stmt63, tail63));
              } else {
                if (x === \"%try\") {
                  return(lower_try(args, hoist, tail63));
                } else {
                  if (x === \"while\") {
                    return(lower_while(args, hoist));
                  } else {
                    if (x === \"%for\") {
                      return(lower_for(args, hoist));
                    } else {
                      if (x === \"%function\") {
                        return(lower_function(args));
                      } else {
                        if (x === \"%local-function\" || x === \"%global-function\") {
                          return(lower_definition(x, args, hoist));
                        } else {
                          if (in63(x, [\"and\", \"or\"])) {
                            return(lower_short(x, args, hoist));
                          } else {
                            if (statement63(x)) {
                              return(lower_special(form, hoist));
                            } else {
                              return(lower_call(form, hoist));
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
var expand = function (form) {
  return(lower(macroexpand(form)));
};
global.require = require;
var run = eval;
_37result = undefined;
eval = function (form) {
  var previous = target;
  target = \"js\";
  var code = compile(expand([\"set\", \"%result\", form]));
  target = previous;
  run(code);
  return(_37result);
};
setenv(\"do\", {_stash: true, tr: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var s = \"\";
  var _x107 = forms;
  var _n12 = _35(_x107);
  var _i12 = 0;
  while (_i12 < _n12) {
    var x = _x107[_i12];
    s = s + compile(x, {_stash: true, stmt: true});
    _i12 = _i12 + 1;
  }
  return(s);
}, stmt: true});
setenv(\"%if\", {_stash: true, tr: true, special: function (cond, cons, alt) {
  var _cond1 = compile(cond);
  indent_level = indent_level + 1;
  var _x110 = compile(cons, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var _cons1 = _x110;
  var _e34;
  if (alt) {
    indent_level = indent_level + 1;
    var _x111 = compile(alt, {_stash: true, stmt: true});
    indent_level = indent_level - 1;
    _e34 = _x111;
  }
  var _alt1 = _e34;
  var ind = indentation();
  var s = \"\";
  if (target === \"js\") {
    s = s + ind + \"if (\" + _cond1 + \") {\\n\" + _cons1 + ind + \"}\";
  } else {
    s = s + ind + \"if \" + _cond1 + \" then\\n\" + _cons1;
  }
  if (_alt1 && target === \"js\") {
    s = s + \" else {\\n\" + _alt1 + ind + \"}\";
  } else {
    if (_alt1) {
      s = s + ind + \"else\\n\" + _alt1;
    }
  }
  if (target === \"lua\") {
    return(s + ind + \"end\\n\");
  } else {
    return(s + \"\\n\");
  }
}, stmt: true});
setenv(\"while\", {_stash: true, tr: true, special: function (cond, form) {
  var _cond3 = compile(cond);
  indent_level = indent_level + 1;
  var _x113 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x113;
  var ind = indentation();
  if (target === \"js\") {
    return(ind + \"while (\" + _cond3 + \") {\\n\" + body + ind + \"}\\n\");
  } else {
    return(ind + \"while \" + _cond3 + \" do\\n\" + body + ind + \"end\\n\");
  }
}, stmt: true});
setenv(\"%for\", {_stash: true, tr: true, special: function (t, k, form) {
  var _t1 = compile(t);
  var ind = indentation();
  indent_level = indent_level + 1;
  var _x115 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x115;
  if (target === \"lua\") {
    return(ind + \"for \" + k + \" in next, \" + _t1 + \" do\\n\" + body + ind + \"end\\n\");
  } else {
    return(ind + \"for (\" + k + \" in \" + _t1 + \") {\\n\" + body + ind + \"}\\n\");
  }
}, stmt: true});
setenv(\"%try\", {_stash: true, tr: true, special: function (form) {
  var e = unique(\"e\");
  var ind = indentation();
  indent_level = indent_level + 1;
  var _x121 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x121;
  var hf = [\"return\", [\"%array\", false, [\"get\", e, \"\\\"message\\\"\"]]];
  indent_level = indent_level + 1;
  var _x125 = compile(hf, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var h = _x125;
  return(ind + \"try {\\n\" + body + ind + \"}\\n\" + ind + \"catch (\" + e + \") {\\n\" + h + ind + \"}\\n\");
}, stmt: true});
setenv(\"%delete\", {_stash: true, special: function (place) {
  return(indentation() + \"delete \" + compile(place));
}, stmt: true});
setenv(\"break\", {_stash: true, special: function () {
  return(indentation() + \"break\");
}, stmt: true});
setenv(\"%function\", {_stash: true, special: function (args, body) {
  return(compile_function(args, body));
}});
setenv(\"%global-function\", {_stash: true, tr: true, special: function (name, args, body) {
  if (target === \"lua\") {
    var x = compile_function(args, body, {_stash: true, name: name});
    return(indentation() + x);
  } else {
    return(compile([\"set\", name, [\"%function\", args, body]], {_stash: true, stmt: true}));
  }
}, stmt: true});
setenv(\"%local-function\", {_stash: true, tr: true, special: function (name, args, body) {
  if (target === \"lua\") {
    var x = compile_function(args, body, {_stash: true, name: name, prefix: \"local\"});
    return(indentation() + x);
  } else {
    return(compile([\"%local\", name, [\"%function\", args, body]], {_stash: true, stmt: true}));
  }
}, stmt: true});
setenv(\"return\", {_stash: true, special: function (x) {
  var _e35;
  if (nil63(x)) {
    _e35 = \"return\";
  } else {
    _e35 = \"return(\" + compile(x) + \")\";
  }
  var _x135 = _e35;
  return(indentation() + _x135);
}, stmt: true});
setenv(\"new\", {_stash: true, special: function (x) {
  return(\"new \" + compile(x));
}});
setenv(\"error\", {_stash: true, special: function (x) {
  var _e36;
  if (target === \"js\") {
    _e36 = \"throw \" + compile([\"new\", [\"Error\", x]]);
  } else {
    _e36 = \"error(\" + compile(x) + \")\";
  }
  var e = _e36;
  return(indentation() + e);
}, stmt: true});
setenv(\"%local\", {_stash: true, special: function (name, value) {
  var _id26 = compile(name);
  var value1 = compile(value);
  var _e37;
  if (is63(value)) {
    _e37 = \" = \" + value1;
  } else {
    _e37 = \"\";
  }
  var rh = _e37;
  var _e38;
  if (target === \"js\") {
    _e38 = \"var \";
  } else {
    _e38 = \"local \";
  }
  var keyword = _e38;
  var ind = indentation();
  return(ind + keyword + _id26 + rh);
}, stmt: true});
setenv(\"set\", {_stash: true, special: function (lh, rh) {
  var _lh1 = compile(lh);
  var _e39;
  if (nil63(rh)) {
    _e39 = \"nil\";
  } else {
    _e39 = rh;
  }
  var _rh1 = compile(_e39);
  return(indentation() + _lh1 + \" = \" + _rh1);
}, stmt: true});
setenv(\"get\", {_stash: true, special: function (t, k) {
  var _t3 = compile(t);
  var k1 = compile(k);
  if (target === \"lua\" && char(_t3, 0) === \"{\") {
    _t3 = \"(\" + _t3 + \")\";
  }
  if (string_literal63(k) && valid_id63(inner(k))) {
    return(_t3 + \".\" + inner(k));
  } else {
    return(_t3 + \"[\" + k1 + \"]\");
  }
}});
setenv(\"%array\", {_stash: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var _e40;
  if (target === \"lua\") {
    _e40 = \"{\";
  } else {
    _e40 = \"[\";
  }
  var open = _e40;
  var _e41;
  if (target === \"lua\") {
    _e41 = \"}\";
  } else {
    _e41 = \"]\";
  }
  var close = _e41;
  var s = \"\";
  var c = \"\";
  var _o9 = forms;
  var k = undefined;
  for (k in _o9) {
    var v = _o9[k];
    var _e42;
    if (numeric63(k)) {
      _e42 = parseInt(k);
    } else {
      _e42 = k;
    }
    var _k7 = _e42;
    if (number63(_k7)) {
      s = s + c + compile(v);
      c = \", \";
    }
  }
  return(open + s + close);
}});
setenv(\"%object\", {_stash: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var s = \"{\";
  var c = \"\";
  var _e43;
  if (target === \"lua\") {
    _e43 = \" = \";
  } else {
    _e43 = \": \";
  }
  var sep = _e43;
  var _o11 = pair(forms);
  var k = undefined;
  for (k in _o11) {
    var v = _o11[k];
    var _e44;
    if (numeric63(k)) {
      _e44 = parseInt(k);
    } else {
      _e44 = k;
    }
    var _k9 = _e44;
    if (number63(_k9)) {
      var _id28 = v;
      var _k10 = _id28[0];
      var _v2 = _id28[1];
      if (! string63(_k10)) {
        throw new Error(\"Illegal key: \" + string(_k10));
      }
      s = s + c + key(_k10) + sep + compile(_v2);
      c = \", \";
    }
  }
  return(s + \"}\");
}});
exports.run = run;
exports.eval = eval;
exports.expand = expand;
exports.compile = compile;
});

pkg(\"macros\", function () {
setenv(\"quote\", {_stash: true, macro: function (form) {
  return(quoted(form));
}});
setenv(\"quasiquote\", {_stash: true, macro: function (form) {
  return(quasiexpand(form, 1));
}});
setenv(\"at\", {_stash: true, macro: function (l, i) {
  if (target === \"lua\" && number63(i)) {
    i = i + 1;
  } else {
    if (target === \"lua\") {
      i = [\"+\", i, 1];
    }
  }
  return([\"get\", l, i]);
}});
setenv(\"wipe\", {_stash: true, macro: function (place) {
  if (target === \"lua\") {
    return([\"set\", place, \"nil\"]);
  } else {
    return([\"%delete\", place]);
  }
}});
setenv(\"list\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  var x = unique(\"x\");
  var l = [];
  var forms = [];
  var _o1 = body;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e6;
    if (numeric63(k)) {
      _e6 = parseInt(k);
    } else {
      _e6 = k;
    }
    var _k1 = _e6;
    if (number63(_k1)) {
      l[_k1] = v;
    } else {
      add(forms, [\"set\", [\"get\", x, [\"quote\", _k1]], v]);
    }
  }
  if (some63(forms)) {
    return(join([\"let\", x, join([\"%array\"], l)], forms, [x]));
  } else {
    return(join([\"%array\"], l));
  }
}});
setenv(\"if\", {_stash: true, macro: function () {
  var branches = unstash(Array.prototype.slice.call(arguments, 0));
  return(hd(expand_if(branches)));
}});
setenv(\"case\", {_stash: true, macro: function (x) {
  var _r10 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id2 = _r10;
  var clauses = cut(_id2, 0);
  var bs = map(function (_x28) {
    var _id3 = _x28;
    var a = _id3[0];
    var b = _id3[1];
    if (nil63(b)) {
      return([a]);
    } else {
      return([[\"=\", [\"quote\", a], x], b]);
    }
  }, pair(clauses));
  return(join([\"if\"], apply(join, bs)));
}});
setenv(\"when\", {_stash: true, macro: function (cond) {
  var _r13 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id5 = _r13;
  var body = cut(_id5, 0);
  return([\"if\", cond, join([\"do\"], body)]);
}});
setenv(\"unless\", {_stash: true, macro: function (cond) {
  var _r15 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id7 = _r15;
  var body = cut(_id7, 0);
  return([\"if\", [\"not\", cond], join([\"do\"], body)]);
}});
setenv(\"obj\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"%object\"], mapo(function (x) {
    return(x);
  }, body)));
}});
setenv(\"let\", {_stash: true, macro: function (bs) {
  var _r19 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id11 = _r19;
  var body = cut(_id11, 0);
  if (atom63(bs)) {
    return(join([\"let\", [bs, hd(body)]], tl(body)));
  } else {
    if (none63(bs)) {
      return(join([\"do\"], body));
    } else {
      var _id12 = bs;
      var lh = _id12[0];
      var rh = _id12[1];
      var bs2 = cut(_id12, 2);
      var _id13 = bind(lh, rh);
      var id = _id13[0];
      var val = _id13[1];
      var bs1 = cut(_id13, 2);
      var renames = [];
      if (bound63(id) || reserved63(id) || toplevel63()) {
        var id1 = unique(id);
        renames = [id, id1];
        id = id1;
      } else {
        setenv(id, {_stash: true, variable: true});
      }
      return([\"do\", [\"%local\", id, val], [\"let-symbol\", renames, join([\"let\", join(bs1, bs2)], body)]]);
    }
  }
}});
setenv(\"with\", {_stash: true, macro: function (x, v) {
  var _r21 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id15 = _r21;
  var body = cut(_id15, 0);
  return(join([\"let\", [x, v]], body, [x]));
}});
setenv(\"let-when\", {_stash: true, macro: function (x, v) {
  var _r23 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id17 = _r23;
  var body = cut(_id17, 0);
  var y = unique(\"y\");
  return([\"let\", y, v, [\"when\", y, join([\"let\", [x, y]], body)]]);
}});
setenv(\"define-macro\", {_stash: true, macro: function (name, args) {
  var _r25 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id19 = _r25;
  var body = cut(_id19, 0);
  var _x79 = [\"setenv\", [\"quote\", name]];
  _x79.macro = join([\"fn\", args], body);
  var form = _x79;
  eval(form);
  return(form);
}});
setenv(\"define-special\", {_stash: true, macro: function (name, args) {
  var _r27 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id21 = _r27;
  var body = cut(_id21, 0);
  var _x85 = [\"setenv\", [\"quote\", name]];
  _x85.special = join([\"fn\", args], body);
  var form = join(_x85, keys(body));
  eval(form);
  return(form);
}});
setenv(\"define-symbol\", {_stash: true, macro: function (name, expansion) {
  setenv(name, {_stash: true, symbol: expansion});
  var _x91 = [\"setenv\", [\"quote\", name]];
  _x91.symbol = [\"quote\", expansion];
  return(_x91);
}});
setenv(\"define-reader\", {_stash: true, macro: function (_x99) {
  var _id24 = _x99;
  var char = _id24[0];
  var s = _id24[1];
  var _r31 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id25 = _r31;
  var body = cut(_id25, 0);
  return([\"set\", [\"get\", \"read-table\", char], join([\"fn\", [s]], body)]);
}});
setenv(\"define\", {_stash: true, macro: function (name, x) {
  var _r33 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id27 = _r33;
  var body = cut(_id27, 0);
  setenv(name, {_stash: true, variable: true});
  if (some63(body)) {
    return(join([\"%local-function\", name], bind42(x, body)));
  } else {
    return([\"%local\", name, x]);
  }
}});
setenv(\"define-global\", {_stash: true, macro: function (name, x) {
  var _r35 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id29 = _r35;
  var body = cut(_id29, 0);
  setenv(name, {_stash: true, toplevel: true, variable: true});
  if (some63(body)) {
    return(join([\"%global-function\", name], bind42(x, body)));
  } else {
    return([\"set\", name, x]);
  }
}});
setenv(\"with-frame\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  var x = unique(\"x\");
  return([\"do\", [\"add\", \"environment\", [\"obj\"]], [\"with\", x, join([\"do\"], body), [\"drop\", \"environment\"]]]);
}});
setenv(\"with-bindings\", {_stash: true, macro: function (_x128) {
  var _id32 = _x128;
  var names = _id32[0];
  var _r37 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id33 = _r37;
  var body = cut(_id33, 0);
  var x = unique(\"x\");
  var _x131 = [\"setenv\", x];
  _x131.variable = true;
  return(join([\"with-frame\", [\"each\", x, names, _x131]], body));
}});
setenv(\"let-macro\", {_stash: true, macro: function (definitions) {
  var _r40 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id35 = _r40;
  var body = cut(_id35, 0);
  add(environment, {});
  map(function (m) {
    return(macroexpand(join([\"define-macro\"], m)));
  }, definitions);
  var _x135 = join([\"do\"], macroexpand(body));
  drop(environment);
  return(_x135);
}});
setenv(\"let-symbol\", {_stash: true, macro: function (expansions) {
  var _r44 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id38 = _r44;
  var body = cut(_id38, 0);
  add(environment, {});
  map(function (_x143) {
    var _id39 = _x143;
    var name = _id39[0];
    var exp = _id39[1];
    return(macroexpand([\"define-symbol\", name, exp]));
  }, pair(expansions));
  var _x142 = join([\"do\"], macroexpand(body));
  drop(environment);
  return(_x142);
}});
setenv(\"let-unique\", {_stash: true, macro: function (names) {
  var _r48 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id41 = _r48;
  var body = cut(_id41, 0);
  var bs = map(function (n) {
    return([n, [\"unique\", [\"quote\", n]]]);
  }, names);
  return(join([\"let\", apply(join, bs)], body));
}});
setenv(\"fn\", {_stash: true, macro: function (args) {
  var _r51 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id43 = _r51;
  var body = cut(_id43, 0);
  return(join([\"%function\"], bind42(args, body)));
}});
setenv(\"guard\", {_stash: true, macro: function (expr) {
  if (target === \"js\") {
    return([[\"fn\", join(), [\"%try\", [\"list\", true, expr]]]]);
  } else {
    var e = unique(\"e\");
    var x = unique(\"x\");
    var msg = unique(\"msg\");
    return([\"let\", [x, \"nil\", msg, \"nil\", e, [\"xpcall\", [\"fn\", join(), [\"set\", x, expr]], [\"fn\", [\"m\"], [\"set\", msg, [\"%message-handler\", \"m\"]]]]], [\"list\", e, [\"if\", e, x, msg]]]);
  }
}});
setenv(\"each\", {_stash: true, macro: function (x, t) {
  var _r55 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id46 = _r55;
  var body = cut(_id46, 0);
  var o = unique(\"o\");
  var n = unique(\"n\");
  var i = unique(\"i\");
  var _e7;
  if (atom63(x)) {
    _e7 = [i, x];
  } else {
    var _e8;
    if (_35(x) > 1) {
      _e8 = x;
    } else {
      _e8 = [i, hd(x)];
    }
    _e7 = _e8;
  }
  var _id47 = _e7;
  var k = _id47[0];
  var v = _id47[1];
  var _e9;
  if (target === \"lua\") {
    _e9 = body;
  } else {
    _e9 = [join([\"let\", k, [\"if\", [\"numeric?\", k], [\"parseInt\", k], k]], body)];
  }
  return([\"let\", [o, t, k, \"nil\"], [\"%for\", o, k, join([\"let\", [v, [\"get\", o, k]]], _e9)]]);
}});
setenv(\"for\", {_stash: true, macro: function (i, to) {
  var _r57 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id49 = _r57;
  var body = cut(_id49, 0);
  return([\"let\", i, 0, join([\"while\", [\"<\", i, to]], body, [[\"inc\", i]])]);
}});
setenv(\"step\", {_stash: true, macro: function (v, t) {
  var _r59 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id51 = _r59;
  var body = cut(_id51, 0);
  var x = unique(\"x\");
  var n = unique(\"n\");
  var i = unique(\"i\");
  return([\"let\", [x, t, n, [\"#\", x]], [\"for\", i, n, join([\"let\", [v, [\"at\", x, i]]], body)]]);
}});
setenv(\"set-of\", {_stash: true, macro: function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  var l = [];
  var _o3 = xs;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var x = _o3[_i3];
    var _e10;
    if (numeric63(_i3)) {
      _e10 = parseInt(_i3);
    } else {
      _e10 = _i3;
    }
    var __i3 = _e10;
    l[x] = true;
  }
  return(join([\"obj\"], l));
}});
setenv(\"language\", {_stash: true, macro: function () {
  return([\"quote\", target]);
}});
setenv(\"target\", {_stash: true, macro: function () {
  var clauses = unstash(Array.prototype.slice.call(arguments, 0));
  return(clauses[target]);
}});
setenv(\"join!\", {_stash: true, macro: function (a) {
  var _r63 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id53 = _r63;
  var bs = cut(_id53, 0);
  return([\"set\", a, join([\"join\", a], bs)]);
}});
setenv(\"cat!\", {_stash: true, macro: function (a) {
  var _r65 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id55 = _r65;
  var bs = cut(_id55, 0);
  return([\"set\", a, join([\"cat\", a], bs)]);
}});
setenv(\"inc\", {_stash: true, macro: function (n, by) {
  return([\"set\", n, [\"+\", n, by || 1]]);
}});
setenv(\"dec\", {_stash: true, macro: function (n, by) {
  return([\"set\", n, [\"-\", n, by || 1]]);
}});
setenv(\"with-indent\", {_stash: true, macro: function (form) {
  var x = unique(\"x\");
  return([\"do\", [\"inc\", \"indent-level\"], [\"with\", x, form, [\"dec\", \"indent-level\"]]]);
}});
setenv(\"export\", {_stash: true, macro: function () {
  var names = unstash(Array.prototype.slice.call(arguments, 0));
  if (target === \"js\") {
    return(join([\"do\"], map(function (k) {
      return([\"set\", [\"get\", \"exports\", [\"quote\", k]], k]);
    }, names)));
  } else {
    var x = {};
    var _o5 = names;
    var _i5 = undefined;
    for (_i5 in _o5) {
      var k = _o5[_i5];
      var _e11;
      if (numeric63(_i5)) {
        _e11 = parseInt(_i5);
      } else {
        _e11 = _i5;
      }
      var __i5 = _e11;
      x[k] = k;
    }
    return([\"return\", join([\"obj\"], x)]);
  }
}});
});

pkg(\"main\", function () {
var reader = require(\"reader\");
var compiler = require(\"compiler\");
var system = require(\"system\");
var eval_print = function (form) {
  var _id = (function () {
    try {
      return([true, compiler.eval(form)]);
    }
    catch (_e) {
      return([false, _e.message]);
    }
  })();
  var ok = _id[0];
  var x = _id[1];
  if (! ok) {
    return(print(\"error: \" + x));
  } else {
    if (is63(x)) {
      return(print(string(x)));
    }
  }
};
var rep = function (s) {
  return(eval_print(reader[\"read-string\"](s)));
};
var repl = function () {
  var buf = \"\";
  var rep1 = function (s) {
    buf = buf + s;
    var more = [];
    var form = reader[\"read-string\"](buf, more);
    if (!( form === more)) {
      eval_print(form);
      buf = \"\";
      return(system.write(\"> \"));
    }
  };
  system.write(\"> \");
  var _in = process.stdin;
  _in.setEncoding(\"utf8\");
  return(_in.on(\"data\", rep1));
};
compile_file = function (path) {
  var s = reader.stream(system[\"read-file\"](path));
  var body = reader[\"read-all\"](s);
  var form = compiler.expand(join([\"do\"], body));
  return(compiler.compile(form, {_stash: true, stmt: true}));
};
load = function (path) {
  return(compiler.run(compile_file(path)));
};
var run_file = function (path) {
  return(compiler.run(system[\"read-file\"](path)));
};
var usage = function () {
  print(\"usage: lumen [options] <object files>\");
  print(\"options:\");
  print(\"  -c <input>\\tCompile input file\");
  print(\"  -o <output>\\tOutput file\");
  print(\"  -t <target>\\tTarget language (default: lua)\");
  print(\"  -e <expr>\\tExpression to evaluate\");
  return(system.exit());
};
var main = function () {
  var arg = hd(system.argv);
  if (arg === \"-h\" || arg === \"--help\") {
    usage();
  }
  var pre = [];
  var input = undefined;
  var output = undefined;
  var target1 = undefined;
  var expr = undefined;
  var argv = system.argv;
  var n = _35(argv);
  var i = 0;
  while (i < n) {
    var a = argv[i];
    if (a === \"-c\" || a === \"-o\" || a === \"-t\" || a === \"-e\") {
      if (i === n - 1) {
        print(\"missing argument for \" + a);
      } else {
        i = i + 1;
        var val = argv[i];
        if (a === \"-c\") {
          input = val;
        } else {
          if (a === \"-o\") {
            output = val;
          } else {
            if (a === \"-t\") {
              target1 = val;
            } else {
              if (a === \"-e\") {
                expr = val;
              }
            }
          }
        }
      }
    } else {
      if (!( \"-\" === char(a, 0))) {
        add(pre, a);
      }
    }
    i = i + 1;
  }
  var _x2 = pre;
  var _n = _35(_x2);
  var _i = 0;
  while (_i < _n) {
    var file = _x2[_i];
    run_file(file);
    _i = _i + 1;
  }
  if (nil63(input)) {
    if (expr) {
      return(rep(expr));
    } else {
      return(repl());
    }
  } else {
    if (target1) {
      target = target1;
    }
    var code = compile_file(input);
    if (nil63(output) || output === \"-\") {
      return(print(code));
    } else {
      return(system[\"write-file\"](output, code));
    }
  }
};
main();
});

pkg(\"reader\", function () {
var delimiters = {\"(\": true, \")\": true, \";\": true, \"\\n\": true, \"}\": true, \"]\": true, \"{\": true, \"[\": true};
var whitespace = {\" \": true, \"\\n\": true, \"\\t\": true};
var stream = function (str, more) {
  return({more: more, pos: 0, len: _35(str), string: str});
};
var peek_char = function (s, count, offset) {
  var _id = s;
  var pos = _id.pos;
  var len = _id.len;
  var string = _id.string;
  var from = pos + (offset || 0);
  var n = count || 1;
  if (from <= len - n) {
    if (n === 1) {
      return(char(string, from));
    } else {
      return(clip(string, from, from + n));
    }
  }
};
var read_char = function (s, count, offset) {
  var c = peek_char(s, count, offset);
  if (c) {
    s.pos = s.pos + _35(c);
    return(c);
  }
};
var skip_non_code = function (s) {
  while (true) {
    var c = peek_char(s);
    if (nil63(c)) {
      break;
    } else {
      if (whitespace[c]) {
        read_char(s);
      } else {
        if (c === \";\") {
          while (c && !( c === \"\\n\")) {
            c = read_char(s);
          }
          skip_non_code(s);
        } else {
          break;
        }
      }
    }
  }
};
var read_table = {};
var eof = {};
var read = function (s) {
  skip_non_code(s);
  var c = peek_char(s);
  if (is63(c)) {
    return((read_table[c] || read_table[\"\"])(s));
  } else {
    return(eof);
  }
};
var read_all = function (s) {
  var l = [];
  while (true) {
    var form = read(s);
    if (form === eof) {
      break;
    }
    add(l, form);
  }
  return(l);
};
var read_string = function (str, more) {
  var x = read(stream(str, more));
  if (!( x === eof)) {
    return(x);
  }
};
var key63 = function (atom) {
  return(string63(atom) && _35(atom) > 1 && char(atom, edge(atom)) === \":\");
};
var flag63 = function (atom) {
  return(string63(atom) && _35(atom) > 1 && char(atom, 0) === \":\");
};
var expected = function (s, c) {
  var _id1 = s;
  var more = _id1.more;
  var pos = _id1.pos;
  var _id2 = more;
  var _e;
  if (_id2) {
    _e = _id2;
  } else {
    throw new Error(\"Expected \" + c + \" at \" + pos);
    _e = undefined;
  }
  return(_e);
};
var wrap = function (s, x) {
  var y = read(s);
  if (y === s.more) {
    return(y);
  } else {
    return([x, y]);
  }
};
read_table[\"\"] = function (s) {
  var str = \"\";
  while (true) {
    var c = peek_char(s);
    if (c && (! whitespace[c] && ! delimiters[c])) {
      str = str + read_char(s);
    } else {
      break;
    }
  }
  if (str === \"true\") {
    return(true);
  } else {
    if (str === \"false\") {
      return(false);
    } else {
      if (str === \"nan\") {
        return(nan);
      } else {
        if (str === \"-nan\") {
          return(nan);
        } else {
          if (str === \"inf\") {
            return(inf);
          } else {
            if (str === \"-inf\") {
              return(-inf);
            } else {
              var n = number(str);
              if (nil63(n) || nan63(n) || inf63(n)) {
                return(str);
              } else {
                return(n);
              }
            }
          }
        }
      }
    }
  }
};
read_table[\"(\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \")\") {
      read_char(s);
      r = l;
    } else {
      if (nil63(c)) {
        r = expected(s, \")\");
      } else {
        var x = read(s);
        if (key63(x)) {
          var k = clip(x, 0, edge(x));
          var v = read(s);
          l[k] = v;
        } else {
          if (flag63(x)) {
            l[clip(x, 1)] = true;
          } else {
            add(l, x);
          }
        }
      }
    }
  }
  return(r);
};
read_table[\")\"] = function (s) {
  throw new Error(\"Unexpected ) at \" + s.pos);
};
read_table[\"[\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \"]\") {
      read_char(s);
      r = [\"fn\", [\"_\"], l];
    } else {
      if (nil63(c)) {
        r = expected(s, \"]\");
      } else {
        var x = read(s);
        add(l, x);
      }
    }
  }
  return(r);
};
read_table[\"]\"] = function (s) {
  throw new Error(\"Unexpected ] at \" + s.pos);
};
read_table[\"{\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \"}\") {
      read_char(s);
      r = join([\"curly\"], l);
    } else {
      if (nil63(c)) {
        r = expected(s, \"}\");
      } else {
        var x = read(s);
        add(l, x);
      }
    }
  }
  return(r);
};
read_table[\"}\"] = function (s) {
  throw new Error(\"Unexpected } at \" + s.pos);
};
read_table[\"\\\"\\\"\\\"\"] = function (s) {
  read_char(s, 3);
  var r = undefined;
  var str = \"\\\"\";
  while (nil63(r)) {
    var c = peek_char(s, 3);
    if (c === \"\\\"\\\"\\\"\") {
      read_char(s, 3);
      r = str + \"\\\"\";
    } else {
      if (nil63(c)) {
        r = expected(s, \"\\\"\\\"\\\"\");
      } else {
        var x = read_char(s);
        var _e1;
        if (x === \"\\\"\" || x === \"\\\\\") {
          _e1 = \"\\\\\" + x;
        } else {
          _e1 = x;
        }
        str = str + _e1;
      }
    }
  }
  return(r);
};
read_table[\"\\\"\"] = function (s) {
  if (peek_char(s, 3) === \"\\\"\\\"\\\"\") {
    return(read_table[\"\\\"\\\"\\\"\"](s));
  }
  read_char(s);
  var r = undefined;
  var str = \"\\\"\";
  while (nil63(r)) {
    var c = peek_char(s);
    if (c === \"\\\"\") {
      r = str + read_char(s);
    } else {
      if (nil63(c)) {
        r = expected(s, \"\\\"\");
      } else {
        if (c === \"\\\\\") {
          str = str + read_char(s);
        }
        str = str + read_char(s);
      }
    }
  }
  return(r);
};
read_table[\"|\"] = function (s) {
  read_char(s);
  var r = undefined;
  var str = \"|\";
  while (nil63(r)) {
    var c = peek_char(s);
    if (c === \"|\") {
      r = str + read_char(s);
    } else {
      if (nil63(c)) {
        r = expected(s, \"|\");
      } else {
        str = str + read_char(s);
      }
    }
  }
  return(r);
};
read_table[\"'\"] = function (s) {
  read_char(s);
  return(wrap(s, \"quote\"));
};
read_table[\"`\"] = function (s) {
  read_char(s);
  return(wrap(s, \"quasiquote\"));
};
read_table[\",\"] = function (s) {
  read_char(s);
  if (peek_char(s) === \"@\") {
    read_char(s);
    return(wrap(s, \"unquote-splicing\"));
  } else {
    return(wrap(s, \"unquote\"));
  }
};
exports.stream = stream;
exports.read = read;
exports[\"read-all\"] = read_all;
exports[\"read-string\"] = read_string;
exports[\"read-table\"] = read_table;
});

pkg(\"runtime\", function () {
environment = [{}];
target = \"js\";
nil63 = function (x) {
  return(x === undefined || x === null);
};
is63 = function (x) {
  return(! nil63(x));
};
_35 = function (x) {
  return(x.length || 0);
};
none63 = function (x) {
  return(_35(x) === 0);
};
some63 = function (x) {
  return(_35(x) > 0);
};
one63 = function (x) {
  return(_35(x) === 1);
};
two63 = function (x) {
  return(_35(x) === 2);
};
hd = function (l) {
  return(l[0]);
};
type = function (x) {
  return(typeof(x));
};
string63 = function (x) {
  return(type(x) === \"string\");
};
number63 = function (x) {
  return(type(x) === \"number\");
};
boolean63 = function (x) {
  return(type(x) === \"boolean\");
};
function63 = function (x) {
  return(type(x) === \"function\");
};
obj63 = function (x) {
  return(is63(x) && type(x) === \"object\");
};
atom63 = function (x) {
  return(nil63(x) || string63(x) || number63(x) || boolean63(x));
};
nan = 0 / 0;
inf = 1 / 0;
nan63 = function (n) {
  return(!( n === n));
};
inf63 = function (n) {
  return(n === inf || n === -inf);
};
clip = function (s, from, upto) {
  return(s.substring(from, upto));
};
cut = function (x, from, upto) {
  var l = [];
  var j = 0;
  var _e;
  if (nil63(from) || from < 0) {
    _e = 0;
  } else {
    _e = from;
  }
  var i = _e;
  var n = _35(x);
  var _e1;
  if (nil63(upto) || upto > n) {
    _e1 = n;
  } else {
    _e1 = upto;
  }
  var _upto = _e1;
  while (i < _upto) {
    l[j] = x[i];
    i = i + 1;
    j = j + 1;
  }
  var _o = x;
  var k = undefined;
  for (k in _o) {
    var v = _o[k];
    var _e2;
    if (numeric63(k)) {
      _e2 = parseInt(k);
    } else {
      _e2 = k;
    }
    var _k = _e2;
    if (! number63(_k)) {
      l[_k] = v;
    }
  }
  return(l);
};
keys = function (x) {
  var t = [];
  var _o1 = x;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e3;
    if (numeric63(k)) {
      _e3 = parseInt(k);
    } else {
      _e3 = k;
    }
    var _k1 = _e3;
    if (! number63(_k1)) {
      t[_k1] = v;
    }
  }
  return(t);
};
edge = function (x) {
  return(_35(x) - 1);
};
inner = function (x) {
  return(clip(x, 1, edge(x)));
};
tl = function (l) {
  return(cut(l, 1));
};
char = function (s, n) {
  return(s.charAt(n));
};
code = function (s, n) {
  return(s.charCodeAt(n));
};
string_literal63 = function (x) {
  return(string63(x) && char(x, 0) === \"\\\"\");
};
id_literal63 = function (x) {
  return(string63(x) && char(x, 0) === \"|\");
};
add = function (l, x) {
  l.push(x);
  return(undefined);
};
drop = function (l) {
  return(l.pop());
};
last = function (l) {
  return(l[edge(l)]);
};
almost = function (l) {
  return(cut(l, 0, edge(l)));
};
reverse = function (l) {
  var l1 = keys(l);
  var i = edge(l);
  while (i >= 0) {
    add(l1, l[i]);
    i = i - 1;
  }
  return(l1);
};
reduce = function (f, x) {
  if (none63(x)) {
    return(x);
  } else {
    if (one63(x)) {
      return(hd(x));
    } else {
      return(f(hd(x), reduce(f, tl(x))));
    }
  }
};
join = function () {
  var ls = unstash(Array.prototype.slice.call(arguments, 0));
  if (two63(ls)) {
    var _id = ls;
    var a = _id[0];
    var b = _id[1];
    if (a && b) {
      var c = [];
      var o = _35(a);
      var _o2 = a;
      var k = undefined;
      for (k in _o2) {
        var v = _o2[k];
        var _e4;
        if (numeric63(k)) {
          _e4 = parseInt(k);
        } else {
          _e4 = k;
        }
        var _k2 = _e4;
        c[_k2] = v;
      }
      var _o3 = b;
      var k = undefined;
      for (k in _o3) {
        var v = _o3[k];
        var _e5;
        if (numeric63(k)) {
          _e5 = parseInt(k);
        } else {
          _e5 = k;
        }
        var _k3 = _e5;
        if (number63(_k3)) {
          _k3 = _k3 + o;
        }
        c[_k3] = v;
      }
      return(c);
    } else {
      return(a || b || []);
    }
  } else {
    return(reduce(join, ls));
  }
};
find = function (f, t) {
  var _o4 = t;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var x = _o4[_i4];
    var _e6;
    if (numeric63(_i4)) {
      _e6 = parseInt(_i4);
    } else {
      _e6 = _i4;
    }
    var __i4 = _e6;
    var y = f(x);
    if (y) {
      return(y);
    }
  }
};
first = function (f, l) {
  var _x1 = l;
  var _n5 = _35(_x1);
  var _i5 = 0;
  while (_i5 < _n5) {
    var x = _x1[_i5];
    var y = f(x);
    if (y) {
      return(y);
    }
    _i5 = _i5 + 1;
  }
};
in63 = function (x, t) {
  return(find(function (y) {
    return(x === y);
  }, t));
};
pair = function (l) {
  var l1 = [];
  var i = 0;
  while (i < _35(l)) {
    add(l1, [l[i], l[i + 1]]);
    i = i + 1;
    i = i + 1;
  }
  return(l1);
};
sort = function (l, f) {
  var _e7;
  if (f) {
    _e7 = function (a, b) {
      if (f(a, b)) {
        return(-1);
      } else {
        return(1);
      }
    };
  }
  return(l.sort(_e7));
};
map = function (f, x) {
  var t = [];
  var _x3 = x;
  var _n6 = _35(_x3);
  var _i6 = 0;
  while (_i6 < _n6) {
    var v = _x3[_i6];
    var y = f(v);
    if (is63(y)) {
      add(t, y);
    }
    _i6 = _i6 + 1;
  }
  var _o5 = x;
  var k = undefined;
  for (k in _o5) {
    var v = _o5[k];
    var _e8;
    if (numeric63(k)) {
      _e8 = parseInt(k);
    } else {
      _e8 = k;
    }
    var _k4 = _e8;
    if (! number63(_k4)) {
      var y = f(v);
      if (is63(y)) {
        t[_k4] = y;
      }
    }
  }
  return(t);
};
keep = function (f, x) {
  return(map(function (v) {
    if (f(v)) {
      return(v);
    }
  }, x));
};
keys63 = function (t) {
  var _o6 = t;
  var k = undefined;
  for (k in _o6) {
    var v = _o6[k];
    var _e9;
    if (numeric63(k)) {
      _e9 = parseInt(k);
    } else {
      _e9 = k;
    }
    var _k5 = _e9;
    if (! number63(_k5)) {
      return(true);
    }
  }
  return(false);
};
empty63 = function (t) {
  var _o7 = t;
  var _i9 = undefined;
  for (_i9 in _o7) {
    var x = _o7[_i9];
    var _e10;
    if (numeric63(_i9)) {
      _e10 = parseInt(_i9);
    } else {
      _e10 = _i9;
    }
    var __i9 = _e10;
    return(false);
  }
  return(true);
};
stash = function (args) {
  if (keys63(args)) {
    var p = [];
    var _o8 = args;
    var k = undefined;
    for (k in _o8) {
      var v = _o8[k];
      var _e11;
      if (numeric63(k)) {
        _e11 = parseInt(k);
      } else {
        _e11 = k;
      }
      var _k6 = _e11;
      if (! number63(_k6)) {
        p[_k6] = v;
      }
    }
    p._stash = true;
    add(args, p);
  }
  return(args);
};
unstash = function (args) {
  if (none63(args)) {
    return([]);
  } else {
    var l = last(args);
    if (! atom63(l) && l._stash) {
      var args1 = almost(args);
      var _o9 = l;
      var k = undefined;
      for (k in _o9) {
        var v = _o9[k];
        var _e12;
        if (numeric63(k)) {
          _e12 = parseInt(k);
        } else {
          _e12 = k;
        }
        var _k7 = _e12;
        if (!( _k7 === \"_stash\")) {
          args1[_k7] = v;
        }
      }
      return(args1);
    } else {
      return(args);
    }
  }
};
search = function (s, pattern, start) {
  var i = s.indexOf(pattern, start);
  if (i >= 0) {
    return(i);
  }
};
split = function (s, sep) {
  if (s === \"\" || sep === \"\") {
    return([]);
  } else {
    var l = [];
    var n = _35(sep);
    while (true) {
      var i = search(s, sep);
      if (nil63(i)) {
        break;
      } else {
        add(l, clip(s, 0, i));
        s = clip(s, i + n);
      }
    }
    add(l, s);
    return(l);
  }
};
cat = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  if (none63(xs)) {
    return(\"\");
  } else {
    return(reduce(function (a, b) {
      return(a + b);
    }, xs));
  }
};
_43 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (a, b) {
    return(a + b);
  }, xs));
};
_ = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a - b);
  }, reverse(xs)));
};
_42 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (a, b) {
    return(a * b);
  }, xs));
};
_47 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a / b);
  }, reverse(xs)));
};
_37 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a % b);
  }, reverse(xs)));
};
_62 = function (a, b) {
  return(a > b);
};
_60 = function (a, b) {
  return(a < b);
};
_61 = function (a, b) {
  return(a === b);
};
_6261 = function (a, b) {
  return(a >= b);
};
_6061 = function (a, b) {
  return(a <= b);
};
number = function (s) {
  var n = parseFloat(s);
  if (! isNaN(n)) {
    return(n);
  }
};
number_code63 = function (n) {
  return(n > 47 && n < 58);
};
numeric63 = function (s) {
  var n = _35(s);
  var i = 0;
  while (i < n) {
    if (! number_code63(code(s, i))) {
      return(false);
    }
    i = i + 1;
  }
  return(true);
};
var tostring = function (x) {
  return(x[\"toString\"]());
};
escape = function (s) {
  var s1 = \"\\\"\";
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    var _e13;
    if (c === \"\\n\") {
      _e13 = \"\\\\n\";
    } else {
      var _e14;
      if (c === \"\\\"\") {
        _e14 = \"\\\\\\\"\";
      } else {
        var _e15;
        if (c === \"\\\\\") {
          _e15 = \"\\\\\\\\\";
        } else {
          _e15 = c;
        }
        _e14 = _e15;
      }
      _e13 = _e14;
    }
    var c1 = _e13;
    s1 = s1 + c1;
    i = i + 1;
  }
  return(s1 + \"\\\"\");
};
now = function() {
  return Date.now();
}
ms_since = function(t) {
  return now() - t;
}
string = function (x, depth, start) {
  if (depth > 7) {
    return(\"circular\");
  }
  if (nil63(x)) {
    return(\"nil\");
  } else {
    if (nan63(x)) {
      return(\"nan\");
    } else {
      if (x === inf) {
        return(\"inf\");
      } else {
        if (x === -inf) {
          return(\"-inf\");
        } else {
          if (boolean63(x)) {
            if (x) {
              return(\"true\");
            } else {
              return(\"false\");
            }
          } else {
            start = start || Date.now();
            // if (ms_since(start) > 100) { return(\"...\"); }
            if (string63(x)) {
              return(escape(x));
            } else {
              if (atom63(x)) {
                return(tostring(x));
              } else {
                if (function63(x)) {
                  return(\"fn\");
                } else {
                  if (! obj63(x)) {
                    return(\"|\" + type(x) + \"|\");
                  } else {
                    var s = \"(\";
                    var sp = \"\";
                    var xs = [];
                    var ks = [];
                    var d = (depth || 0) + 1;
                    var _o10 = x;
                    var k = undefined;
                    var i = 0;
                    for (k in _o10) {
                      i++;
                      // if (i>9) { break;}
                      if (i % 10 == 0) {
                        if (ms_since(start) > 100) { break; }
                      }
                      var v = _o10[k];
                      var _e16;
                      if (numeric63(k)) {
                        _e16 = parseInt(k);
                      } else {
                        _e16 = k;
                      }
                      var _k8 = _e16;
                      if (number63(_k8)) {
                        xs[_k8] = string(v, d, start);
                      } else {
                        add(ks, _k8 + \":\");
                        add(ks, string(v, d, start));
                      }
                    }
                    var _o11 = join(xs, ks);
                    var _i13 = undefined;
                    var i = 0;
                    for (_i13 in _o11) {
                      i++;
                      // if (i>9) { break;}
                      if (i % 10 == 0) {
                        if (ms_since(start) > 100) { break; }
                      }
                      var v = _o11[_i13];
                      var _e17;
                      if (numeric63(_i13)) {
                        _e17 = parseInt(_i13);
                      } else {
                        _e17 = _i13;
                      }
                      var __i13 = _e17;
                      s = s + sp + v;
                      sp = \" \";
                    }
                    return(s + \")\");
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
apply = function (f, args) {
  var _args = stash(args);
  return(f.apply(f, _args));
};
call = function (f) {
  return(f());
};
toplevel63 = function () {
  return(one63(environment));
};
setenv = function (k) {
  var _r69 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id1 = _r69;
  var _keys = cut(_id1, 0);
  if (string63(k)) {
    var _e18;
    if (_keys.toplevel) {
      _e18 = hd(environment);
    } else {
      _e18 = last(environment);
    }
    var frame = _e18;
    var entry = frame[k] || {};
    var _o12 = _keys;
    var _k9 = undefined;
    for (_k9 in _o12) {
      var v = _o12[_k9];
      var _e19;
      if (numeric63(_k9)) {
        _e19 = parseInt(_k9);
      } else {
        _e19 = _k9;
      }
      var _k10 = _e19;
      entry[_k10] = v;
    }
    frame[k] = entry;
    return(frame[k]);
  }
};
print = function (x) {
  return(console.log(x));
};
var math = Math;
abs = math.abs;
acos = math.acos;
asin = math.asin;
atan = math.atan;
atan2 = math.atan2;
ceil = math.ceil;
cos = math.cos;
floor = math.floor;
log = math.log;
log10 = math.log10;
max = math.max;
min = math.min;
pow = math.pow;
random = math.random;
sin = math.sin;
sinh = math.sinh;
sqrt = math.sqrt;
tan = math.tan;
tanh = math.tanh;
});

pkg(\"system\", function () {
var fs = require(\"fs\");
var read_file = function (path) {
  return(fs.readFileSync(path, \"utf8\"));
};
var write_file = function (path, data) {
  return(fs.writeFileSync(path, data, \"utf8\"));
};
var file_exists63 = function (path) {
  return(fs.existsSync(path, \"utf8\"));
};
var path_separator = require(\"path\").sep;
var path_join = function () {
  var parts = unstash(Array.prototype.slice.call(arguments, 0));
  if (none63(parts)) {
    return(\"\");
  } else {
    return(reduce(function (x, y) {
      return(x + path_separator + y);
    }, parts));
  }
};
var get_environment_variable = function (name) {
  return(process.env[name]);
};
var write = function (x) {
  var out = process.stdout;
  return(out.write(x));
};
var exit = function (code) {
  return(process.exit(code));
};
var argv = cut(process.argv, 2);
exports[\"read-file\"] = read_file;
exports[\"write-file\"] = write_file;
exports[\"file-exists?\"] = file_exists63;
exports[\"path-separator\"] = path_separator;
exports[\"path-join\"] = path_join;
exports[\"get-environment-variable\"] = get_environment_variable;
exports.write = write;
exports.exit = exit;
exports.argv = argv;
});

pkg(\"test\", function () {
var passed = 0;
var failed = 0;
var tests = [];
var reader = require(\"reader\");
var compiler = require(\"compiler\");
setenv(\"test\", {_stash: true, macro: function (x, msg) {
  return([\"if\", [\"not\", x], [\"do\", [\"set\", \"failed\", [\"+\", \"failed\", 1]], [\"return\", msg]], [\"inc\", \"passed\"]]);
}});
var equal63 = function (a, b) {
  if (atom63(a)) {
    return(a === b);
  } else {
    return(string(a) === string(b));
  }
};
setenv(\"test=\", {_stash: true, macro: function (a, b) {
  return([\"test\", [\"equal?\", a, b], [\"cat\", \"\\\"failed: expected \\\"\", [\"string\", a], \"\\\", was \\\"\", [\"string\", b]]]);
}});
setenv(\"define-test\", {_stash: true, macro: function (name) {
  var _r6 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id1 = _r6;
  var body = cut(_id1, 0);
  return([\"add\", \"tests\", [\"list\", [\"quote\", name], join([\"fn\", join()], body)]]);
}});
run = function () {
  var _o = tests;
  var _i = undefined;
  for (_i in _o) {
    var _id2 = _o[_i];
    var name = _id2[0];
    var f = _id2[1];
    var _e;
    if (numeric63(_i)) {
      _e = parseInt(_i);
    } else {
      _e = _i;
    }
    var __i = _e;
    var result = f();
    if (string63(result)) {
      print(\" \" + name + \" \" + result);
    }
  }
  return(print(\" \" + passed + \" passed, \" + failed + \" failed\"));
};
add(tests, [\"reader\", function () {
  var read = reader[\"read-string\"];
  if (! equal63(undefined, read(\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(read(\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"nil\", read(\"nil\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"nil\") + \", was \" + string(read(\"nil\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, read(\"17\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(read(\"17\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0.015, read(\"1.5e-2\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0.015) + \", was \" + string(read(\"1.5e-2\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, read(\"true\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(read(\"true\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(! true, read(\"false\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(! true) + \", was \" + string(read(\"false\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"hi\", read(\"hi\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"hi\") + \", was \" + string(read(\"hi\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"hi\\\"\", read(\"\\\"hi\\\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"hi\\\"\") + \", was \" + string(read(\"\\\"hi\\\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"|hi|\", read(\"|hi|\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"|hi|\") + \", was \" + string(read(\"|hi|\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2], read(\"(1 2)\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2]) + \", was \" + string(read(\"(1 2)\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, [\"a\"]], read(\"(1 (a))\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, [\"a\"]]) + \", was \" + string(read(\"(1 (a))\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"a\"], read(\"'a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"a\"]) + \", was \" + string(read(\"'a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", \"a\"], read(\"`a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", \"a\"]) + \", was \" + string(read(\"`a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", \"a\"]], read(\"`,a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", \"a\"]]) + \", was \" + string(read(\"`,a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote-splicing\", \"a\"]], read(\"`,@a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote-splicing\", \"a\"]]) + \", was \" + string(read(\"`,@a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _35(read(\"(1 2 a: 7)\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35(read(\"(1 2 a: 7)\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, read(\"(1 2 a: 7)\").a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(read(\"(1 2 a: 7)\").a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, read(\"(:a)\").a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(read(\"(:a)\").a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, - -1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(- -1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(read(\"nan\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(read(\"nan\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(read(\"-nan\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(read(\"-nan\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, inf63(read(\"inf\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(inf63(read(\"inf\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, inf63(read(\"-inf\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(inf63(read(\"-inf\"))));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"read-more\", function () {
  var read = reader[\"read-string\"];
  if (! equal63(17, read(\"17\", true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(read(\"17\", true)));
  } else {
    passed = passed + 1;
  }
  var more = [];
  if (! equal63(more, read(\"(open\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"(open\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"\\\"unterminated \", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"\\\"unterminated \", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"|identifier\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"|identifier\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"'(a b c\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"'(a b c\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`(a b c\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`(a b c\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`(a b ,(z\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`(a b ,(z\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`\\\"biz\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`\\\"biz\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"'\\\"boz\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"'\\\"boz\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"Expected ) at 5\"], (function () {
    try {
      return([true, read(\"(open\")]);
    }
    catch (_e60) {
      return([false, _e60.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"Expected ) at 5\"]) + \", was \" + string((function () {
      try {
        return([true, read(\"(open\")]);
      }
      catch (_e61) {
        return([false, _e61.message]);
      }
    })()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"boolean\", function () {
  if (! equal63(true, true || false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true || false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false || false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false || false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, false || false || true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(false || false || true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, ! false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(! false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, !( false && true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(!( false && true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, !( false || true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(!( false || true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, true && true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true && true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, true && false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(true && false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, true && true && false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(true && true && false));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"short\", function () {
  var _id45 = true;
  var _e1;
  if (_id45) {
    _e1 = _id45;
  } else {
    throw new Error(\"bad\");
    _e1 = undefined;
  }
  if (! equal63(true, _e1)) {
    failed = failed + 1;
    var _id46 = true;
    var _e2;
    if (_id46) {
      _e2 = _id46;
    } else {
      throw new Error(\"bad\");
      _e2 = undefined;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e2));
  } else {
    passed = passed + 1;
  }
  var _id47 = false;
  var _e3;
  if (_id47) {
    throw new Error(\"bad\");
    _e3 = undefined;
  } else {
    _e3 = _id47;
  }
  if (! equal63(false, _e3)) {
    failed = failed + 1;
    var _id48 = false;
    var _e4;
    if (_id48) {
      throw new Error(\"bad\");
      _e4 = undefined;
    } else {
      _e4 = _id48;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e4));
  } else {
    passed = passed + 1;
  }
  var a = true;
  var _id49 = true;
  var _e5;
  if (_id49) {
    _e5 = _id49;
  } else {
    a = false;
    _e5 = false;
  }
  if (! equal63(true, _e5)) {
    failed = failed + 1;
    var _id50 = true;
    var _e6;
    if (_id50) {
      _e6 = _id50;
    } else {
      a = false;
      _e6 = false;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e6));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _id51 = false;
  var _e7;
  if (_id51) {
    a = false;
    _e7 = true;
  } else {
    _e7 = _id51;
  }
  if (! equal63(false, _e7)) {
    failed = failed + 1;
    var _id52 = false;
    var _e8;
    if (_id52) {
      a = false;
      _e8 = true;
    } else {
      _e8 = _id52;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e8));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var b = true;
  b = false;
  var _id53 = false;
  var _e9;
  if (_id53) {
    _e9 = _id53;
  } else {
    b = true;
    _e9 = b;
  }
  if (! equal63(true, _e9)) {
    failed = failed + 1;
    b = false;
    var _id54 = false;
    var _e10;
    if (_id54) {
      _e10 = _id54;
    } else {
      b = true;
      _e10 = b;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = true;
  var _id55 = b;
  var _e11;
  if (_id55) {
    _e11 = _id55;
  } else {
    b = true;
    _e11 = b;
  }
  if (! equal63(true, _e11)) {
    failed = failed + 1;
    b = true;
    var _id56 = b;
    var _e12;
    if (_id56) {
      _e12 = _id56;
    } else {
      b = true;
      _e12 = b;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e12));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = false;
  var _id57 = true;
  var _e13;
  if (_id57) {
    b = true;
    _e13 = b;
  } else {
    _e13 = _id57;
  }
  if (! equal63(true, _e13)) {
    failed = failed + 1;
    b = false;
    var _id58 = true;
    var _e14;
    if (_id58) {
      b = true;
      _e14 = b;
    } else {
      _e14 = _id58;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e14));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = false;
  var _id59 = b;
  var _e15;
  if (_id59) {
    b = true;
    _e15 = b;
  } else {
    _e15 = _id59;
  }
  if (! equal63(false, _e15)) {
    failed = failed + 1;
    b = false;
    var _id60 = b;
    var _e16;
    if (_id60) {
      b = true;
      _e16 = b;
    } else {
      _e16 = _id60;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e16));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(b));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"numeric\", function () {
  if (! equal63(4, 2 + 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(2 + 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, 7 - 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(7 - 3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(5, 10 / 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(10 / 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, 2 * 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(2 * 3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2.01 > 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2.01 > 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 5 >= 5)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(5 >= 5));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2100 > 2000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2100 > 2000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 0.002 < 0.0021)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(0.002 < 0.0021));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, 2 < 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(2 < 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2 <= 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2 <= 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(-7, - 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-7) + \", was \" + string(- 7));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"math\", function () {
  if (! equal63(3, max(1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(max(1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, min(2, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(min(2, 7)));
  } else {
    passed = passed + 1;
  }
  var n = random();
  if (! equal63(true, n > 0 && n < 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(n > 0 && n < 1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, floor(4.78))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(floor(4.78)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"precedence\", function () {
  if (! equal63(-3, -( 1 + 2))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-3) + \", was \" + string(-( 1 + 2)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, 12 - (1 + 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(12 - (1 + 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(11, 12 - 1 * 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(11) + \", was \" + string(12 - 1 * 1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, 4 / 2 + 8)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(4 / 2 + 8));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"standalone\", function () {
  if (! equal63(10, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  var x = undefined;
  x = 10;
  if (! equal63(9, 9)) {
    failed = failed + 1;
    x = 10;
    return(\"failed: expected \" + string(9) + \", was \" + string(9));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, 12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(12));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"string\", function () {
  if (! equal63(3, _35(\"foo\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"foo\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"\\\"a\\\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"\\\"a\\\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", char(\"bar\", 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(char(\"bar\", 1)));
  } else {
    passed = passed + 1;
  }
  var s = \"a\\nb\";
  if (! equal63(3, _35(s))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(s)));
  } else {
    passed = passed + 1;
  }
  var _s = \"a\\nb\\nc\";
  if (! equal63(5, _35(_s))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(_35(_s)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"a\\nb\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"a\\nb\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"a\\\\b\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"a\\\\b\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quote\", function () {
  if (! equal63(7, 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(7));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"a\"], [\"quote\", \"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"a\"]) + \", was \" + string([\"quote\", \"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"a\\\"\", \"\\\"a\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"a\\\"\") + \", was \" + string(\"\\\"a\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"\\\\n\\\"\", \"\\\"\\\\n\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"\\\\n\\\"\") + \", was \" + string(\"\\\"\\\\n\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"\\\\\\\\\\\"\", \"\\\"\\\\\\\\\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"\\\\\\\\\\\"\") + \", was \" + string(\"\\\"\\\\\\\\\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"\\\"a\\\"\"], [\"quote\", \"\\\"a\\\"\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"\\\"a\\\"\"]) + \", was \" + string([\"quote\", \"\\\"a\\\"\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"|(|\", \"|(|\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"|(|\") + \", was \" + string(\"|(|\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"unquote\", \"unquote\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"unquote\") + \", was \" + string(\"unquote\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"unquote\"], [\"unquote\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"unquote\"]) + \", was \" + string([\"unquote\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"unquote\", \"a\"], [\"unquote\", \"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"unquote\", \"a\"]) + \", was \" + string([\"unquote\", \"a\"]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"list\", function () {
  if (! equal63([], [])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string([]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], [])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string([]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], [\"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string([\"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], [\"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string([\"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[]], [[]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[]]) + \", was \" + string([[]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, _35([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(_35([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _35([1, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35([1, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], [1, 2, 3])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string([1, 2, 3]));
  } else {
    passed = passed + 1;
  }
  var _x113 = [];
  _x113.foo = 17;
  if (! equal63(17, _x113.foo)) {
    failed = failed + 1;
    var _x114 = [];
    _x114.foo = 17;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x114.foo));
  } else {
    passed = passed + 1;
  }
  var _x115 = [1];
  _x115.foo = 17;
  if (! equal63(17, _x115.foo)) {
    failed = failed + 1;
    var _x116 = [1];
    _x116.foo = 17;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x116.foo));
  } else {
    passed = passed + 1;
  }
  var _x117 = [];
  _x117.foo = true;
  if (! equal63(true, _x117.foo)) {
    failed = failed + 1;
    var _x118 = [];
    _x118.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x118.foo));
  } else {
    passed = passed + 1;
  }
  var _x119 = [];
  _x119.foo = true;
  if (! equal63(true, _x119.foo)) {
    failed = failed + 1;
    var _x120 = [];
    _x120.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x120.foo));
  } else {
    passed = passed + 1;
  }
  var _x122 = [];
  _x122.foo = true;
  if (! equal63(true, hd([_x122]).foo)) {
    failed = failed + 1;
    var _x124 = [];
    _x124.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x124]).foo));
  } else {
    passed = passed + 1;
  }
  var _x125 = [];
  _x125.a = true;
  var _x126 = [];
  _x126.a = true;
  if (! equal63(_x125, _x126)) {
    failed = failed + 1;
    var _x127 = [];
    _x127.a = true;
    var _x128 = [];
    _x128.a = true;
    return(\"failed: expected \" + string(_x127) + \", was \" + string(_x128));
  } else {
    passed = passed + 1;
  }
  var _x129 = [];
  _x129.b = false;
  var _x130 = [];
  _x130.b = false;
  if (! equal63(_x129, _x130)) {
    failed = failed + 1;
    var _x131 = [];
    _x131.b = false;
    var _x132 = [];
    _x132.b = false;
    return(\"failed: expected \" + string(_x131) + \", was \" + string(_x132));
  } else {
    passed = passed + 1;
  }
  var _x133 = [];
  _x133.c = 0;
  var _x134 = [];
  _x134.c = 0;
  if (! equal63(_x133, _x134)) {
    failed = failed + 1;
    var _x135 = [];
    _x135.c = 0;
    var _x136 = [];
    _x136.c = 0;
    return(\"failed: expected \" + string(_x135) + \", was \" + string(_x136));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quasiquote\", function () {
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, undefined)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(undefined));
  } else {
    passed = passed + 1;
  }
  var a = 42;
  if (! equal63(42, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", \"a\"]], [\"quasiquote\", [\"unquote\", \"a\"]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", \"a\"]]) + \", was \" + string([\"quasiquote\", [\"unquote\", \"a\"]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", 42]], [\"quasiquote\", [\"unquote\", a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", 42]]) + \", was \" + string([\"quasiquote\", [\"unquote\", a]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]], [\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]]) + \", was \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", 42]]]], [\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", 42]]]]) + \", was \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", a]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]], [\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]]) + \", was \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", 42]]]], [\"a\", [\"quasiquote\", [\"b\", [\"unquote\", a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", 42]]]]) + \", was \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", a]]]]));
  } else {
    passed = passed + 1;
  }
  var b = \"c\";
  if (! equal63([\"quote\", \"c\"], [\"quote\", b])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"c\"]) + \", was \" + string([\"quote\", b]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([42], [a])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([42]) + \", was \" + string([a]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[42]], [[a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[42]]) + \", was \" + string([[a]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([41, [42]], [41, [a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([41, [42]]) + \", was \" + string([41, [a]]));
  } else {
    passed = passed + 1;
  }
  var c = [1, 2, 3];
  if (! equal63([[1, 2, 3]], [c])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1, 2, 3]]) + \", was \" + string([c]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, 1, 2, 3], join([0], c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3]) + \", was \" + string(join([0], c)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, 1, 2, 3, 4], join([0], c, [4]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3, 4]) + \", was \" + string(join([0], c, [4])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, [1, 2, 3], 4], [0, c, 4])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, [1, 2, 3], 4]) + \", was \" + string([0, c, 4]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3, 1, 2, 3], join(c, c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3, 1, 2, 3]) + \", was \" + string(join(c, c)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[1, 2, 3], 1, 2, 3], join([c], c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1, 2, 3], 1, 2, 3]) + \", was \" + string(join([c], c)));
  } else {
    passed = passed + 1;
  }
  var _a = 42;
  if (! equal63([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]], [\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]]) + \", was \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [[\"unquote-splicing\", [\"list\", 42]]]], [\"quasiquote\", [[\"unquote-splicing\", [\"list\", _a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", 42]]]]) + \", was \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", _a]]]]));
  } else {
    passed = passed + 1;
  }
  var _x307 = [];
  _x307.foo = true;
  if (! equal63(true, _x307.foo)) {
    failed = failed + 1;
    var _x308 = [];
    _x308.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x308.foo));
  } else {
    passed = passed + 1;
  }
  var _a1 = 17;
  var b = [1, 2];
  var _c = {a: 10};
  var _x310 = [];
  _x310.a = 10;
  var d = _x310;
  var _x311 = [];
  _x311.foo = _a1;
  if (! equal63(17, _x311.foo)) {
    failed = failed + 1;
    var _x312 = [];
    _x312.foo = _a1;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x312.foo));
  } else {
    passed = passed + 1;
  }
  var _x313 = [];
  _x313.foo = _a1;
  if (! equal63(2, _35(join(_x313, b)))) {
    failed = failed + 1;
    var _x314 = [];
    _x314.foo = _a1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35(join(_x314, b))));
  } else {
    passed = passed + 1;
  }
  var _x315 = [];
  _x315.foo = _a1;
  if (! equal63(17, _x315.foo)) {
    failed = failed + 1;
    var _x316 = [];
    _x316.foo = _a1;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x316.foo));
  } else {
    passed = passed + 1;
  }
  var _x317 = [1];
  _x317.a = 10;
  if (! equal63(_x317, join([1], _c))) {
    failed = failed + 1;
    var _x319 = [1];
    _x319.a = 10;
    return(\"failed: expected \" + string(_x319) + \", was \" + string(join([1], _c)));
  } else {
    passed = passed + 1;
  }
  var _x321 = [1];
  _x321.a = 10;
  if (! equal63(_x321, join([1], d))) {
    failed = failed + 1;
    var _x323 = [1];
    _x323.a = 10;
    return(\"failed: expected \" + string(_x323) + \", was \" + string(join([1], d)));
  } else {
    passed = passed + 1;
  }
  var _x326 = [];
  _x326.foo = true;
  if (! equal63(true, hd([_x326]).foo)) {
    failed = failed + 1;
    var _x328 = [];
    _x328.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x328]).foo));
  } else {
    passed = passed + 1;
  }
  var _x330 = [];
  _x330.foo = true;
  if (! equal63(true, hd([_x330]).foo)) {
    failed = failed + 1;
    var _x332 = [];
    _x332.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x332]).foo));
  } else {
    passed = passed + 1;
  }
  var _x333 = [];
  _x333.foo = true;
  if (! equal63(true, _x333.foo)) {
    failed = failed + 1;
    var _x334 = [];
    _x334.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x334.foo));
  } else {
    passed = passed + 1;
  }
  var _x336 = [];
  _x336.foo = true;
  if (! equal63(true, join([1, 2, 3], _x336).foo)) {
    failed = failed + 1;
    var _x338 = [];
    _x338.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(join([1, 2, 3], _x338).foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, {foo: true}.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string({foo: true}.foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, {bar: 17}.bar)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string({bar: 17}.bar));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, {baz: function () {
    return(17);
  }}.baz())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string({baz: function () {
      return(17);
    }}.baz()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quasiexpand\", function () {
  if (! equal63(\"a\", macroexpand(\"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(macroexpand(\"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([17], macroexpand([17]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([17]) + \", was \" + string(macroexpand([17])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, \"z\"], macroexpand([1, \"z\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, \"z\"]) + \", was \" + string(macroexpand([1, \"z\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", 1, \"\\\"z\\\"\"], macroexpand([\"quasiquote\", [1, \"z\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", 1, \"\\\"z\\\"\"]) + \", was \" + string(macroexpand([\"quasiquote\", [1, \"z\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", 1, \"z\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", 1, \"z\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"z\", macroexpand([\"quasiquote\", [[\"unquote-splicing\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"z\") + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote-splicing\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"x\", \"y\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"x\"], [\"unquote-splicing\", \"y\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"x\", \"y\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"x\"], [\"unquote-splicing\", \"y\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\", [\"%array\", 2]], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], [\"unquote\", 2]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\", [\"%array\", 2]]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], [\"unquote\", 2]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\", [\"%array\", \"\\\"a\\\"\"]], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], \"a\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\", [\"%array\", \"\\\"a\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], \"a\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"x\\\"\", macroexpand([\"quasiquote\", \"x\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"x\\\"\") + \", was \" + string(macroexpand([\"quasiquote\", \"x\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"], macroexpand([\"quasiquote\", [\"quasiquote\", \"x\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", \"x\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"quasiquote\", \"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"quasiquote\", \"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"x\", macroexpand([\"quasiquote\", [\"unquote\", \"x\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"x\") + \", was \" + string(macroexpand([\"quasiquote\", [\"unquote\", \"x\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quote\\\"\", \"x\"], macroexpand([\"quasiquote\", [\"quote\", [\"unquote\", \"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quote\\\"\", \"x\"]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quote\", [\"unquote\", \"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"x\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"x\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"a\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"unquote\", \"a\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"a\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"unquote\", \"a\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"x\\\"\"]]], macroexpand([\"quasiquote\", [\"quasiquote\", [[\"unquote\", \"x\"]]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"x\\\"\"]]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [[\"unquote\", \"x\"]]]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"calls\", function () {
  var f = function () {
    return(42);
  };
  var l = [f];
  var t = {f: f};
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, l[0]())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(l[0]()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, t.f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(t.f()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, (function () {
    return;
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string((function () {
      return;
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, (function (x) {
    return(x - 2);
  })(12))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string((function (x) {
      return(x - 2);
    })(12)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"id\", function () {
  var a = 10;
  var b = {x: 20};
  var f = function () {
    return(30);
  };
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b.x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b.x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"names\", function () {
  var a33 = 0;
  var b63 = 1;
  var _37 = 2;
  var _4242 = 3;
  var _break = 4;
  if (! equal63(0, a33)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(a33));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, b63)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(b63));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _37)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_37));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _4242)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_4242));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, _break)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(_break));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"set\", function () {
  var a = 42;
  a = \"bar\";
  if (! equal63(\"bar\", a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 10;
  var x = a;
  if (! equal63(10, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = false;
  if (! equal63(false, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = undefined;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"wipe\", function () {
  var _x502 = [];
  _x502.a = true;
  _x502.b = true;
  _x502.c = true;
  var x = _x502;
  delete x.a;
  if (! equal63(undefined, x.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  delete x.c;
  if (! equal63(undefined, x.c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.c));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  delete x.b;
  if (! equal63(undefined, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(x));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"do\", function () {
  var a = 17;
  a = 10;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 2;
  var b = a + 5;
  if (! equal63(a, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(b, 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(7));
  } else {
    passed = passed + 1;
  }
  a = 10;
  a = 20;
  if (! equal63(20, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 10;
  a = 20;
  if (! equal63(20, a)) {
    failed = failed + 1;
    a = 10;
    a = 20;
    return(\"failed: expected \" + string(20) + \", was \" + string(a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"if\", function () {
  if (! equal63(\"a\", macroexpand([\"if\", \"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(macroexpand([\"if\", \"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\"], macroexpand([\"if\", \"a\", \"b\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\"]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", \"c\"], macroexpand([\"if\", \"a\", \"b\", \"c\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", \"c\"]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\"]], macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\"]]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\", \"e\"]], macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\", \"e\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\", \"e\"]]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\", \"e\"])));
  } else {
    passed = passed + 1;
  }
  if (true) {
    if (! equal63(true, true)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(true));
    } else {
      passed = passed + 1;
    }
  } else {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (false) {
      if (! equal63(false, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(false) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (! equal63(true, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(true) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (false) {
      if (! equal63(false, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(false) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (false) {
        if (! equal63(false, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(false) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      } else {
        if (! equal63(true, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(true) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      }
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (true) {
      if (! equal63(true, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(true) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (false) {
        if (! equal63(false, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(false) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      } else {
        if (! equal63(true, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(true) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      }
    }
  }
  var _e17;
  if (true) {
    _e17 = 1;
  } else {
    _e17 = 2;
  }
  if (! equal63(1, _e17)) {
    failed = failed + 1;
    var _e18;
    if (true) {
      _e18 = 1;
    } else {
      _e18 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e18));
  } else {
    passed = passed + 1;
  }
  var _e19;
  var a = 10;
  if (a) {
    _e19 = 1;
  } else {
    _e19 = 2;
  }
  if (! equal63(1, _e19)) {
    failed = failed + 1;
    var _e20;
    var _a2 = 10;
    if (_a2) {
      _e20 = 1;
    } else {
      _e20 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e20));
  } else {
    passed = passed + 1;
  }
  var _e21;
  if (true) {
    var _a3 = 1;
    _e21 = _a3;
  } else {
    _e21 = 2;
  }
  if (! equal63(1, _e21)) {
    failed = failed + 1;
    var _e22;
    if (true) {
      var _a4 = 1;
      _e22 = _a4;
    } else {
      _e22 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e22));
  } else {
    passed = passed + 1;
  }
  var _e23;
  if (false) {
    _e23 = 2;
  } else {
    var _a5 = 1;
    _e23 = _a5;
  }
  if (! equal63(1, _e23)) {
    failed = failed + 1;
    var _e24;
    if (false) {
      _e24 = 2;
    } else {
      var _a6 = 1;
      _e24 = _a6;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e24));
  } else {
    passed = passed + 1;
  }
  var _e25;
  if (false) {
    _e25 = 2;
  } else {
    var _e26;
    if (true) {
      var _a7 = 1;
      _e26 = _a7;
    }
    _e25 = _e26;
  }
  if (! equal63(1, _e25)) {
    failed = failed + 1;
    var _e27;
    if (false) {
      _e27 = 2;
    } else {
      var _e28;
      if (true) {
        var _a8 = 1;
        _e28 = _a8;
      }
      _e27 = _e28;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e27));
  } else {
    passed = passed + 1;
  }
  var _e29;
  if (false) {
    _e29 = 2;
  } else {
    var _e30;
    if (false) {
      _e30 = 3;
    } else {
      var _a9 = 1;
      _e30 = _a9;
    }
    _e29 = _e30;
  }
  if (! equal63(1, _e29)) {
    failed = failed + 1;
    var _e31;
    if (false) {
      _e31 = 2;
    } else {
      var _e32;
      if (false) {
        _e32 = 3;
      } else {
        var _a10 = 1;
        _e32 = _a10;
      }
      _e31 = _e32;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e31));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"case\", function () {
  var x = 10;
  var _e33;
  if (9 === x) {
    _e33 = 9;
  } else {
    var _e34;
    if (10 === x) {
      _e34 = 2;
    } else {
      _e34 = 4;
    }
    _e33 = _e34;
  }
  if (! equal63(2, _e33)) {
    failed = failed + 1;
    var _e35;
    if (9 === x) {
      _e35 = 9;
    } else {
      var _e36;
      if (10 === x) {
        _e36 = 2;
      } else {
        _e36 = 4;
      }
      _e35 = _e36;
    }
    return(\"failed: expected \" + string(2) + \", was \" + string(_e35));
  } else {
    passed = passed + 1;
  }
  var _x528 = \"z\";
  var _e37;
  if (\"z\" === _x528) {
    _e37 = 9;
  } else {
    _e37 = 10;
  }
  if (! equal63(9, _e37)) {
    failed = failed + 1;
    var _e38;
    if (\"z\" === _x528) {
      _e38 = 9;
    } else {
      _e38 = 10;
    }
    return(\"failed: expected \" + string(9) + \", was \" + string(_e38));
  } else {
    passed = passed + 1;
  }
  var _e39;
  if (\"a\" === _x528) {
    _e39 = 1;
  } else {
    var _e40;
    if (\"b\" === _x528) {
      _e40 = 2;
    } else {
      _e40 = 7;
    }
    _e39 = _e40;
  }
  if (! equal63(7, _e39)) {
    failed = failed + 1;
    var _e41;
    if (\"a\" === _x528) {
      _e41 = 1;
    } else {
      var _e42;
      if (\"b\" === _x528) {
        _e42 = 2;
      } else {
        _e42 = 7;
      }
      _e41 = _e42;
    }
    return(\"failed: expected \" + string(7) + \", was \" + string(_e41));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"while\", function () {
  var i = 0;
  while (i < 5) {
    if (i === 3) {
      break;
    } else {
      i = i + 1;
    }
  }
  if (! equal63(3, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 10) {
    i = i + 1;
  }
  if (! equal63(10, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 15) {
    i = i + 1;
  }
  var a;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(15, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(15) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 20) {
    if (i === 19) {
      break;
    } else {
      i = i + 1;
    }
  }
  var b;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(19, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(19) + \", was \" + string(i));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"for\", function () {
  var l = [];
  var i = 0;
  while (i < 5) {
    add(l, i);
    i = i + 1;
  }
  if (! equal63([0, 1, 2, 3, 4], l)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3, 4]) + \", was \" + string(l));
  } else {
    passed = passed + 1;
  }
  var _l = [];
  var i = 0;
  while (i < 2) {
    add(_l, i);
    i = i + 1;
  }
  if (! equal63([0, 1], _l)) {
    failed = failed + 1;
    var _l1 = [];
    var i = 0;
    while (i < 2) {
      add(_l1, i);
      i = i + 1;
    }
    return(\"failed: expected \" + string([0, 1]) + \", was \" + string(_l1));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"table\", function () {
  if (! equal63(10, {a: 10}.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string({a: 10}.a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, {a: true}.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string({a: true}.a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"empty\", function () {
  if (! equal63(true, empty63([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(empty63([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, empty63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(empty63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, empty63([1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63([1])));
  } else {
    passed = passed + 1;
  }
  var _x539 = [];
  _x539.a = true;
  if (! equal63(false, empty63(_x539))) {
    failed = failed + 1;
    var _x540 = [];
    _x540.a = true;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63(_x540)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, empty63({a: true}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63({a: true})));
  } else {
    passed = passed + 1;
  }
  var _x541 = [];
  _x541.b = false;
  if (! equal63(false, empty63(_x541))) {
    failed = failed + 1;
    var _x542 = [];
    _x542.b = false;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63(_x542)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"at\", function () {
  var l = [\"a\", \"b\", \"c\", \"d\"];
  if (! equal63(\"a\", l[0])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(l[0]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", l[1])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(l[1]));
  } else {
    passed = passed + 1;
  }
  l[0] = 9;
  if (! equal63(9, l[0])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(9) + \", was \" + string(l[0]));
  } else {
    passed = passed + 1;
  }
  l[3] = 10;
  if (! equal63(10, l[3])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(l[3]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"get-set\", function () {
  var t = {};
  t.foo = \"bar\";
  if (! equal63(\"bar\", t.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t.foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"bar\", t.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t.foo));
  } else {
    passed = passed + 1;
  }
  var k = \"foo\";
  if (! equal63(\"bar\", t[k])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t[k]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"bar\", t[\"f\" + \"oo\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t[\"f\" + \"oo\"]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"each\", function () {
  var _x547 = [1, 2, 3];
  _x547.a = true;
  _x547.b = false;
  var t = _x547;
  var a = 0;
  var b = 0;
  var _o1 = t;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e43;
    if (numeric63(k)) {
      _e43 = parseInt(k);
    } else {
      _e43 = k;
    }
    var _k = _e43;
    if (number63(_k)) {
      a = a + 1;
    } else {
      b = b + 1;
    }
  }
  if (! equal63(3, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _a11 = 0;
  var _o2 = t;
  var _i2 = undefined;
  for (_i2 in _o2) {
    var x = _o2[_i2];
    var _e44;
    if (numeric63(_i2)) {
      _e44 = parseInt(_i2);
    } else {
      _e44 = _i2;
    }
    var __i2 = _e44;
    _a11 = _a11 + 1;
  }
  if (! equal63(5, _a11)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(_a11));
  } else {
    passed = passed + 1;
  }
  var _x548 = [[1], [2]];
  _x548.b = [3];
  var _t = _x548;
  var _o3 = _t;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var x = _o3[_i3];
    var _e45;
    if (numeric63(_i3)) {
      _e45 = parseInt(_i3);
    } else {
      _e45 = _i3;
    }
    var __i3 = _e45;
    if (! equal63(false, atom63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(false) + \", was \" + string(atom63(x)));
    } else {
      passed = passed + 1;
    }
  }
  var _o4 = _t;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var x = _o4[_i4];
    var _e46;
    if (numeric63(_i4)) {
      _e46 = parseInt(_i4);
    } else {
      _e46 = _i4;
    }
    var __i4 = _e46;
    if (! equal63(false, atom63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(false) + \", was \" + string(atom63(x)));
    } else {
      passed = passed + 1;
    }
  }
  var _o5 = _t;
  var _i5 = undefined;
  for (_i5 in _o5) {
    var _id3 = _o5[_i5];
    var x = _id3[0];
    var _e47;
    if (numeric63(_i5)) {
      _e47 = parseInt(_i5);
    } else {
      _e47 = _i5;
    }
    var __i5 = _e47;
    if (! equal63(true, number63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(number63(x)));
    } else {
      passed = passed + 1;
    }
  }
}]);
add(tests, [\"fn\", function () {
  var f = function (n) {
    return(n + 10);
  };
  if (! equal63(20, f(10))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(f(10)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, f(20))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(f(20)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, (function (n) {
    return(n + 10);
  })(30))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string((function (n) {
      return(n + 10);
    })(30)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 3, 4], map(function (x) {
    return(x + 1);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 3, 4]) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"define\", function () {
  var x = 20;
  var f = function () {
    return(42);
  };
  if (! equal63(20, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
  }
  (function () {
    var f = function () {
      return(38);
    };
    if (! equal63(38, f())) {
      failed = failed + 1;
      return(\"failed: expected \" + string(38) + \", was \" + string(f()));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })();
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"return\", function () {
  var a = (function () {
    return(17);
  })();
  if (! equal63(17, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _a12 = (function () {
    if (true) {
      return(10);
    } else {
      return(20);
    }
  })();
  if (! equal63(10, _a12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a12));
  } else {
    passed = passed + 1;
  }
  var _a13 = (function () {
    while (false) {
      blah();
    }
  })();
  if (! equal63(undefined, _a13)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_a13));
  } else {
    passed = passed + 1;
  }
  var _a14 = 11;
  var b = (function () {
    _a14 = _a14 + 1;
    return(_a14);
  })();
  if (! equal63(12, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, _a14)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(_a14));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"guard\", function () {
  if (! equal63([true, 42], (function () {
    try {
      return([true, 42]);
    }
    catch (_e62) {
      return([false, _e62.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([true, 42]) + \", was \" + string((function () {
      try {
        return([true, 42]);
      }
      catch (_e63) {
        return([false, _e63.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"foo\"], (function () {
    try {
      throw new Error(\"foo\");
      return([true]);
    }
    catch (_e64) {
      return([false, _e64.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"foo\"]) + \", was \" + string((function () {
      try {
        throw new Error(\"foo\");
        return([true]);
      }
      catch (_e65) {
        return([false, _e65.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"foo\"], (function () {
    try {
      throw new Error(\"foo\");
      throw new Error(\"baz\");
      return([true]);
    }
    catch (_e66) {
      return([false, _e66.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"foo\"]) + \", was \" + string((function () {
      try {
        throw new Error(\"foo\");
        throw new Error(\"baz\");
        return([true]);
      }
      catch (_e67) {
        return([false, _e67.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"baz\"], (function () {
    try {
      (function () {
        try {
          throw new Error(\"foo\");
          return([true]);
        }
        catch (_e69) {
          return([false, _e69.message]);
        }
      })();
      throw new Error(\"baz\");
      return([true]);
    }
    catch (_e68) {
      return([false, _e68.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"baz\"]) + \", was \" + string((function () {
      try {
        (function () {
          try {
            throw new Error(\"foo\");
            return([true]);
          }
          catch (_e71) {
            return([false, _e71.message]);
          }
        })();
        throw new Error(\"baz\");
        return([true]);
      }
      catch (_e70) {
        return([false, _e70.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([true, 42], (function () {
    try {
      var _e48;
      if (true) {
        _e48 = 42;
      } else {
        throw new Error(\"baz\");
        _e48 = undefined;
      }
      return([true, _e48]);
    }
    catch (_e72) {
      return([false, _e72.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([true, 42]) + \", was \" + string((function () {
      try {
        var _e49;
        if (true) {
          _e49 = 42;
        } else {
          throw new Error(\"baz\");
          _e49 = undefined;
        }
        return([true, _e49]);
      }
      catch (_e73) {
        return([false, _e73.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"baz\"], (function () {
    try {
      var _e50;
      if (false) {
        _e50 = 42;
      } else {
        throw new Error(\"baz\");
        _e50 = undefined;
      }
      return([true, _e50]);
    }
    catch (_e74) {
      return([false, _e74.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"baz\"]) + \", was \" + string((function () {
      try {
        var _e51;
        if (false) {
          _e51 = 42;
        } else {
          throw new Error(\"baz\");
          _e51 = undefined;
        }
        return([true, _e51]);
      }
      catch (_e75) {
        return([false, _e75.message]);
      }
    })()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let\", function () {
  var a = 10;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _a15 = 10;
  if (! equal63(10, _a15)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a15));
  } else {
    passed = passed + 1;
  }
  var _a16 = 11;
  var b = 12;
  if (! equal63(11, _a16)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(11) + \", was \" + string(_a16));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _a17 = 1;
  if (! equal63(1, _a17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(_a17));
  } else {
    passed = passed + 1;
  }
  var _a18 = 2;
  if (! equal63(2, _a18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_a18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, _a17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(_a17));
  } else {
    passed = passed + 1;
  }
  var _a19 = 1;
  var _a20 = 2;
  var _a21 = 3;
  if (! equal63(_a21, 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a21) + \", was \" + string(3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_a20, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a20) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_a19, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a19) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  var _a22 = 20;
  if (! equal63(20, _a22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_a22));
  } else {
    passed = passed + 1;
  }
  var _a23 = _a22 + 7;
  if (! equal63(27, _a23)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(27) + \", was \" + string(_a23));
  } else {
    passed = passed + 1;
  }
  var _a24 = _a22 + 10;
  if (! equal63(30, _a24)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(_a24));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, _a22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_a22));
  } else {
    passed = passed + 1;
  }
  var _a25 = 10;
  if (! equal63(10, _a25)) {
    failed = failed + 1;
    var _a26 = 10;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a26));
  } else {
    passed = passed + 1;
  }
  var b = 12;
  var _a27 = b;
  if (! equal63(12, _a27)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(_a27));
  } else {
    passed = passed + 1;
  }
  var _a29 = 10;
  var _a28 = _a29;
  if (! equal63(10, _a28)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a28));
  } else {
    passed = passed + 1;
  }
  var _a31 = 0;
  _a31 = 10;
  var _a30 = _a31 + 2 + 3;
  if (! equal63(_a30, 15)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a30) + \", was \" + string(15));
  } else {
    passed = passed + 1;
  }
  (function (zz) {
    if (! equal63(20, zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(20) + \", was \" + string(zz));
    } else {
      passed = passed + 1;
    }
    var _zz = 21;
    if (! equal63(21, _zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(21) + \", was \" + string(_zz));
    } else {
      passed = passed + 1;
    }
    if (! equal63(20, zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(20) + \", was \" + string(zz));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })(20);
  var q = 9;
  return((function () {
    var _q = 10;
    if (! equal63(10, _q)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(10) + \", was \" + string(_q));
    } else {
      passed = passed + 1;
    }
    if (! equal63(9, q)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(9) + \", was \" + string(q));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })());
}]);
add(tests, [\"with\", function () {
  var x = 9;
  x = x + 1;
  if (! equal63(10, x)) {
    failed = failed + 1;
    var _x588 = 9;
    _x588 = _x588 + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_x588));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-when\", function () {
  var _y = \"a\" === \"b\";
  var _e52;
  if (_y) {
    var frips = _y;
    _e52 = 19;
  }
  if (! equal63(undefined, _e52)) {
    failed = failed + 1;
    var _y1 = \"a\" === \"b\";
    var _e53;
    if (_y1) {
      var frips = _y1;
      _e53 = 19;
    }
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_e53));
  } else {
    passed = passed + 1;
  }
  var _y2 = 20;
  var _e54;
  if (_y2) {
    var frips = _y2;
    _e54 = frips - 1;
  }
  if (! equal63(19, _e54)) {
    failed = failed + 1;
    var _y3 = 20;
    var _e55;
    if (_y3) {
      var frips = _y3;
      _e55 = frips - 1;
    }
    return(\"failed: expected \" + string(19) + \", was \" + string(_e55));
  } else {
    passed = passed + 1;
  }
  var _y4 = [19, 20];
  var _e56;
  if (_y4) {
    var _id4 = _y4;
    var a = _id4[0];
    var b = _id4[1];
    _e56 = b;
  }
  if (! equal63(20, _e56)) {
    failed = failed + 1;
    var _y5 = [19, 20];
    var _e57;
    if (_y5) {
      var _id5 = _y5;
      var a = _id5[0];
      var b = _id5[1];
      _e57 = b;
    }
    return(\"failed: expected \" + string(20) + \", was \" + string(_e57));
  } else {
    passed = passed + 1;
  }
  var _y6 = undefined;
  var _e58;
  if (_y6) {
    var _id6 = _y6;
    var a = _id6[0];
    var b = _id6[1];
    _e58 = b;
  }
  if (! equal63(undefined, _e58)) {
    failed = failed + 1;
    var _y7 = undefined;
    var _e59;
    if (_y7) {
      var _id7 = _y7;
      var a = _id7[0];
      var b = _id7[1];
      _e59 = b;
    }
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_e59));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
var zzop = 99;
var zzap = 100;
var _zzop = 10;
var _zzap = _zzop + 10;
var _x592 = [1, 2, 3];
_x592.a = 10;
_x592.b = 20;
var _id8 = _x592;
var zza = _id8[0];
var zzb = _id8[1];
add(tests, [\"let-toplevel1\", function () {
  if (! equal63(10, _zzop)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_zzop));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, _zzap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_zzap));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, zza)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(zza));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, zzb)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(zzb));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-toplevel\", function () {
  if (! equal63(99, zzop)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(zzop));
  } else {
    passed = passed + 1;
  }
  if (! equal63(100, zzap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(100) + \", was \" + string(zzap));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reserved\", function () {
  var _end = \"zz\";
  var _try = \"yy\";
  var _return = 99;
  if (! equal63(\"zz\", _end)) {
    failed = failed + 1;
    _return(\"failed: expected \" + string(\"zz\") + \", was \" + string(_end));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"yy\", _try)) {
    failed = failed + 1;
    _return(\"failed: expected \" + string(\"yy\") + \", was \" + string(_try));
  } else {
    passed = passed + 1;
  }
  if (! equal63(99, _return)) {
    failed = failed + 1;
    return(_return(\"failed: expected \" + string(99) + \", was \" + string(_return)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"destructuring\", function () {
  var _id9 = [1, 2, 3];
  var a = _id9[0];
  var b = _id9[1];
  var c = _id9[2];
  if (! equal63(1, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  var _id10 = [1, [2, [3], 4]];
  var w = _id10[0];
  var _id11 = _id10[1];
  var x = _id11[0];
  var _id12 = _id11[1];
  var y = _id12[0];
  var z = _id11[2];
  if (! equal63(1, w)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(w));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, y)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(y));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, z)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(z));
  } else {
    passed = passed + 1;
  }
  var _id13 = [1, 2, 3, 4];
  var a = _id13[0];
  var b = _id13[1];
  var c = cut(_id13, 2);
  if (! equal63([3, 4], c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  var _id14 = [1, [2, 3, 4], 5, 6, 7];
  var w = _id14[0];
  var _id15 = _id14[1];
  var x = _id15[0];
  var y = cut(_id15, 1);
  var z = cut(_id14, 2);
  if (! equal63([3, 4], y)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string(y));
  } else {
    passed = passed + 1;
  }
  if (! equal63([5, 6, 7], z)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([5, 6, 7]) + \", was \" + string(z));
  } else {
    passed = passed + 1;
  }
  var _id16 = {foo: 99};
  var foo = _id16.foo;
  if (! equal63(99, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  var _x610 = [];
  _x610.foo = 99;
  var _id17 = _x610;
  var foo = _id17.foo;
  if (! equal63(99, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  var _id18 = {foo: 99};
  var a = _id18.foo;
  if (! equal63(99, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _id19 = {foo: [98, 99]};
  var _id20 = _id19.foo;
  var a = _id20[0];
  var b = _id20[1];
  if (! equal63(98, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(98) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(99, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _x612 = [99];
  _x612.baz = true;
  var _id21 = {foo: 42, bar: _x612};
  var foo = _id21.foo;
  var _id22 = _id21.bar;
  var baz = _id22.baz;
  if (! equal63(42, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, baz)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(baz));
  } else {
    passed = passed + 1;
  }
  var _x614 = [20];
  _x614.foo = 17;
  var _x613 = [10, _x614];
  _x613.bar = [1, 2, 3];
  var _id23 = _x613;
  var a = _id23[0];
  var _id24 = _id23[1];
  var b = _id24[0];
  var foo = _id24.foo;
  var bar = _id23.bar;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], bar)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(bar));
  } else {
    passed = passed + 1;
  }
  var yy = [1, 2, 3];
  var _id25 = yy;
  var xx = _id25[0];
  var _yy = _id25[1];
  var zz = cut(_id25, 2);
  if (! equal63(1, xx)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(xx));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _yy)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_yy));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3], zz)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3]) + \", was \" + string(zz));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-macro\", function () {
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, 32 + 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(32 + 10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  var b = function () {
    return(20);
  };
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 1 + 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(1 + 1));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-symbol\", function () {
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 10 + 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(10 + 7));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  var b = 20;
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"define-symbol\", function () {
  setenv(\"zzz\", {_stash: true, symbol: 42});
  if (! equal63(42, 42)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(42));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"macros-and-symbols\", function () {
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"macros-and-let\", function () {
  var a = 10;
  if (! equal63(a, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, 12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(12));
  } else {
    passed = passed + 1;
  }
  if (! equal63(a, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  var b = 20;
  if (! equal63(b, 20)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(20));
  } else {
    passed = passed + 1;
  }
  if (! equal63(22, 22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(22) + \", was \" + string(22));
  } else {
    passed = passed + 1;
  }
  if (! equal63(b, 20)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(20));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, 30)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(30));
  } else {
    passed = passed + 1;
  }
  var _c1 = 32;
  if (! equal63(32, _c1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(32) + \", was \" + string(_c1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, 30)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(30));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, 40)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string(40));
  } else {
    passed = passed + 1;
  }
  var _d = 42;
  if (! equal63(42, _d)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(_d));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, 40)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string(40));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-unique\", function () {
  var ham = unique(\"ham\");
  var chap = unique(\"chap\");
  if (! equal63(\"_ham\", ham)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_ham\") + \", was \" + string(ham));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"_chap\", chap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_chap\") + \", was \" + string(chap));
  } else {
    passed = passed + 1;
  }
  var _ham = unique(\"ham\");
  if (! equal63(\"_ham1\", _ham)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_ham1\") + \", was \" + string(_ham));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"literals\", function () {
  if (! equal63(true, true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, -inf < -10000000000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(-inf < -10000000000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, inf < -10000000000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(inf < -10000000000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, nan === nan)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(nan === nan));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(nan))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(nan)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(nan * 20))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(nan * 20)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(-inf, - inf)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-inf) + \", was \" + string(- inf));
  } else {
    passed = passed + 1;
  }
  if (! equal63(inf, - -inf)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(inf) + \", was \" + string(- -inf));
  } else {
    passed = passed + 1;
  }
  var Inf = 1;
  var NaN = 2;
  var _Inf = \"a\";
  var _NaN = \"b\";
  if (! equal63(Inf, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(Inf) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(NaN, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(NaN) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_Inf, \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_Inf) + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_NaN, \"b\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_NaN) + \", was \" + string(\"b\"));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"add\", function () {
  var l = [];
  add(l, \"a\");
  add(l, \"b\");
  add(l, \"c\");
  if (! equal63([\"a\", \"b\", \"c\"], l)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"c\"]) + \", was \" + string(l));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, add([], \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(add([], \"a\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"drop\", function () {
  var l = [\"a\", \"b\", \"c\"];
  if (! equal63(\"c\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"c\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"last\", function () {
  if (! equal63(3, last([1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(last([1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, last([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(last([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"c\", last([\"a\", \"b\", \"c\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"c\") + \", was \" + string(last([\"a\", \"b\", \"c\"])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"join\", function () {
  if (! equal63([1, 2, 3], join([1, 2], [3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(join([1, 2], [3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2], join([], [1, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2]) + \", was \" + string(join([], [1, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join([], []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join([], [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join(undefined, undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join(undefined, undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join(undefined, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join(undefined, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], join([1], undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(join([1], undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join([\"a\"], []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join([\"a\"], [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join(undefined, [\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join(undefined, [\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join([\"a\"])));
  } else {
    passed = passed + 1;
  }
  var _x672 = [\"a\"];
  _x672.b = true;
  if (! equal63(_x672, join([\"a\"], {b: true}))) {
    failed = failed + 1;
    var _x674 = [\"a\"];
    _x674.b = true;
    return(\"failed: expected \" + string(_x674) + \", was \" + string(join([\"a\"], {b: true})));
  } else {
    passed = passed + 1;
  }
  var _x676 = [\"a\", \"b\"];
  _x676.b = true;
  var _x678 = [\"b\"];
  _x678.b = true;
  if (! equal63(_x676, join([\"a\"], _x678))) {
    failed = failed + 1;
    var _x679 = [\"a\", \"b\"];
    _x679.b = true;
    var _x681 = [\"b\"];
    _x681.b = true;
    return(\"failed: expected \" + string(_x679) + \", was \" + string(join([\"a\"], _x681)));
  } else {
    passed = passed + 1;
  }
  var _x682 = [\"a\"];
  _x682.b = 10;
  var _x683 = [\"a\"];
  _x683.b = true;
  if (! equal63(_x682, join(_x683, {b: 10}))) {
    failed = failed + 1;
    var _x684 = [\"a\"];
    _x684.b = 10;
    var _x685 = [\"a\"];
    _x685.b = true;
    return(\"failed: expected \" + string(_x684) + \", was \" + string(join(_x685, {b: 10})));
  } else {
    passed = passed + 1;
  }
  var _x686 = [];
  _x686.b = 10;
  var _x687 = [];
  _x687.b = 10;
  if (! equal63(_x686, join({b: true}, _x687))) {
    failed = failed + 1;
    var _x688 = [];
    _x688.b = 10;
    var _x689 = [];
    _x689.b = 10;
    return(\"failed: expected \" + string(_x688) + \", was \" + string(join({b: true}, _x689)));
  } else {
    passed = passed + 1;
  }
  var _x690 = [\"a\"];
  _x690.b = 1;
  var _x691 = [\"b\"];
  _x691.c = 2;
  var t = join(_x690, _x691);
  if (! equal63(1, t.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(t.b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, t.c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(t.c));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", t[1])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(t[1]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reverse\", function () {
  if (! equal63([], reverse([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(reverse([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 2, 1], reverse([1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 2, 1]) + \", was \" + string(reverse([1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  var _x697 = [3, 2, 1];
  _x697.a = true;
  var _x698 = [1, 2, 3];
  _x698.a = true;
  if (! equal63(_x697, reverse(_x698))) {
    failed = failed + 1;
    var _x699 = [3, 2, 1];
    _x699.a = true;
    var _x700 = [1, 2, 3];
    _x700.a = true;
    return(\"failed: expected \" + string(_x699) + \", was \" + string(reverse(_x700)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"map\", function () {
  if (! equal63([], map(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(map(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], map(function (x) {
    return(x);
  }, [1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(map(function (x) {
      return(x);
    }, [1])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 3, 4], map(function (x) {
    return(x + 1);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 3, 4]) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  var _x710 = [2, 3, 4];
  _x710.a = 5;
  var _x711 = [1, 2, 3];
  _x711.a = 4;
  if (! equal63(_x710, map(function (x) {
    return(x + 1);
  }, _x711))) {
    failed = failed + 1;
    var _x712 = [2, 3, 4];
    _x712.a = 5;
    var _x713 = [1, 2, 3];
    _x713.a = 4;
    return(\"failed: expected \" + string(_x712) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, _x713)));
  } else {
    passed = passed + 1;
  }
  var _x714 = [];
  _x714.a = true;
  var _x715 = [];
  _x715.a = true;
  if (! equal63(_x714, map(function (x) {
    return(x);
  }, _x715))) {
    failed = failed + 1;
    var _x716 = [];
    _x716.a = true;
    var _x717 = [];
    _x717.a = true;
    return(\"failed: expected \" + string(_x716) + \", was \" + string(map(function (x) {
      return(x);
    }, _x717)));
  } else {
    passed = passed + 1;
  }
  var _x718 = [];
  _x718.b = false;
  var _x719 = [];
  _x719.b = false;
  if (! equal63(_x718, map(function (x) {
    return(x);
  }, _x719))) {
    failed = failed + 1;
    var _x720 = [];
    _x720.b = false;
    var _x721 = [];
    _x721.b = false;
    return(\"failed: expected \" + string(_x720) + \", was \" + string(map(function (x) {
      return(x);
    }, _x721)));
  } else {
    passed = passed + 1;
  }
  var _x722 = [];
  _x722.a = true;
  _x722.b = false;
  var _x723 = [];
  _x723.a = true;
  _x723.b = false;
  if (! equal63(_x722, map(function (x) {
    return(x);
  }, _x723))) {
    failed = failed + 1;
    var _x724 = [];
    _x724.a = true;
    _x724.b = false;
    var _x725 = [];
    _x725.a = true;
    _x725.b = false;
    return(\"failed: expected \" + string(_x724) + \", was \" + string(map(function (x) {
      return(x);
    }, _x725)));
  } else {
    passed = passed + 1;
  }
  var evens = function (x) {
    if (x % 2 === 0) {
      return(x);
    }
  };
  if (! equal63([2, 4, 6], map(evens, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 4, 6]) + \", was \" + string(map(evens, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
  }
  var _x730 = [2, 4, 6];
  _x730.b = 8;
  var _x731 = [1, 2, 3, 4, 5, 6];
  _x731.a = 7;
  _x731.b = 8;
  if (! equal63(_x730, map(evens, _x731))) {
    failed = failed + 1;
    var _x732 = [2, 4, 6];
    _x732.b = 8;
    var _x733 = [1, 2, 3, 4, 5, 6];
    _x733.a = 7;
    _x733.b = 8;
    return(\"failed: expected \" + string(_x732) + \", was \" + string(map(evens, _x733)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"cut\", function () {
  if (! equal63([], cut([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(cut([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], cut([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(cut([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"b\", \"c\"], cut([\"a\", \"b\", \"c\"], 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"b\", \"c\"]) + \", was \" + string(cut([\"a\", \"b\", \"c\"], 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"b\", \"c\"], cut([\"a\", \"b\", \"c\", \"d\"], 1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"b\", \"c\"]) + \", was \" + string(cut([\"a\", \"b\", \"c\", \"d\"], 1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], cut([1, 2, 3], 0, 10))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(cut([1, 2, 3], 0, 10)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], cut([1, 2, 3], -4, 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(cut([1, 2, 3], -4, 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], cut([1, 2, 3], -4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(cut([1, 2, 3], -4)));
  } else {
    passed = passed + 1;
  }
  var _x759 = [2];
  _x759.a = true;
  var _x760 = [1, 2];
  _x760.a = true;
  if (! equal63(_x759, cut(_x760, 1))) {
    failed = failed + 1;
    var _x761 = [2];
    _x761.a = true;
    var _x762 = [1, 2];
    _x762.a = true;
    return(\"failed: expected \" + string(_x761) + \", was \" + string(cut(_x762, 1)));
  } else {
    passed = passed + 1;
  }
  var _x763 = [];
  _x763.a = true;
  _x763.b = 2;
  var _x764 = [];
  _x764.a = true;
  _x764.b = 2;
  if (! equal63(_x763, cut(_x764))) {
    failed = failed + 1;
    var _x765 = [];
    _x765.a = true;
    _x765.b = 2;
    var _x766 = [];
    _x766.a = true;
    _x766.b = 2;
    return(\"failed: expected \" + string(_x765) + \", was \" + string(cut(_x766)));
  } else {
    passed = passed + 1;
  }
  var t = [1, 2, 3];
  if (! equal63([], cut(t, _35(t)))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(cut(t, _35(t))));
  } else {
    passed = passed + 1;
  }
  var _x768 = [1, 2, 3];
  _x768.a = true;
  var _t1 = _x768;
  var _x769 = [];
  _x769.a = true;
  if (! equal63(_x769, cut(_t1, _35(_t1)))) {
    failed = failed + 1;
    var _x770 = [];
    _x770.a = true;
    return(\"failed: expected \" + string(_x770) + \", was \" + string(cut(_t1, _35(_t1))));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"clip\", function () {
  if (! equal63(\"uux\", clip(\"quux\", 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"uux\") + \", was \" + string(clip(\"quux\", 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"uu\", clip(\"quux\", 1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"uu\") + \", was \" + string(clip(\"quux\", 1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\", clip(\"quux\", 5))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\") + \", was \" + string(clip(\"quux\", 5)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"ab\", clip(\"ab\", 0, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"ab\") + \", was \" + string(clip(\"ab\", 0, 4)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"ab\", clip(\"ab\", -4, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"ab\") + \", was \" + string(clip(\"ab\", -4, 4)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", clip(\"ab\", -1, 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(clip(\"ab\", -1, 1)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"search\", function () {
  if (! equal63(undefined, search(\"\", \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"\", \"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"a\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"a\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"abc\", \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"abc\", \"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, search(\"abcd\", \"cd\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(search(\"abcd\", \"cd\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, search(\"abcd\", \"ce\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"abcd\", \"ce\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, search(\"abc\", \"z\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"abc\", \"z\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"split\", function () {
  if (! equal63([], split(\"\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(split(\"\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], split(\"\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(split(\"\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], split(\"a\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(split(\"a\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"\"], split(\"a,\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"\"]) + \", was \" + string(split(\"a,\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\"], split(\"a,b\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\"]) + \", was \" + string(split(\"a,b\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\", \"\"], split(\"a,b,\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"\"]) + \", was \" + string(split(\"a,b,\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\"], split(\"azzb\", \"zz\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\"]) + \", was \" + string(split(\"azzb\", \"zz\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\", \"\"], split(\"azzbzz\", \"zz\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"\"]) + \", was \" + string(split(\"azzbzz\", \"zz\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reduce\", function () {
  if (! equal63(\"a\", reduce(function (a, b) {
    return(a + b);
  }, [\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(reduce(function (a, b) {
      return(a + b);
    }, [\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, reduce(function (a, b) {
    return(a + b);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(reduce(function (a, b) {
      return(a + b);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, [2, 3]], reduce(function (a, b) {
    return([a, b]);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, [2, 3]]) + \", was \" + string(reduce(function (a, b) {
      return([a, b]);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3, 4, 5], reduce(function (a, b) {
    return(join(a, b));
  }, [[1], [2, 3], [4, 5]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3, 4, 5]) + \", was \" + string(reduce(function (a, b) {
      return(join(a, b));
    }, [[1], [2, 3], [4, 5]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"keep\", function () {
  if (! equal63([], keep(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(keep(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  var even = function (x) {
    return(x % 2 === 0);
  };
  if (! equal63([6], keep(even, [5, 6, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([6]) + \", was \" + string(keep(even, [5, 6, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[1], [2, 3]], keep(some63, [[], [1], [], [2, 3]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1], [2, 3]]) + \", was \" + string(keep(some63, [[], [1], [], [2, 3]])));
  } else {
    passed = passed + 1;
  }
  var even63 = function (x) {
    return(x % 2 === 0);
  };
  if (! equal63([2, 4, 6], keep(even63, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 4, 6]) + \", was \" + string(keep(even63, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
  }
  var _x834 = [2, 4, 6];
  _x834.b = 8;
  var _x835 = [1, 2, 3, 4, 5, 6];
  _x835.a = 7;
  _x835.b = 8;
  if (! equal63(_x834, keep(even63, _x835))) {
    failed = failed + 1;
    var _x836 = [2, 4, 6];
    _x836.b = 8;
    var _x837 = [1, 2, 3, 4, 5, 6];
    _x837.a = 7;
    _x837.b = 8;
    return(\"failed: expected \" + string(_x836) + \", was \" + string(keep(even63, _x837)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"in?\", function () {
  if (! equal63(true, in63(\"x\", [\"x\", \"y\", \"z\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(\"x\", [\"x\", \"y\", \"z\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, in63(7, [5, 6, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, [5, 6, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, in63(\"baz\", [\"no\", \"can\", \"do\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(in63(\"baz\", [\"no\", \"can\", \"do\"])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"find\", function () {
  if (! equal63(undefined, find(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(find(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, find(function (x) {
    return(x);
  }, [7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(find(function (x) {
      return(x);
    }, [7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, find(function (x) {
    return(x === 7);
  }, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === 7);
    }, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  var _x850 = [2, 4];
  _x850.foo = 7;
  if (! equal63(true, find(function (x) {
    return(x === 7);
  }, _x850))) {
    failed = failed + 1;
    var _x851 = [2, 4];
    _x851.foo = 7;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === 7);
    }, _x851)));
  } else {
    passed = passed + 1;
  }
  var _x852 = [2, 4];
  _x852.bar = true;
  if (! equal63(true, find(function (x) {
    return(x === true);
  }, _x852))) {
    failed = failed + 1;
    var _x853 = [2, 4];
    _x853.bar = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === true);
    }, _x853)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, in63(7, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  var _x856 = [2, 4];
  _x856.foo = 7;
  if (! equal63(true, in63(7, _x856))) {
    failed = failed + 1;
    var _x857 = [2, 4];
    _x857.foo = 7;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, _x857)));
  } else {
    passed = passed + 1;
  }
  var _x858 = [2, 4];
  _x858.bar = true;
  if (! equal63(true, in63(true, _x858))) {
    failed = failed + 1;
    var _x859 = [2, 4];
    _x859.bar = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(true, _x859)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"find\", function () {
  if (! equal63(undefined, first(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(first(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, first(function (x) {
    return(x);
  }, [7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(first(function (x) {
      return(x);
    }, [7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, first(function (x) {
    return(x === 7);
  }, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(first(function (x) {
      return(x === 7);
    }, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, first(function (x) {
    return(x > 3 && x);
  }, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(first(function (x) {
      return(x > 3 && x);
    }, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"sort\", function () {
  if (! equal63([\"a\", \"b\", \"c\"], sort([\"c\", \"a\", \"b\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"c\"]) + \", was \" + string(sort([\"c\", \"a\", \"b\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 2, 1], sort([1, 2, 3], _62))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 2, 1]) + \", was \" + string(sort([1, 2, 3], _62)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"type\", function () {
  if (! equal63(true, string63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(string63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, number63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(number63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, boolean63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(boolean63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(42))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(42)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63(function () {
  }))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63(function () {
    })));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63([1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63([1])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63({})));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"apply\", function () {
  if (! equal63(4, apply(function (a, b) {
    return(a + b);
  }, [2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(apply(function (a, b) {
      return(a + b);
    }, [2, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 2], apply(function () {
    var a = unstash(Array.prototype.slice.call(arguments, 0));
    return(a);
  }, [2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 2]) + \", was \" + string(apply(function () {
      var a = unstash(Array.prototype.slice.call(arguments, 0));
      return(a);
    }, [2, 2])));
  } else {
    passed = passed + 1;
  }
  var t = [1];
  t.foo = 17;
  if (! equal63(17, apply(function () {
    var a = unstash(Array.prototype.slice.call(arguments, 0));
    return(a.foo);
  }, t))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(apply(function () {
      var a = unstash(Array.prototype.slice.call(arguments, 0));
      return(a.foo);
    }, t)));
  } else {
    passed = passed + 1;
  }
  var _x893 = [];
  _x893.foo = 42;
  if (! equal63(42, apply(function () {
    var _r180 = unstash(Array.prototype.slice.call(arguments, 0));
    var _id26 = _r180;
    var foo = _id26.foo;
    return(foo);
  }, _x893))) {
    failed = failed + 1;
    var _x894 = [];
    _x894.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string(apply(function () {
      var _r181 = unstash(Array.prototype.slice.call(arguments, 0));
      var _id27 = _r181;
      var foo = _id27.foo;
      return(foo);
    }, _x894)));
  } else {
    passed = passed + 1;
  }
  var _x897 = [];
  _x897.foo = 42;
  if (! equal63(42, apply(function (_x895) {
    var _id28 = _x895;
    var foo = _id28.foo;
    return(foo);
  }, [_x897]))) {
    failed = failed + 1;
    var _x900 = [];
    _x900.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string(apply(function (_x898) {
      var _id29 = _x898;
      var foo = _id29.foo;
      return(foo);
    }, [_x900])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"eval\", function () {
  var eval = compiler.eval;
  if (! equal63(4, eval([\"+\", 2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(eval([\"+\", 2, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(5, eval([\"let\", \"a\", 3, [\"+\", 2, \"a\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(eval([\"let\", \"a\", 3, [\"+\", 2, \"a\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(9, eval([\"do\", [\"define\", \"x\", 7], [\"+\", \"x\", 2]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(9) + \", was \" + string(eval([\"do\", [\"define\", \"x\", 7], [\"+\", \"x\", 2]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, eval([\"apply\", \"+\", [\"quote\", [1, 2, 3]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(eval([\"apply\", \"+\", [\"quote\", [1, 2, 3]]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"call\", function () {
  var f = function () {
    return(42);
  };
  if (! equal63(42, call(f))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(call(f)));
  } else {
    passed = passed + 1;
  }
  var fs = [function () {
    return(1);
  }, function () {
    return(10);
  }];
  if (! equal63([1, 10], map(call, fs))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 10]) + \", was \" + string(map(call, fs)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"parameters\", function () {
  if (! equal63(42, (function (_x925) {
    var _id30 = _x925;
    var a = _id30[0];
    return(a);
  })([42]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string((function (_x927) {
      var _id31 = _x927;
      var a = _id31[0];
      return(a);
    })([42])));
  } else {
    passed = passed + 1;
  }
  var f = function (a, _x929) {
    var _id32 = _x929;
    var b = _id32[0];
    var c = _id32[1];
    return([a, b, c]);
  };
  if (! equal63([1, 2, 3], f(1, [2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(f(1, [2, 3])));
  } else {
    passed = passed + 1;
  }
  var _f = function (a, _x935) {
    var _id33 = _x935;
    var b = _id33[0];
    var c = cut(_id33, 1);
    var _r193 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id34 = _r193;
    var d = cut(_id34, 0);
    return([a, b, c, d]);
  };
  if (! equal63([1, 2, [3, 4], [5, 6, 7]], _f(1, [2, 3, 4], 5, 6, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, [3, 4], [5, 6, 7]]) + \", was \" + string(_f(1, [2, 3, 4], 5, 6, 7)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 4], (function (a, b) {
    var _r194 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id35 = _r194;
    var c = cut(_id35, 0);
    return(c);
  })(1, 2, 3, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string((function (a, b) {
      var _r195 = unstash(Array.prototype.slice.call(arguments, 2));
      var _id36 = _r195;
      var c = cut(_id36, 0);
      return(c);
    })(1, 2, 3, 4)));
  } else {
    passed = passed + 1;
  }
  var _f1 = function (w, _x947) {
    var _id37 = _x947;
    var x = _id37[0];
    var y = cut(_id37, 1);
    var _r196 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id38 = _r196;
    var z = cut(_id38, 0);
    return([y, z]);
  };
  if (! equal63([[3, 4], [5, 6, 7]], _f1(1, [2, 3, 4], 5, 6, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[3, 4], [5, 6, 7]]) + \", was \" + string(_f1(1, [2, 3, 4], 5, 6, 7)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, (function () {
    var _r197 = unstash(Array.prototype.slice.call(arguments, 0));
    var _id39 = _r197;
    var foo = _id39.foo;
    return(foo);
  })({_stash: true, foo: 42}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string((function () {
      var _r198 = unstash(Array.prototype.slice.call(arguments, 0));
      var _id40 = _r198;
      var foo = _id40.foo;
      return(foo);
    })({_stash: true, foo: 42})));
  } else {
    passed = passed + 1;
  }
  var _x958 = [];
  _x958.foo = 42;
  if (! equal63(42, (function (_x957) {
    var _id41 = _x957;
    var foo = _id41.foo;
    return(foo);
  })(_x958))) {
    failed = failed + 1;
    var _x960 = [];
    _x960.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string((function (_x959) {
      var _id42 = _x959;
      var foo = _id42.foo;
      return(foo);
    })(_x960)));
  } else {
    passed = passed + 1;
  }
  var _f2 = function (a, _x961) {
    var _id43 = _x961;
    var foo = _id43.foo;
    var _r201 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id44 = _r201;
    var b = _id44.bar;
    return([a, b, foo]);
  };
  var _x964 = [];
  _x964.foo = 42;
  if (! equal63([10, 20, 42], _f2(10, _x964, {_stash: true, bar: 20}))) {
    failed = failed + 1;
    var _x966 = [];
    _x966.foo = 42;
    return(\"failed: expected \" + string([10, 20, 42]) + \", was \" + string(_f2(10, _x966, {_stash: true, bar: 20})));
  } else {
    passed = passed + 1;
  }
  var _f3 = function () {
    var args = unstash(Array.prototype.slice.call(arguments, 0));
    return(args);
  };
  if (! equal63([1, 2, 3], _f3(1, 2, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(_f3(1, 2, 3)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
});

runtime = require(\"runtime\");
reader = require(\"reader\");
compiler = require(\"compiler\");
macros = require(\"macros\");
system = require(\"system\");
main = require(\"main\");
test = require(\"test\");
ac = function (s) {
  if (function63(s)) {
    // extract multiline string from the comments inside the fn.
    s = ml(s);
  }
  // var forms = reader[\"read-all\"](reader.stream(s))
  // var n = _35(forms);
  // var i = 0;
  // var result;
  // var l = [];
  // while (i < n) {
  //   result = compiler.eval(forms[i]);
  //   l.push([forms[i], result]);
  //   i = i + 1;
  // }
  // return l;
  return load(\"editor\", s);
};
setenv(\"define\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-global\"], l));
}})
comp = function (expr) {
  return(print(compile(macroexpand(expr))));
};

reader = require(\"reader\")
reader_stream = reader.stream
read_all = reader[\"read-all\"]
system = require(\"system\")
write = system.write
read_file = system[\"read-file\"]
write_file = system[\"write-file\"]
env = system[\"get-environment-variable\"]
readstr = function (s) {
  return(read_all(reader_stream(s)));
};

load = function (file, str) {
  var _r1211 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id353 = _r1211;
  var verbose = _id353.verbose;
  if (verbose) {
    print(\"Loading \" + file);
  }
  // var _x1556 = readstr(str || read_file(file));
  var s = str || read_file(file);
  var _x1556;
  if (string63(s)) {
  _x1556 = (function () { try { return [true, readstr(s)]; } catch (_e1) {  return([false, _e1.message]); }})();
  } else {
    _x1556 = [true, s];
  }

  var l = [];
  var ok = _x1556[0];
  var x = _x1556[1];
  if (!ok) {
    l.push([s, ok, x]);
    return l;
  }
  _x1556 = _x1556[1];

  var _n131 = _35(_x1556);
  var _i131 = 0;


  while (_i131 < _n131) {
    var expr = _x1556[_i131];
    if (\"1\" === env(\"VERBOSE\")) {
      prn(string(expr));
    }
    if (\"1\" === env(\"COMP\")) {
      prn(comp(expr));
    }
    var _id354 = (function () {
      try {
        return([true, eval(expr)]);
      }
      catch (_e91) {
        return([false, _e91.message]);
      }
    })();
    var ok = _id354[0];
    var x = _id354[1];
    if (! ok) {
      prn(\"Error in \", file, \": \");
      prn(\"   \", x);
      prn(\"The error occurred while evaluating: \");
      prn(expr);
    }
    l.push([expr, ok, x]);
    _i131 = _i131 + 1;
  }
  return l;
};

setenv(\"mac\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-macro\"], l));
}})
setenv(\"macex\", {_stash: true, macro: function (e) {
  return([\"macroexpand\", e]);
}})
setenv(\"len\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"#\"], l));
}})
setenv(\"letmac\", {_stash: true, macro: function (name, args, body) {
  var _r1220 = unstash(Array.prototype.slice.call(arguments, 3));
  var _id358 = _r1220;
  var l = cut(_id358, 0);
  return(join([\"let-macro\", [[name, args, body]]], l));
}})
setenv(\"def\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-global\"], l));
}})
idfn = function (x) {
  return(x);
}
setenv(\"w/uniq\", {_stash: true, macro: function (x) {
  var _r1226 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id362 = _r1226;
  var body = cut(_id362, 0);
  if (atom63(x)) {
    return(join([\"let-unique\", [x]], body));
  } else {
    return(join([\"let-unique\", x], body));
  }
}})
setenv(\"void\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"do\"], l, [\"nil\"]));
}})
setenv(\"lfn\", {_stash: true, macro: function (name, args, body) {
  var _r1230 = unstash(Array.prototype.slice.call(arguments, 3));
  var _id366 = _r1230;
  var l = cut(_id366, 0);
  var _e95;
  if (some63(l)) {
    _e95 = l;
  } else {
    _e95 = [name];
  }
  return(join([\"let\", name, \"nil\", [\"set\", name, [\"fn\", args, body]]], _e95));
}})
setenv(\"afn\", {_stash: true, macro: function (args, body) {
  var _r1234 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id370 = _r1234;
  var l = cut(_id370, 0);
  return(join([\"lfn\", \"self\", args, body], l));
}})
setenv(\"accum\", {_stash: true, macro: function (name) {
  var _r1238 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id374 = _r1238;
  var body = cut(_id374, 0);
  var g = unique(\"g\");
  return([\"let\", g, join(), join([\"lfn\", name, [\"item\"], [\"add\", g, \"item\"]], body), g]);
}})
setenv(\"acc\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"accum\", \"a\"], l));
}})
setenv(\"nor\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return([\"not\", join([\"or\"], l)]);
}})
lst63 = function (x) {
  return(!( atom63(x) || function63(x)));
};

any63 = function (x) {
  return(lst63(x) && some63(x));
};

setenv(\"iflet\", {_stash: true, macro: function (name) {
  var _r1246 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id381 = _r1246;
  var l = cut(_id381, 0);
  if (some63(l)) {
    var _id382 = l;
    var x = _id382[0];
    var a = _id382[1];
    var bs = cut(_id382, 2);
    var _e99;
    if (one63(l)) {
      _e99 = name;
    } else {
      _e99 = [\"if\", name, a, join([\"iflet\", name], bs)];
    }
    return([\"let\", name, x, _e99]);
  }
}})
setenv(\"whenlet\", {_stash: true, macro: function (name) {
  var _r1250 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id389 = _r1250;
  var l = cut(_id389, 0);
  if (some63(l)) {
    var _id390 = l;
    var x = _id390[0];
    var ys = cut(_id390, 1);
    var _e103;
    if (one63(l)) {
      _e103 = name;
    } else {
      _e103 = join([\"do\"], ys);
    }
    return([\"let\", name, x, _e103]);
  }
}})
setenv(\"aif\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"iflet\", \"it\"], l));
}})
setenv(\"awhen\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"let-when\", \"it\"], l));
}})
setenv(\"repeat\", {_stash: true, macro: function (n) {
  var _r1254 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id394 = _r1254;
  var l = cut(_id394, 0);
  var g = unique(\"g\");
  return(join([\"for\", g, n], l));
}})
atom = function (x) {
  return(atom63(x) || function63(x));
};

acons = function (x) {
  return(! atom(x));
};

car = function (x) {
  if (acons(x) && some63(x)) {
    return(hd(x));
  }
};

cdr = function (x) {
  if (acons(x) && some63(x)) {
    return(tl(x));
  }
};

caar = function (x) {
  return(car(car(x)));
};

cadr = function (x) {
  return(car(cdr(x)));
};

cddr = function (x) {
  return(cdr(cdr(x)));
};

cons = function (x, y) {
  return(join([x], y));
};

copylist = function (xs) {
  var l = [];
  var _o21 = xs;
  var k = undefined;
  for (k in _o21) {
    var v = _o21[k];
    var _e105;
    if (numeric63(k)) {
      _e105 = parseInt(k);
    } else {
      _e105 = k;
    }
    var _k11 = _e105;
    l[_k11] = v;
  }
  return(l);
};

listify = function (x) {
  if (atom63(x)) {
    return([x]);
  } else {
    return(x);
  }
};

intersperse = function (x, lst) {
  var sep = undefined;
  var _g58 = [];
  var a = undefined;
  a = function (item) {
    return(add(_g58, item));
  };
  var _o23 = lst;
  var _i135 = undefined;
  for (_i135 in _o23) {
    var item = _o23[_i135];
    var _e107;
    if (numeric63(_i135)) {
      _e107 = parseInt(_i135);
    } else {
      _e107 = _i135;
    }
    var __i135 = _e107;
    if (sep) {
      a(sep);
    } else {
      sep = x;
    }
    a(item);
  }
  return(_g58);
};

setenv(\"complement\", {_stash: true, macro: function (f) {
  var g = unique(\"g\");
  return([\"fn\", g, [\"not\", [\"apply\", f, g]]]);
}})
testify = function (x) {
  if (function63(x)) {
    return(x);
  } else {
    return(function (_) {
      return(_ === x);
    });
  }
};

keep = function (f, xs) {
  f = testify(f);
  var _g60 = [];
  var a = undefined;
  a = function (item) {
    return(add(_g60, item));
  };
  var _x1703 = xs;
  var _n137 = _35(_x1703);
  var _i137 = 0;
  while (_i137 < _n137) {
    var x = _x1703[_i137];
    if (f(x)) {
      a(x);
    }
    _i137 = _i137 + 1;
  }
  return(_g60);
};

rem = function (f, xs) {
  return(keep(function () {
    var _g62 = unstash(Array.prototype.slice.call(arguments, 0));
    return(! apply(testify(f), _g62));
  }, xs));
};

rev = reverse
str = function (x) {
  if (string63(x)) {
    return(x);
  } else {
    return(string(x));
  }
};

wschars = [\" \", \"\\t\", \"\\n\", \"\\r\"]
ws63 = function (s) {
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    if (in63(c, wschars)) {
      return(true);
    }
    i = i + 1;
  }
};

rtrim = function (s) {
  var _r1298 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id396 = _r1298;
  var f = _id396.f;
  while (some63(s) && (f || ws63)(char(s, edge(s)))) {
    s = clip(s, 0, edge(s));
  }
  return(s);
};

ltrim = function (s) {
  var _r1300 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id398 = _r1300;
  var f = _id398.f;
  while (some63(s) && (f || ws63)(char(s, 0))) {
    s = clip(s, 1, _35(s));
  }
  return(s);
};

trim = function (s) {
  var _r1302 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id400 = _r1302;
  var f = _id400.f;
  return(rtrim(ltrim(s, {_stash: true, f: f}), {_stash: true, f: f}));
};

endswith = function (s, ending) {
  var i = _35(s) - _35(ending);
  return(i === search(s, ending, i));
};

startswith = function (s, prefix) {
  return(search(s, prefix) === 0);
};

pr = function () {
  var _r1308 = unstash(Array.prototype.slice.call(arguments, 0));
  var _id402 = _r1308;
  var sep = _id402.sep;
  var l = cut(_id402, 0);
  var c = undefined;
  if (sep) {
    var _x1708 = l;
    var _n140 = _35(_x1708);
    var _i140 = 0;
    while (_i140 < _n140) {
      var x = _x1708[_i140];
      if (c) {
        write(c);
      } else {
        c = str(sep);
      }
      write(str(x));
      _i140 = _i140 + 1;
    }
  } else {
    var _x1709 = l;
    var _n141 = _35(_x1709);
    var _i141 = 0;
    while (_i141 < _n141) {
      var x = _x1709[_i141];
      write(str(x));
      _i141 = _i141 + 1;
    }
  }
  if (l) {
    return(hd(l));
  }
};

setenv(\"do1\", {_stash: true, macro: function (a) {
  var _r1312 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id406 = _r1312;
  var bs = cut(_id406, 0);
  var g = unique(\"g\");
  return([\"let\", g, a, join([\"do\"], bs), g]);
}})
prn = function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  var _g64 = apply(pr, l);
  pr(\"\\n\");
  return(_g64);
};

filechars = function (path) {
  return(read_file(path));
};

readfile = function (path) {
  return(readstr(filechars(path)));
};

doshell = function () {
  var _args9 = unstash(Array.prototype.slice.call(arguments, 0));
  return(rtrim(shell(apply(cat, intersperse(\" \", _args9)))));
};

mvfile = function (src, dst) {
  doshell(\"mv\", escape(src), escape(dst));
  return(dst);
};

getmod = function (file) {
  return(doshell(\"stat -r\", escape(file), \"| awk '{ print \$3; }'\"));
};

chmod = function (spec, file) {
  return(doshell(\"chmod\", escape(spec), escape(file)));
};

chmodx = function (file) {
  return(chmod(\"+x\", file));
};

writefile = function (path, contents) {
  doshell(\"cp -fp\", escape(path), escape(path + \".tmp\"));
  write_file(path + \".tmp\", contents);
  mvfile(path + \".tmp\", path);
  return(contents);
};

setenv(\"w/file\", {_stash: true, macro: function (v, path) {
  var _r1330 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id410 = _r1330;
  var l = cut(_id410, 0);
  var gp = unique(\"gp\");
  return([\"let\", [gp, path, v, [\"filechars\", gp]], [\"set\", v, join([\"do\"], l)], [\"writefile\", gp, v]]);
}})
args = function () {
  return(split(env(\"cmdline\"), \" \"));
};

host = function () {
  return(env(\"LUMEN_HOST\") || \"\");
};

host63 = function (x) {
  return(search(host(), x));
};

setenv(\"import\", {_stash: true, macro: function (name) {
  return([\"def\", name, [\"require\", [\"quote\", name]]]);
}})

shell = function (cmd) {
  childproc = require(\"child_process\");
  exec = childproc.execSync;
  var o = exec(cmd);
  return(o[\"toString\"]());
};

setenv(\"unquote\", {_stash: true, macro: function (x) {
  return([\"do\", [\"jseval\", [\"quote\", x]]]);
}})

</script>";
    }

    public function getTemplateName()
    {
        return "partials/compiled-scripts.html.twig";
    }

    public function getDebugInfo()
    {
        return array (  19 => 1,);
    }

    /** @deprecated since 1.27 (to be removed in 2.0). Use getSourceContext() instead */
    public function getSource()
    {
        @trigger_error('The '.__METHOD__.' method is deprecated since version 1.27 and will be removed in 2.0. Use getSourceContext() instead.', E_USER_DEPRECATED);

        return $this->getSourceContext()->getCode();
    }

    public function getSourceContext()
    {
        return new Twig_Source("<script>
! function(a) {
    if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = a();
    else {
        if (\"function\" == typeof define && define.amd) return define([], a);
        this.CodeMirror = a()
    }
}(function() {
    \"use strict\";

    function x(a, b) {
        if (!(this instanceof x)) return new x(a, b);
        this.options = b = b ? lg(b) : {}, lg(Cd, b, !1), K(b);
        var c = b.value;
        \"string\" == typeof c && (c = new cf(c, b.mode, null, b.lineSeparator)), this.doc = c;
        var d = new x.inputStyles[b.inputStyle](this),
            e = this.display = new y(a, c, d);
        e.wrapper.CodeMirror = this, G(this), E(this), b.lineWrapping && (this.display.wrapper.className += \" CodeMirror-wrap\"), b.autofocus && !p && e.input.focus(), O(this), this.state = {
            keyMaps: [],
            overlays: [],
            modeGen: 0,
            overwrite: !1,
            delayingBlurEvent: !1,
            focused: !1,
            suppressEdits: !1,
            pasteIncoming: !1,
            cutIncoming: !1,
            selectingText: !1,
            draggingText: !1,
            highlight: new ag,
            keySeq: null,
            specialChars: null
        };
        var i = this;
        f && 11 > g && setTimeout(function() {
            i.display.input.reset(!0)
        }, 20), rc(this), Fg(), Xb(this), this.curOp.forceUpdate = !0, gf(this, c), b.autofocus && !p || i.hasFocus() ? setTimeout(mg(_c, this), 20) : ad(this);
        for (var j in Dd) Dd.hasOwnProperty(j) && Dd[j](this, b[j], Fd);
        T(this), b.finishInit && b.finishInit(this);
        for (var k = 0; k < Jd.length; ++k) Jd[k](this);
        Zb(this), h && b.lineWrapping && \"optimizelegibility\" == getComputedStyle(e.lineDiv).textRendering && (e.lineDiv.style.textRendering = \"auto\")
    }

    function y(a, b, d) {
        var e = this;
        this.input = d, e.scrollbarFiller = tg(\"div\", null, \"CodeMirror-scrollbar-filler\"), e.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"), e.gutterFiller = tg(\"div\", null, \"CodeMirror-gutter-filler\"), e.gutterFiller.setAttribute(\"cm-not-content\", \"true\"), e.lineDiv = tg(\"div\", null, \"CodeMirror-code\"), e.selectionDiv = tg(\"div\", null, null, \"position: relative; z-index: 1\"), e.cursorDiv = tg(\"div\", null, \"CodeMirror-cursors\"), e.measure = tg(\"div\", null, \"CodeMirror-measure\"), e.lineMeasure = tg(\"div\", null, \"CodeMirror-measure\"), e.lineSpace = tg(\"div\", [e.measure, e.lineMeasure, e.selectionDiv, e.cursorDiv, e.lineDiv], null, \"position: relative; outline: none\"), e.mover = tg(\"div\", [tg(\"div\", [e.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\"), e.sizer = tg(\"div\", [e.mover], \"CodeMirror-sizer\"), e.sizerWidth = null, e.heightForcer = tg(\"div\", null, null, \"position: absolute; height: \" + Xf + \"px; width: 1px;\"), e.gutters = tg(\"div\", null, \"CodeMirror-gutters\"), e.lineGutter = null, e.scroller = tg(\"div\", [e.sizer, e.heightForcer, e.gutters], \"CodeMirror-scroll\"), e.scroller.setAttribute(\"tabIndex\", \"-1\"), e.wrapper = tg(\"div\", [e.scrollbarFiller, e.gutterFiller, e.scroller], \"CodeMirror\"), f && 8 > g && (e.gutters.style.zIndex = -1, e.scroller.style.paddingRight = 0), h || c && p || (e.scroller.draggable = !0), a && (a.appendChild ? a.appendChild(e.wrapper) : a(e.wrapper)), e.viewFrom = e.viewTo = b.first, e.reportedViewFrom = e.reportedViewTo = b.first, e.view = [], e.renderedView = null, e.externalMeasured = null, e.viewOffset = 0, e.lastWrapHeight = e.lastWrapWidth = 0, e.updateLineNumbers = null, e.nativeBarWidth = e.barHeight = e.barWidth = 0, e.scrollbarsClipped = !1, e.lineNumWidth = e.lineNumInnerWidth = e.lineNumChars = null, e.alignWidgets = !1, e.cachedCharWidth = e.cachedTextHeight = e.cachedPaddingH = null, e.maxLine = null, e.maxLineLength = 0, e.maxLineChanged = !1, e.wheelDX = e.wheelDY = e.wheelStartX = e.wheelStartY = null, e.shift = !1, e.selForContextMenu = null, e.activeTouch = null, d.init(e)
    }

    function z(a) {
        a.doc.mode = x.getMode(a.options, a.doc.modeOption), A(a)
    }

    function A(a) {
        a.doc.iter(function(a) {
            a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null)
        }), a.doc.frontier = a.doc.first, kb(a, 100), a.state.modeGen++, a.curOp && kc(a)
    }

    function B(a) {
        a.options.lineWrapping ? (Bg(a.display.wrapper, \"CodeMirror-wrap\"), a.display.sizer.style.minWidth = \"\", a.display.sizerWidth = null) : (Ag(a.display.wrapper, \"CodeMirror-wrap\"), J(a)), D(a), kc(a), Hb(a), setTimeout(function() {
            P(a)
        }, 100)
    }

    function C(a) {
        var b = Tb(a.display),
            c = a.options.lineWrapping,
            d = c && Math.max(5, a.display.scroller.clientWidth / Ub(a.display) - 3);
        return function(e) {
            if (ye(a.doc, e)) return 0;
            var f = 0;
            if (e.widgets)
                for (var g = 0; g < e.widgets.length; g++) e.widgets[g].height && (f += e.widgets[g].height);
            return c ? f + (Math.ceil(e.text.length / d) || 1) * b : f + b
        }
    }

    function D(a) {
        var b = a.doc,
            c = C(a);
        b.iter(function(a) {
            var b = c(a);
            b != a.height && lf(a, b)
        })
    }

    function E(a) {
        a.display.wrapper.className = a.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + a.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\"), Hb(a)
    }

    function F(a) {
        G(a), kc(a), setTimeout(function() {
            S(a)
        }, 20)
    }

    function G(a) {
        var b = a.display.gutters,
            c = a.options.gutters;
        vg(b);
        for (var d = 0; d < c.length; ++d) {
            var e = c[d],
                f = b.appendChild(tg(\"div\", null, \"CodeMirror-gutter \" + e));
            \"CodeMirror-linenumbers\" == e && (a.display.lineGutter = f, f.style.width = (a.display.lineNumWidth || 1) + \"px\")
        }
        b.style.display = d ? \"\" : \"none\", H(a)
    }

    function H(a) {
        var b = a.display.gutters.offsetWidth;
        a.display.sizer.style.marginLeft = b + \"px\"
    }

    function I(a) {
        if (0 == a.height) return 0;
        for (var c, b = a.text.length, d = a; c = re(d);) {
            var e = c.find(0, !0);
            d = e.from.line, b += e.from.ch - e.to.ch
        }
        for (d = a; c = se(d);) {
            var e = c.find(0, !0);
            b -= d.text.length - e.from.ch, d = e.to.line, b += d.text.length - e.to.ch
        }
        return b
    }

    function J(a) {
        var b = a.display,
            c = a.doc;
        b.maxLine = hf(c, c.first), b.maxLineLength = I(b.maxLine), b.maxLineChanged = !0, c.iter(function(a) {
            var c = I(a);
            c > b.maxLineLength && (b.maxLineLength = c, b.maxLine = a)
        })
    }

    function K(a) {
        var b = hg(a.gutters, \"CodeMirror-linenumbers\"); - 1 == b && a.lineNumbers ? a.gutters = a.gutters.concat([\"CodeMirror-linenumbers\"]) : b > -1 && !a.lineNumbers && (a.gutters = a.gutters.slice(0), a.gutters.splice(b, 1))
    }

    function L(a) {
        var b = a.display,
            c = b.gutters.offsetWidth,
            d = Math.round(a.doc.height + pb(a.display));
        return {
            clientHeight: b.scroller.clientHeight,
            viewHeight: b.wrapper.clientHeight,
            scrollWidth: b.scroller.scrollWidth,
            clientWidth: b.scroller.clientWidth,
            viewWidth: b.wrapper.clientWidth,
            barLeft: a.options.fixedGutter ? c : 0,
            docHeight: d,
            scrollHeight: d + rb(a) + b.barHeight,
            nativeBarWidth: b.nativeBarWidth,
            gutterWidth: c
        }
    }

    function M(a, b, c) {
        this.cm = c;
        var d = this.vert = tg(\"div\", [tg(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\"),
            e = this.horiz = tg(\"div\", [tg(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");
        a(d), a(e), Lf(d, \"scroll\", function() {
            d.clientHeight && b(d.scrollTop, \"vertical\")
        }), Lf(e, \"scroll\", function() {
            e.clientWidth && b(e.scrollLeft, \"horizontal\")
        }), this.checkedOverlay = !1, f && 8 > g && (this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\")
    }

    function N() {}

    function O(a) {
        a.display.scrollbars && (a.display.scrollbars.clear(), a.display.scrollbars.addClass && Ag(a.display.wrapper, a.display.scrollbars.addClass)), a.display.scrollbars = new x.scrollbarModel[a.options.scrollbarStyle](function(b) {
            a.display.wrapper.insertBefore(b, a.display.scrollbarFiller), Lf(b, \"mousedown\", function() {
                a.state.focused && setTimeout(function() {
                    a.display.input.focus()
                }, 0)
            }), b.setAttribute(\"cm-not-content\", \"true\")
        }, function(b, c) {
            \"horizontal\" == c ? Kc(a, b) : Jc(a, b)
        }, a), a.display.scrollbars.addClass && Bg(a.display.wrapper, a.display.scrollbars.addClass)
    }

    function P(a, b) {
        b || (b = L(a));
        var c = a.display.barWidth,
            d = a.display.barHeight;
        Q(a, b);
        for (var e = 0; 4 > e && c != a.display.barWidth || d != a.display.barHeight; e++) c != a.display.barWidth && a.options.lineWrapping && aa(a), Q(a, L(a)), c = a.display.barWidth, d = a.display.barHeight
    }

    function Q(a, b) {
        var c = a.display,
            d = c.scrollbars.update(b);
        c.sizer.style.paddingRight = (c.barWidth = d.right) + \"px\", c.sizer.style.paddingBottom = (c.barHeight = d.bottom) + \"px\", d.right && d.bottom ? (c.scrollbarFiller.style.display = \"block\", c.scrollbarFiller.style.height = d.bottom + \"px\", c.scrollbarFiller.style.width = d.right + \"px\") : c.scrollbarFiller.style.display = \"\", d.bottom && a.options.coverGutterNextToScrollbar && a.options.fixedGutter ? (c.gutterFiller.style.display = \"block\", c.gutterFiller.style.height = d.bottom + \"px\", c.gutterFiller.style.width = b.gutterWidth + \"px\") : c.gutterFiller.style.display = \"\"
    }

    function R(a, b, c) {
        var d = c && null != c.top ? Math.max(0, c.top) : a.scroller.scrollTop;
        d = Math.floor(d - ob(a));
        var e = c && null != c.bottom ? c.bottom : d + a.wrapper.clientHeight,
            f = nf(b, d),
            g = nf(b, e);
        if (c && c.ensure) {
            var h = c.ensure.from.line,
                i = c.ensure.to.line;
            f > h ? (f = h, g = nf(b, of(hf(b, h)) + a.wrapper.clientHeight)) : Math.min(i, b.lastLine()) >= g && (f = nf(b, of(hf(b, i)) - a.wrapper.clientHeight), g = i)
        }
        return {
            from: f,
            to: Math.max(g, f + 1)
        }
    }

    function S(a) {
        var b = a.display,
            c = b.view;
        if (b.alignWidgets || b.gutters.firstChild && a.options.fixedGutter) {
            for (var d = V(b) - b.scroller.scrollLeft + a.doc.scrollLeft, e = b.gutters.offsetWidth, f = d + \"px\", g = 0; g < c.length; g++)
                if (!c[g].hidden) {
                    a.options.fixedGutter && c[g].gutter && (c[g].gutter.style.left = f);
                    var h = c[g].alignable;
                    if (h)
                        for (var i = 0; i < h.length; i++) h[i].style.left = f
                }
            a.options.fixedGutter && (b.gutters.style.left = d + e + \"px\")
        }
    }

    function T(a) {
        if (!a.options.lineNumbers) return !1;
        var b = a.doc,
            c = U(a.options, b.first + b.size - 1),
            d = a.display;
        if (c.length != d.lineNumChars) {
            var e = d.measure.appendChild(tg(\"div\", [tg(\"div\", c)], \"CodeMirror-linenumber CodeMirror-gutter-elt\")),
                f = e.firstChild.offsetWidth,
                g = e.offsetWidth - f;
            return d.lineGutter.style.width = \"\", d.lineNumInnerWidth = Math.max(f, d.lineGutter.offsetWidth - g) + 1, d.lineNumWidth = d.lineNumInnerWidth + g, d.lineNumChars = d.lineNumInnerWidth ? c.length : -1, d.lineGutter.style.width = d.lineNumWidth + \"px\", H(a), !0
        }
        return !1
    }

    function U(a, b) {
        return String(a.lineNumberFormatter(b + a.firstLineNumber))
    }

    function V(a) {
        return a.scroller.getBoundingClientRect().left - a.sizer.getBoundingClientRect().left
    }

    function W(a, b, c) {
        var d = a.display;
        this.viewport = b, this.visible = R(d, a.doc, b), this.editorIsHidden = !d.wrapper.offsetWidth, this.wrapperHeight = d.wrapper.clientHeight, this.wrapperWidth = d.wrapper.clientWidth, this.oldDisplayWidth = sb(a), this.force = c, this.dims = ca(a), this.events = []
    }

    function X(a) {
        var b = a.display;
        !b.scrollbarsClipped && b.scroller.offsetWidth && (b.nativeBarWidth = b.scroller.offsetWidth - b.scroller.clientWidth, b.heightForcer.style.height = rb(a) + \"px\", b.sizer.style.marginBottom = -b.nativeBarWidth + \"px\", b.sizer.style.borderRightWidth = rb(a) + \"px\", b.scrollbarsClipped = !0)
    }

    function Y(a, b) {
        var c = a.display,
            d = a.doc;
        if (b.editorIsHidden) return mc(a), !1;
        if (!b.force && b.visible.from >= c.viewFrom && b.visible.to <= c.viewTo && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo) && c.renderedView == c.view && 0 == qc(a)) return !1;
        T(a) && (mc(a), b.dims = ca(a));
        var e = d.first + d.size,
            f = Math.max(b.visible.from - a.options.viewportMargin, d.first),
            g = Math.min(e, b.visible.to + a.options.viewportMargin);
        c.viewFrom < f && f - c.viewFrom < 20 && (f = Math.max(d.first, c.viewFrom)), c.viewTo > g && c.viewTo - g < 20 && (g = Math.min(e, c.viewTo)), w && (f = we(a.doc, f), g = xe(a.doc, g));
        var h = f != c.viewFrom || g != c.viewTo || c.lastWrapHeight != b.wrapperHeight || c.lastWrapWidth != b.wrapperWidth;
        pc(a, f, g), c.viewOffset = of(hf(a.doc, c.viewFrom)), a.display.mover.style.top = c.viewOffset + \"px\";
        var i = qc(a);
        if (!h && 0 == i && !b.force && c.renderedView == c.view && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo)) return !1;
        var j = yg();
        return i > 4 && (c.lineDiv.style.display = \"none\"), da(a, c.updateLineNumbers, b.dims), i > 4 && (c.lineDiv.style.display = \"\"), c.renderedView = c.view, j && yg() != j && j.offsetHeight && j.focus(), vg(c.cursorDiv), vg(c.selectionDiv), c.gutters.style.height = c.sizer.style.minHeight = 0, h && (c.lastWrapHeight = b.wrapperHeight, c.lastWrapWidth = b.wrapperWidth, kb(a, 400)), c.updateLineNumbers = null, !0
    }

    function Z(a, b) {
        for (var c = b.viewport, d = !0;
            (d && a.options.lineWrapping && b.oldDisplayWidth != sb(a) || (c && null != c.top && (c = {
                top: Math.min(a.doc.height + pb(a.display) - tb(a), c.top)
            }), b.visible = R(a.display, a.doc, c), !(b.visible.from >= a.display.viewFrom && b.visible.to <= a.display.viewTo))) && Y(a, b); d = !1) {
            aa(a);
            var e = L(a);
            fb(a), _(a, e), P(a, e)
        }
        b.signal(a, \"update\", a), (a.display.viewFrom != a.display.reportedViewFrom || a.display.viewTo != a.display.reportedViewTo) && (b.signal(a, \"viewportChange\", a, a.display.viewFrom, a.display.viewTo), a.display.reportedViewFrom = a.display.viewFrom, a.display.reportedViewTo = a.display.viewTo)
    }

    function \$(a, b) {
        var c = new W(a, b);
        if (Y(a, c)) {
            aa(a), Z(a, c);
            var d = L(a);
            fb(a), _(a, d), P(a, d), c.finish()
        }
    }

    function _(a, b) {
        a.display.sizer.style.minHeight = b.docHeight + \"px\";
        var c = b.docHeight + a.display.barHeight;
        a.display.heightForcer.style.top = c + \"px\", a.display.gutters.style.height = Math.max(c + rb(a), b.clientHeight) + \"px\"
    }

    function aa(a) {
        for (var b = a.display, c = b.lineDiv.offsetTop, d = 0; d < b.view.length; d++) {
            var h, e = b.view[d];
            if (!e.hidden) {
                if (f && 8 > g) {
                    var i = e.node.offsetTop + e.node.offsetHeight;
                    h = i - c, c = i
                } else {
                    var j = e.node.getBoundingClientRect();
                    h = j.bottom - j.top
                }
                var k = e.line.height - h;
                if (2 > h && (h = Tb(b)), (k > .001 || -.001 > k) && (lf(e.line, h), ba(e.line), e.rest))
                    for (var l = 0; l < e.rest.length; l++) ba(e.rest[l])
            }
        }
    }

    function ba(a) {
        if (a.widgets)
            for (var b = 0; b < a.widgets.length; ++b) a.widgets[b].height = a.widgets[b].node.offsetHeight
    }

    function ca(a) {
        for (var b = a.display, c = {}, d = {}, e = b.gutters.clientLeft, f = b.gutters.firstChild, g = 0; f; f = f.nextSibling, ++g) c[a.options.gutters[g]] = f.offsetLeft + f.clientLeft + e, d[a.options.gutters[g]] = f.clientWidth;
        return {
            fixedPos: V(b),
            gutterTotalWidth: b.gutters.offsetWidth,
            gutterLeft: c,
            gutterWidth: d,
            wrapperWidth: b.wrapper.clientWidth
        }
    }

    function da(a, b, c) {
        function i(b) {
            var c = b.nextSibling;
            return h && q && a.display.currentWheelTarget == b ? b.style.display = \"none\" : b.parentNode.removeChild(b), c
        }
        for (var d = a.display, e = a.options.lineNumbers, f = d.lineDiv, g = f.firstChild, j = d.view, k = d.viewFrom, l = 0; l < j.length; l++) {
            var m = j[l];
            if (m.hidden);
            else if (m.node && m.node.parentNode == f) {
                for (; g != m.node;) g = i(g);
                var o = e && null != b && k >= b && m.lineNumber;
                m.changes && (hg(m.changes, \"gutter\") > -1 && (o = !1), ea(a, m, k, c)), o && (vg(m.lineNumber), m.lineNumber.appendChild(document.createTextNode(U(a.options, k)))), g = m.node.nextSibling
            } else {
                var n = ma(a, m, k, c);
                f.insertBefore(n, g)
            }
            k += m.size
        }
        for (; g;) g = i(g)
    }

    function ea(a, b, c, d) {
        for (var e = 0; e < b.changes.length; e++) {
            var f = b.changes[e];
            \"text\" == f ? ia(a, b) : \"gutter\" == f ? ka(a, b, c, d) : \"class\" == f ? ja(b) : \"widget\" == f && la(a, b, d)
        }
        b.changes = null
    }

    function fa(a) {
        return a.node == a.text && (a.node = tg(\"div\", null, null, \"position: relative\"), a.text.parentNode && a.text.parentNode.replaceChild(a.node, a.text), a.node.appendChild(a.text), f && 8 > g && (a.node.style.zIndex = 2)), a.node
    }

    function ga(a) {
        var b = a.bgClass ? a.bgClass + \" \" + (a.line.bgClass || \"\") : a.line.bgClass;
        if (b && (b += \" CodeMirror-linebackground\"), a.background) b ? a.background.className = b : (a.background.parentNode.removeChild(a.background), a.background = null);
        else if (b) {
            var c = fa(a);
            a.background = c.insertBefore(tg(\"div\", null, b), c.firstChild)
        }
    }

    function ha(a, b) {
        var c = a.display.externalMeasured;
        return c && c.line == b.line ? (a.display.externalMeasured = null, b.measure = c.measure, c.built) : Se(a, b)
    }

    function ia(a, b) {
        var c = b.text.className,
            d = ha(a, b);
        b.text == b.node && (b.node = d.pre), b.text.parentNode.replaceChild(d.pre, b.text), b.text = d.pre, d.bgClass != b.bgClass || d.textClass != b.textClass ? (b.bgClass = d.bgClass, b.textClass = d.textClass, ja(b)) : c && (b.text.className = c)
    }

    function ja(a) {
        ga(a), a.line.wrapClass ? fa(a).className = a.line.wrapClass : a.node != a.text && (a.node.className = \"\");
        var b = a.textClass ? a.textClass + \" \" + (a.line.textClass || \"\") : a.line.textClass;
        a.text.className = b || \"\"
    }

    function ka(a, b, c, d) {
        if (b.gutter && (b.node.removeChild(b.gutter), b.gutter = null), b.gutterBackground && (b.node.removeChild(b.gutterBackground), b.gutterBackground = null), b.line.gutterClass) {
            var e = fa(b);
            b.gutterBackground = tg(\"div\", null, \"CodeMirror-gutter-background \" + b.line.gutterClass, \"left: \" + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + \"px; width: \" + d.gutterTotalWidth + \"px\"), e.insertBefore(b.gutterBackground, b.text)
        }
        var f = b.line.gutterMarkers;
        if (a.options.lineNumbers || f) {
            var e = fa(b),
                g = b.gutter = tg(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + \"px\");
            if (a.display.input.setUneditable(g), e.insertBefore(g, b.text), b.line.gutterClass && (g.className += \" \" + b.line.gutterClass), !a.options.lineNumbers || f && f[\"CodeMirror-linenumbers\"] || (b.lineNumber = g.appendChild(tg(\"div\", U(a.options, c), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + a.display.lineNumInnerWidth + \"px\"))), f)
                for (var h = 0; h < a.options.gutters.length; ++h) {
                    var i = a.options.gutters[h],
                        j = f.hasOwnProperty(i) && f[i];
                    j && g.appendChild(tg(\"div\", [j], \"CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[i] + \"px; width: \" + d.gutterWidth[i] + \"px\"))
                }
        }
    }

    function la(a, b, c) {
        b.alignable && (b.alignable = null);
        for (var e, d = b.node.firstChild; d; d = e) {
            var e = d.nextSibling;
            \"CodeMirror-linewidget\" == d.className && b.node.removeChild(d)
        }
        na(a, b, c)
    }

    function ma(a, b, c, d) {
        var e = ha(a, b);
        return b.text = b.node = e.pre, e.bgClass && (b.bgClass = e.bgClass), e.textClass && (b.textClass = e.textClass), ja(b), ka(a, b, c, d), na(a, b, d), b.node
    }

    function na(a, b, c) {
        if (oa(a, b.line, b, c, !0), b.rest)
            for (var d = 0; d < b.rest.length; d++) oa(a, b.rest[d], b, c, !1)
    }

    function oa(a, b, c, d, e) {
        if (b.widgets)
            for (var f = fa(c), g = 0, h = b.widgets; g < h.length; ++g) {
                var i = h[g],
                    j = tg(\"div\", [i.node], \"CodeMirror-linewidget\");
                i.handleMouseEvents || j.setAttribute(\"cm-ignore-events\", \"true\"), pa(i, j, c, d), a.display.input.setUneditable(j), e && i.above ? f.insertBefore(j, c.gutter || c.text) : f.appendChild(j), Rf(i, \"redraw\")
            }
    }

    function pa(a, b, c, d) {
        if (a.noHScroll) {
            (c.alignable || (c.alignable = [])).push(b);
            var e = d.wrapperWidth;
            b.style.left = d.fixedPos + \"px\", a.coverGutter || (e -= d.gutterTotalWidth, b.style.paddingLeft = d.gutterTotalWidth + \"px\"), b.style.width = e + \"px\"
        }
        a.coverGutter && (b.style.zIndex = 5, b.style.position = \"relative\", a.noHScroll || (b.style.marginLeft = -d.gutterTotalWidth + \"px\"))
    }

    function sa(a) {
        return qa(a.line, a.ch)
    }

    function ta(a, b) {
        return ra(a, b) < 0 ? b : a
    }

    function ua(a, b) {
        return ra(a, b) < 0 ? a : b
    }

    function va(a) {
        a.state.focused || (a.display.input.focus(), _c(a))
    }

    function wa(a) {
        return a.options.readOnly || a.doc.cantEdit
    }

    function ya(a, b, c, d, e) {
        var f = a.doc;
        a.display.shift = !1, d || (d = f.sel);
        var g = a.state.pasteIncoming || \"paste\" == e,
            h = f.splitLines(b),
            i = null;
        if (g && d.ranges.length > 1)
            if (xa && xa.join(\"\\n\") == b) {
                if (d.ranges.length % xa.length == 0) {
                    i = [];
                    for (var j = 0; j < xa.length; j++) i.push(f.splitLines(xa[j]))
                }
            } else h.length == d.ranges.length && (i = ig(h, function(a) {
                return [a]
            }));
        for (var j = d.ranges.length - 1; j >= 0; j--) {
            var k = d.ranges[j],
                l = k.from(),
                m = k.to();
            k.empty() && (c && c > 0 ? l = qa(l.line, l.ch - c) : a.state.overwrite && !g && (m = qa(m.line, Math.min(hf(f, m.line).text.length, m.ch + fg(h).length))));
            var n = a.curOp.updateInput,
                o = {
                    from: l,
                    to: m,
                    text: i ? i[j % i.length] : h,
                    origin: e || (g ? \"paste\" : a.state.cutIncoming ? \"cut\" : \"+input\")
                };
            jd(a.doc, o), Rf(a, \"inputRead\", a, o)
        }
        b && !g && Aa(a, b), vd(a), a.curOp.updateInput = n, a.curOp.typing = !0, a.state.pasteIncoming = a.state.cutIncoming = !1
    }

    function za(a, b) {
        var c = a.clipboardData && a.clipboardData.getData(\"text/plain\");
        return c ? (a.preventDefault(), wa(b) || b.options.disableInput || ec(b, function() {
            ya(b, c, 0, null, \"paste\")
        }), !0) : void 0
    }

    function Aa(a, b) {
        if (a.options.electricChars && a.options.smartIndent)
            for (var c = a.doc.sel, d = c.ranges.length - 1; d >= 0; d--) {
                var e = c.ranges[d];
                if (!(e.head.ch > 100 || d && c.ranges[d - 1].head.line == e.head.line)) {
                    var f = a.getModeAt(e.head),
                        g = !1;
                    if (f.electricChars) {
                        for (var h = 0; h < f.electricChars.length; h++)
                            if (b.indexOf(f.electricChars.charAt(h)) > -1) {
                                g = xd(a, e.head.line, \"smart\");
                                break
                            }
                    } else f.electricInput && f.electricInput.test(hf(a.doc, e.head.line).text.slice(0, e.head.ch)) && (g = xd(a, e.head.line, \"smart\"));
                    g && Rf(a, \"electricInput\", a, e.head.line)
                }
            }
    }

    function Ba(a) {
        for (var b = [], c = [], d = 0; d < a.doc.sel.ranges.length; d++) {
            var e = a.doc.sel.ranges[d].head.line,
                f = {
                    anchor: qa(e, 0),
                    head: qa(e + 1, 0)
                };
            c.push(f), b.push(a.getRange(f.anchor, f.head))
        }
        return {
            text: b,
            ranges: c
        }
    }

    function Ca(a) {
        a.setAttribute(\"autocorrect\", \"off\"), a.setAttribute(\"autocapitalize\", \"off\"), a.setAttribute(\"spellcheck\", \"false\")
    }

    function Da(a) {
        this.cm = a, this.prevInput = \"\", this.pollingFast = !1, this.polling = new ag, this.inaccurateSelection = !1, this.hasSelection = !1, this.composing = null
    }

    function Ea() {
        var a = tg(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\"),
            b = tg(\"div\", [a], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");
        return h ? a.style.width = \"1000px\" : a.setAttribute(\"wrap\", \"off\"), o && (a.style.border = \"1px solid black\"), Ca(a), b
    }

    function Fa(a) {
        this.cm = a, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new ag, this.gracePeriod = !1
    }

    function Ga(a, b) {
        var c = yb(a, b.line);
        if (!c || c.hidden) return null;
        var d = hf(a.doc, b.line),
            e = vb(c, d, b.line),
            f = pf(d),
            g = \"left\";
        if (f) {
            var h = ah(f, b.ch);
            g = h % 2 ? \"right\" : \"left\"
        }
        var i = Cb(e.map, b.ch, g);
        return i.offset = \"right\" == i.collapse ? i.end : i.start, i
    }

    function Ha(a, b) {
        return b && (a.bad = !0), a
    }

    function Ia(a, b, c) {
        var d;
        if (b == a.display.lineDiv) {
            if (d = a.display.lineDiv.childNodes[c], !d) return Ha(a.clipPos(qa(a.display.viewTo - 1)), !0);
            b = null, c = 0
        } else
            for (d = b;; d = d.parentNode) {
                if (!d || d == a.display.lineDiv) return null;
                if (d.parentNode && d.parentNode == a.display.lineDiv) break
            }
        for (var e = 0; e < a.display.view.length; e++) {
            var f = a.display.view[e];
            if (f.node == d) return Ja(f, b, c)
        }
    }

    function Ja(a, b, c) {
        function k(b, c, d) {
            for (var e = -1; e < (j ? j.length : 0); e++)
                for (var f = 0 > e ? i.map : j[e], g = 0; g < f.length; g += 3) {
                    var h = f[g + 2];
                    if (h == b || h == c) {
                        var k = mf(0 > e ? a.line : a.rest[e]),
                            l = f[g] + d;
                        return (0 > d || h != b) && (l = f[g + (d ? 1 : 0)]), qa(k, l)
                    }
                }
        }
        var d = a.text.firstChild,
            e = !1;
        if (!b || !xg(d, b)) return Ha(qa(mf(a.line), 0), !0);
        if (b == d && (e = !0, b = d.childNodes[c], c = 0, !b)) {
            var f = a.rest ? fg(a.rest) : a.line;
            return Ha(qa(mf(f), f.text.length), e)
        }
        var g = 3 == b.nodeType ? b : null,
            h = b;
        for (g || 1 != b.childNodes.length || 3 != b.firstChild.nodeType || (g = b.firstChild, c && (c = g.nodeValue.length)); h.parentNode != d;) h = h.parentNode;
        var i = a.measure,
            j = i.maps,
            l = k(g, h, c);
        if (l) return Ha(l, e);
        for (var m = h.nextSibling, n = g ? g.nodeValue.length - c : 0; m; m = m.nextSibling) {
            if (l = k(m, m.firstChild, 0)) return Ha(qa(l.line, l.ch - n), e);
            n += m.textContent.length
        }
        for (var o = h.previousSibling, n = c; o; o = o.previousSibling) {
            if (l = k(o, o.firstChild, -1)) return Ha(qa(l.line, l.ch + n), e);
            n += m.textContent.length
        }
    }

    function Ka(a, b, c, d, e) {
        function i(a) {
            return function(b) {
                return b.id == a
            }
        }

        function j(b) {
            if (1 == b.nodeType) {
                var c = b.getAttribute(\"cm-text\");
                if (null != c) return \"\" == c && (c = b.textContent.replace(/\\u200b/g, \"\")), void(f += c);
                var l, k = b.getAttribute(\"cm-marker\");
                if (k) {
                    var m = a.findMarks(qa(d, 0), qa(e + 1, 0), i(+k));
                    return void(m.length && (l = m[0].find()) && (f += jf(a.doc, l.from, l.to).join(h)))
                }
                if (\"false\" == b.getAttribute(\"contenteditable\")) return;
                for (var n = 0; n < b.childNodes.length; n++) j(b.childNodes[n]);
                /^(pre|div|p)\$/i.test(b.nodeName) && (g = !0)
            } else if (3 == b.nodeType) {
                var o = b.nodeValue;
                if (!o) return;
                g && (f += h, g = !1), f += o
            }
        }
        for (var f = \"\", g = !1, h = a.doc.lineSeparator(); j(b), b != c;) b = b.nextSibling;
        return f
    }

    function La(a, b) {
        this.ranges = a, this.primIndex = b
    }

    function Ma(a, b) {
        this.anchor = a, this.head = b
    }

    function Na(a, b) {
        var c = a[b];
        a.sort(function(a, b) {
            return ra(a.from(), b.from())
        }), b = hg(a, c);
        for (var d = 1; d < a.length; d++) {
            var e = a[d],
                f = a[d - 1];
            if (ra(f.to(), e.from()) >= 0) {
                var g = ua(f.from(), e.from()),
                    h = ta(f.to(), e.to()),
                    i = f.empty() ? e.from() == e.head : f.from() == f.head;
                b >= d && --b, a.splice(--d, 2, new Ma(i ? h : g, i ? g : h))
            }
        }
        return new La(a, b)
    }

    function Oa(a, b) {
        return new La([new Ma(a, b || a)], 0)
    }

    function Pa(a, b) {
        return Math.max(a.first, Math.min(b, a.first + a.size - 1))
    }

    function Qa(a, b) {
        if (b.line < a.first) return qa(a.first, 0);
        var c = a.first + a.size - 1;
        return b.line > c ? qa(c, hf(a, c).text.length) : Ra(b, hf(a, b.line).text.length)
    }

    function Ra(a, b) {
        var c = a.ch;
        return null == c || c > b ? qa(a.line, b) : 0 > c ? qa(a.line, 0) : a
    }

    function Sa(a, b) {
        return b >= a.first && b < a.first + a.size
    }

    function Ta(a, b) {
        for (var c = [], d = 0; d < b.length; d++) c[d] = Qa(a, b[d]);
        return c
    }

    function Ua(a, b, c, d) {
        if (a.cm && a.cm.display.shift || a.extend) {
            var e = b.anchor;
            if (d) {
                var f = ra(c, e) < 0;
                f != ra(d, e) < 0 ? (e = c, c = d) : f != ra(c, d) < 0 && (c = d)
            }
            return new Ma(e, c)
        }
        return new Ma(d || c, c)
    }

    function Va(a, b, c, d) {
        _a(a, new La([Ua(a, a.sel.primary(), b, c)], 0), d)
    }

    function Wa(a, b, c) {
        for (var d = [], e = 0; e < a.sel.ranges.length; e++) d[e] = Ua(a, a.sel.ranges[e], b[e], null);
        var f = Na(d, a.sel.primIndex);
        _a(a, f, c)
    }

    function Xa(a, b, c, d) {
        var e = a.sel.ranges.slice(0);
        e[b] = c, _a(a, Na(e, a.sel.primIndex), d)
    }

    function Ya(a, b, c, d) {
        _a(a, Oa(b, c), d)
    }

    function Za(a, b) {
        var c = {
            ranges: b.ranges,
            update: function(b) {
                this.ranges = [];
                for (var c = 0; c < b.length; c++) this.ranges[c] = new Ma(Qa(a, b[c].anchor), Qa(a, b[c].head))
            }
        };
        return Pf(a, \"beforeSelectionChange\", a, c), a.cm && Pf(a.cm, \"beforeSelectionChange\", a.cm, c), c.ranges != b.ranges ? Na(c.ranges, c.ranges.length - 1) : b
    }

    function \$a(a, b, c) {
        var d = a.history.done,
            e = fg(d);
        e && e.ranges ? (d[d.length - 1] = b, ab(a, b, c)) : _a(a, b, c)
    }

    function _a(a, b, c) {
        ab(a, b, c), wf(a, a.sel, a.cm ? a.cm.curOp.id : NaN, c)
    }

    function ab(a, b, c) {
        (Vf(a, \"beforeSelectionChange\") || a.cm && Vf(a.cm, \"beforeSelectionChange\")) && (b = Za(a, b));
        var d = c && c.bias || (ra(b.primary().head, a.sel.primary().head) < 0 ? -1 : 1);
        bb(a, db(a, b, d, !0)), c && c.scroll === !1 || !a.cm || vd(a.cm)
    }

    function bb(a, b) {
        b.equals(a.sel) || (a.sel = b, a.cm && (a.cm.curOp.updateInput = a.cm.curOp.selectionChanged = !0, Uf(a.cm)), Rf(a, \"cursorActivity\", a))
    }

    function cb(a) {
        bb(a, db(a, a.sel, null, !1), Zf)
    }

    function db(a, b, c, d) {
        for (var e, f = 0; f < b.ranges.length; f++) {
            var g = b.ranges[f],
                h = eb(a, g.anchor, c, d),
                i = eb(a, g.head, c, d);
            (e || h != g.anchor || i != g.head) && (e || (e = b.ranges.slice(0, f)), e[f] = new Ma(h, i))
        }
        return e ? Na(e, b.primIndex) : b
    }

    function eb(a, b, c, d) {
        var e = !1,
            f = b,
            g = c || 1;
        a.cantEdit = !1;
        a: for (;;) {
            var h = hf(a, f.line);
            if (h.markedSpans)
                for (var i = 0; i < h.markedSpans.length; ++i) {
                    var j = h.markedSpans[i],
                        k = j.marker;
                    if ((null == j.from || (k.inclusiveLeft ? j.from <= f.ch : j.from < f.ch)) && (null == j.to || (k.inclusiveRight ? j.to >= f.ch : j.to > f.ch))) {
                        if (d && (Pf(k, \"beforeCursorEnter\"), k.explicitlyCleared)) {
                            if (h.markedSpans) {
                                --i;
                                continue
                            }
                            break
                        }
                        if (!k.atomic) continue;
                        var l = k.find(0 > g ? -1 : 1);
                        if (0 == ra(l, f) && (l.ch += g, l.ch < 0 ? l = l.line > a.first ? Qa(a, qa(l.line - 1)) : null : l.ch > h.text.length && (l = l.line < a.first + a.size - 1 ? qa(l.line + 1, 0) : null), !l)) {
                            if (e) return d ? (a.cantEdit = !0, qa(a.first, 0)) : eb(a, b, c, !0);
                            e = !0, l = b, g = -g
                        }
                        f = l;
                        continue a
                    }
                }
            return f
        }
    }

    function fb(a) {
        a.display.input.showSelection(a.display.input.prepareSelection())
    }

    function gb(a, b) {
        for (var c = a.doc, d = {}, e = d.cursors = document.createDocumentFragment(), f = d.selection = document.createDocumentFragment(), g = 0; g < c.sel.ranges.length; g++)
            if (b !== !1 || g != c.sel.primIndex) {
                var h = c.sel.ranges[g],
                    i = h.empty();
                (i || a.options.showCursorWhenSelecting) && hb(a, h.head, e), i || ib(a, h, f)
            }
        return d
    }

    function hb(a, b, c) {
        var d = Nb(a, b, \"div\", null, null, !a.options.singleCursorHeightPerLine),
            e = c.appendChild(tg(\"div\", \"\\xa0\", \"CodeMirror-cursor\"));
        if (e.style.left = d.left + \"px\", e.style.top = d.top + \"px\", e.style.height = Math.max(0, d.bottom - d.top) * a.options.cursorHeight + \"px\", d.other) {
            var f = c.appendChild(tg(\"div\", \"\\xa0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));
            f.style.display = \"\", f.style.left = d.other.left + \"px\", f.style.top = d.other.top + \"px\", f.style.height = .85 * (d.other.bottom - d.other.top) + \"px\"
        }
    }

    function ib(a, b, c) {
        function j(a, b, c, d) {
            0 > b && (b = 0), b = Math.round(b), d = Math.round(d), f.appendChild(tg(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + a + \"px; top: \" + b + \"px; width: \" + (null == c ? i - a : c) + \"px; height: \" + (d - b) + \"px\"))
        }

        function k(b, c, d) {
            function m(c, d) {
                return Mb(a, qa(b, c), \"div\", f, d)
            }
            var k, l, f = hf(e, b),
                g = f.text.length;
            return Sg(pf(f), c || 0, null == d ? g : d, function(a, b, e) {
                var n, o, p, f = m(a, \"left\");
                if (a == b) n = f, o = p = f.left;
                else {
                    if (n = m(b - 1, \"right\"), \"rtl\" == e) {
                        var q = f;
                        f = n, n = q
                    }
                    o = f.left, p = n.right
                }
                null == c && 0 == a && (o = h), n.top - f.top > 3 && (j(o, f.top, null, f.bottom), o = h, f.bottom < n.top && j(o, f.bottom, null, n.top)), null == d && b == g && (p = i), (!k || f.top < k.top || f.top == k.top && f.left < k.left) && (k = f), (!l || n.bottom > l.bottom || n.bottom == l.bottom && n.right > l.right) && (l = n), h + 1 > o && (o = h), j(o, n.top, p - o, n.bottom)
            }), {
                start: k,
                end: l
            }
        }
        var d = a.display,
            e = a.doc,
            f = document.createDocumentFragment(),
            g = qb(a.display),
            h = g.left,
            i = Math.max(d.sizerWidth, sb(a) - d.sizer.offsetLeft) - g.right,
            l = b.from(),
            m = b.to();
        if (l.line == m.line) k(l.line, l.ch, m.ch);
        else {
            var n = hf(e, l.line),
                o = hf(e, m.line),
                p = ue(n) == ue(o),
                q = k(l.line, l.ch, p ? n.text.length + 1 : null).end,
                r = k(m.line, p ? 0 : null, m.ch).start;
            p && (q.top < r.top - 2 ? (j(q.right, q.top, null, q.bottom), j(h, r.top, r.left, r.bottom)) : j(q.right, q.top, r.left - q.right, q.bottom)), q.bottom < r.top && j(h, q.bottom, null, r.top)
        }
        c.appendChild(f)
    }

    function jb(a) {
        if (a.state.focused) {
            var b = a.display;
            clearInterval(b.blinker);
            var c = !0;
            b.cursorDiv.style.visibility = \"\", a.options.cursorBlinkRate > 0 ? b.blinker = setInterval(function() {
                b.cursorDiv.style.visibility = (c = !c) ? \"\" : \"hidden\"
            }, a.options.cursorBlinkRate) : a.options.cursorBlinkRate < 0 && (b.cursorDiv.style.visibility = \"hidden\")
        }
    }

    function kb(a, b) {
        a.doc.mode.startState && a.doc.frontier < a.display.viewTo && a.state.highlight.set(b, mg(lb, a))
    }

    function lb(a) {
        var b = a.doc;
        if (b.frontier < b.first && (b.frontier = b.first), !(b.frontier >= a.display.viewTo)) {
            var c = +new Date + a.options.workTime,
                d = Ld(b.mode, nb(a, b.frontier)),
                e = [];
            b.iter(b.frontier, Math.min(b.first + b.size, a.display.viewTo + 500), function(f) {
                if (b.frontier >= a.display.viewFrom) {
                    var g = f.styles,
                        h = f.text.length > a.options.maxHighlightLength,
                        i = Me(a, f, h ? Ld(b.mode, d) : d, !0);
                    f.styles = i.styles;
                    var j = f.styleClasses,
                        k = i.classes;
                    k ? f.styleClasses = k : j && (f.styleClasses = null);
                    for (var l = !g || g.length != f.styles.length || j != k && (!j || !k || j.bgClass != k.bgClass || j.textClass != k.textClass), m = 0; !l && m < g.length; ++m) l = g[m] != f.styles[m];
                    l && e.push(b.frontier), f.stateAfter = h ? d : Ld(b.mode, d)
                } else f.text.length <= a.options.maxHighlightLength && Oe(a, f.text, d), f.stateAfter = b.frontier % 5 == 0 ? Ld(b.mode, d) : null;
                return ++b.frontier, +new Date > c ? (kb(a, a.options.workDelay), !0) : void 0
            }), e.length && ec(a, function() {
                for (var b = 0; b < e.length; b++) lc(a, e[b], \"text\")
            })
        }
    }

    function mb(a, b, c) {
        for (var d, e, f = a.doc, g = c ? -1 : b - (a.doc.mode.innerMode ? 1e3 : 100), h = b; h > g; --h) {
            if (h <= f.first) return f.first;
            var i = hf(f, h - 1);
            if (i.stateAfter && (!c || h <= f.frontier)) return h;
            var j = bg(i.text, null, a.options.tabSize);
            (null == e || d > j) && (e = h - 1, d = j)
        }
        return e
    }

    function nb(a, b, c) {
        var d = a.doc,
            e = a.display;
        if (!d.mode.startState) return !0;
        var f = mb(a, b, c),
            g = f > d.first && hf(d, f - 1).stateAfter;
        return g = g ? Ld(d.mode, g) : Md(d.mode), d.iter(f, b, function(c) {
            Oe(a, c.text, g);
            var h = f == b - 1 || f % 5 == 0 || f >= e.viewFrom && f < e.viewTo;
            c.stateAfter = h ? Ld(d.mode, g) : null, ++f
        }), c && (d.frontier = f), g
    }

    function ob(a) {
        return a.lineSpace.offsetTop
    }

    function pb(a) {
        return a.mover.offsetHeight - a.lineSpace.offsetHeight
    }

    function qb(a) {
        if (a.cachedPaddingH) return a.cachedPaddingH;
        var b = wg(a.measure, tg(\"pre\", \"x\")),
            c = window.getComputedStyle ? window.getComputedStyle(b) : b.currentStyle,
            d = {
                left: parseInt(c.paddingLeft),
                right: parseInt(c.paddingRight)
            };
        return isNaN(d.left) || isNaN(d.right) || (a.cachedPaddingH = d), d
    }

    function rb(a) {
        return Xf - a.display.nativeBarWidth
    }

    function sb(a) {
        return a.display.scroller.clientWidth - rb(a) - a.display.barWidth
    }

    function tb(a) {
        return a.display.scroller.clientHeight - rb(a) - a.display.barHeight
    }

    function ub(a, b, c) {
        var d = a.options.lineWrapping,
            e = d && sb(a);
        if (!b.measure.heights || d && b.measure.width != e) {
            var f = b.measure.heights = [];
            if (d) {
                b.measure.width = e;
                for (var g = b.text.firstChild.getClientRects(), h = 0; h < g.length - 1; h++) {
                    var i = g[h],
                        j = g[h + 1];
                    Math.abs(i.bottom - j.bottom) > 2 && f.push((i.bottom + j.top) / 2 - c.top)
                }
            }
            f.push(c.bottom - c.top)
        }
    }

    function vb(a, b, c) {
        if (a.line == b) return {
            map: a.measure.map,
            cache: a.measure.cache
        };
        for (var d = 0; d < a.rest.length; d++)
            if (a.rest[d] == b) return {
                map: a.measure.maps[d],
                cache: a.measure.caches[d]
            };
        for (var d = 0; d < a.rest.length; d++)
            if (mf(a.rest[d]) > c) return {
                map: a.measure.maps[d],
                cache: a.measure.caches[d],
                before: !0
            }
    }

    function wb(a, b) {
        b = ue(b);
        var c = mf(b),
            d = a.display.externalMeasured = new ic(a.doc, b, c);
        d.lineN = c;
        var e = d.built = Se(a, d);
        return d.text = e.pre, wg(a.display.lineMeasure, e.pre), d
    }

    function xb(a, b, c, d) {
        return Ab(a, zb(a, b), c, d)
    }

    function yb(a, b) {
        if (b >= a.display.viewFrom && b < a.display.viewTo) return a.display.view[nc(a, b)];
        var c = a.display.externalMeasured;
        return c && b >= c.lineN && b < c.lineN + c.size ? c : void 0
    }

    function zb(a, b) {
        var c = mf(b),
            d = yb(a, c);
        d && !d.text ? d = null : d && d.changes && (ea(a, d, c, ca(a)), a.curOp.forceUpdate = !0), d || (d = wb(a, b));
        var e = vb(d, b, c);
        return {
            line: b,
            view: d,
            rect: null,
            map: e.map,
            cache: e.cache,
            before: e.before,
            hasHeights: !1
        }
    }

    function Ab(a, b, c, d, e) {
        b.before && (c = -1);
        var g, f = c + (d || \"\");
        return b.cache.hasOwnProperty(f) ? g = b.cache[f] : (b.rect || (b.rect = b.view.text.getBoundingClientRect()), b.hasHeights || (ub(a, b.view, b.rect), b.hasHeights = !0), g = Db(a, b, c, d), g.bogus || (b.cache[f] = g)), {
            left: g.left,
            right: g.right,
            top: e ? g.rtop : g.top,
            bottom: e ? g.rbottom : g.bottom
        }
    }

    function Cb(a, b, c) {
        for (var d, e, f, g, h = 0; h < a.length; h += 3) {
            var i = a[h],
                j = a[h + 1];
            if (i > b ? (e = 0, f = 1, g = \"left\") : j > b ? (e = b - i, f = e + 1) : (h == a.length - 3 || b == j && a[h + 3] > b) && (f = j - i, e = f - 1, b >= j && (g = \"right\")), null != e) {
                if (d = a[h + 2], i == j && c == (d.insertLeft ? \"left\" : \"right\") && (g = c), \"left\" == c && 0 == e)
                    for (; h && a[h - 2] == a[h - 3] && a[h - 1].insertLeft;) d = a[(h -= 3) + 2], g = \"left\";
                if (\"right\" == c && e == j - i)
                    for (; h < a.length - 3 && a[h + 3] == a[h + 4] && !a[h + 5].insertLeft;) d = a[(h += 3) + 2], g = \"right\";
                break
            }
        }
        return {
            node: d,
            start: e,
            end: f,
            collapse: g,
            coverStart: i,
            coverEnd: j
        }
    }

    function Db(a, b, c, d) {
        var l, e = Cb(b.map, c, d),
            h = e.node,
            i = e.start,
            j = e.end,
            k = e.collapse;
        if (3 == h.nodeType) {
            for (var m = 0; 4 > m; m++) {
                for (; i && sg(b.line.text.charAt(e.coverStart + i));) --i;
                for (; e.coverStart + j < e.coverEnd && sg(b.line.text.charAt(e.coverStart + j));) ++j;
                if (f && 9 > g && 0 == i && j == e.coverEnd - e.coverStart) l = h.parentNode.getBoundingClientRect();
                else if (f && a.options.lineWrapping) {
                    var n = ug(h, i, j).getClientRects();
                    l = n.length ? n[\"right\" == d ? n.length - 1 : 0] : Bb
                } else l = ug(h, i, j).getBoundingClientRect() || Bb;
                if (l.left || l.right || 0 == i) break;
                j = i, i -= 1, k = \"right\"
            }
            f && 11 > g && (l = Eb(a.display.measure, l))
        } else {
            i > 0 && (k = d = \"right\");
            var n;
            l = a.options.lineWrapping && (n = h.getClientRects()).length > 1 ? n[\"right\" == d ? n.length - 1 : 0] : h.getBoundingClientRect()
        }
        if (f && 9 > g && !i && (!l || !l.left && !l.right)) {
            var o = h.parentNode.getClientRects()[0];
            l = o ? {
                left: o.left,
                right: o.left + Ub(a.display),
                top: o.top,
                bottom: o.bottom
            } : Bb
        }
        for (var p = l.top - b.rect.top, q = l.bottom - b.rect.top, r = (p + q) / 2, s = b.view.measure.heights, m = 0; m < s.length - 1 && !(r < s[m]); m++);
        var t = m ? s[m - 1] : 0,
            u = s[m],
            v = {
                left: (\"right\" == k ? l.right : l.left) - b.rect.left,
                right: (\"left\" == k ? l.left : l.right) - b.rect.left,
                top: t,
                bottom: u
            };
        return l.left || l.right || (v.bogus = !0), a.options.singleCursorHeightPerLine || (v.rtop = p, v.rbottom = q), v
    }

    function Eb(a, b) {
        if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !Qg(a)) return b;
        var c = screen.logicalXDPI / screen.deviceXDPI,
            d = screen.logicalYDPI / screen.deviceYDPI;
        return {
            left: b.left * c,
            right: b.right * c,
            top: b.top * d,
            bottom: b.bottom * d
        }
    }

    function Fb(a) {
        if (a.measure && (a.measure.cache = {}, a.measure.heights = null, a.rest))
            for (var b = 0; b < a.rest.length; b++) a.measure.caches[b] = {}
    }

    function Gb(a) {
        a.display.externalMeasure = null, vg(a.display.lineMeasure);
        for (var b = 0; b < a.display.view.length; b++) Fb(a.display.view[b])
    }

    function Hb(a) {
        Gb(a), a.display.cachedCharWidth = a.display.cachedTextHeight = a.display.cachedPaddingH = null, a.options.lineWrapping || (a.display.maxLineChanged = !0), a.display.lineNumChars = null
    }

    function Ib() {
        return window.pageXOffset || (document.documentElement || document.body).scrollLeft
    }

    function Jb() {
        return window.pageYOffset || (document.documentElement || document.body).scrollTop
    }

    function Kb(a, b, c, d) {
        if (b.widgets)
            for (var e = 0; e < b.widgets.length; ++e)
                if (b.widgets[e].above) {
                    var f = Ce(b.widgets[e]);
                    c.top += f, c.bottom += f
                }
        if (\"line\" == d) return c;
        d || (d = \"local\");
        var g = of(b);
        if (\"local\" == d ? g += ob(a.display) : g -= a.display.viewOffset, \"page\" == d || \"window\" == d) {
            var h = a.display.lineSpace.getBoundingClientRect();
            g += h.top + (\"window\" == d ? 0 : Jb());
            var i = h.left + (\"window\" == d ? 0 : Ib());
            c.left += i, c.right += i
        }
        return c.top += g, c.bottom += g, c
    }

    function Lb(a, b, c) {
        if (\"div\" == c) return b;
        var d = b.left,
            e = b.top;
        if (\"page\" == c) d -= Ib(), e -= Jb();
        else if (\"local\" == c || !c) {
            var f = a.display.sizer.getBoundingClientRect();
            d += f.left, e += f.top
        }
        var g = a.display.lineSpace.getBoundingClientRect();
        return {
            left: d - g.left,
            top: e - g.top
        }
    }

    function Mb(a, b, c, d, e) {
        return d || (d = hf(a.doc, b.line)), Kb(a, d, xb(a, d, b.ch, e), c)
    }

    function Nb(a, b, c, d, e, f) {
        function g(b, g) {
            var h = Ab(a, e, b, g ? \"right\" : \"left\", f);
            return g ? h.left = h.right : h.right = h.left, Kb(a, d, h, c)
        }

        function h(a, b) {
            var c = i[b],
                d = c.level % 2;
            return a == Tg(c) && b && c.level < i[b - 1].level ? (c = i[--b], a = Ug(c) - (c.level % 2 ? 0 : 1), d = !0) : a == Ug(c) && b < i.length - 1 && c.level < i[b + 1].level && (c = i[++b], a = Tg(c) - c.level % 2, d = !1), d && a == c.to && a > c.from ? g(a - 1) : g(a, d)
        }
        d = d || hf(a.doc, b.line), e || (e = zb(a, d));
        var i = pf(d),
            j = b.ch;
        if (!i) return g(j);
        var k = ah(i, j),
            l = h(j, k);
        return null != _g && (l.other = h(j, _g)), l
    }

    function Ob(a, b) {
        var c = 0,
            b = Qa(a.doc, b);
        a.options.lineWrapping || (c = Ub(a.display) * b.ch);
        var d = hf(a.doc, b.line),
            e = of(d) + ob(a.display);
        return {
            left: c,
            right: c,
            top: e,
            bottom: e + d.height
        }
    }

    function Pb(a, b, c, d) {
        var e = qa(a, b);
        return e.xRel = d, c && (e.outside = !0), e
    }

    function Qb(a, b, c) {
        var d = a.doc;
        if (c += a.display.viewOffset, 0 > c) return Pb(d.first, 0, !0, -1);
        var e = nf(d, c),
            f = d.first + d.size - 1;
        if (e > f) return Pb(d.first + d.size - 1, hf(d, f).text.length, !0, 1);
        0 > b && (b = 0);
        for (var g = hf(d, e);;) {
            var h = Rb(a, g, e, b, c),
                i = se(g),
                j = i && i.find(0, !0);
            if (!i || !(h.ch > j.from.ch || h.ch == j.from.ch && h.xRel > 0)) return h;
            e = mf(g = j.to.line)
        }
    }

    function Rb(a, b, c, d, e) {
        function j(d) {
            var e = Nb(a, qa(c, d), \"line\", b, i);
            return g = !0, f > e.bottom ? e.left - h : f < e.top ? e.left + h : (g = !1, e.left)
        }
        var f = e - of(b),
            g = !1,
            h = 2 * a.display.wrapper.clientWidth,
            i = zb(a, b),
            k = pf(b),
            l = b.text.length,
            m = Vg(b),
            n = Wg(b),
            o = j(m),
            p = g,
            q = j(n),
            r = g;
        if (d > q) return Pb(c, n, r, 1);
        for (;;) {
            if (k ? n == m || n == ch(b, m, 1) : 1 >= n - m) {
                for (var s = o > d || q - d >= d - o ? m : n, t = d - (s == m ? o : q); sg(b.text.charAt(s));) ++s;
                var u = Pb(c, s, s == m ? p : r, -1 > t ? -1 : t > 1 ? 1 : 0);
                return u
            }
            var v = Math.ceil(l / 2),
                w = m + v;
            if (k) {
                w = m;
                for (var x = 0; v > x; ++x) w = ch(b, w, 1)
            }
            var y = j(w);
            y > d ? (n = w, q = y, (r = g) && (q += 1e3), l = v) : (m = w, o = y, p = g, l -= v)
        }
    }

    function Tb(a) {
        if (null != a.cachedTextHeight) return a.cachedTextHeight;
        if (null == Sb) {
            Sb = tg(\"pre\");
            for (var b = 0; 49 > b; ++b) Sb.appendChild(document.createTextNode(\"x\")), Sb.appendChild(tg(\"br\"));
            Sb.appendChild(document.createTextNode(\"x\"))
        }
        wg(a.measure, Sb);
        var c = Sb.offsetHeight / 50;
        return c > 3 && (a.cachedTextHeight = c), vg(a.measure), c || 1
    }

    function Ub(a) {
        if (null != a.cachedCharWidth) return a.cachedCharWidth;
        var b = tg(\"span\", \"xxxxxxxxxx\"),
            c = tg(\"pre\", [b]);
        wg(a.measure, c);
        var d = b.getBoundingClientRect(),
            e = (d.right - d.left) / 10;
        return e > 2 && (a.cachedCharWidth = e), e || 10
    }

    function Xb(a) {
        a.curOp = {
            cm: a,
            viewChanged: !1,
            startHeight: a.doc.height,
            forceUpdate: !1,
            updateInput: null,
            typing: !1,
            changeObjs: null,
            cursorActivityHandlers: null,
            cursorActivityCalled: 0,
            selectionChanged: !1,
            updateMaxLine: !1,
            scrollLeft: null,
            scrollTop: null,
            scrollToPos: null,
            focus: !1,
            id: ++Wb
        }, Vb ? Vb.ops.push(a.curOp) : a.curOp.ownsGroup = Vb = {
            ops: [a.curOp],
            delayedCallbacks: []
        }
    }

    function Yb(a) {
        var b = a.delayedCallbacks,
            c = 0;
        do {
            for (; c < b.length; c++) b[c].call(null);
            for (var d = 0; d < a.ops.length; d++) {
                var e = a.ops[d];
                if (e.cursorActivityHandlers)
                    for (; e.cursorActivityCalled < e.cursorActivityHandlers.length;) e.cursorActivityHandlers[e.cursorActivityCalled++].call(null, e.cm)
            }
        } while (c < b.length)
    }

    function Zb(a) {
        var b = a.curOp,
            c = b.ownsGroup;
        if (c) try {
            Yb(c)
        } finally {
            Vb = null;
            for (var d = 0; d < c.ops.length; d++) c.ops[d].cm.curOp = null;
            \$b(c)
        }
    }

    function \$b(a) {
        for (var b = a.ops, c = 0; c < b.length; c++) _b(b[c]);
        for (var c = 0; c < b.length; c++) ac(b[c]);
        for (var c = 0; c < b.length; c++) bc(b[c]);
        for (var c = 0; c < b.length; c++) cc(b[c]);
        for (var c = 0; c < b.length; c++) dc(b[c])
    }

    function _b(a) {
        var b = a.cm,
            c = b.display;
        X(b), a.updateMaxLine && J(b), a.mustUpdate = a.viewChanged || a.forceUpdate || null != a.scrollTop || a.scrollToPos && (a.scrollToPos.from.line < c.viewFrom || a.scrollToPos.to.line >= c.viewTo) || c.maxLineChanged && b.options.lineWrapping, a.update = a.mustUpdate && new W(b, a.mustUpdate && {
            top: a.scrollTop,
            ensure: a.scrollToPos
        }, a.forceUpdate)
    }

    function ac(a) {
        a.updatedDisplay = a.mustUpdate && Y(a.cm, a.update)
    }

    function bc(a) {
        var b = a.cm,
            c = b.display;
        a.updatedDisplay && aa(b), a.barMeasure = L(b), c.maxLineChanged && !b.options.lineWrapping && (a.adjustWidthTo = xb(b, c.maxLine, c.maxLine.text.length).left + 3, b.display.sizerWidth = a.adjustWidthTo, a.barMeasure.scrollWidth = Math.max(c.scroller.clientWidth, c.sizer.offsetLeft + a.adjustWidthTo + rb(b) + b.display.barWidth), a.maxScrollLeft = Math.max(0, c.sizer.offsetLeft + a.adjustWidthTo - sb(b))), (a.updatedDisplay || a.selectionChanged) && (a.preparedSelection = c.input.prepareSelection())
    }

    function cc(a) {
        var b = a.cm;
        null != a.adjustWidthTo && (b.display.sizer.style.minWidth = a.adjustWidthTo + \"px\", a.maxScrollLeft < b.doc.scrollLeft && Kc(b, Math.min(b.display.scroller.scrollLeft, a.maxScrollLeft), !0), b.display.maxLineChanged = !1), a.preparedSelection && b.display.input.showSelection(a.preparedSelection), a.updatedDisplay && _(b, a.barMeasure), (a.updatedDisplay || a.startHeight != b.doc.height) && P(b, a.barMeasure), a.selectionChanged && jb(b), b.state.focused && a.updateInput && b.display.input.reset(a.typing), a.focus && a.focus == yg() && va(a.cm)
    }

    function dc(a) {
        var b = a.cm,
            c = b.display,
            d = b.doc;
        if (a.updatedDisplay && Z(b, a.update), null == c.wheelStartX || null == a.scrollTop && null == a.scrollLeft && !a.scrollToPos || (c.wheelStartX = c.wheelStartY = null), null == a.scrollTop || c.scroller.scrollTop == a.scrollTop && !a.forceScroll || (d.scrollTop = Math.max(0, Math.min(c.scroller.scrollHeight - c.scroller.clientHeight, a.scrollTop)), c.scrollbars.setScrollTop(d.scrollTop), c.scroller.scrollTop = d.scrollTop), null == a.scrollLeft || c.scroller.scrollLeft == a.scrollLeft && !a.forceScroll || (d.scrollLeft = Math.max(0, Math.min(c.scroller.scrollWidth - sb(b), a.scrollLeft)), c.scrollbars.setScrollLeft(d.scrollLeft), c.scroller.scrollLeft = d.scrollLeft, S(b)), a.scrollToPos) {
            var e = rd(b, Qa(d, a.scrollToPos.from), Qa(d, a.scrollToPos.to), a.scrollToPos.margin);
            a.scrollToPos.isCursor && b.state.focused && qd(b, e)
        }
        var f = a.maybeHiddenMarkers,
            g = a.maybeUnhiddenMarkers;
        if (f)
            for (var h = 0; h < f.length; ++h) f[h].lines.length || Pf(f[h], \"hide\");
        if (g)
            for (var h = 0; h < g.length; ++h) g[h].lines.length && Pf(g[h], \"unhide\");
        c.wrapper.offsetHeight && (d.scrollTop = b.display.scroller.scrollTop), a.changeObjs && Pf(b, \"changes\", b, a.changeObjs), a.update && a.update.finish()
    }

    function ec(a, b) {
        if (a.curOp) return b();
        Xb(a);
        try {
            return b()
        } finally {
            Zb(a)
        }
    }

    function fc(a, b) {
        return function() {
            if (a.curOp) return b.apply(a, arguments);
            Xb(a);
            try {
                return b.apply(a, arguments)
            } finally {
                Zb(a)
            }
        }
    }

    function gc(a) {
        return function() {
            if (this.curOp) return a.apply(this, arguments);
            Xb(this);
            try {
                return a.apply(this, arguments)
            } finally {
                Zb(this)
            }
        }
    }

    function hc(a) {
        return function() {
            var b = this.cm;
            if (!b || b.curOp) return a.apply(this, arguments);
            Xb(b);
            try {
                return a.apply(this, arguments)
            } finally {
                Zb(b)
            }
        }
    }

    function ic(a, b, c) {
        this.line = b, this.rest = ve(b), this.size = this.rest ? mf(fg(this.rest)) - c + 1 : 1, this.node = this.text = null, this.hidden = ye(a, b)
    }

    function jc(a, b, c) {
        for (var e, d = [], f = b; c > f; f = e) {
            var g = new ic(a.doc, hf(a.doc, f), f);
            e = f + g.size, d.push(g)
        }
        return d
    }

    function kc(a, b, c, d) {
        null == b && (b = a.doc.first), null == c && (c = a.doc.first + a.doc.size), d || (d = 0);
        var e = a.display;
        if (d && c < e.viewTo && (null == e.updateLineNumbers || e.updateLineNumbers > b) && (e.updateLineNumbers = b), a.curOp.viewChanged = !0, b >= e.viewTo) w && we(a.doc, b) < e.viewTo && mc(a);
        else if (c <= e.viewFrom) w && xe(a.doc, c + d) > e.viewFrom ? mc(a) : (e.viewFrom += d, e.viewTo += d);
        else if (b <= e.viewFrom && c >= e.viewTo) mc(a);
        else if (b <= e.viewFrom) {
            var f = oc(a, c, c + d, 1);
            f ? (e.view = e.view.slice(f.index), e.viewFrom = f.lineN, e.viewTo += d) : mc(a)
        } else if (c >= e.viewTo) {
            var f = oc(a, b, b, -1);
            f ? (e.view = e.view.slice(0, f.index), e.viewTo = f.lineN) : mc(a)
        } else {
            var g = oc(a, b, b, -1),
                h = oc(a, c, c + d, 1);
            g && h ? (e.view = e.view.slice(0, g.index).concat(jc(a, g.lineN, h.lineN)).concat(e.view.slice(h.index)), e.viewTo += d) : mc(a)
        }
        var i = e.externalMeasured;
        i && (c < i.lineN ? i.lineN += d : b < i.lineN + i.size && (e.externalMeasured = null))
    }

    function lc(a, b, c) {
        a.curOp.viewChanged = !0;
        var d = a.display,
            e = a.display.externalMeasured;
        if (e && b >= e.lineN && b < e.lineN + e.size && (d.externalMeasured = null), !(b < d.viewFrom || b >= d.viewTo)) {
            var f = d.view[nc(a, b)];
            if (null != f.node) {
                var g = f.changes || (f.changes = []); - 1 == hg(g, c) && g.push(c)
            }
        }
    }

    function mc(a) {
        a.display.viewFrom = a.display.viewTo = a.doc.first, a.display.view = [], a.display.viewOffset = 0
    }

    function nc(a, b) {
        if (b >= a.display.viewTo) return null;
        if (b -= a.display.viewFrom, 0 > b) return null;
        for (var c = a.display.view, d = 0; d < c.length; d++)
            if (b -= c[d].size, 0 > b) return d
    }

    function oc(a, b, c, d) {
        var f, e = nc(a, b),
            g = a.display.view;
        if (!w || c == a.doc.first + a.doc.size) return {
            index: e,
            lineN: c
        };
        for (var h = 0, i = a.display.viewFrom; e > h; h++) i += g[h].size;
        if (i != b) {
            if (d > 0) {
                if (e == g.length - 1) return null;
                f = i + g[e].size - b, e++
            } else f = i - b;
            b += f, c += f
        }
        for (; we(a.doc, c) != c;) {
            if (e == (0 > d ? 0 : g.length - 1)) return null;
            c += d * g[e - (0 > d ? 1 : 0)].size, e += d
        }
        return {
            index: e,
            lineN: c
        }
    }

    function pc(a, b, c) {
        var d = a.display,
            e = d.view;
        0 == e.length || b >= d.viewTo || c <= d.viewFrom ? (d.view = jc(a, b, c), d.viewFrom = b) : (d.viewFrom > b ? d.view = jc(a, b, d.viewFrom).concat(d.view) : d.viewFrom < b && (d.view = d.view.slice(nc(a, b))), d.viewFrom = b, d.viewTo < c ? d.view = d.view.concat(jc(a, d.viewTo, c)) : d.viewTo > c && (d.view = d.view.slice(0, nc(a, c)))), d.viewTo = c
    }

    function qc(a) {
        for (var b = a.display.view, c = 0, d = 0; d < b.length; d++) {
            var e = b[d];
            e.hidden || e.node && !e.changes || ++c
        }
        return c
    }

    function rc(a) {
        function e() {
            b.activeTouch && (c = setTimeout(function() {
                b.activeTouch = null
            }, 1e3), d = b.activeTouch, d.end = +new Date)
        }

        function h(a) {
            if (1 != a.touches.length) return !1;
            var b = a.touches[0];
            return b.radiusX <= 1 && b.radiusY <= 1
        }

        function i(a, b) {
            if (null == b.left) return !0;
            var c = b.left - a.left,
                d = b.top - a.top;
            return c * c + d * d > 400
        }
        var b = a.display;
        Lf(b.scroller, \"mousedown\", fc(a, wc)), f && 11 > g ? Lf(b.scroller, \"dblclick\", fc(a, function(b) {
            if (!Tf(a, b)) {
                var c = vc(a, b);
                if (c && !Dc(a, b) && !uc(a.display, b)) {
                    Ff(b);
                    var d = a.findWordAt(c);
                    Va(a.doc, d.anchor, d.head)
                }
            }
        })) : Lf(b.scroller, \"dblclick\", function(b) {
            Tf(a, b) || Ff(b)
        }), u || Lf(b.scroller, \"contextmenu\", function(b) {
            bd(a, b)
        });
        var c, d = {
            end: 0
        };
        Lf(b.scroller, \"touchstart\", function(a) {
            if (!h(a)) {
                clearTimeout(c);
                var e = +new Date;
                b.activeTouch = {
                    start: e,
                    moved: !1,
                    prev: e - d.end <= 300 ? d : null
                }, 1 == a.touches.length && (b.activeTouch.left = a.touches[0].pageX, b.activeTouch.top = a.touches[0].pageY)
            }
        }), Lf(b.scroller, \"touchmove\", function() {
            b.activeTouch && (b.activeTouch.moved = !0)
        }), Lf(b.scroller, \"touchend\", function(c) {
            var d = b.activeTouch;
            if (d && !uc(b, c) && null != d.left && !d.moved && new Date - d.start < 300) {
                var g, f = a.coordsChar(b.activeTouch, \"page\");
                g = !d.prev || i(d, d.prev) ? new Ma(f, f) : !d.prev.prev || i(d, d.prev.prev) ? a.findWordAt(f) : new Ma(qa(f.line, 0), Qa(a.doc, qa(f.line + 1, 0))), a.setSelection(g.anchor, g.head), a.focus(), Ff(c)
            }
            e()
        }), Lf(b.scroller, \"touchcancel\", e), Lf(b.scroller, \"scroll\", function() {
            b.scroller.clientHeight && (Jc(a, b.scroller.scrollTop), Kc(a, b.scroller.scrollLeft, !0), Pf(a, \"scroll\", a))
        }), Lf(b.scroller, \"mousewheel\", function(b) {
            Oc(a, b)
        }), Lf(b.scroller, \"DOMMouseScroll\", function(b) {
            Oc(a, b)
        }), Lf(b.wrapper, \"scroll\", function() {
            b.wrapper.scrollTop = b.wrapper.scrollLeft = 0
        }), b.dragFunctions = {
            enter: function(b) {
                Tf(a, b) || If(b)
            },
            over: function(b) {
                Tf(a, b) || (Hc(a, b), If(b))
            },
            start: function(b) {
                Gc(a, b)
            },
            drop: fc(a, Fc),
            leave: function() {
                Ic(a)
            }
        };
        var j = b.input.getField();
        Lf(j, \"keyup\", function(b) {
            Yc.call(a, b)
        }), Lf(j, \"keydown\", fc(a, Wc)), Lf(j, \"keypress\", fc(a, Zc)), Lf(j, \"focus\", mg(_c, a)), Lf(j, \"blur\", mg(ad, a))
    }

    function sc(a, b, c) {
        var d = c && c != x.Init;
        if (!b != !d) {
            var e = a.display.dragFunctions,
                f = b ? Lf : Of;
            f(a.display.scroller, \"dragstart\", e.start), f(a.display.scroller, \"dragenter\", e.enter), f(a.display.scroller, \"dragover\", e.over), f(a.display.scroller, \"dragleave\", e.leave), f(a.display.scroller, \"drop\", e.drop)
        }
    }

    function tc(a) {
        var b = a.display;
        (b.lastWrapHeight != b.wrapper.clientHeight || b.lastWrapWidth != b.wrapper.clientWidth) && (b.cachedCharWidth = b.cachedTextHeight = b.cachedPaddingH = null, b.scrollbarsClipped = !1, a.setSize())
    }

    function uc(a, b) {
        for (var c = Jf(b); c != a.wrapper; c = c.parentNode)
            if (!c || 1 == c.nodeType && \"true\" == c.getAttribute(\"cm-ignore-events\") || c.parentNode == a.sizer && c != a.mover) return !0
    }

    function vc(a, b, c, d) {
        var e = a.display;
        if (!c && \"true\" == Jf(b).getAttribute(\"cm-not-content\")) return null;
        var f, g, h = e.lineSpace.getBoundingClientRect();
        try {
            f = b.clientX - h.left, g = b.clientY - h.top
        } catch (b) {
            return null
        }
        var j, i = Qb(a, f, g);
        if (d && 1 == i.xRel && (j = hf(a.doc, i.line).text).length == i.ch) {
            var k = bg(j, j.length, a.options.tabSize) - j.length;
            i = qa(i.line, Math.max(0, Math.round((f - qb(a.display).left) / Ub(a.display)) - k))
        }
        return i
    }

    function wc(a) {
        var b = this,
            c = b.display;
        if (!(c.activeTouch && c.input.supportsTouch() || Tf(b, a))) {
            if (c.shift = a.shiftKey, uc(c, a)) return void(h || (c.scroller.draggable = !1, setTimeout(function() {
                c.scroller.draggable = !0
            }, 100)));
            if (!Dc(b, a)) {
                var d = vc(b, a);
                switch (window.focus(), Kf(a)) {
                    case 1:
                        b.state.selectingText ? b.state.selectingText(a) : d ? zc(b, a, d) : Jf(a) == c.scroller && Ff(a);
                        break;
                    case 2:
                        h && (b.state.lastMiddleDown = +new Date), d && Va(b.doc, d), setTimeout(function() {
                            c.input.focus()
                        }, 20), Ff(a);
                        break;
                    case 3:
                        u ? bd(b, a) : \$c(b)
                }
            }
        }
    }

    function zc(a, b, c) {
        f ? setTimeout(mg(va, a), 0) : a.curOp.focus = yg();
        var e, d = +new Date;
        yc && yc.time > d - 400 && 0 == ra(yc.pos, c) ? e = \"triple\" : xc && xc.time > d - 400 && 0 == ra(xc.pos, c) ? (e = \"double\", yc = {
            time: d,
            pos: c
        }) : (e = \"single\", xc = {
            time: d,
            pos: c
        });
        var i, g = a.doc.sel,
            h = q ? b.metaKey : b.ctrlKey;
        a.options.dragDrop && Hg && !wa(a) && \"single\" == e && (i = g.contains(c)) > -1 && (ra((i = g.ranges[i]).from(), c) < 0 || c.xRel > 0) && (ra(i.to(), c) > 0 || c.xRel < 0) ? Ac(a, b, c, h) : Bc(a, b, c, e, h)
    }

    function Ac(a, b, c, d) {
        var e = a.display,
            i = +new Date,
            j = fc(a, function(k) {
                h && (e.scroller.draggable = !1), a.state.draggingText = !1, Of(document, \"mouseup\", j), Of(e.scroller, \"drop\", j), Math.abs(b.clientX - k.clientX) + Math.abs(b.clientY - k.clientY) < 10 && (Ff(k), !d && +new Date - 200 < i && Va(a.doc, c), h || f && 9 == g ? setTimeout(function() {
                    document.body.focus(), e.input.focus()
                }, 20) : e.input.focus())
            });
        h && (e.scroller.draggable = !0), a.state.draggingText = j, e.scroller.dragDrop && e.scroller.dragDrop(), Lf(document, \"mouseup\", j), Lf(e.scroller, \"drop\", j)
    }

    function Bc(a, b, c, d, e) {
        function o(b) {
            if (0 != ra(n, b))
                if (n = b, \"rect\" == d) {
                    for (var e = [], f = a.options.tabSize, k = bg(hf(g, c.line).text, c.ch, f), l = bg(hf(g, b.line).text, b.ch, f), m = Math.min(k, l), o = Math.max(k, l), p = Math.min(c.line, b.line), q = Math.min(a.lastLine(), Math.max(c.line, b.line)); q >= p; p++) {
                        var r = hf(g, p).text,
                            s = cg(r, m, f);
                        m == o ? e.push(new Ma(qa(p, s), qa(p, s))) : r.length > s && e.push(new Ma(qa(p, s), qa(p, cg(r, o, f))))
                    }
                    e.length || e.push(new Ma(c, c)), _a(g, Na(j.ranges.slice(0, i).concat(e), i), {
                        origin: \"*mouse\",
                        scroll: !1
                    }), a.scrollIntoView(b)
                } else {
                    var t = h,
                        u = t.anchor,
                        v = b;
                    if (\"single\" != d) {
                        if (\"double\" == d) var w = a.findWordAt(b);
                        else var w = new Ma(qa(b.line, 0), Qa(g, qa(b.line + 1, 0)));
                        ra(w.anchor, u) > 0 ? (v = w.head, u = ua(t.from(), w.anchor)) : (v = w.anchor, u = ta(t.to(), w.head))
                    }
                    var e = j.ranges.slice(0);
                    e[i] = new Ma(Qa(g, u), v), _a(g, Na(e, i), \$f)
                }
        }

        function r(b) {
            var c = ++q,
                e = vc(a, b, !0, \"rect\" == d);
            if (e)
                if (0 != ra(e, n)) {
                    a.curOp.focus = yg(), o(e);
                    var h = R(f, g);
                    (e.line >= h.to || e.line < h.from) && setTimeout(fc(a, function() {
                        q == c && r(b)
                    }), 150)
                } else {
                    var i = b.clientY < p.top ? -20 : b.clientY > p.bottom ? 20 : 0;
                    i && setTimeout(fc(a, function() {
                        q == c && (f.scroller.scrollTop += i, r(b))
                    }), 50)
                }
        }

        function s(b) {
            a.state.selectingText = !1, q = 1 / 0, Ff(b), f.input.focus(), Of(document, \"mousemove\", t), Of(document, \"mouseup\", u), g.history.lastSelOrigin = null
        }
        var f = a.display,
            g = a.doc;
        Ff(b);
        var h, i, j = g.sel,
            k = j.ranges;
        if (e && !b.shiftKey ? (i = g.sel.contains(c), h = i > -1 ? k[i] : new Ma(c, c)) : (h = g.sel.primary(), i = g.sel.primIndex), b.altKey) d = \"rect\", e || (h = new Ma(c, c)), c = vc(a, b, !0, !0), i = -1;
        else if (\"double\" == d) {
            var l = a.findWordAt(c);
            h = a.display.shift || g.extend ? Ua(g, h, l.anchor, l.head) : l
        } else if (\"triple\" == d) {
            var m = new Ma(qa(c.line, 0), Qa(g, qa(c.line + 1, 0)));
            h = a.display.shift || g.extend ? Ua(g, h, m.anchor, m.head) : m
        } else h = Ua(g, h, c);
        e ? -1 == i ? (i = k.length, _a(g, Na(k.concat([h]), i), {
            scroll: !1,
            origin: \"*mouse\"
        })) : k.length > 1 && k[i].empty() && \"single\" == d && !b.shiftKey ? (_a(g, Na(k.slice(0, i).concat(k.slice(i + 1)), 0), {
            scroll: !1,
            origin: \"*mouse\"
        }), j = g.sel) : Xa(g, i, h, \$f) : (i = 0, _a(g, new La([h], 0), \$f), j = g.sel);
        var n = c,
            p = f.wrapper.getBoundingClientRect(),
            q = 0,
            t = fc(a, function(a) {
                Kf(a) ? r(a) : s(a)
            }),
            u = fc(a, s);
        a.state.selectingText = u, Lf(document, \"mousemove\", t), Lf(document, \"mouseup\", u)
    }

    function Cc(a, b, c, d, e) {
        try {
            var f = b.clientX,
                g = b.clientY
        } catch (b) {
            return !1
        }
        if (f >= Math.floor(a.display.gutters.getBoundingClientRect().right)) return !1;
        d && Ff(b);
        var h = a.display,
            i = h.lineDiv.getBoundingClientRect();
        if (g > i.bottom || !Vf(a, c)) return Hf(b);
        g -= i.top - h.viewOffset;
        for (var j = 0; j < a.options.gutters.length; ++j) {
            var k = h.gutters.childNodes[j];
            if (k && k.getBoundingClientRect().right >= f) {
                var l = nf(a.doc, g),
                    m = a.options.gutters[j];
                return e(a, c, a, l, m, b), Hf(b)
            }
        }
    }

    function Dc(a, b) {
        return Cc(a, b, \"gutterClick\", !0, Rf)
    }

    function Fc(a) {
        var b = this;
        if (Ic(b), !Tf(b, a) && !uc(b.display, a)) {
            Ff(a), f && (Ec = +new Date);
            var c = vc(b, a, !0),
                d = a.dataTransfer.files;
            if (c && !wa(b))
                if (d && d.length && window.FileReader && window.File)
                    for (var e = d.length, g = Array(e), h = 0, i = function(a, d) {
                            if (!b.options.allowDropFileTypes || -1 != hg(b.options.allowDropFileTypes, a.type)) {
                                var f = new FileReader;
                                f.onload = fc(b, function() {
                                    var a = f.result;
                                    if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(a) && (a = \"\"), g[d] = a, ++h == e) {
                                        c = Qa(b.doc, c);
                                        var i = {
                                            from: c,
                                            to: c,
                                            text: b.doc.splitLines(g.join(b.doc.lineSeparator())),
                                            origin: \"paste\"
                                        };
                                        jd(b.doc, i), \$a(b.doc, Oa(c, dd(i)))
                                    }
                                }), f.readAsText(a)
                            }
                        }, j = 0; e > j; ++j) i(d[j], j);
                else {
                    if (b.state.draggingText && b.doc.sel.contains(c) > -1) return b.state.draggingText(a), void setTimeout(function() {
                        b.display.input.focus()
                    }, 20);
                    try {
                        var g = a.dataTransfer.getData(\"Text\");
                        if (g) {
                            if (b.state.draggingText && !(q ? a.altKey : a.ctrlKey)) var k = b.listSelections();
                            if (ab(b.doc, Oa(c, c)), k)
                                for (var j = 0; j < k.length; ++j) pd(b.doc, \"\", k[j].anchor, k[j].head, \"drag\");
                            b.replaceSelection(g, \"around\", \"paste\"), b.display.input.focus()
                        }
                    } catch (a) {}
                }
        }
    }

    function Gc(a, b) {
        if (f && (!a.state.draggingText || +new Date - Ec < 100)) return void If(b);
        if (!Tf(a, b) && !uc(a.display, b) && (b.dataTransfer.setData(\"Text\", a.getSelection()), b.dataTransfer.setDragImage && !l)) {
            var c = tg(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");
            c.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\", k && (c.width = c.height = 1, a.display.wrapper.appendChild(c), c._top = c.offsetTop), b.dataTransfer.setDragImage(c, 0, 0), k && c.parentNode.removeChild(c)
        }
    }

    function Hc(a, b) {
        var c = vc(a, b);
        if (c) {
            var d = document.createDocumentFragment();
            hb(a, c, d), a.display.dragCursor || (a.display.dragCursor = tg(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\"), a.display.lineSpace.insertBefore(a.display.dragCursor, a.display.cursorDiv)), wg(a.display.dragCursor, d)
        }
    }

    function Ic(a) {
        a.display.dragCursor && (a.display.lineSpace.removeChild(a.display.dragCursor), a.display.dragCursor = null)
    }

    function Jc(a, b) {
        Math.abs(a.doc.scrollTop - b) < 2 || (a.doc.scrollTop = b, c || \$(a, {
            top: b
        }), a.display.scroller.scrollTop != b && (a.display.scroller.scrollTop = b), a.display.scrollbars.setScrollTop(b), c && \$(a), kb(a, 100))
    }

    function Kc(a, b, c) {
        (c ? b == a.doc.scrollLeft : Math.abs(a.doc.scrollLeft - b) < 2) || (b = Math.min(b, a.display.scroller.scrollWidth - a.display.scroller.clientWidth), a.doc.scrollLeft = b, S(a), a.display.scroller.scrollLeft != b && (a.display.scroller.scrollLeft = b), a.display.scrollbars.setScrollLeft(b))
    }

    function Oc(a, b) {
        var d = Nc(b),
            e = d.x,
            f = d.y,
            g = a.display,
            i = g.scroller,
            j = i.scrollWidth > i.clientWidth,
            l = i.scrollHeight > i.clientHeight;
        if (e && j || f && l) {
            if (f && q && h) a: for (var m = b.target, n = g.view; m != i; m = m.parentNode)
                for (var o = 0; o < n.length; o++)
                    if (n[o].node == m) {
                        a.display.currentWheelTarget = m;
                        break a
                    }
            if (e && !c && !k && null != Mc) return f && l && Jc(a, Math.max(0, Math.min(i.scrollTop + f * Mc, i.scrollHeight - i.clientHeight))), Kc(a, Math.max(0, Math.min(i.scrollLeft + e * Mc, i.scrollWidth - i.clientWidth))), (!f || f && l) && Ff(b), void(g.wheelStartX = null);
            if (f && null != Mc) {
                var p = f * Mc,
                    r = a.doc.scrollTop,
                    s = r + g.wrapper.clientHeight;
                0 > p ? r = Math.max(0, r + p - 50) : s = Math.min(a.doc.height, s + p + 50), \$(a, {
                    top: r,
                    bottom: s
                })
            }
            20 > Lc && (null == g.wheelStartX ? (g.wheelStartX = i.scrollLeft, g.wheelStartY = i.scrollTop, g.wheelDX = e, g.wheelDY = f, setTimeout(function() {
                if (null != g.wheelStartX) {
                    var a = i.scrollLeft - g.wheelStartX,
                        b = i.scrollTop - g.wheelStartY,
                        c = b && g.wheelDY && b / g.wheelDY || a && g.wheelDX && a / g.wheelDX;
                    g.wheelStartX = g.wheelStartY = null, c && (Mc = (Mc * Lc + c) / (Lc + 1), ++Lc)
                }
            }, 200)) : (g.wheelDX += e, g.wheelDY += f))
        }
    }

    function Pc(a, b, c) {
        if (\"string\" == typeof b && (b = Nd[b], !b)) return !1;
        a.display.input.ensurePolled();
        var d = a.display.shift,
            e = !1;
        try {
            wa(a) && (a.state.suppressEdits = !0), c && (a.display.shift = !1), e = b(a) != Yf
        } finally {
            a.display.shift = d, a.state.suppressEdits = !1
        }
        return e
    }

    function Qc(a, b, c) {
        for (var d = 0; d < a.state.keyMaps.length; d++) {
            var e = Qd(b, a.state.keyMaps[d], c, a);
            if (e) return e
        }
        return a.options.extraKeys && Qd(b, a.options.extraKeys, c, a) || Qd(b, a.options.keyMap, c, a)
    }

    function Sc(a, b, c, d) {
        var e = a.state.keySeq;
        if (e) {
            if (Rd(b)) return \"handled\";
            Rc.set(50, function() {
                a.state.keySeq == e && (a.state.keySeq = null, a.display.input.reset())
            }), b = e + \" \" + b
        }
        var f = Qc(a, b, d);
        return \"multi\" == f && (a.state.keySeq = b), \"handled\" == f && Rf(a, \"keyHandled\", a, b, c), (\"handled\" == f || \"multi\" == f) && (Ff(c), jb(a)), e && !f && /\\'\$/.test(b) ? (Ff(c), !0) : !!f
    }

    function Tc(a, b) {
        var c = Sd(b, !0);
        return c ? b.shiftKey && !a.state.keySeq ? Sc(a, \"Shift-\" + c, b, function(b) {
            return Pc(a, b, !0)
        }) || Sc(a, c, b, function(b) {
            return (\"string\" == typeof b ? /^go[A-Z]/.test(b) : b.motion) ? Pc(a, b) : void 0
        }) : Sc(a, c, b, function(b) {
            return Pc(a, b)
        }) : !1
    }

    function Uc(a, b, c) {
        return Sc(a, \"'\" + c + \"'\", b, function(b) {
            return Pc(a, b, !0)
        })
    }

    function Wc(a) {
        var b = this;
        if (b.curOp.focus = yg(), !Tf(b, a)) {
            f && 11 > g && 27 == a.keyCode && (a.returnValue = !1);
            var c = a.keyCode;
            b.display.shift = 16 == c || a.shiftKey;
            var d = Tc(b, a);
            k && (Vc = d ? c : null, !d && 88 == c && !Og && (q ? a.metaKey : a.ctrlKey) && b.replaceSelection(\"\", null, \"cut\")), 18 != c || /\\bCodeMirror-crosshair\\b/.test(b.display.lineDiv.className) || Xc(b)
        }
    }

    function Xc(a) {
        function c(a) {
            18 != a.keyCode && a.altKey || (Ag(b, \"CodeMirror-crosshair\"), Of(document, \"keyup\", c), Of(document, \"mouseover\", c))
        }
        var b = a.display.lineDiv;
        Bg(b, \"CodeMirror-crosshair\"), Lf(document, \"keyup\", c), Lf(document, \"mouseover\", c)
    }

    function Yc(a) {
        16 == a.keyCode && (this.doc.sel.shift = !1), Tf(this, a)
    }

    function Zc(a) {
        var b = this;
        if (!(uc(b.display, a) || Tf(b, a) || a.ctrlKey && !a.altKey || q && a.metaKey)) {
            var c = a.keyCode,
                d = a.charCode;
            if (k && c == Vc) return Vc = null, void Ff(a);
            if (!k || a.which && !(a.which < 10) || !Tc(b, a)) {
                var e = String.fromCharCode(null == d ? c : d);
                Uc(b, a, e) || b.display.input.onKeyPress(a)
            }
        }
    }

    function \$c(a) {
        a.state.delayingBlurEvent = !0, setTimeout(function() {
            a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1, ad(a))
        }, 100)
    }

    function _c(a) {
        a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1), \"nocursor\" != a.options.readOnly && (a.state.focused || (Pf(a, \"focus\", a), a.state.focused = !0, Bg(a.display.wrapper, \"CodeMirror-focused\"), a.curOp || a.display.selForContextMenu == a.doc.sel || (a.display.input.reset(), h && setTimeout(function() {
            a.display.input.reset(!0)
        }, 20)), a.display.input.receivedFocus()), jb(a))
    }

    function ad(a) {
        a.state.delayingBlurEvent || (a.state.focused && (Pf(a, \"blur\", a), a.state.focused = !1, Ag(a.display.wrapper, \"CodeMirror-focused\")), clearInterval(a.display.blinker), setTimeout(function() {
            a.state.focused || (a.display.shift = !1)
        }, 150))
    }

    function bd(a, b) {
        uc(a.display, b) || cd(a, b) || Tf(a, b, \"contextmenu\") || a.display.input.onContextMenu(b)
    }

    function cd(a, b) {
        return Vf(a, \"gutterContextMenu\") ? Cc(a, b, \"gutterContextMenu\", !1, Pf) : !1
    }

    function ed(a, b) {
        if (ra(a, b.from) < 0) return a;
        if (ra(a, b.to) <= 0) return dd(b);
        var c = a.line + b.text.length - (b.to.line - b.from.line) - 1,
            d = a.ch;
        return a.line == b.to.line && (d += dd(b).ch - b.to.ch), qa(c, d)
    }

    function fd(a, b) {
        for (var c = [], d = 0; d < a.sel.ranges.length; d++) {
            var e = a.sel.ranges[d];
            c.push(new Ma(ed(e.anchor, b), ed(e.head, b)))
        }
        return Na(c, a.sel.primIndex)
    }

    function gd(a, b, c) {
        return a.line == b.line ? qa(c.line, a.ch - b.ch + c.ch) : qa(c.line + (a.line - b.line), a.ch)
    }

    function hd(a, b, c) {
        for (var d = [], e = qa(a.first, 0), f = e, g = 0; g < b.length; g++) {
            var h = b[g],
                i = gd(h.from, e, f),
                j = gd(dd(h), e, f);
            if (e = h.to, f = j, \"around\" == c) {
                var k = a.sel.ranges[g],
                    l = ra(k.head, k.anchor) < 0;
                d[g] = new Ma(l ? j : i, l ? i : j)
            } else d[g] = new Ma(i, i)
        }
        return new La(d, a.sel.primIndex)
    }

    function id(a, b, c) {
        var d = {
            canceled: !1,
            from: b.from,
            to: b.to,
            text: b.text,
            origin: b.origin,
            cancel: function() {
                this.canceled = !0
            }
        };
        return c && (d.update = function(b, c, d, e) {
            b && (this.from = Qa(a, b)), c && (this.to = Qa(a, c)), d && (this.text = d), void 0 !== e && (this.origin = e)
        }), Pf(a, \"beforeChange\", a, d), a.cm && Pf(a.cm, \"beforeChange\", a.cm, d), d.canceled ? null : {
            from: d.from,
            to: d.to,
            text: d.text,
            origin: d.origin
        }
    }

    function jd(a, b, c) {
        if (a.cm) {
            if (!a.cm.curOp) return fc(a.cm, jd)(a, b, c);
            if (a.cm.state.suppressEdits) return
        }
        if (!(Vf(a, \"beforeChange\") || a.cm && Vf(a.cm, \"beforeChange\")) || (b = id(a, b, !0))) {
            var d = v && !c && ke(a, b.from, b.to);
            if (d)
                for (var e = d.length - 1; e >= 0; --e) kd(a, {
                    from: d[e].from,
                    to: d[e].to,
                    text: e ? [\"\"] : b.text
                });
            else kd(a, b)
        }
    }

    function kd(a, b) {
        if (1 != b.text.length || \"\" != b.text[0] || 0 != ra(b.from, b.to)) {
            var c = fd(a, b);
            uf(a, b, c, a.cm ? a.cm.curOp.id : NaN), nd(a, b, c, he(a, b));
            var d = [];
            ff(a, function(a, c) {
                c || -1 != hg(d, a.history) || (Ef(a.history, b), d.push(a.history)), nd(a, b, null, he(a, b))
            })
        }
    }

    function ld(a, b, c) {
        if (!a.cm || !a.cm.state.suppressEdits) {
            for (var e, d = a.history, f = a.sel, g = \"undo\" == b ? d.done : d.undone, h = \"undo\" == b ? d.undone : d.done, i = 0; i < g.length && (e = g[i], c ? !e.ranges || e.equals(a.sel) : e.ranges); i++);
            if (i != g.length) {
                for (d.lastOrigin = d.lastSelOrigin = null; e = g.pop(), e.ranges;) {
                    if (xf(e, h), c && !e.equals(a.sel)) return void _a(a, e, {
                        clearRedo: !1
                    });
                    f = e
                }
                var j = [];
                xf(f, h), h.push({
                    changes: j,
                    generation: d.generation
                }), d.generation = e.generation || ++d.maxGeneration;
                for (var k = Vf(a, \"beforeChange\") || a.cm && Vf(a.cm, \"beforeChange\"), i = e.changes.length - 1; i >= 0; --i) {
                    var l = e.changes[i];
                    if (l.origin = b, k && !id(a, l, !1)) return void(g.length = 0);
                    j.push(rf(a, l));
                    var m = i ? fd(a, l) : fg(g);
                    nd(a, l, m, je(a, l)), !i && a.cm && a.cm.scrollIntoView({
                        from: l.from,
                        to: dd(l)
                    });
                    var n = [];
                    ff(a, function(a, b) {
                        b || -1 != hg(n, a.history) || (Ef(a.history, l), n.push(a.history)), nd(a, l, null, je(a, l))
                    })
                }
            }
        }
    }

    function md(a, b) {
        if (0 != b && (a.first += b, a.sel = new La(ig(a.sel.ranges, function(a) {
                return new Ma(qa(a.anchor.line + b, a.anchor.ch), qa(a.head.line + b, a.head.ch))
            }), a.sel.primIndex), a.cm)) {
            kc(a.cm, a.first, a.first - b, b);
            for (var c = a.cm.display, d = c.viewFrom; d < c.viewTo; d++) lc(a.cm, d, \"gutter\")
        }
    }

    function nd(a, b, c, d) {
        if (a.cm && !a.cm.curOp) return fc(a.cm, nd)(a, b, c, d);
        if (b.to.line < a.first) return void md(a, b.text.length - 1 - (b.to.line - b.from.line));
        if (!(b.from.line > a.lastLine())) {
            if (b.from.line < a.first) {
                var e = b.text.length - 1 - (a.first - b.from.line);
                md(a, e), b = {
                    from: qa(a.first, 0),
                    to: qa(b.to.line + e, b.to.ch),
                    text: [fg(b.text)],
                    origin: b.origin
                }
            }
            var f = a.lastLine();
            b.to.line > f && (b = {
                from: b.from,
                to: qa(f, hf(a, f).text.length),
                text: [b.text[0]],
                origin: b.origin
            }), b.removed = jf(a, b.from, b.to), c || (c = fd(a, b)), a.cm ? od(a.cm, b, d) : \$e(a, b, d), ab(a, c, Zf)
        }
    }

    function od(a, b, c) {
        var d = a.doc,
            e = a.display,
            f = b.from,
            g = b.to,
            h = !1,
            i = f.line;
        a.options.lineWrapping || (i = mf(ue(hf(d, f.line))), d.iter(i, g.line + 1, function(a) {
            return a == e.maxLine ? (h = !0, !0) : void 0
        })), d.sel.contains(b.from, b.to) > -1 && Uf(a), \$e(d, b, c, C(a)), a.options.lineWrapping || (d.iter(i, f.line + b.text.length, function(a) {
            var b = I(a);
            b > e.maxLineLength && (e.maxLine = a, e.maxLineLength = b, e.maxLineChanged = !0, h = !1)
        }), h && (a.curOp.updateMaxLine = !0)), d.frontier = Math.min(d.frontier, f.line), kb(a, 400);
        var j = b.text.length - (g.line - f.line) - 1;
        b.full ? kc(a) : f.line != g.line || 1 != b.text.length || Ze(a.doc, b) ? kc(a, f.line, g.line + 1, j) : lc(a, f.line, \"text\");
        var k = Vf(a, \"changes\"),
            l = Vf(a, \"change\");
        if (l || k) {
            var m = {
                from: f,
                to: g,
                text: b.text,
                removed: b.removed,
                origin: b.origin
            };
            l && Rf(a, \"change\", a, m), k && (a.curOp.changeObjs || (a.curOp.changeObjs = [])).push(m)
        }
        a.display.selForContextMenu = null
    }

    function pd(a, b, c, d, e) {
        if (d || (d = c), ra(d, c) < 0) {
            var f = d;
            d = c, c = f
        }
        \"string\" == typeof b && (b = a.splitLines(b)), jd(a, {
            from: c,
            to: d,
            text: b,
            origin: e
        })
    }

    function qd(a, b) {
        if (!Tf(a, \"scrollCursorIntoView\")) {
            var c = a.display,
                d = c.sizer.getBoundingClientRect(),
                e = null;
            if (b.top + d.top < 0 ? e = !0 : b.bottom + d.top > (window.innerHeight || document.documentElement.clientHeight) && (e = !1), null != e && !n) {
                var f = tg(\"div\", \"\\u200b\", null, \"position: absolute; top: \" + (b.top - c.viewOffset - ob(a.display)) + \"px; height: \" + (b.bottom - b.top + rb(a) + c.barHeight) + \"px; left: \" + b.left + \"px; width: 2px;\");
                a.display.lineSpace.appendChild(f), f.scrollIntoView(e), a.display.lineSpace.removeChild(f)
            }
        }
    }

    function rd(a, b, c, d) {
        null == d && (d = 0);
        for (var e = 0; 5 > e; e++) {
            var f = !1,
                g = Nb(a, b),
                h = c && c != b ? Nb(a, c) : g,
                i = td(a, Math.min(g.left, h.left), Math.min(g.top, h.top) - d, Math.max(g.left, h.left), Math.max(g.bottom, h.bottom) + d),
                j = a.doc.scrollTop,
                k = a.doc.scrollLeft;
            if (null != i.scrollTop && (Jc(a, i.scrollTop), Math.abs(a.doc.scrollTop - j) > 1 && (f = !0)), null != i.scrollLeft && (Kc(a, i.scrollLeft), Math.abs(a.doc.scrollLeft - k) > 1 && (f = !0)), !f) break
        }
        return g
    }

    function sd(a, b, c, d, e) {
        var f = td(a, b, c, d, e);
        null != f.scrollTop && Jc(a, f.scrollTop), null != f.scrollLeft && Kc(a, f.scrollLeft)
    }

    function td(a, b, c, d, e) {
        var f = a.display,
            g = Tb(a.display);
        0 > c && (c = 0);
        var h = a.curOp && null != a.curOp.scrollTop ? a.curOp.scrollTop : f.scroller.scrollTop,
            i = tb(a),
            j = {};
        e - c > i && (e = c + i);
        var k = a.doc.height + pb(f),
            l = g > c,
            m = e > k - g;
        if (h > c) j.scrollTop = l ? 0 : c;
        else if (e > h + i) {
            var n = Math.min(c, (m ? k : e) - i);
            n != h && (j.scrollTop = n)
        }
        var o = a.curOp && null != a.curOp.scrollLeft ? a.curOp.scrollLeft : f.scroller.scrollLeft,
            p = sb(a) - (a.options.fixedGutter ? f.gutters.offsetWidth : 0),
            q = d - b > p;
        return q && (d = b + p), 10 > b ? j.scrollLeft = 0 : o > b ? j.scrollLeft = Math.max(0, b - (q ? 0 : 10)) : d > p + o - 3 && (j.scrollLeft = d + (q ? 0 : 10) - p), j
    }

    function ud(a, b, c) {
        (null != b || null != c) && wd(a), null != b && (a.curOp.scrollLeft = (null == a.curOp.scrollLeft ? a.doc.scrollLeft : a.curOp.scrollLeft) + b), null != c && (a.curOp.scrollTop = (null == a.curOp.scrollTop ? a.doc.scrollTop : a.curOp.scrollTop) + c)
    }

    function vd(a) {
        wd(a);
        var b = a.getCursor(),
            c = b,
            d = b;
        a.options.lineWrapping || (c = b.ch ? qa(b.line, b.ch - 1) : b, d = qa(b.line, b.ch + 1)), a.curOp.scrollToPos = {
            from: c,
            to: d,
            margin: a.options.cursorScrollMargin,
            isCursor: !0
        }
    }

    function wd(a) {
        var b = a.curOp.scrollToPos;
        if (b) {
            a.curOp.scrollToPos = null;
            var c = Ob(a, b.from),
                d = Ob(a, b.to),
                e = td(a, Math.min(c.left, d.left), Math.min(c.top, d.top) - b.margin, Math.max(c.right, d.right), Math.max(c.bottom, d.bottom) + b.margin);
            a.scrollTo(e.scrollLeft, e.scrollTop)
        }
    }

    function xd(a, b, c, d) {
        var f, e = a.doc;
        null == c && (c = \"add\"), \"smart\" == c && (e.mode.indent ? f = nb(a, b) : c = \"prev\");
        var g = a.options.tabSize,
            h = hf(e, b),
            i = bg(h.text, null, g);
        h.stateAfter && (h.stateAfter = null);
        var k, j = h.text.match(/^\\s*/)[0];
        if (d || /\\S/.test(h.text)) {
            if (\"smart\" == c && (k = e.mode.indent(f, h.text.slice(j.length), h.text), k == Yf || k > 150)) {
                if (!d) return;
                c = \"prev\"
            }
        } else k = 0,
            c = \"not\";
        \"prev\" == c ? k = b > e.first ? bg(hf(e, b - 1).text, null, g) : 0 : \"add\" == c ? k = i + a.options.indentUnit : \"subtract\" == c ? k = i - a.options.indentUnit : \"number\" == typeof c && (k = i + c), k = Math.max(0, k);
        var l = \"\",
            m = 0;
        if (a.options.indentWithTabs)
            for (var n = Math.floor(k / g); n; --n) m += g, l += \" \";
        if (k > m && (l += eg(k - m)), l != j) return pd(e, l, qa(b, 0), qa(b, j.length), \"+input\"), h.stateAfter = null, !0;
        for (var n = 0; n < e.sel.ranges.length; n++) {
            var o = e.sel.ranges[n];
            if (o.head.line == b && o.head.ch < j.length) {
                var m = qa(b, j.length);
                Xa(e, n, new Ma(m, m));
                break
            }
        }
    }

    function yd(a, b, c, d) {
        var e = b,
            f = b;
        return \"number\" == typeof b ? f = hf(a, Pa(a, b)) : e = mf(b), null == e ? null : (d(f, e) && a.cm && lc(a.cm, e, c), f)
    }

    function zd(a, b) {
        for (var c = a.doc.sel.ranges, d = [], e = 0; e < c.length; e++) {
            for (var f = b(c[e]); d.length && ra(f.from, fg(d).to) <= 0;) {
                var g = d.pop();
                if (ra(g.from, f.from) < 0) {
                    f.from = g.from;
                    break
                }
            }
            d.push(f)
        }
        ec(a, function() {
            for (var b = d.length - 1; b >= 0; b--) pd(a.doc, \"\", d[b].from, d[b].to, \"+delete\");
            vd(a)
        })
    }

    function Ad(a, b, c, d, e) {
        function k() {
            var b = f + c;
            return b < a.first || b >= a.first + a.size ? j = !1 : (f = b, i = hf(a, b))
        }

        function l(a) {
            var b = (e ? ch : dh)(i, g, c, !0);
            if (null == b) {
                if (a || !k()) return j = !1;
                g = e ? (0 > c ? Wg : Vg)(i) : 0 > c ? i.text.length : 0
            } else g = b;
            return !0
        }
        var f = b.line,
            g = b.ch,
            h = c,
            i = hf(a, f),
            j = !0;
        if (\"char\" == d) l();
        else if (\"column\" == d) l(!0);
        else if (\"word\" == d || \"group\" == d)
            for (var m = null, n = \"group\" == d, o = a.cm && a.cm.getHelper(b, \"wordChars\"), p = !0; !(0 > c) || l(!p); p = !1) {
                var q = i.text.charAt(g) || \"\\n\",
                    r = pg(q, o) ? \"w\" : n && \"\\n\" == q ? \"n\" : !n || /\\s/.test(q) ? null : \"p\";
                if (!n || p || r || (r = \"s\"), m && m != r) {
                    0 > c && (c = 1, l());
                    break
                }
                if (r && (m = r), c > 0 && !l(!p)) break
            }
        var s = eb(a, qa(f, g), h, !0);
        return j || (s.hitSide = !0), s
    }

    function Bd(a, b, c, d) {
        var g, e = a.doc,
            f = b.left;
        if (\"page\" == d) {
            var h = Math.min(a.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
            g = b.top + c * (h - (0 > c ? 1.5 : .5) * Tb(a.display))
        } else \"line\" == d && (g = c > 0 ? b.bottom + 3 : b.top - 3);
        for (;;) {
            var i = Qb(a, f, g);
            if (!i.outside) break;
            if (0 > c ? 0 >= g : g >= e.height) {
                i.hitSide = !0;
                break
            }
            g += 5 * c
        }
        return i
    }

    function Ed(a, b, c, d) {
        x.defaults[a] = b, c && (Dd[a] = d ? function(a, b, d) {
            d != Fd && c(a, b, d)
        } : c)
    }

    function Pd(a) {
        for (var c, d, e, f, b = a.split(/-(?!\$)/), a = b[b.length - 1], g = 0; g < b.length - 1; g++) {
            var h = b[g];
            if (/^(cmd|meta|m)\$/i.test(h)) f = !0;
            else if (/^a(lt)?\$/i.test(h)) c = !0;
            else if (/^(c|ctrl|control)\$/i.test(h)) d = !0;
            else {
                if (!/^s(hift)\$/i.test(h)) throw new Error(\"Unrecognized modifier name: \" + h);
                e = !0
            }
        }
        return c && (a = \"Alt-\" + a), d && (a = \"Ctrl-\" + a), f && (a = \"Cmd-\" + a), e && (a = \"Shift-\" + a), a
    }

    function Td(a) {
        return \"string\" == typeof a ? Od[a] : a
    }

    function Xd(a, b, c, d, e) {
        if (d && d.shared) return Zd(a, b, c, d, e);
        if (a.cm && !a.cm.curOp) return fc(a.cm, Xd)(a, b, c, d, e);
        var f = new Wd(a, e),
            g = ra(b, c);
        if (d && lg(d, f, !1), g > 0 || 0 == g && f.clearWhenEmpty !== !1) return f;
        if (f.replacedWith && (f.collapsed = !0, f.widgetNode = tg(\"span\", [f.replacedWith], \"CodeMirror-widget\"), d.handleMouseEvents || f.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"), d.insertLeft && (f.widgetNode.insertLeft = !0)), f.collapsed) {
            if (te(a, b.line, b, c, f) || b.line != c.line && te(a, c.line, b, c, f)) throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");
            w = !0
        }
        f.addToHistory && uf(a, {
            from: b,
            to: c,
            origin: \"markText\"
        }, a.sel, NaN);
        var j, h = b.line,
            i = a.cm;
        if (a.iter(h, c.line + 1, function(a) {
                i && f.collapsed && !i.options.lineWrapping && ue(a) == i.display.maxLine && (j = !0), f.collapsed && h != b.line && lf(a, 0), ee(a, new be(f, h == b.line ? b.ch : null, h == c.line ? c.ch : null)), ++h
            }), f.collapsed && a.iter(b.line, c.line + 1, function(b) {
                ye(a, b) && lf(b, 0)
            }), f.clearOnEnter && Lf(f, \"beforeCursorEnter\", function() {
                f.clear()
            }), f.readOnly && (v = !0, (a.history.done.length || a.history.undone.length) && a.clearHistory()), f.collapsed && (f.id = ++Vd, f.atomic = !0), i) {
            if (j && (i.curOp.updateMaxLine = !0), f.collapsed) kc(i, b.line, c.line + 1);
            else if (f.className || f.title || f.startStyle || f.endStyle || f.css)
                for (var k = b.line; k <= c.line; k++) lc(i, k, \"text\");
            f.atomic && cb(i.doc), Rf(i, \"markerAdded\", i, f)
        }
        return f
    }

    function Zd(a, b, c, d, e) {
        d = lg(d), d.shared = !1;
        var f = [Xd(a, b, c, d, e)],
            g = f[0],
            h = d.widgetNode;
        return ff(a, function(a) {
            h && (d.widgetNode = h.cloneNode(!0)), f.push(Xd(a, Qa(a, b), Qa(a, c), d, e));
            for (var i = 0; i < a.linked.length; ++i)
                if (a.linked[i].isParent) return;
            g = fg(f)
        }), new Yd(f, g)
    }

    function \$d(a) {
        return a.findMarks(qa(a.first, 0), a.clipPos(qa(a.lastLine())), function(a) {
            return a.parent
        })
    }

    function _d(a, b) {
        for (var c = 0; c < b.length; c++) {
            var d = b[c],
                e = d.find(),
                f = a.clipPos(e.from),
                g = a.clipPos(e.to);
            if (ra(f, g)) {
                var h = Xd(a, f, g, d.primary, d.primary.type);
                d.markers.push(h), h.parent = d
            }
        }
    }

    function ae(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b],
                d = [c.primary.doc];
            ff(c.primary.doc, function(a) {
                d.push(a)
            });
            for (var e = 0; e < c.markers.length; e++) {
                var f = c.markers[e]; - 1 == hg(d, f.doc) && (f.parent = null, c.markers.splice(e--, 1))
            }
        }
    }

    function be(a, b, c) {
        this.marker = a, this.from = b, this.to = c
    }

    function ce(a, b) {
        if (a)
            for (var c = 0; c < a.length; ++c) {
                var d = a[c];
                if (d.marker == b) return d
            }
    }

    function de(a, b) {
        for (var c, d = 0; d < a.length; ++d) a[d] != b && (c || (c = [])).push(a[d]);
        return c
    }

    function ee(a, b) {
        a.markedSpans = a.markedSpans ? a.markedSpans.concat([b]) : [b], b.marker.attachLine(a)
    }

    function fe(a, b, c) {
        if (a)
            for (var e, d = 0; d < a.length; ++d) {
                var f = a[d],
                    g = f.marker,
                    h = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
                if (h || f.from == b && \"bookmark\" == g.type && (!c || !f.marker.insertLeft)) {
                    var i = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
                    (e || (e = [])).push(new be(g, f.from, i ? null : f.to))
                }
            }
        return e
    }

    function ge(a, b, c) {
        if (a)
            for (var e, d = 0; d < a.length; ++d) {
                var f = a[d],
                    g = f.marker,
                    h = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
                if (h || f.from == b && \"bookmark\" == g.type && (!c || f.marker.insertLeft)) {
                    var i = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
                    (e || (e = [])).push(new be(g, i ? null : f.from - b, null == f.to ? null : f.to - b))
                }
            }
        return e
    }

    function he(a, b) {
        if (b.full) return null;
        var c = Sa(a, b.from.line) && hf(a, b.from.line).markedSpans,
            d = Sa(a, b.to.line) && hf(a, b.to.line).markedSpans;
        if (!c && !d) return null;
        var e = b.from.ch,
            f = b.to.ch,
            g = 0 == ra(b.from, b.to),
            h = fe(c, e, g),
            i = ge(d, f, g),
            j = 1 == b.text.length,
            k = fg(b.text).length + (j ? e : 0);
        if (h)
            for (var l = 0; l < h.length; ++l) {
                var m = h[l];
                if (null == m.to) {
                    var n = ce(i, m.marker);
                    n ? j && (m.to = null == n.to ? null : n.to + k) : m.to = e
                }
            }
        if (i)
            for (var l = 0; l < i.length; ++l) {
                var m = i[l];
                if (null != m.to && (m.to += k), null == m.from) {
                    var n = ce(h, m.marker);
                    n || (m.from = k, j && (h || (h = [])).push(m))
                } else m.from += k, j && (h || (h = [])).push(m)
            }
        h && (h = ie(h)), i && i != h && (i = ie(i));
        var o = [h];
        if (!j) {
            var q, p = b.text.length - 2;
            if (p > 0 && h)
                for (var l = 0; l < h.length; ++l) null == h[l].to && (q || (q = [])).push(new be(h[l].marker, null, null));
            for (var l = 0; p > l; ++l) o.push(q);
            o.push(i)
        }
        return o
    }

    function ie(a) {
        for (var b = 0; b < a.length; ++b) {
            var c = a[b];
            null != c.from && c.from == c.to && c.marker.clearWhenEmpty !== !1 && a.splice(b--, 1)
        }
        return a.length ? a : null
    }

    function je(a, b) {
        var c = Af(a, b),
            d = he(a, b);
        if (!c) return d;
        if (!d) return c;
        for (var e = 0; e < c.length; ++e) {
            var f = c[e],
                g = d[e];
            if (f && g) a: for (var h = 0; h < g.length; ++h) {
                for (var i = g[h], j = 0; j < f.length; ++j)
                    if (f[j].marker == i.marker) continue a;
                f.push(i)
            } else g && (c[e] = g)
        }
        return c
    }

    function ke(a, b, c) {
        var d = null;
        if (a.iter(b.line, c.line + 1, function(a) {
                if (a.markedSpans)
                    for (var b = 0; b < a.markedSpans.length; ++b) {
                        var c = a.markedSpans[b].marker;
                        !c.readOnly || d && -1 != hg(d, c) || (d || (d = [])).push(c)
                    }
            }), !d) return null;
        for (var e = [{
                from: b,
                to: c
            }], f = 0; f < d.length; ++f)
            for (var g = d[f], h = g.find(0), i = 0; i < e.length; ++i) {
                var j = e[i];
                if (!(ra(j.to, h.from) < 0 || ra(j.from, h.to) > 0)) {
                    var k = [i, 1],
                        l = ra(j.from, h.from),
                        m = ra(j.to, h.to);
                    (0 > l || !g.inclusiveLeft && !l) && k.push({
                        from: j.from,
                        to: h.from
                    }), (m > 0 || !g.inclusiveRight && !m) && k.push({
                        from: h.to,
                        to: j.to
                    }), e.splice.apply(e, k), i += k.length - 1
                }
            }
        return e
    }

    function le(a) {
        var b = a.markedSpans;
        if (b) {
            for (var c = 0; c < b.length; ++c) b[c].marker.detachLine(a);
            a.markedSpans = null
        }
    }

    function me(a, b) {
        if (b) {
            for (var c = 0; c < b.length; ++c) b[c].marker.attachLine(a);
            a.markedSpans = b
        }
    }

    function ne(a) {
        return a.inclusiveLeft ? -1 : 0
    }

    function oe(a) {
        return a.inclusiveRight ? 1 : 0
    }

    function pe(a, b) {
        var c = a.lines.length - b.lines.length;
        if (0 != c) return c;
        var d = a.find(),
            e = b.find(),
            f = ra(d.from, e.from) || ne(a) - ne(b);
        if (f) return -f;
        var g = ra(d.to, e.to) || oe(a) - oe(b);
        return g ? g : b.id - a.id
    }

    function qe(a, b) {
        var d, c = w && a.markedSpans;
        if (c)
            for (var e, f = 0; f < c.length; ++f) e = c[f], e.marker.collapsed && null == (b ? e.from : e.to) && (!d || pe(d, e.marker) < 0) && (d = e.marker);
        return d
    }

    function re(a) {
        return qe(a, !0)
    }

    function se(a) {
        return qe(a, !1)
    }

    function te(a, b, c, d, e) {
        var f = hf(a, b),
            g = w && f.markedSpans;
        if (g)
            for (var h = 0; h < g.length; ++h) {
                var i = g[h];
                if (i.marker.collapsed) {
                    var j = i.marker.find(0),
                        k = ra(j.from, c) || ne(i.marker) - ne(e),
                        l = ra(j.to, d) || oe(i.marker) - oe(e);
                    if (!(k >= 0 && 0 >= l || 0 >= k && l >= 0) && (0 >= k && (ra(j.to, c) > 0 || i.marker.inclusiveRight && e.inclusiveLeft) || k >= 0 && (ra(j.from, d) < 0 || i.marker.inclusiveLeft && e.inclusiveRight))) return !0
                }
            }
    }

    function ue(a) {
        for (var b; b = re(a);) a = b.find(-1, !0).line;
        return a
    }

    function ve(a) {
        for (var b, c; b = se(a);) a = b.find(1, !0).line, (c || (c = [])).push(a);
        return c
    }

    function we(a, b) {
        var c = hf(a, b),
            d = ue(c);
        return c == d ? b : mf(d)
    }

    function xe(a, b) {
        if (b > a.lastLine()) return b;
        var d, c = hf(a, b);
        if (!ye(a, c)) return b;
        for (; d = se(c);) c = d.find(1, !0).line;
        return mf(c) + 1
    }

    function ye(a, b) {
        var c = w && b.markedSpans;
        if (c)
            for (var d, e = 0; e < c.length; ++e)
                if (d = c[e], d.marker.collapsed) {
                    if (null == d.from) return !0;
                    if (!d.marker.widgetNode && 0 == d.from && d.marker.inclusiveLeft && ze(a, b, d)) return !0
                }
    }

    function ze(a, b, c) {
        if (null == c.to) {
            var d = c.marker.find(1, !0);
            return ze(a, d.line, ce(d.line.markedSpans, c.marker))
        }
        if (c.marker.inclusiveRight && c.to == b.text.length) return !0;
        for (var e, f = 0; f < b.markedSpans.length; ++f)
            if (e = b.markedSpans[f], e.marker.collapsed && !e.marker.widgetNode && e.from == c.to && (null == e.to || e.to != c.from) && (e.marker.inclusiveLeft || c.marker.inclusiveRight) && ze(a, b, e)) return !0
    }

    function Be(a, b, c) {
        of(b) < (a.curOp && a.curOp.scrollTop || a.doc.scrollTop) && ud(a, null, c)
    }

    function Ce(a) {
        if (null != a.height) return a.height;
        var b = a.doc.cm;
        if (!b) return 0;
        if (!xg(document.body, a.node)) {
            var c = \"position: relative;\";
            a.coverGutter && (c += \"margin-left: -\" + b.display.gutters.offsetWidth + \"px;\"), a.noHScroll && (c += \"width: \" + b.display.wrapper.clientWidth + \"px;\"), wg(b.display.measure, tg(\"div\", [a.node], null, c))
        }
        return a.height = a.node.offsetHeight
    }

    function De(a, b, c, d) {
        var e = new Ae(a, c, d),
            f = a.cm;
        return f && e.noHScroll && (f.display.alignWidgets = !0), yd(a, b, \"widget\", function(b) {
            var c = b.widgets || (b.widgets = []);
            if (null == e.insertAt ? c.push(e) : c.splice(Math.min(c.length - 1, Math.max(0, e.insertAt)), 0, e), e.line = b, f && !ye(a, b)) {
                var d = of(b) < a.scrollTop;
                lf(b, b.height + Ce(e)), d && ud(f, null, e.height), f.curOp.forceUpdate = !0
            }
            return !0
        }), e
    }

    function Fe(a, b, c, d) {
        a.text = b, a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null), null != a.order && (a.order = null), le(a), me(a, c);
        var e = d ? d(a) : 1;
        e != a.height && lf(a, e)
    }

    function Ge(a) {
        a.parent = null, le(a)
    }

    function He(a, b) {
        if (a)
            for (;;) {
                var c = a.match(/(?:^|\\s+)line-(background-)?(\\S+)/);
                if (!c) break;
                a = a.slice(0, c.index) + a.slice(c.index + c[0].length);
                var d = c[1] ? \"bgClass\" : \"textClass\";
                null == b[d] ? b[d] = c[2] : new RegExp(\"(?:^|s)\" + c[2] + \"(?:\$|s)\").test(b[d]) || (b[d] += \" \" + c[2])
            }
        return a
    }

    function Ie(a, b) {
        if (a.blankLine) return a.blankLine(b);
        if (a.innerMode) {
            var c = x.innerMode(a, b);
            return c.mode.blankLine ? c.mode.blankLine(c.state) : void 0
        }
    }

    function Je(a, b, c, d) {
        for (var e = 0; 10 > e; e++) {
            d && (d[0] = x.innerMode(a, c).mode);
            var f = a.token(b, c);
            if (b.pos > b.start) return f
        }
        throw new Error(\"Mode \" + a.name + \" failed to advance stream.\")
    }

    function Ke(a, b, c, d) {
        function e(a) {
            return {
                start: k.start,
                end: k.pos,
                string: k.current(),
                type: h || null,
                state: a ? Ld(f.mode, j) : j
            }
        }
        var h, f = a.doc,
            g = f.mode;
        b = Qa(f, b);
        var l, i = hf(f, b.line),
            j = nb(a, b.line, c),
            k = new Ud(i.text, a.options.tabSize);
        for (d && (l = []);
            (d || k.pos < b.ch) && !k.eol();) k.start = k.pos, h = Je(g, k, j), d && l.push(e(!0));
        return d ? l : e()
    }

    function Le(a, b, c, d, e, f, g) {
        var h = c.flattenSpans;
        null == h && (h = a.options.flattenSpans);
        var l, i = 0,
            j = null,
            k = new Ud(b, a.options.tabSize),
            m = a.options.addModeClass && [null];
        for (\"\" == b && He(Ie(c, d), f); !k.eol();) {
            if (k.pos > a.options.maxHighlightLength ? (h = !1, g && Oe(a, b, d, k.pos), k.pos = b.length, l = null) : l = He(Je(c, k, d, m), f), m) {
                var n = m[0].name;
                n && (l = \"m-\" + (l ? n + \" \" + l : n))
            }
            if (!h || j != l) {
                for (; i < k.start;) i = Math.min(k.start, i + 5e4), e(i, j);
                j = l
            }
            k.start = k.pos
        }
        for (; i < k.pos;) {
            var o = Math.min(k.pos, i + 5e4);
            e(o, j), i = o
        }
    }

    function Me(a, b, c, d) {
        var e = [a.state.modeGen],
            f = {};
        Le(a, b.text, a.doc.mode, c, function(a, b) {
            e.push(a, b)
        }, f, d);
        for (var g = 0; g < a.state.overlays.length; ++g) {
            var h = a.state.overlays[g],
                i = 1,
                j = 0;
            Le(a, b.text, h.mode, !0, function(a, b) {
                for (var c = i; a > j;) {
                    var d = e[i];
                    d > a && e.splice(i, 1, a, e[i + 1], d), i += 2, j = Math.min(a, d)
                }
                if (b)
                    if (h.opaque) e.splice(c, i - c, a, \"cm-overlay \" + b), i = c + 2;
                    else
                        for (; i > c; c += 2) {
                            var f = e[c + 1];
                            e[c + 1] = (f ? f + \" \" : \"\") + \"cm-overlay \" + b
                        }
            }, f)
        }
        return {
            styles: e,
            classes: f.bgClass || f.textClass ? f : null
        }
    }

    function Ne(a, b, c) {
        if (!b.styles || b.styles[0] != a.state.modeGen) {
            var d = nb(a, mf(b)),
                e = Me(a, b, b.text.length > a.options.maxHighlightLength ? Ld(a.doc.mode, d) : d);
            b.stateAfter = d, b.styles = e.styles, e.classes ? b.styleClasses = e.classes : b.styleClasses && (b.styleClasses = null), c === a.doc.frontier && a.doc.frontier++
        }
        return b.styles
    }

    function Oe(a, b, c, d) {
        var e = a.doc.mode,
            f = new Ud(b, a.options.tabSize);
        for (f.start = f.pos = d || 0, \"\" == b && Ie(e, c); !f.eol();) Je(e, f, c), f.start = f.pos
    }

    function Re(a, b) {
        if (!a || /^\\s*\$/.test(a)) return null;
        var c = b.addModeClass ? Qe : Pe;
        return c[a] || (c[a] = a.replace(/\\S+/g, \"cm-\$&\"))
    }

    function Se(a, b) {
        var c = tg(\"span\", null, null, h ? \"padding-right: .1px\" : null),
            d = {
                pre: tg(\"pre\", [c], \"CodeMirror-line\"),
                content: c,
                col: 0,
                pos: 0,
                cm: a,
                splitSpaces: (f || h) && a.getOption(\"lineWrapping\")
            };
        b.measure = {};
        for (var e = 0; e <= (b.rest ? b.rest.length : 0); e++) {
            var i, g = e ? b.rest[e - 1] : b.line;
            d.pos = 0, d.addToken = Ue, Lg(a.display.measure) && (i = pf(g)) && (d.addToken = We(d.addToken, i)), d.map = [];
            var j = b != a.display.externalMeasured && mf(g);
            Ye(g, d, Ne(a, g, j)), g.styleClasses && (g.styleClasses.bgClass && (d.bgClass = Cg(g.styleClasses.bgClass, d.bgClass || \"\")), g.styleClasses.textClass && (d.textClass = Cg(g.styleClasses.textClass, d.textClass || \"\"))), 0 == d.map.length && d.map.push(0, 0, d.content.appendChild(Jg(a.display.measure))), 0 == e ? (b.measure.map = d.map, b.measure.cache = {}) : ((b.measure.maps || (b.measure.maps = [])).push(d.map), (b.measure.caches || (b.measure.caches = [])).push({}))
        }
        return h && /\\bcm-tab\\b/.test(d.content.lastChild.className) && (d.content.className = \"cm-tab-wrap-hack\"), Pf(a, \"renderLine\", a, b.line, d.pre), d.pre.className && (d.textClass = Cg(d.pre.className, d.textClass || \"\")), d
    }

    function Te(a) {
        var b = tg(\"span\", \"\\u2022\", \"cm-invalidchar\");
        return b.title = \"\\\\u\" + a.charCodeAt(0).toString(16), b.setAttribute(\"aria-label\", b.title), b
    }

    function Ue(a, b, c, d, e, h, i) {
        if (b) {
            var j = a.splitSpaces ? b.replace(/ {3,}/g, Ve) : b,
                k = a.cm.state.specialChars,
                l = !1;
            if (k.test(b))
                for (var m = document.createDocumentFragment(), n = 0;;) {
                    k.lastIndex = n;
                    var o = k.exec(b),
                        p = o ? o.index - n : b.length - n;
                    if (p) {
                        var q = document.createTextNode(j.slice(n, n + p));
                        f && 9 > g ? m.appendChild(tg(\"span\", [q])) : m.appendChild(q), a.map.push(a.pos, a.pos + p, q), a.col += p, a.pos += p
                    }
                    if (!o) break;
                    if (n += p + 1, \"  \" == o[0]) {
                        var r = a.cm.options.tabSize,
                            s = r - a.col % r,
                            q = m.appendChild(tg(\"span\", eg(s), \"cm-tab\"));
                        q.setAttribute(\"role\", \"presentation\"), q.setAttribute(\"cm-text\", \" \"), a.col += s
                    } else if (\"\\r\" == o[0] || \"\\n\" == o[0]) {
                        var q = m.appendChild(tg(\"span\", \"\\r\" == o[0] ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));
                        q.setAttribute(\"cm-text\", o[0]), a.col += 1
                    } else {
                        var q = a.cm.options.specialCharPlaceholder(o[0]);
                        q.setAttribute(\"cm-text\", o[0]), f && 9 > g ? m.appendChild(tg(\"span\", [q])) : m.appendChild(q), a.col += 1
                    }
                    a.map.push(a.pos, a.pos + 1, q), a.pos++
                } else {
                    a.col += b.length;
                    var m = document.createTextNode(j);
                    a.map.push(a.pos, a.pos + b.length, m), f && 9 > g && (l = !0), a.pos += b.length
                }
            if (c || d || e || l || i) {
                var t = c || \"\";
                d && (t += d), e && (t += e);
                var u = tg(\"span\", [m], t, i);
                return h && (u.title = h), a.content.appendChild(u)
            }
            a.content.appendChild(m)
        }
    }

    function Ve(a) {
        for (var b = \" \", c = 0; c < a.length - 2; ++c) b += c % 2 ? \" \" : \"\\xa0\";
        return b += \" \"
    }

    function We(a, b) {
        return function(c, d, e, f, g, h, i) {
            e = e ? e + \" cm-force-border\" : \"cm-force-border\";
            for (var j = c.pos, k = j + d.length;;) {
                for (var l = 0; l < b.length; l++) {
                    var m = b[l];
                    if (m.to > j && m.from <= j) break
                }
                if (m.to >= k) return a(c, d, e, f, g, h, i);
                a(c, d.slice(0, m.to - j), e, f, null, h, i), f = null, d = d.slice(m.to - j), j = m.to
            }
        }
    }

    function Xe(a, b, c, d) {
        var e = !d && c.widgetNode;
        e && a.map.push(a.pos, a.pos + b, e), !d && a.cm.display.input.needsContentAttribute && (e || (e = a.content.appendChild(document.createElement(\"span\"))), e.setAttribute(\"cm-marker\", c.id)), e && (a.cm.display.input.setUneditable(e), a.content.appendChild(e)), a.pos += b
    }

    function Ye(a, b, c) {
        var d = a.markedSpans,
            e = a.text,
            f = 0;
        if (d)
            for (var k, l, n, o, p, q, r, h = e.length, i = 0, g = 1, j = \"\", m = 0;;) {
                if (m == i) {
                    n = o = p = q = l = \"\", r = null, m = 1 / 0;
                    for (var s = [], t = 0; t < d.length; ++t) {
                        var u = d[t],
                            v = u.marker;
                        \"bookmark\" == v.type && u.from == i && v.widgetNode ? s.push(v) : u.from <= i && (null == u.to || u.to > i || v.collapsed && u.to == i && u.from == i) ? (null != u.to && u.to != i && m > u.to && (m = u.to, o = \"\"), v.className && (n += \" \" + v.className), v.css && (l = v.css), v.startStyle && u.from == i && (p += \" \" + v.startStyle), v.endStyle && u.to == m && (o += \" \" + v.endStyle), v.title && !q && (q = v.title), v.collapsed && (!r || pe(r.marker, v) < 0) && (r = u)) : u.from > i && m > u.from && (m = u.from)
                    }
                    if (r && (r.from || 0) == i) {
                        if (Xe(b, (null == r.to ? h + 1 : r.to) - i, r.marker, null == r.from), null == r.to) return;
                        r.to == i && (r = !1)
                    }
                    if (!r && s.length)
                        for (var t = 0; t < s.length; ++t) Xe(b, 0, s[t])
                }
                if (i >= h) break;
                for (var w = Math.min(h, m);;) {
                    if (j) {
                        var x = i + j.length;
                        if (!r) {
                            var y = x > w ? j.slice(0, w - i) : j;
                            b.addToken(b, y, k ? k + n : n, p, i + y.length == m ? o : \"\", q, l)
                        }
                        if (x >= w) {
                            j = j.slice(w - i), i = w;
                            break
                        }
                        i = x, p = \"\"
                    }
                    j = e.slice(f, f = c[g++]), k = Re(c[g++], b.cm.options)
                }
            } else
                for (var g = 1; g < c.length; g += 2) b.addToken(b, e.slice(f, f = c[g]), Re(c[g + 1], b.cm.options))
    }

    function Ze(a, b) {
        return 0 == b.from.ch && 0 == b.to.ch && \"\" == fg(b.text) && (!a.cm || a.cm.options.wholeLineUpdateBefore)
    }

    function \$e(a, b, c, d) {
        function e(a) {
            return c ? c[a] : null
        }

        function f(a, c, e) {
            Fe(a, c, e, d), Rf(a, \"change\", a, b)
        }

        function g(a, b) {
            for (var c = a, f = []; b > c; ++c) f.push(new Ee(j[c], e(c), d));
            return f
        }
        var h = b.from,
            i = b.to,
            j = b.text,
            k = hf(a, h.line),
            l = hf(a, i.line),
            m = fg(j),
            n = e(j.length - 1),
            o = i.line - h.line;
        if (b.full) a.insert(0, g(0, j.length)), a.remove(j.length, a.size - j.length);
        else if (Ze(a, b)) {
            var p = g(0, j.length - 1);
            f(l, l.text, n), o && a.remove(h.line, o), p.length && a.insert(h.line, p)
        } else if (k == l)
            if (1 == j.length) f(k, k.text.slice(0, h.ch) + m + k.text.slice(i.ch), n);
            else {
                var p = g(1, j.length - 1);
                p.push(new Ee(m + k.text.slice(i.ch), n, d)), f(k, k.text.slice(0, h.ch) + j[0], e(0)), a.insert(h.line + 1, p)
            } else if (1 == j.length) f(k, k.text.slice(0, h.ch) + j[0] + l.text.slice(i.ch), e(0)), a.remove(h.line + 1, o);
        else {
            f(k, k.text.slice(0, h.ch) + j[0], e(0)), f(l, m + l.text.slice(i.ch), n);
            var p = g(1, j.length - 1);
            o > 1 && a.remove(h.line + 1, o - 1), a.insert(h.line + 1, p)
        }
        Rf(a, \"change\", a, b)
    }

    function _e(a) {
        this.lines = a, this.parent = null;
        for (var b = 0, c = 0; b < a.length; ++b) a[b].parent = this, c += a[b].height;
        this.height = c
    }

    function af(a) {
        this.children = a;
        for (var b = 0, c = 0, d = 0; d < a.length; ++d) {
            var e = a[d];
            b += e.chunkSize(), c += e.height, e.parent = this
        }
        this.size = b, this.height = c, this.parent = null
    }

    function ff(a, b, c) {
        function d(a, e, f) {
            if (a.linked)
                for (var g = 0; g < a.linked.length; ++g) {
                    var h = a.linked[g];
                    if (h.doc != e) {
                        var i = f && h.sharedHist;
                        (!c || i) && (b(h.doc, i), d(h.doc, a, i))
                    }
                }
        }
        d(a, null, !0)
    }

    function gf(a, b) {
        if (b.cm) throw new Error(\"This document is already in use.\");
        a.doc = b, b.cm = a, D(a), z(a), a.options.lineWrapping || J(a), a.options.mode = b.modeOption, kc(a)
    }

    function hf(a, b) {
        if (b -= a.first, 0 > b || b >= a.size) throw new Error(\"There is no line \" + (b + a.first) + \" in the document.\");
        for (var c = a; !c.lines;)
            for (var d = 0;; ++d) {
                var e = c.children[d],
                    f = e.chunkSize();
                if (f > b) {
                    c = e;
                    break
                }
                b -= f
            }
        return c.lines[b]
    }

    function jf(a, b, c) {
        var d = [],
            e = b.line;
        return a.iter(b.line, c.line + 1, function(a) {
            var f = a.text;
            e == c.line && (f = f.slice(0, c.ch)), e == b.line && (f = f.slice(b.ch)), d.push(f), ++e
        }), d
    }

    function kf(a, b, c) {
        var d = [];
        return a.iter(b, c, function(a) {
            d.push(a.text)
        }), d
    }

    function lf(a, b) {
        var c = b - a.height;
        if (c)
            for (var d = a; d; d = d.parent) d.height += c
    }

    function mf(a) {
        if (null == a.parent) return null;
        for (var b = a.parent, c = hg(b.lines, a), d = b.parent; d; b = d, d = d.parent)
            for (var e = 0; d.children[e] != b; ++e) c += d.children[e].chunkSize();
        return c + b.first
    }

    function nf(a, b) {
        var c = a.first;
        a: do {
            for (var d = 0; d < a.children.length; ++d) {
                var e = a.children[d],
                    f = e.height;
                if (f > b) {
                    a = e;
                    continue a
                }
                b -= f, c += e.chunkSize()
            }
            return c
        } while (!a.lines);
        for (var d = 0; d < a.lines.length; ++d) {
            var g = a.lines[d],
                h = g.height;
            if (h > b) break;
            b -= h
        }
        return c + d
    }

    function of(a) {
        a = ue(a);
        for (var b = 0, c = a.parent, d = 0; d < c.lines.length; ++d) {
            var e = c.lines[d];
            if (e == a) break;
            b += e.height
        }
        for (var f = c.parent; f; c = f, f = c.parent)
            for (var d = 0; d < f.children.length; ++d) {
                var g = f.children[d];
                if (g == c) break;
                b += g.height
            }
        return b
    }

    function pf(a) {
        var b = a.order;
        return null == b && (b = a.order = eh(a.text)), b
    }

    function qf(a) {
        this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = a || 1
    }

    function rf(a, b) {
        var c = {
            from: sa(b.from),
            to: dd(b),
            text: jf(a, b.from, b.to)
        };
        return yf(a, c, b.from.line, b.to.line + 1), ff(a, function(a) {
            yf(a, c, b.from.line, b.to.line + 1)
        }, !0), c
    }

    function sf(a) {
        for (; a.length;) {
            var b = fg(a);
            if (!b.ranges) break;
            a.pop()
        }
    }

    function tf(a, b) {
        return b ? (sf(a.done), fg(a.done)) : a.done.length && !fg(a.done).ranges ? fg(a.done) : a.done.length > 1 && !a.done[a.done.length - 2].ranges ? (a.done.pop(), fg(a.done)) : void 0
    }

    function uf(a, b, c, d) {
        var e = a.history;
        e.undone.length = 0;
        var g, f = +new Date;
        if ((e.lastOp == d || e.lastOrigin == b.origin && b.origin && (\"+\" == b.origin.charAt(0) && a.cm && e.lastModTime > f - a.cm.options.historyEventDelay || \"*\" == b.origin.charAt(0))) && (g = tf(e, e.lastOp == d))) {
            var h = fg(g.changes);
            0 == ra(b.from, b.to) && 0 == ra(b.from, h.to) ? h.to = dd(b) : g.changes.push(rf(a, b))
        } else {
            var i = fg(e.done);
            for (i && i.ranges || xf(a.sel, e.done), g = {
                    changes: [rf(a, b)],
                    generation: e.generation
                }, e.done.push(g); e.done.length > e.undoDepth;) e.done.shift(), e.done[0].ranges || e.done.shift()
        }
        e.done.push(c), e.generation = ++e.maxGeneration, e.lastModTime = e.lastSelTime = f, e.lastOp = e.lastSelOp = d, e.lastOrigin = e.lastSelOrigin = b.origin, h || Pf(a, \"historyAdded\")
    }

    function vf(a, b, c, d) {
        var e = b.charAt(0);
        return \"*\" == e || \"+\" == e && c.ranges.length == d.ranges.length && c.somethingSelected() == d.somethingSelected() && new Date - a.history.lastSelTime <= (a.cm ? a.cm.options.historyEventDelay : 500)
    }

    function wf(a, b, c, d) {
        var e = a.history,
            f = d && d.origin;
        c == e.lastSelOp || f && e.lastSelOrigin == f && (e.lastModTime == e.lastSelTime && e.lastOrigin == f || vf(a, f, fg(e.done), b)) ? e.done[e.done.length - 1] = b : xf(b, e.done), e.lastSelTime = +new Date, e.lastSelOrigin = f, e.lastSelOp = c, d && d.clearRedo !== !1 && sf(e.undone)
    }

    function xf(a, b) {
        var c = fg(b);
        c && c.ranges && c.equals(a) || b.push(a)
    }

    function yf(a, b, c, d) {
        var e = b[\"spans_\" + a.id],
            f = 0;
        a.iter(Math.max(a.first, c), Math.min(a.first + a.size, d), function(c) {
            c.markedSpans && ((e || (e = b[\"spans_\" + a.id] = {}))[f] = c.markedSpans), ++f
        })
    }

    function zf(a) {
        if (!a) return null;
        for (var c, b = 0; b < a.length; ++b) a[b].marker.explicitlyCleared ? c || (c = a.slice(0, b)) : c && c.push(a[b]);
        return c ? c.length ? c : null : a
    }

    function Af(a, b) {
        var c = b[\"spans_\" + a.id];
        if (!c) return null;
        for (var d = 0, e = []; d < b.text.length; ++d) e.push(zf(c[d]));
        return e
    }

    function Bf(a, b, c) {
        for (var d = 0, e = []; d < a.length; ++d) {
            var f = a[d];
            if (f.ranges) e.push(c ? La.prototype.deepCopy.call(f) : f);
            else {
                var g = f.changes,
                    h = [];
                e.push({
                    changes: h
                });
                for (var i = 0; i < g.length; ++i) {
                    var k, j = g[i];
                    if (h.push({
                            from: j.from,
                            to: j.to,
                            text: j.text
                        }), b)
                        for (var l in j)(k = l.match(/^spans_(\\d+)\$/)) && hg(b, Number(k[1])) > -1 && (fg(h)[l] = j[l], delete j[l])
                }
            }
        }
        return e
    }

    function Cf(a, b, c, d) {
        c < a.line ? a.line += d : b < a.line && (a.line = b, a.ch = 0)
    }

    function Df(a, b, c, d) {
        for (var e = 0; e < a.length; ++e) {
            var f = a[e],
                g = !0;
            if (f.ranges) {
                f.copied || (f = a[e] = f.deepCopy(), f.copied = !0);
                for (var h = 0; h < f.ranges.length; h++) Cf(f.ranges[h].anchor, b, c, d), Cf(f.ranges[h].head, b, c, d)
            } else {
                for (var h = 0; h < f.changes.length; ++h) {
                    var i = f.changes[h];
                    if (c < i.from.line) i.from = qa(i.from.line + d, i.from.ch), i.to = qa(i.to.line + d, i.to.ch);
                    else if (b <= i.to.line) {
                        g = !1;
                        break
                    }
                }
                g || (a.splice(0, e + 1), e = 0)
            }
        }
    }

    function Ef(a, b) {
        var c = b.from.line,
            d = b.to.line,
            e = b.text.length - (d - c) - 1;
        Df(a.done, c, d, e), Df(a.undone, c, d, e)
    }

    function Hf(a) {
        return null != a.defaultPrevented ? a.defaultPrevented : 0 == a.returnValue
    }

    function Jf(a) {
        return a.target || a.srcElement
    }

    function Kf(a) {
        var b = a.which;
        return null == b && (1 & a.button ? b = 1 : 2 & a.button ? b = 3 : 4 & a.button && (b = 2)), q && a.ctrlKey && 1 == b && (b = 3), b
    }

    function Nf(a, b, c) {
        var d = a._handlers && a._handlers[b];
        return c ? d && d.length > 0 ? d.slice() : Mf : d || Mf
    }

    function Rf(a, b) {
        function f(a) {
            return function() {
                a.apply(null, d)
            }
        }
        var c = Nf(a, b, !1);
        if (c.length) {
            var e, d = Array.prototype.slice.call(arguments, 2);
            Vb ? e = Vb.delayedCallbacks : Qf ? e = Qf : (e = Qf = [], setTimeout(Sf, 0));
            for (var g = 0; g < c.length; ++g) e.push(f(c[g]))
        }
    }

    function Sf() {
        var a = Qf;
        Qf = null;
        for (var b = 0; b < a.length; ++b) a[b]()
    }

    function Tf(a, b, c) {
        return \"string\" == typeof b && (b = {
            type: b,
            preventDefault: function() {
                this.defaultPrevented = !0
            }
        }), Pf(a, c || b.type, a, b), Hf(b) || b.codemirrorIgnore
    }

    function Uf(a) {
        var b = a._handlers && a._handlers.cursorActivity;
        if (b)
            for (var c = a.curOp.cursorActivityHandlers || (a.curOp.cursorActivityHandlers = []), d = 0; d < b.length; ++d) - 1 == hg(c, b[d]) && c.push(b[d])
    }

    function Vf(a, b) {
        return Nf(a, b).length > 0
    }

    function Wf(a) {
        a.prototype.on = function(a, b) {
            Lf(this, a, b)
        }, a.prototype.off = function(a, b) {
            Of(this, a, b)
        }
    }

    function ag() {
        this.id = null
    }

    function eg(a) {
        for (; dg.length <= a;) dg.push(fg(dg) + \" \");
        return dg[a]
    }

    function fg(a) {
        return a[a.length - 1]
    }

    function hg(a, b) {
        for (var c = 0; c < a.length; ++c)
            if (a[c] == b) return c;
        return -1
    }

    function ig(a, b) {
        for (var c = [], d = 0; d < a.length; d++) c[d] = b(a[d], d);
        return c
    }

    function jg() {}

    function kg(a, b) {
        var c;
        return Object.create ? c = Object.create(a) : (jg.prototype = a, c = new jg), b && lg(b, c), c
    }

    function lg(a, b, c) {
        b || (b = {});
        for (var d in a) !a.hasOwnProperty(d) || c === !1 && b.hasOwnProperty(d) || (b[d] = a[d]);
        return b
    }

    function mg(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return function() {
            return a.apply(null, b)
        }
    }

    function pg(a, b) {
        return b ? b.source.indexOf(\"\\\\w\") > -1 && og(a) ? !0 : b.test(a) : og(a)
    }

    function qg(a) {
        for (var b in a)
            if (a.hasOwnProperty(b) && a[b]) return !1;
        return !0
    }

    function sg(a) {
        return a.charCodeAt(0) >= 768 && rg.test(a)
    }

    function tg(a, b, c, d) {
        var e = document.createElement(a);
        if (c && (e.className = c), d && (e.style.cssText = d), \"string\" == typeof b) e.appendChild(document.createTextNode(b));
        else if (b)
            for (var f = 0; f < b.length; ++f) e.appendChild(b[f]);
        return e
    }

    function vg(a) {
        for (var b = a.childNodes.length; b > 0; --b) a.removeChild(a.firstChild);
        return a
    }

    function wg(a, b) {
        return vg(a).appendChild(b)
    }

    function yg() {
        for (var a = document.activeElement; a && a.root && a.root.activeElement;) a = a.root.activeElement;
        return a
    }

    function zg(a) {
        return new RegExp(\"(^|\\\\s)\" + a + \"(?:\$|\\\\s)\\\\s*\")
    }

    function Cg(a, b) {
        for (var c = a.split(\" \"), d = 0; d < c.length; d++) c[d] && !zg(c[d]).test(b) && (b += \" \" + c[d]);
        return b
    }

    function Dg(a) {
        if (document.body.getElementsByClassName)
            for (var b = document.body.getElementsByClassName(\"CodeMirror\"), c = 0; c < b.length; c++) {
                var d = b[c].CodeMirror;
                d && a(d)
            }
    }

    function Fg() {
        Eg || (Gg(), Eg = !0)
    }

    function Gg() {
        var a;
        Lf(window, \"resize\", function() {
            null == a && (a = setTimeout(function() {
                a = null, Dg(tc)
            }, 100))
        }), Lf(window, \"blur\", function() {
            Dg(ad)
        })
    }

    function Jg(a) {
        if (null == Ig) {
            var b = tg(\"span\", \"\\u200b\");
            wg(a, tg(\"span\", [b, document.createTextNode(\"x\")])), 0 != a.firstChild.offsetHeight && (Ig = b.offsetWidth <= 1 && b.offsetHeight > 2 && !(f && 8 > g))
        }
        var c = Ig ? tg(\"span\", \"\\u200b\") : tg(\"span\", \"\\xa0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");
        return c.setAttribute(\"cm-text\", \"\"), c
    }

    function Lg(a) {
        if (null != Kg) return Kg;
        var b = wg(a, document.createTextNode(\"A\\u062eA\")),
            c = ug(b, 0, 1).getBoundingClientRect();
        if (!c || c.left == c.right) return !1;
        var d = ug(b, 1, 2).getBoundingClientRect();
        return Kg = d.right - c.right < 3
    }

    function Qg(a) {
        if (null != Pg) return Pg;
        var b = wg(a, tg(\"span\", \"x\")),
            c = b.getBoundingClientRect(),
            d = ug(b, 0, 1).getBoundingClientRect();
        return Pg = Math.abs(c.left - d.left) > 1
    }

    function Sg(a, b, c, d) {
        if (!a) return d(b, c, \"ltr\");
        for (var e = !1, f = 0; f < a.length; ++f) {
            var g = a[f];
            (g.from < c && g.to > b || b == c && g.to == b) && (d(Math.max(g.from, b), Math.min(g.to, c), 1 == g.level ? \"rtl\" : \"ltr\"), e = !0)
        }
        e || d(b, c, \"ltr\")
    }

    function Tg(a) {
        return a.level % 2 ? a.to : a.from
    }

    function Ug(a) {
        return a.level % 2 ? a.from : a.to
    }

    function Vg(a) {
        var b = pf(a);
        return b ? Tg(b[0]) : 0
    }

    function Wg(a) {
        var b = pf(a);
        return b ? Ug(fg(b)) : a.text.length
    }

    function Xg(a, b) {
        var c = hf(a.doc, b),
            d = ue(c);
        d != c && (b = mf(d));
        var e = pf(d),
            f = e ? e[0].level % 2 ? Wg(d) : Vg(d) : 0;
        return qa(b, f)
    }

    function Yg(a, b) {
        for (var c, d = hf(a.doc, b); c = se(d);) d = c.find(1, !0).line, b = null;
        var e = pf(d),
            f = e ? e[0].level % 2 ? Vg(d) : Wg(d) : d.text.length;
        return qa(null == b ? mf(d) : b, f)
    }

    function Zg(a, b) {
        var c = Xg(a, b.line),
            d = hf(a.doc, c.line),
            e = pf(d);
        if (!e || 0 == e[0].level) {
            var f = Math.max(0, d.text.search(/\\S/)),
                g = b.line == c.line && b.ch <= f && b.ch;
            return qa(c.line, g ? 0 : f)
        }
        return c
    }

    function \$g(a, b, c) {
        var d = a[0].level;
        return b == d ? !0 : c == d ? !1 : c > b
    }

    function ah(a, b) {
        _g = null;
        for (var d, c = 0; c < a.length; ++c) {
            var e = a[c];
            if (e.from < b && e.to > b) return c;
            if (e.from == b || e.to == b) {
                if (null != d) return \$g(a, e.level, a[d].level) ? (e.from != e.to && (_g = d), c) : (e.from != e.to && (_g = c), d);
                d = c
            }
        }
        return d
    }

    function bh(a, b, c, d) {
        if (!d) return b + c;
        do b += c; while (b > 0 && sg(a.text.charAt(b)));
        return b
    }

    function ch(a, b, c, d) {
        var e = pf(a);
        if (!e) return dh(a, b, c, d);
        for (var f = ah(e, b), g = e[f], h = bh(a, b, g.level % 2 ? -c : c, d);;) {
            if (h > g.from && h < g.to) return h;
            if (h == g.from || h == g.to) return ah(e, h) == f ? h : (g = e[f += c], c > 0 == g.level % 2 ? g.to : g.from);
            if (g = e[f += c], !g) return null;
            h = c > 0 == g.level % 2 ? bh(a, g.to, -1, d) : bh(a, g.from, 1, d)
        }
    }

    function dh(a, b, c, d) {
        var e = b + c;
        if (d)
            for (; e > 0 && sg(a.text.charAt(e));) e += c;
        return 0 > e || e > a.text.length ? null : e
    }
    var a = navigator.userAgent,
        b = navigator.platform,
        c = /gecko\\/\\d/i.test(a),
        d = /MSIE \\d/.test(a),
        e = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(a),
        f = d || e,
        g = f && (d ? document.documentMode || 6 : e[1]),
        h = /WebKit\\//.test(a),
        i = h && /Qt\\/\\d+\\.\\d+/.test(a),
        j = /Chrome\\//.test(a),
        k = /Opera\\//.test(a),
        l = /Apple Computer/.test(navigator.vendor),
        m = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(a),
        n = /PhantomJS/.test(a),
        o = /AppleWebKit/.test(a) && /Mobile\\/\\w+/.test(a),
        p = o || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),
        q = o || /Mac/.test(b),
        r = /win/i.test(b),
        s = k && a.match(/Version\\/(\\d*\\.\\d*)/);
    s && (s = Number(s[1])), s && s >= 15 && (k = !1, h = !0);
    var t = q && (i || k && (null == s || 12.11 > s)),
        u = c || f && g >= 9,
        v = !1,
        w = !1;
    M.prototype = lg({
        update: function(a) {
            var b = a.scrollWidth > a.clientWidth + 1,
                c = a.scrollHeight > a.clientHeight + 1,
                d = a.nativeBarWidth;
            if (c) {
                this.vert.style.display = \"block\", this.vert.style.bottom = b ? d + \"px\" : \"0\";
                var e = a.viewHeight - (b ? d : 0);
                this.vert.firstChild.style.height = Math.max(0, a.scrollHeight - a.clientHeight + e) + \"px\"
            } else this.vert.style.display = \"\", this.vert.firstChild.style.height = \"0\";
            if (b) {
                this.horiz.style.display = \"block\", this.horiz.style.right = c ? d + \"px\" : \"0\", this.horiz.style.left = a.barLeft + \"px\";
                var f = a.viewWidth - a.barLeft - (c ? d : 0);
                this.horiz.firstChild.style.width = a.scrollWidth - a.clientWidth + f + \"px\"
            } else this.horiz.style.display = \"\", this.horiz.firstChild.style.width = \"0\";
            return !this.checkedOverlay && a.clientHeight > 0 && (0 == d && this.overlayHack(), this.checkedOverlay = !0), {
                right: c ? d : 0,
                bottom: b ? d : 0
            }
        },
        setScrollLeft: function(a) {
            this.horiz.scrollLeft != a && (this.horiz.scrollLeft = a)
        },
        setScrollTop: function(a) {
            this.vert.scrollTop != a && (this.vert.scrollTop = a)
        },
        overlayHack: function() {
            var a = q && !m ? \"12px\" : \"18px\";
            this.horiz.style.minHeight = this.vert.style.minWidth = a;
            var b = this,
                c = function(a) {
                    Jf(a) != b.vert && Jf(a) != b.horiz && fc(b.cm, wc)(a)
                };
            Lf(this.vert, \"mousedown\", c), Lf(this.horiz, \"mousedown\", c)
        },
        clear: function() {
            var a = this.horiz.parentNode;
            a.removeChild(this.horiz), a.removeChild(this.vert)
        }
    }, M.prototype), N.prototype = lg({
        update: function() {
            return {
                bottom: 0,
                right: 0
            }
        },
        setScrollLeft: function() {},
        setScrollTop: function() {},
        clear: function() {}
    }, N.prototype), x.scrollbarModel = {
        \"native\": M,
        \"null\": N
    }, W.prototype.signal = function(a, b) {
        Vf(a, b) && this.events.push(arguments)
    }, W.prototype.finish = function() {
        for (var a = 0; a < this.events.length; a++) Pf.apply(null, this.events[a])
    };
    var qa = x.Pos = function(a, b) {
            return this instanceof qa ? (this.line = a, void(this.ch = b)) : new qa(a, b)
        },
        ra = x.cmpPos = function(a, b) {
            return a.line - b.line || a.ch - b.ch
        },
        xa = null;
    Da.prototype = lg({
        init: function(a) {
            function h(a) {
                if (c.somethingSelected()) xa = c.getSelections(), b.inaccurateSelection && (b.prevInput = \"\", b.inaccurateSelection = !1, e.value = xa.join(\"\\n\"), gg(e));
                else {
                    if (!c.options.lineWiseCopyCut) return;
                    var d = Ba(c);
                    xa = d.text, \"cut\" == a.type ? c.setSelections(d.ranges, null, Zf) : (b.prevInput = \"\", e.value = d.text.join(\"\\n\"), gg(e))
                }
                \"cut\" == a.type && (c.state.cutIncoming = !0)
            }
            var b = this,
                c = this.cm,
                d = this.wrapper = Ea(),
                e = this.textarea = d.firstChild;
            a.wrapper.insertBefore(d, a.wrapper.firstChild), o && (e.style.width = \"0px\"), Lf(e, \"input\", function() {
                f && g >= 9 && b.hasSelection && (b.hasSelection = null), b.poll()
            }), Lf(e, \"paste\", function(a) {
                return za(a, c) ? !0 : (c.state.pasteIncoming = !0, void b.fastPoll())
            }), Lf(e, \"cut\", h), Lf(e, \"copy\", h), Lf(a.scroller, \"paste\", function(d) {
                uc(a, d) || (c.state.pasteIncoming = !0, b.focus())
            }), Lf(a.lineSpace, \"selectstart\", function(b) {
                uc(a, b) || Ff(b)
            }), Lf(e, \"compositionstart\", function() {
                var a = c.getCursor(\"from\");
                b.composing && b.composing.range.clear(),
                    b.composing = {
                        start: a,
                        range: c.markText(a, c.getCursor(\"to\"), {
                            className: \"CodeMirror-composing\"
                        })
                    }
            }), Lf(e, \"compositionend\", function() {
                b.composing && (b.poll(), b.composing.range.clear(), b.composing = null)
            })
        },
        prepareSelection: function() {
            var a = this.cm,
                b = a.display,
                c = a.doc,
                d = gb(a);
            if (a.options.moveInputWithCursor) {
                var e = Nb(a, c.sel.primary().head, \"div\"),
                    f = b.wrapper.getBoundingClientRect(),
                    g = b.lineDiv.getBoundingClientRect();
                d.teTop = Math.max(0, Math.min(b.wrapper.clientHeight - 10, e.top + g.top - f.top)), d.teLeft = Math.max(0, Math.min(b.wrapper.clientWidth - 10, e.left + g.left - f.left))
            }
            return d
        },
        showSelection: function(a) {
            var b = this.cm,
                c = b.display;
            wg(c.cursorDiv, a.cursors), wg(c.selectionDiv, a.selection), null != a.teTop && (this.wrapper.style.top = a.teTop + \"px\", this.wrapper.style.left = a.teLeft + \"px\")
        },
        reset: function(a) {
            if (!this.contextMenuPending) {
                var b, c, d = this.cm,
                    e = d.doc;
                if (d.somethingSelected()) {
                    this.prevInput = \"\";
                    var h = e.sel.primary();
                    b = Og && (h.to().line - h.from().line > 100 || (c = d.getSelection()).length > 1e3);
                    var i = b ? \"-\" : c || d.getSelection();
                    this.textarea.value = i, d.state.focused && gg(this.textarea), f && g >= 9 && (this.hasSelection = i)
                } else a || (this.prevInput = this.textarea.value = \"\", f && g >= 9 && (this.hasSelection = null));
                this.inaccurateSelection = b
            }
        },
        getField: function() {
            return this.textarea
        },
        supportsTouch: function() {
            return !1
        },
        focus: function() {
            if (\"nocursor\" != this.cm.options.readOnly && (!p || yg() != this.textarea)) try {
                this.textarea.focus()
            } catch (a) {}
        },
        blur: function() {
            this.textarea.blur()
        },
        resetPosition: function() {
            this.wrapper.style.top = this.wrapper.style.left = 0
        },
        receivedFocus: function() {
            this.slowPoll()
        },
        slowPoll: function() {
            var a = this;
            a.pollingFast || a.polling.set(this.cm.options.pollInterval, function() {
                a.poll(), a.cm.state.focused && a.slowPoll()
            })
        },
        fastPoll: function() {
            function c() {
                var d = b.poll();
                d || a ? (b.pollingFast = !1, b.slowPoll()) : (a = !0, b.polling.set(60, c))
            }
            var a = !1,
                b = this;
            b.pollingFast = !0, b.polling.set(20, c)
        },
        poll: function() {
            var a = this.cm,
                b = this.textarea,
                c = this.prevInput;
            if (this.contextMenuPending || !a.state.focused || Ng(b) && !c && !this.composing || wa(a) || a.options.disableInput || a.state.keySeq) return !1;
            var d = b.value;
            if (d == c && !a.somethingSelected()) return !1;
            if (f && g >= 9 && this.hasSelection === d || q && /[\\uf700-\\uf7ff]/.test(d)) return a.display.input.reset(), !1;
            if (a.doc.sel == a.display.selForContextMenu) {
                var e = d.charCodeAt(0);
                if (8203 != e || c || (c = \"\\u200b\"), 8666 == e) return this.reset(), this.cm.execCommand(\"undo\")
            }
            for (var h = 0, i = Math.min(c.length, d.length); i > h && c.charCodeAt(h) == d.charCodeAt(h);) ++h;
            var j = this;
            return ec(a, function() {
                ya(a, d.slice(h), c.length - h, null, j.composing ? \"*compose\" : null), d.length > 1e3 || d.indexOf(\"\\n\") > -1 ? b.value = j.prevInput = \"\" : j.prevInput = d, j.composing && (j.composing.range.clear(), j.composing.range = a.markText(j.composing.start, a.getCursor(\"to\"), {
                    className: \"CodeMirror-composing\"
                }))
            }), !0
        },
        ensurePolled: function() {
            this.pollingFast && this.poll() && (this.pollingFast = !1)
        },
        onKeyPress: function() {
            f && g >= 9 && (this.hasSelection = null), this.fastPoll()
        },
        onContextMenu: function(a) {
            function o() {
                if (null != e.selectionStart) {
                    var a = c.somethingSelected(),
                        f = \"\\u200b\" + (a ? e.value : \"\");
                    e.value = \"\\u21da\", e.value = f, b.prevInput = a ? \"\" : \"\\u200b\", e.selectionStart = 1, e.selectionEnd = f.length, d.selForContextMenu = c.doc.sel
                }
            }

            function p() {
                if (b.contextMenuPending = !1, b.wrapper.style.position = \"relative\", e.style.cssText = m, f && 9 > g && d.scrollbars.setScrollTop(d.scroller.scrollTop = j), null != e.selectionStart) {
                    (!f || f && 9 > g) && o();
                    var a = 0,
                        h = function() {
                            d.selForContextMenu == c.doc.sel && 0 == e.selectionStart && e.selectionEnd > 0 && \"\\u200b\" == b.prevInput ? fc(c, Nd.selectAll)(c) : a++ < 10 ? d.detectingSelectAll = setTimeout(h, 500) : d.input.reset()
                        };
                    d.detectingSelectAll = setTimeout(h, 200)
                }
            }
            var b = this,
                c = b.cm,
                d = c.display,
                e = b.textarea,
                i = vc(c, a),
                j = d.scroller.scrollTop;
            if (i && !k) {
                var l = c.options.resetSelectionOnContextMenu;
                l && -1 == c.doc.sel.contains(i) && fc(c, _a)(c.doc, Oa(i), Zf);
                var m = e.style.cssText;
                if (b.wrapper.style.position = \"absolute\", e.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (a.clientY - 5) + \"px; left: \" + (a.clientX - 5) + \"px; z-index: 1000; background: \" + (f ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\", h) var n = window.scrollY;
                if (d.input.focus(), h && window.scrollTo(null, n), d.input.reset(), c.somethingSelected() || (e.value = b.prevInput = \" \"), b.contextMenuPending = !0, d.selForContextMenu = c.doc.sel, clearTimeout(d.detectingSelectAll), f && g >= 9 && o(), u) {
                    If(a);
                    var q = function() {
                        Of(window, \"mouseup\", q), setTimeout(p, 20)
                    };
                    Lf(window, \"mouseup\", q)
                } else setTimeout(p, 50)
            }
        },
        readOnlyChanged: function(a) {
            a || this.reset()
        },
        setUneditable: jg,
        needsContentAttribute: !1
    }, Da.prototype), Fa.prototype = lg({
        init: function(a) {
            function e(a) {
                if (c.somethingSelected()) xa = c.getSelections(), \"cut\" == a.type && c.replaceSelection(\"\", null, \"cut\");
                else {
                    if (!c.options.lineWiseCopyCut) return;
                    var b = Ba(c);
                    xa = b.text, \"cut\" == a.type && c.operation(function() {
                        c.setSelections(b.ranges, 0, Zf), c.replaceSelection(\"\", null, \"cut\")
                    })
                }
                if (a.clipboardData && !o) a.preventDefault(), a.clipboardData.clearData(), a.clipboardData.setData(\"text/plain\", xa.join(\"\\n\"));
                else {
                    var d = Ea(),
                        e = d.firstChild;
                    c.display.lineSpace.insertBefore(d, c.display.lineSpace.firstChild), e.value = xa.join(\"\\n\");
                    var f = document.activeElement;
                    gg(e), setTimeout(function() {
                        c.display.lineSpace.removeChild(d), f.focus()
                    }, 50)
                }
            }
            var b = this,
                c = b.cm,
                d = b.div = a.lineDiv;
            Ca(d), Lf(d, \"paste\", function(a) {
                za(a, c)
            }), Lf(d, \"compositionstart\", function(a) {
                var d = a.data;
                if (b.composing = {
                        sel: c.doc.sel,
                        data: d,
                        startData: d
                    }, d) {
                    var e = c.doc.sel.primary(),
                        f = c.getLine(e.head.line),
                        g = f.indexOf(d, Math.max(0, e.head.ch - d.length));
                    g > -1 && g <= e.head.ch && (b.composing.sel = Oa(qa(e.head.line, g), qa(e.head.line, g + d.length)))
                }
            }), Lf(d, \"compositionupdate\", function(a) {
                b.composing.data = a.data
            }), Lf(d, \"compositionend\", function(a) {
                var c = b.composing;
                c && (a.data == c.startData || /\\u200b/.test(a.data) || (c.data = a.data), setTimeout(function() {
                    c.handled || b.applyComposition(c), b.composing == c && (b.composing = null)
                }, 50))
            }), Lf(d, \"touchstart\", function() {
                b.forceCompositionEnd()
            }), Lf(d, \"input\", function() {
                b.composing || (wa(c) || !b.pollContent()) && ec(b.cm, function() {
                    kc(c)
                })
            }), Lf(d, \"copy\", e), Lf(d, \"cut\", e)
        },
        prepareSelection: function() {
            var a = gb(this.cm, !1);
            return a.focus = this.cm.state.focused, a
        },
        showSelection: function(a) {
            a && this.cm.display.view.length && (a.focus && this.showPrimarySelection(), this.showMultipleSelections(a))
        },
        showPrimarySelection: function() {
            var a = window.getSelection(),
                b = this.cm.doc.sel.primary(),
                d = Ia(this.cm, a.anchorNode, a.anchorOffset),
                e = Ia(this.cm, a.focusNode, a.focusOffset);
            if (!d || d.bad || !e || e.bad || 0 != ra(ua(d, e), b.from()) || 0 != ra(ta(d, e), b.to())) {
                var f = Ga(this.cm, b.from()),
                    g = Ga(this.cm, b.to());
                if (f || g) {
                    var h = this.cm.display.view,
                        i = a.rangeCount && a.getRangeAt(0);
                    if (f) {
                        if (!g) {
                            var j = h[h.length - 1].measure,
                                k = j.maps ? j.maps[j.maps.length - 1] : j.map;
                            g = {
                                node: k[k.length - 1],
                                offset: k[k.length - 2] - k[k.length - 3]
                            }
                        }
                    } else f = {
                        node: h[0].measure.map[2],
                        offset: 0
                    };
                    try {
                        var l = ug(f.node, f.offset, g.offset, g.node)
                    } catch (m) {}
                    l && (a.removeAllRanges(), a.addRange(l), i && null == a.anchorNode ? a.addRange(i) : c && this.startGracePeriod()), this.rememberSelection()
                }
            }
        },
        startGracePeriod: function() {
            var a = this;
            clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {
                a.gracePeriod = !1, a.selectionChanged() && a.cm.operation(function() {
                    a.cm.curOp.selectionChanged = !0
                })
            }, 20)
        },
        showMultipleSelections: function(a) {
            wg(this.cm.display.cursorDiv, a.cursors), wg(this.cm.display.selectionDiv, a.selection)
        },
        rememberSelection: function() {
            var a = window.getSelection();
            this.lastAnchorNode = a.anchorNode, this.lastAnchorOffset = a.anchorOffset, this.lastFocusNode = a.focusNode, this.lastFocusOffset = a.focusOffset
        },
        selectionInEditor: function() {
            var a = window.getSelection();
            if (!a.rangeCount) return !1;
            var b = a.getRangeAt(0).commonAncestorContainer;
            return xg(this.div, b)
        },
        focus: function() {
            \"nocursor\" != this.cm.options.readOnly && this.div.focus()
        },
        blur: function() {
            this.div.blur()
        },
        getField: function() {
            return this.div
        },
        supportsTouch: function() {
            return !0
        },
        receivedFocus: function() {
            function b() {
                a.cm.state.focused && (a.pollSelection(), a.polling.set(a.cm.options.pollInterval, b))
            }
            var a = this;
            this.selectionInEditor() ? this.pollSelection() : ec(this.cm, function() {
                a.cm.curOp.selectionChanged = !0
            }), this.polling.set(this.cm.options.pollInterval, b)
        },
        selectionChanged: function() {
            var a = window.getSelection();
            return a.anchorNode != this.lastAnchorNode || a.anchorOffset != this.lastAnchorOffset || a.focusNode != this.lastFocusNode || a.focusOffset != this.lastFocusOffset
        },
        pollSelection: function() {
            if (!this.composing && !this.gracePeriod && this.selectionChanged()) {
                var a = window.getSelection(),
                    b = this.cm;
                this.rememberSelection();
                var c = Ia(b, a.anchorNode, a.anchorOffset),
                    d = Ia(b, a.focusNode, a.focusOffset);
                c && d && ec(b, function() {
                    _a(b.doc, Oa(c, d), Zf), (c.bad || d.bad) && (b.curOp.selectionChanged = !0)
                })
            }
        },
        pollContent: function() {
            var a = this.cm,
                b = a.display,
                c = a.doc.sel.primary(),
                d = c.from(),
                e = c.to();
            if (d.line < b.viewFrom || e.line > b.viewTo - 1) return !1;
            var f;
            if (d.line == b.viewFrom || 0 == (f = nc(a, d.line))) var g = mf(b.view[0].line),
                h = b.view[0].node;
            else var g = mf(b.view[f].line),
                h = b.view[f - 1].node.nextSibling;
            var i = nc(a, e.line);
            if (i == b.view.length - 1) var j = b.viewTo - 1,
                k = b.lineDiv.lastChild;
            else var j = mf(b.view[i + 1].line) - 1,
                k = b.view[i + 1].node.previousSibling;
            for (var l = a.doc.splitLines(Ka(a, h, k, g, j)), m = jf(a.doc, qa(g, 0), qa(j, hf(a.doc, j).text.length)); l.length > 1 && m.length > 1;)
                if (fg(l) == fg(m)) l.pop(), m.pop(), j--;
                else {
                    if (l[0] != m[0]) break;
                    l.shift(), m.shift(), g++
                }
            for (var n = 0, o = 0, p = l[0], q = m[0], r = Math.min(p.length, q.length); r > n && p.charCodeAt(n) == q.charCodeAt(n);) ++n;
            for (var s = fg(l), t = fg(m), u = Math.min(s.length - (1 == l.length ? n : 0), t.length - (1 == m.length ? n : 0)); u > o && s.charCodeAt(s.length - o - 1) == t.charCodeAt(t.length - o - 1);) ++o;
            l[l.length - 1] = s.slice(0, s.length - o), l[0] = l[0].slice(n);
            var v = qa(g, n),
                w = qa(j, m.length ? fg(m).length - o : 0);
            return l.length > 1 || l[0] || ra(v, w) ? (pd(a.doc, l, v, w, \"+input\"), !0) : void 0
        },
        ensurePolled: function() {
            this.forceCompositionEnd()
        },
        reset: function() {
            this.forceCompositionEnd()
        },
        forceCompositionEnd: function() {
            this.composing && !this.composing.handled && (this.applyComposition(this.composing), this.composing.handled = !0, this.div.blur(), this.div.focus())
        },
        applyComposition: function(a) {
            wa(this.cm) ? fc(this.cm, kc)(this.cm) : a.data && a.data != a.startData && fc(this.cm, ya)(this.cm, a.data, 0, a.sel)
        },
        setUneditable: function(a) {
            a.contentEditable = \"false\"
        },
        onKeyPress: function(a) {
            a.preventDefault(), wa(this.cm) || fc(this.cm, ya)(this.cm, String.fromCharCode(null == a.charCode ? a.keyCode : a.charCode), 0)
        },
        readOnlyChanged: function(a) {
            this.div.contentEditable = String(\"nocursor\" != a)
        },
        onContextMenu: jg,
        resetPosition: jg,
        needsContentAttribute: !0
    }, Fa.prototype), x.inputStyles = {
        textarea: Da,
        contenteditable: Fa
    }, La.prototype = {
        primary: function() {
            return this.ranges[this.primIndex]
        },
        equals: function(a) {
            if (a == this) return !0;
            if (a.primIndex != this.primIndex || a.ranges.length != this.ranges.length) return !1;
            for (var b = 0; b < this.ranges.length; b++) {
                var c = this.ranges[b],
                    d = a.ranges[b];
                if (0 != ra(c.anchor, d.anchor) || 0 != ra(c.head, d.head)) return !1
            }
            return !0
        },
        deepCopy: function() {
            for (var a = [], b = 0; b < this.ranges.length; b++) a[b] = new Ma(sa(this.ranges[b].anchor), sa(this.ranges[b].head));
            return new La(a, this.primIndex)
        },
        somethingSelected: function() {
            for (var a = 0; a < this.ranges.length; a++)
                if (!this.ranges[a].empty()) return !0;
            return !1
        },
        contains: function(a, b) {
            b || (b = a);
            for (var c = 0; c < this.ranges.length; c++) {
                var d = this.ranges[c];
                if (ra(b, d.from()) >= 0 && ra(a, d.to()) <= 0) return c
            }
            return -1
        }
    }, Ma.prototype = {
        from: function() {
            return ua(this.anchor, this.head)
        },
        to: function() {
            return ta(this.anchor, this.head)
        },
        empty: function() {
            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
        }
    };
    var Sb, xc, yc, Bb = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
        },
        Vb = null,
        Wb = 0,
        Ec = 0,
        Lc = 0,
        Mc = null;
    f ? Mc = -.53 : c ? Mc = 15 : j ? Mc = -.7 : l && (Mc = -1 / 3);
    var Nc = function(a) {
        var b = a.wheelDeltaX,
            c = a.wheelDeltaY;
        return null == b && a.detail && a.axis == a.HORIZONTAL_AXIS && (b = a.detail), null == c && a.detail && a.axis == a.VERTICAL_AXIS ? c = a.detail : null == c && (c = a.wheelDelta), {
            x: b,
            y: c
        }
    };
    x.wheelEventPixels = function(a) {
        var b = Nc(a);
        return b.x *= Mc, b.y *= Mc, b
    };
    var Rc = new ag,
        Vc = null,
        dd = x.changeEnd = function(a) {
            return a.text ? qa(a.from.line + a.text.length - 1, fg(a.text).length + (1 == a.text.length ? a.from.ch : 0)) : a.to
        };
    x.prototype = {
        constructor: x,
        focus: function() {
            window.focus(), this.display.input.focus()
        },
        setOption: function(a, b) {
            var c = this.options,
                d = c[a];
            (c[a] != b || \"mode\" == a) && (c[a] = b, Dd.hasOwnProperty(a) && fc(this, Dd[a])(this, b, d))
        },
        getOption: function(a) {
            return this.options[a]
        },
        getDoc: function() {
            return this.doc
        },
        addKeyMap: function(a, b) {
            this.state.keyMaps[b ? \"push\" : \"unshift\"](Td(a))
        },
        removeKeyMap: function(a) {
            for (var b = this.state.keyMaps, c = 0; c < b.length; ++c)
                if (b[c] == a || b[c].name == a) return b.splice(c, 1), !0
        },
        addOverlay: gc(function(a, b) {
            var c = a.token ? a : x.getMode(this.options, a);
            if (c.startState) throw new Error(\"Overlays may not be stateful.\");
            this.state.overlays.push({
                mode: c,
                modeSpec: a,
                opaque: b && b.opaque
            }), this.state.modeGen++, kc(this)
        }),
        removeOverlay: gc(function(a) {
            for (var b = this.state.overlays, c = 0; c < b.length; ++c) {
                var d = b[c].modeSpec;
                if (d == a || \"string\" == typeof a && d.name == a) return b.splice(c, 1), this.state.modeGen++, void kc(this)
            }
        }),
        indentLine: gc(function(a, b, c) {
            \"string\" != typeof b && \"number\" != typeof b && (b = null == b ? this.options.smartIndent ? \"smart\" : \"prev\" : b ? \"add\" : \"subtract\"), Sa(this.doc, a) && xd(this, a, b, c)
        }),
        indentSelection: gc(function(a) {
            for (var b = this.doc.sel.ranges, c = -1, d = 0; d < b.length; d++) {
                var e = b[d];
                if (e.empty()) e.head.line > c && (xd(this, e.head.line, a, !0), c = e.head.line, d == this.doc.sel.primIndex && vd(this));
                else {
                    var f = e.from(),
                        g = e.to(),
                        h = Math.max(c, f.line);
                    c = Math.min(this.lastLine(), g.line - (g.ch ? 0 : 1)) + 1;
                    for (var i = h; c > i; ++i) xd(this, i, a);
                    var j = this.doc.sel.ranges;
                    0 == f.ch && b.length == j.length && j[d].from().ch > 0 && Xa(this.doc, d, new Ma(f, j[d].to()), Zf)
                }
            }
        }),
        getTokenAt: function(a, b) {
            return Ke(this, a, b)
        },
        getLineTokens: function(a, b) {
            return Ke(this, qa(a), b, !0)
        },
        getTokenTypeAt: function(a) {
            a = Qa(this.doc, a);
            var f, b = Ne(this, hf(this.doc, a.line)),
                c = 0,
                d = (b.length - 1) / 2,
                e = a.ch;
            if (0 == e) f = b[2];
            else
                for (;;) {
                    var g = c + d >> 1;
                    if ((g ? b[2 * g - 1] : 0) >= e) d = g;
                    else {
                        if (!(b[2 * g + 1] < e)) {
                            f = b[2 * g + 2];
                            break
                        }
                        c = g + 1
                    }
                }
            var h = f ? f.indexOf(\"cm-overlay \") : -1;
            return 0 > h ? f : 0 == h ? null : f.slice(0, h - 1)
        },
        getModeAt: function(a) {
            var b = this.doc.mode;
            return b.innerMode ? x.innerMode(b, this.getTokenAt(a).state).mode : b
        },
        getHelper: function(a, b) {
            return this.getHelpers(a, b)[0]
        },
        getHelpers: function(a, b) {
            var c = [];
            if (!Kd.hasOwnProperty(b)) return c;
            var d = Kd[b],
                e = this.getModeAt(a);
            if (\"string\" == typeof e[b]) d[e[b]] && c.push(d[e[b]]);
            else if (e[b])
                for (var f = 0; f < e[b].length; f++) {
                    var g = d[e[b][f]];
                    g && c.push(g)
                } else e.helperType && d[e.helperType] ? c.push(d[e.helperType]) : d[e.name] && c.push(d[e.name]);
            for (var f = 0; f < d._global.length; f++) {
                var h = d._global[f];
                h.pred(e, this) && -1 == hg(c, h.val) && c.push(h.val)
            }
            return c
        },
        getStateAfter: function(a, b) {
            var c = this.doc;
            return a = Pa(c, null == a ? c.first + c.size - 1 : a), nb(this, a + 1, b)
        },
        cursorCoords: function(a, b) {
            var c, d = this.doc.sel.primary();
            return c = null == a ? d.head : \"object\" == typeof a ? Qa(this.doc, a) : a ? d.from() : d.to(), Nb(this, c, b || \"page\")
        },
        charCoords: function(a, b) {
            return Mb(this, Qa(this.doc, a), b || \"page\")
        },
        coordsChar: function(a, b) {
            return a = Lb(this, a, b || \"page\"), Qb(this, a.left, a.top)
        },
        lineAtHeight: function(a, b) {
            return a = Lb(this, {
                top: a,
                left: 0
            }, b || \"page\").top, nf(this.doc, a + this.display.viewOffset)
        },
        heightAtLine: function(a, b) {
            var d, c = !1;
            if (\"number\" == typeof a) {
                var e = this.doc.first + this.doc.size - 1;
                a < this.doc.first ? a = this.doc.first : a > e && (a = e, c = !0), d = hf(this.doc, a)
            } else d = a;
            return Kb(this, d, {
                top: 0,
                left: 0
            }, b || \"page\").top + (c ? this.doc.height - of(d) : 0)
        },
        defaultTextHeight: function() {
            return Tb(this.display)
        },
        defaultCharWidth: function() {
            return Ub(this.display)
        },
        setGutterMarker: gc(function(a, b, c) {
            return yd(this.doc, a, \"gutter\", function(a) {
                var d = a.gutterMarkers || (a.gutterMarkers = {});
                return d[b] = c, !c && qg(d) && (a.gutterMarkers = null), !0
            })
        }),
        clearGutter: gc(function(a) {
            var b = this,
                c = b.doc,
                d = c.first;
            c.iter(function(c) {
                c.gutterMarkers && c.gutterMarkers[a] && (c.gutterMarkers[a] = null, lc(b, d, \"gutter\"), qg(c.gutterMarkers) && (c.gutterMarkers = null)), ++d
            })
        }),
        lineInfo: function(a) {
            if (\"number\" == typeof a) {
                if (!Sa(this.doc, a)) return null;
                var b = a;
                if (a = hf(this.doc, a), !a) return null
            } else {
                var b = mf(a);
                if (null == b) return null
            }
            return {
                line: b,
                handle: a,
                text: a.text,
                gutterMarkers: a.gutterMarkers,
                textClass: a.textClass,
                bgClass: a.bgClass,
                wrapClass: a.wrapClass,
                widgets: a.widgets
            }
        },
        getViewport: function() {
            return {
                from: this.display.viewFrom,
                to: this.display.viewTo
            }
        },
        addWidget: function(a, b, c, d, e) {
            var f = this.display;
            a = Nb(this, Qa(this.doc, a));
            var g = a.bottom,
                h = a.left;
            if (b.style.position = \"absolute\", b.setAttribute(\"cm-ignore-events\", \"true\"), this.display.input.setUneditable(b), f.sizer.appendChild(b), \"over\" == d) g = a.top;
            else if (\"above\" == d || \"near\" == d) {
                var i = Math.max(f.wrapper.clientHeight, this.doc.height),
                    j = Math.max(f.sizer.clientWidth, f.lineSpace.clientWidth);
                (\"above\" == d || a.bottom + b.offsetHeight > i) && a.top > b.offsetHeight ? g = a.top - b.offsetHeight : a.bottom + b.offsetHeight <= i && (g = a.bottom), h + b.offsetWidth > j && (h = j - b.offsetWidth)
            }
            b.style.top = g + \"px\", b.style.left = b.style.right = \"\", \"right\" == e ? (h = f.sizer.clientWidth - b.offsetWidth, b.style.right = \"0px\") : (\"left\" == e ? h = 0 : \"middle\" == e && (h = (f.sizer.clientWidth - b.offsetWidth) / 2), b.style.left = h + \"px\"), c && sd(this, h, g, h + b.offsetWidth, g + b.offsetHeight)
        },
        triggerOnKeyDown: gc(Wc),
        triggerOnKeyPress: gc(Zc),
        triggerOnKeyUp: Yc,
        execCommand: function(a) {
            return Nd.hasOwnProperty(a) ? Nd[a].call(null, this) : void 0
        },
        triggerElectric: gc(function(a) {
            Aa(this, a)
        }),
        findPosH: function(a, b, c, d) {
            var e = 1;
            0 > b && (e = -1, b = -b);
            for (var f = 0, g = Qa(this.doc, a); b > f && (g = Ad(this.doc, g, e, c, d), !g.hitSide); ++f);
            return g
        },
        moveH: gc(function(a, b) {
            var c = this;
            c.extendSelectionsBy(function(d) {
                return c.display.shift || c.doc.extend || d.empty() ? Ad(c.doc, d.head, a, b, c.options.rtlMoveVisually) : 0 > a ? d.from() : d.to()
            }, _f)
        }),
        deleteH: gc(function(a, b) {
            var c = this.doc.sel,
                d = this.doc;
            c.somethingSelected() ? d.replaceSelection(\"\", null, \"+delete\") : zd(this, function(c) {
                var e = Ad(d, c.head, a, b, !1);
                return 0 > a ? {
                    from: e,
                    to: c.head
                } : {
                    from: c.head,
                    to: e
                }
            })
        }),
        findPosV: function(a, b, c, d) {
            var e = 1,
                f = d;
            0 > b && (e = -1, b = -b);
            for (var g = 0, h = Qa(this.doc, a); b > g; ++g) {
                var i = Nb(this, h, \"div\");
                if (null == f ? f = i.left : i.left = f, h = Bd(this, i, e, c), h.hitSide) break
            }
            return h
        },
        moveV: gc(function(a, b) {
            var c = this,
                d = this.doc,
                e = [],
                f = !c.display.shift && !d.extend && d.sel.somethingSelected();
            if (d.extendSelectionsBy(function(g) {
                    if (f) return 0 > a ? g.from() : g.to();
                    var h = Nb(c, g.head, \"div\");
                    null != g.goalColumn && (h.left = g.goalColumn), e.push(h.left);
                    var i = Bd(c, h, a, b);
                    return \"page\" == b && g == d.sel.primary() && ud(c, null, Mb(c, i, \"div\").top - h.top), i
                }, _f), e.length)
                for (var g = 0; g < d.sel.ranges.length; g++) d.sel.ranges[g].goalColumn = e[g]
        }),
        findWordAt: function(a) {
            var b = this.doc,
                c = hf(b, a.line).text,
                d = a.ch,
                e = a.ch;
            if (c) {
                var f = this.getHelper(a, \"wordChars\");
                (a.xRel < 0 || e == c.length) && d ? --d : ++e;
                for (var g = c.charAt(d), h = pg(g, f) ? function(a) {
                        return pg(a, f)
                    } : /\\s/.test(g) ? function(a) {
                        return /\\s/.test(a)
                    } : function(a) {
                        return !/\\s/.test(a) && !pg(a)
                    }; d > 0 && h(c.charAt(d - 1));) --d;
                for (; e < c.length && h(c.charAt(e));) ++e
            }
            return new Ma(qa(a.line, d), qa(a.line, e))
        },
        toggleOverwrite: function(a) {
            (null == a || a != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? Bg(this.display.cursorDiv, \"CodeMirror-overwrite\") : Ag(this.display.cursorDiv, \"CodeMirror-overwrite\"), Pf(this, \"overwriteToggle\", this, this.state.overwrite))
        },
        hasFocus: function() {
            return this.display.input.getField() == yg()
        },
        scrollTo: gc(function(a, b) {
            (null != a || null != b) && wd(this), null != a && (this.curOp.scrollLeft = a), null != b && (this.curOp.scrollTop = b)
        }),
        getScrollInfo: function() {
            var a = this.display.scroller;
            return {
                left: a.scrollLeft,
                top: a.scrollTop,
                height: a.scrollHeight - rb(this) - this.display.barHeight,
                width: a.scrollWidth - rb(this) - this.display.barWidth,
                clientHeight: tb(this),
                clientWidth: sb(this)
            }
        },
        scrollIntoView: gc(function(a, b) {
            if (null == a ? (a = {
                    from: this.doc.sel.primary().head,
                    to: null
                }, null == b && (b = this.options.cursorScrollMargin)) : \"number\" == typeof a ? a = {
                    from: qa(a, 0),
                    to: null
                } : null == a.from && (a = {
                    from: a,
                    to: null
                }), a.to || (a.to = a.from), a.margin = b || 0, null != a.from.line) wd(this), this.curOp.scrollToPos = a;
            else {
                var c = td(this, Math.min(a.from.left, a.to.left), Math.min(a.from.top, a.to.top) - a.margin, Math.max(a.from.right, a.to.right), Math.max(a.from.bottom, a.to.bottom) + a.margin);
                this.scrollTo(c.scrollLeft, c.scrollTop)
            }
        }),
        setSize: gc(function(a, b) {
            function d(a) {
                return \"number\" == typeof a || /^\\d+\$/.test(String(a)) ? a + \"px\" : a
            }
            var c = this;
            null != a && (c.display.wrapper.style.width = d(a)), null != b && (c.display.wrapper.style.height = d(b)), c.options.lineWrapping && Gb(this);
            var e = c.display.viewFrom;
            c.doc.iter(e, c.display.viewTo, function(a) {
                if (a.widgets)
                    for (var b = 0; b < a.widgets.length; b++)
                        if (a.widgets[b].noHScroll) {
                            lc(c, e, \"widget\");
                            break
                        }++e
            }), c.curOp.forceUpdate = !0, Pf(c, \"refresh\", this)
        }),
        operation: function(a) {
            return ec(this, a)
        },
        refresh: gc(function() {
            var a = this.display.cachedTextHeight;
            kc(this), this.curOp.forceUpdate = !0, Hb(this), this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop), H(this), (null == a || Math.abs(a - Tb(this.display)) > .5) && D(this), Pf(this, \"refresh\", this)
        }),
        swapDoc: gc(function(a) {
            var b = this.doc;
            return b.cm = null, gf(this, a), Hb(this), this.display.input.reset(), this.scrollTo(a.scrollLeft, a.scrollTop), this.curOp.forceScroll = !0, Rf(this, \"swapDoc\", this, b), b
        }),
        getInputField: function() {
            return this.display.input.getField()
        },
        getWrapperElement: function() {
            return this.display.wrapper
        },
        getScrollerElement: function() {
            return this.display.scroller
        },
        getGutterElement: function() {
            return this.display.gutters
        }
    }, Wf(x);
    var Cd = x.defaults = {},
        Dd = x.optionHandlers = {},
        Fd = x.Init = {
            toString: function() {
                return \"CodeMirror.Init\"
            }
        };
    Ed(\"value\", \"\", function(a, b) {
        a.setValue(b)
    }, !0), Ed(\"mode\", null, function(a, b) {
        a.doc.modeOption = b, z(a)
    }, !0), Ed(\"indentUnit\", 2, z, !0), Ed(\"indentWithTabs\", !1), Ed(\"smartIndent\", !0), Ed(\"tabSize\", 4, function(a) {
        A(a), Hb(a), kc(a)
    }, !0), Ed(\"lineSeparator\", null, function(a, b) {
        if (a.doc.lineSep = b, b) {
            var c = [],
                d = a.doc.first;
            a.doc.iter(function(a) {
                for (var e = 0;;) {
                    var f = a.text.indexOf(b, e);
                    if (-1 == f) break;
                    e = f + b.length, c.push(qa(d, f))
                }
                d++
            });
            for (var e = c.length - 1; e >= 0; e--) pd(a.doc, b, c[e], qa(c[e].line, c[e].ch + b.length))
        }
    }), Ed(\"specialChars\", /[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(a, b, c) {
        a.state.specialChars = new RegExp(b.source + (b.test(\"  \") ? \"\" : \"|  \"), \"g\"), c != x.Init && a.refresh()
    }), Ed(\"specialCharPlaceholder\", Te, function(a) {
        a.refresh()
    }, !0), Ed(\"electricChars\", !0), Ed(\"inputStyle\", p ? \"contenteditable\" : \"textarea\", function() {
        throw new Error(\"inputStyle can not (yet) be changed in a running editor\")
    }, !0), Ed(\"rtlMoveVisually\", !r), Ed(\"wholeLineUpdateBefore\", !0), Ed(\"theme\", \"default\", function(a) {
        E(a), F(a)
    }, !0), Ed(\"keyMap\", \"default\", function(a, b, c) {
        var d = Td(b),
            e = c != x.Init && Td(c);
        e && e.detach && e.detach(a, d), d.attach && d.attach(a, e || null)
    }), Ed(\"extraKeys\", null), Ed(\"lineWrapping\", !1, B, !0), Ed(\"gutters\", [], function(a) {
        K(a.options), F(a)
    }, !0), Ed(\"fixedGutter\", !0, function(a, b) {
        a.display.gutters.style.left = b ? V(a.display) + \"px\" : \"0\", a.refresh()
    }, !0), Ed(\"coverGutterNextToScrollbar\", !1, function(a) {
        P(a)
    }, !0), Ed(\"scrollbarStyle\", \"native\", function(a) {
        O(a), P(a), a.display.scrollbars.setScrollTop(a.doc.scrollTop), a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)
    }, !0), Ed(\"lineNumbers\", !1, function(a) {
        K(a.options), F(a)
    }, !0), Ed(\"firstLineNumber\", 1, F, !0), Ed(\"lineNumberFormatter\", function(a) {
        return a
    }, F, !0), Ed(\"showCursorWhenSelecting\", !1, fb, !0), Ed(\"resetSelectionOnContextMenu\", !0), Ed(\"lineWiseCopyCut\", !0), Ed(\"readOnly\", !1, function(a, b) {
        \"nocursor\" == b ? (ad(a), a.display.input.blur(), a.display.disabled = !0) : a.display.disabled = !1, a.display.input.readOnlyChanged(b)
    }), Ed(\"disableInput\", !1, function(a, b) {
        b || a.display.input.reset()
    }, !0), Ed(\"dragDrop\", !0, sc), Ed(\"allowDropFileTypes\", null), Ed(\"cursorBlinkRate\", 530), Ed(\"cursorScrollMargin\", 0), Ed(\"cursorHeight\", 1, fb, !0), Ed(\"singleCursorHeightPerLine\", !0, fb, !0), Ed(\"workTime\", 100), Ed(\"workDelay\", 100), Ed(\"flattenSpans\", !0, A, !0), Ed(\"addModeClass\", !1, A, !0), Ed(\"pollInterval\", 100), Ed(\"undoDepth\", 200, function(a, b) {
        a.doc.history.undoDepth = b
    }), Ed(\"historyEventDelay\", 1250), Ed(\"viewportMargin\", 10, function(a) {
        a.refresh()
    }, !0), Ed(\"maxHighlightLength\", 1e4, A, !0), Ed(\"moveInputWithCursor\", !0, function(a, b) {
        b || a.display.input.resetPosition()
    }), Ed(\"tabindex\", null, function(a, b) {
        a.display.input.getField().tabIndex = b || \"\"
    }), Ed(\"autofocus\", null);
    var Gd = x.modes = {},
        Hd = x.mimeModes = {};
    x.defineMode = function(a, b) {
        x.defaults.mode || \"null\" == a || (x.defaults.mode = a), arguments.length > 2 && (b.dependencies = Array.prototype.slice.call(arguments, 2)), Gd[a] = b
    }, x.defineMIME = function(a, b) {
        Hd[a] = b
    }, x.resolveMode = function(a) {
        if (\"string\" == typeof a && Hd.hasOwnProperty(a)) a = Hd[a];
        else if (a && \"string\" == typeof a.name && Hd.hasOwnProperty(a.name)) {
            var b = Hd[a.name];
            \"string\" == typeof b && (b = {
                name: b
            }), a = kg(b, a), a.name = b.name
        } else if (\"string\" == typeof a && /^[\\w\\-]+\\/[\\w\\-]+\\+xml\$/.test(a)) return x.resolveMode(\"application/xml\");
        return \"string\" == typeof a ? {
            name: a
        } : a || {
            name: \"null\"
        }
    }, x.getMode = function(a, b) {
        var b = x.resolveMode(b),
            c = Gd[b.name];
        if (!c) return x.getMode(a, \"text/plain\");
        var d = c(a, b);
        if (Id.hasOwnProperty(b.name)) {
            var e = Id[b.name];
            for (var f in e) e.hasOwnProperty(f) && (d.hasOwnProperty(f) && (d[\"_\" + f] = d[f]), d[f] = e[f])
        }
        if (d.name = b.name, b.helperType && (d.helperType = b.helperType), b.modeProps)
            for (var f in b.modeProps) d[f] = b.modeProps[f];
        return d
    }, x.defineMode(\"null\", function() {
        return {
            token: function(a) {
                a.skipToEnd()
            }
        }
    }), x.defineMIME(\"text/plain\", \"null\");
    var Id = x.modeExtensions = {};
    x.extendMode = function(a, b) {
        var c = Id.hasOwnProperty(a) ? Id[a] : Id[a] = {};
        lg(b, c)
    }, x.defineExtension = function(a, b) {
        x.prototype[a] = b
    }, x.defineDocExtension = function(a, b) {
        cf.prototype[a] = b
    }, x.defineOption = Ed;
    var Jd = [];
    x.defineInitHook = function(a) {
        Jd.push(a)
    };
    var Kd = x.helpers = {};
    x.registerHelper = function(a, b, c) {
        Kd.hasOwnProperty(a) || (Kd[a] = x[a] = {
            _global: []
        }), Kd[a][b] = c
    }, x.registerGlobalHelper = function(a, b, c, d) {
        x.registerHelper(a, b, d), Kd[a]._global.push({
            pred: c,
            val: d
        })
    };
    var Ld = x.copyState = function(a, b) {
            if (b === !0) return b;
            if (a.copyState) return a.copyState(b);
            var c = {};
            for (var d in b) {
                var e = b[d];
                e instanceof Array && (e = e.concat([])), c[d] = e
            }
            return c
        },
        Md = x.startState = function(a, b, c) {
            return a.startState ? a.startState(b, c) : !0
        };
    x.innerMode = function(a, b) {
        for (; a.innerMode;) {
            var c = a.innerMode(b);
            if (!c || c.mode == a) break;
            b = c.state, a = c.mode
        }
        return c || {
            mode: a,
            state: b
        }
    };
    var Nd = x.commands = {
            selectAll: function(a) {
                a.setSelection(qa(a.firstLine(), 0), qa(a.lastLine()), Zf)
            },
            singleSelection: function(a) {
                a.setSelection(a.getCursor(\"anchor\"), a.getCursor(\"head\"), Zf)
            },
            killLine: function(a) {
                zd(a, function(b) {
                    if (b.empty()) {
                        var c = hf(a.doc, b.head.line).text.length;
                        return b.head.ch == c && b.head.line < a.lastLine() ? {
                            from: b.head,
                            to: qa(b.head.line + 1, 0)
                        } : {
                            from: b.head,
                            to: qa(b.head.line, c)
                        }
                    }
                    return {
                        from: b.from(),
                        to: b.to()
                    }
                })
            },
            deleteLine: function(a) {
                zd(a, function(b) {
                    return {
                        from: qa(b.from().line, 0),
                        to: Qa(a.doc, qa(b.to().line + 1, 0))
                    }
                })
            },
            delLineLeft: function(a) {
                zd(a, function(a) {
                    return {
                        from: qa(a.from().line, 0),
                        to: a.from()
                    }
                })
            },
            delWrappedLineLeft: function(a) {
                zd(a, function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: 0,
                            top: c
                        }, \"div\");
                    return {
                        from: d,
                        to: b.from()
                    }
                })
            },
            delWrappedLineRight: function(a) {
                zd(a, function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: a.display.lineDiv.offsetWidth + 100,
                            top: c
                        }, \"div\");
                    return {
                        from: b.from(),
                        to: d
                    }
                })
            },
            undo: function(a) {
                a.undo()
            },
            redo: function(a) {
                a.redo()
            },
            undoSelection: function(a) {
                a.undoSelection()
            },
            redoSelection: function(a) {
                a.redoSelection()
            },
            goDocStart: function(a) {
                a.extendSelection(qa(a.firstLine(), 0))
            },
            goDocEnd: function(a) {
                a.extendSelection(qa(a.lastLine()))
            },
            goLineStart: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Xg(a, b.head.line)
                }, {
                    origin: \"+move\",
                    bias: 1
                })
            },
            goLineStartSmart: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Zg(a, b.head)
                }, {
                    origin: \"+move\",
                    bias: 1
                })
            },
            goLineEnd: function(a) {
                a.extendSelectionsBy(function(b) {
                    return Yg(a, b.head.line)
                }, {
                    origin: \"+move\",
                    bias: -1
                })
            },
            goLineRight: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5;
                    return a.coordsChar({
                        left: a.display.lineDiv.offsetWidth + 100,
                        top: c
                    }, \"div\")
                }, _f)
            },
            goLineLeft: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5;
                    return a.coordsChar({
                        left: 0,
                        top: c
                    }, \"div\")
                }, _f)
            },
            goLineLeftSmart: function(a) {
                a.extendSelectionsBy(function(b) {
                    var c = a.charCoords(b.head, \"div\").top + 5,
                        d = a.coordsChar({
                            left: 0,
                            top: c
                        }, \"div\");
                    return d.ch < a.getLine(d.line).search(/\\S/) ? Zg(a, b.head) : d
                }, _f)
            },
            goLineUp: function(a) {
                a.moveV(-1, \"line\")
            },
            goLineDown: function(a) {
                a.moveV(1, \"line\")
            },
            goPageUp: function(a) {
                a.moveV(-1, \"page\")
            },
            goPageDown: function(a) {
                a.moveV(1, \"page\")
            },
            goCharLeft: function(a) {
                a.moveH(-1, \"char\")
            },
            goCharRight: function(a) {
                a.moveH(1, \"char\")
            },
            goColumnLeft: function(a) {
                a.moveH(-1, \"column\")
            },
            goColumnRight: function(a) {
                a.moveH(1, \"column\")
            },
            goWordLeft: function(a) {
                a.moveH(-1, \"word\")
            },
            goGroupRight: function(a) {
                a.moveH(1, \"group\")
            },
            goGroupLeft: function(a) {
                a.moveH(-1, \"group\")
            },
            goWordRight: function(a) {
                a.moveH(1, \"word\")
            },
            delCharBefore: function(a) {
                a.deleteH(-1, \"char\")
            },
            delCharAfter: function(a) {
                a.deleteH(1, \"char\")
            },
            delWordBefore: function(a) {
                a.deleteH(-1, \"word\")
            },
            delWordAfter: function(a) {
                a.deleteH(1, \"word\")
            },
            delGroupBefore: function(a) {
                a.deleteH(-1, \"group\")
            },
            delGroupAfter: function(a) {
                a.deleteH(1, \"group\")
            },
            indentAuto: function(a) {
                a.indentSelection(\"smart\")
            },
            indentMore: function(a) {
                a.indentSelection(\"add\")
            },
            indentLess: function(a) {
                a.indentSelection(\"subtract\")
            },
            insertTab: function(a) {
                a.replaceSelection(\" \")
            },
            insertSoftTab: function(a) {
                for (var b = [], c = a.listSelections(), d = a.options.tabSize, e = 0; e < c.length; e++) {
                    var f = c[e].from(),
                        g = bg(a.getLine(f.line), f.ch, d);
                    b.push(new Array(d - g % d + 1).join(\" \"))
                }
                a.replaceSelections(b)
            },
            defaultTab: function(a) {
                a.somethingSelected() ? a.indentSelection(\"add\") : a.execCommand(\"insertTab\")
            },
            transposeChars: function(a) {
                ec(a, function() {
                    for (var b = a.listSelections(), c = [], d = 0; d < b.length; d++) {
                        var e = b[d].head,
                            f = hf(a.doc, e.line).text;
                        if (f)
                            if (e.ch == f.length && (e = new qa(e.line, e.ch - 1)), e.ch > 0) e = new qa(e.line, e.ch + 1), a.replaceRange(f.charAt(e.ch - 1) + f.charAt(e.ch - 2), qa(e.line, e.ch - 2), e, \"+transpose\");
                            else if (e.line > a.doc.first) {
                            var g = hf(a.doc, e.line - 1).text;
                            g && a.replaceRange(f.charAt(0) + a.doc.lineSeparator() + g.charAt(g.length - 1), qa(e.line - 1, g.length - 1), qa(e.line, 1), \"+transpose\")
                        }
                        c.push(new Ma(e, e))
                    }
                    a.setSelections(c)
                })
            },
            newlineAndIndent: function(a) {
                ec(a, function() {
                    for (var b = a.listSelections().length, c = 0; b > c; c++) {
                        var d = a.listSelections()[c];
                        a.replaceRange(a.doc.lineSeparator(), d.anchor, d.head, \"+input\"), a.indentLine(d.from().line + 1, null, !0)
                    }
                    vd(a)
                })
            },
            toggleOverwrite: function(a) {
                a.toggleOverwrite()
            }
        },
        Od = x.keyMap = {};
    Od.basic = {
        Left: \"goCharLeft\",
        Right: \"goCharRight\",
        Up: \"goLineUp\",
        Down: \"goLineDown\",
        End: \"goLineEnd\",
        Home: \"goLineStartSmart\",
        PageUp: \"goPageUp\",
        PageDown: \"goPageDown\",
        Delete: \"delCharAfter\",
        Backspace: \"delCharBefore\",
        \"Shift-Backspace\": \"delCharBefore\",
        Tab: \"defaultTab\",
        \"Shift-Tab\": \"indentAuto\",
        Enter: \"newlineAndIndent\",
        Insert: \"toggleOverwrite\",
        Esc: \"singleSelection\"
    }, Od.pcDefault = {
        \"Ctrl-A\": \"selectAll\",
        \"Ctrl-D\": \"deleteLine\",
        \"Ctrl-Z\": \"undo\",
        \"Shift-Ctrl-Z\": \"redo\",
        \"Ctrl-Y\": \"redo\",
        \"Ctrl-Home\": \"goDocStart\",
        \"Ctrl-End\": \"goDocEnd\",
        \"Ctrl-Up\": \"goLineUp\",
        \"Ctrl-Down\": \"goLineDown\",
        \"Ctrl-Left\": \"goGroupLeft\",
        \"Ctrl-Right\": \"goGroupRight\",
        \"Alt-Left\": \"goLineStart\",
        \"Alt-Right\": \"goLineEnd\",
        \"Ctrl-Backspace\": \"delGroupBefore\",
        \"Ctrl-Delete\": \"delGroupAfter\",
        \"Ctrl-S\": \"save\",
        \"Ctrl-F\": \"find\",
        \"Ctrl-G\": \"findNext\",
        \"Shift-Ctrl-G\": \"findPrev\",
        \"Shift-Ctrl-F\": \"replace\",
        \"Shift-Ctrl-R\": \"replaceAll\",
        \"Ctrl-[\": \"indentLess\",
        \"Ctrl-]\": \"indentMore\",
        \"Ctrl-U\": \"undoSelection\",
        \"Shift-Ctrl-U\": \"redoSelection\",
        \"Alt-U\": \"redoSelection\",
        fallthrough: \"basic\"
    }, Od.emacsy = {
        \"Ctrl-F\": \"goCharRight\",
        \"Ctrl-B\": \"goCharLeft\",
        \"Ctrl-P\": \"goLineUp\",
        \"Ctrl-N\": \"goLineDown\",
        \"Alt-F\": \"goWordRight\",
        \"Alt-B\": \"goWordLeft\",
        \"Ctrl-A\": \"goLineStart\",
        \"Ctrl-E\": \"goLineEnd\",
        \"Ctrl-V\": \"goPageDown\",
        \"Shift-Ctrl-V\": \"goPageUp\",
        \"Ctrl-D\": \"delCharAfter\",
        \"Ctrl-H\": \"delCharBefore\",
        \"Alt-D\": \"delWordAfter\",
        \"Alt-Backspace\": \"delWordBefore\",
        \"Ctrl-K\": \"killLine\",
        \"Ctrl-T\": \"transposeChars\"
    }, Od.macDefault = {
        \"Cmd-A\": \"selectAll\",
        \"Cmd-D\": \"deleteLine\",
        \"Cmd-Z\": \"undo\",
        \"Shift-Cmd-Z\": \"redo\",
        \"Cmd-Y\": \"redo\",
        \"Cmd-Home\": \"goDocStart\",
        \"Cmd-Up\": \"goDocStart\",
        \"Cmd-End\": \"goDocEnd\",
        \"Cmd-Down\": \"goDocEnd\",
        \"Alt-Left\": \"goGroupLeft\",
        \"Alt-Right\": \"goGroupRight\",
        \"Cmd-Left\": \"goLineLeft\",
        \"Cmd-Right\": \"goLineRight\",
        \"Alt-Backspace\": \"delGroupBefore\",
        \"Ctrl-Alt-Backspace\": \"delGroupAfter\",
        \"Alt-Delete\": \"delGroupAfter\",
        \"Cmd-S\": \"save\",
        \"Cmd-F\": \"find\",
        \"Cmd-G\": \"findNext\",
        \"Shift-Cmd-G\": \"findPrev\",
        \"Cmd-Alt-F\": \"replace\",
        \"Shift-Cmd-Alt-F\": \"replaceAll\",
        \"Cmd-[\": \"indentLess\",
        \"Cmd-]\": \"indentMore\",
        \"Cmd-Backspace\": \"delWrappedLineLeft\",
        \"Cmd-Delete\": \"delWrappedLineRight\",
        \"Cmd-U\": \"undoSelection\",
        \"Shift-Cmd-U\": \"redoSelection\",
        \"Ctrl-Up\": \"goDocStart\",
        \"Ctrl-Down\": \"goDocEnd\",
        fallthrough: [\"basic\", \"emacsy\"]
    }, Od[\"default\"] = q ? Od.macDefault : Od.pcDefault, x.normalizeKeyMap = function(a) {
        var b = {};
        for (var c in a)
            if (a.hasOwnProperty(c)) {
                var d = a[c];
                if (/^(name|fallthrough|(de|at)tach)\$/.test(c)) continue;
                if (\"...\" == d) {
                    delete a[c];
                    continue
                }
                for (var e = ig(c.split(\" \"), Pd), f = 0; f < e.length; f++) {
                    var g, h;
                    f == e.length - 1 ? (h = e.join(\" \"), g = d) : (h = e.slice(0, f + 1).join(\" \"), g = \"...\");
                    var i = b[h];
                    if (i) {
                        if (i != g) throw new Error(\"Inconsistent bindings for \" + h)
                    } else b[h] = g
                }
                delete a[c]
            }
        for (var j in b) a[j] = b[j];
        return a
    };
    var Qd = x.lookupKey = function(a, b, c, d) {
            b = Td(b);
            var e = b.call ? b.call(a, d) : b[a];
            if (e === !1) return \"nothing\";
            if (\"...\" === e) return \"multi\";
            if (null != e && c(e)) return \"handled\";
            if (b.fallthrough) {
                if (\"[object Array]\" != Object.prototype.toString.call(b.fallthrough)) return Qd(a, b.fallthrough, c, d);
                for (var f = 0; f < b.fallthrough.length; f++) {
                    var g = Qd(a, b.fallthrough[f], c, d);
                    if (g) return g
                }
            }
        },
        Rd = x.isModifierKey = function(a) {
            var b = \"string\" == typeof a ? a : Rg[a.keyCode];
            return \"Ctrl\" == b || \"Alt\" == b || \"Shift\" == b || \"Mod\" == b
        },
        Sd = x.keyName = function(a, b) {
            if (k && 34 == a.keyCode && a[\"char\"]) return !1;
            var c = Rg[a.keyCode],
                d = c;
            return null == d || a.altGraphKey ? !1 : (a.altKey && \"Alt\" != c && (d = \"Alt-\" + d), (t ? a.metaKey : a.ctrlKey) && \"Ctrl\" != c && (d = \"Ctrl-\" + d), (t ? a.ctrlKey : a.metaKey) && \"Cmd\" != c && (d = \"Cmd-\" + d), !b && a.shiftKey && \"Shift\" != c && (d = \"Shift-\" + d), d)
        };
    x.fromTextArea = function(a, b) {
        function d() {
            a.value = i.getValue()
        }
        if (b = b ? lg(b) : {}, b.value = a.value, !b.tabindex && a.tabIndex && (b.tabindex = a.tabIndex), !b.placeholder && a.placeholder && (b.placeholder = a.placeholder), null == b.autofocus) {
            var c = yg();
            b.autofocus = c == a || null != a.getAttribute(\"autofocus\") && c == document.body
        }
        if (a.form && (Lf(a.form, \"submit\", d), !b.leaveSubmitMethodAlone)) {
            var e = a.form,
                f = e.submit;
            try {
                var g = e.submit = function() {
                    d(), e.submit = f, e.submit(), e.submit = g
                }
            } catch (h) {}
        }
        b.finishInit = function(b) {
            b.save = d, b.getTextArea = function() {
                return a
            }, b.toTextArea = function() {
                b.toTextArea = isNaN, d(), a.parentNode.removeChild(b.getWrapperElement()), a.style.display = \"\", a.form && (Of(a.form, \"submit\", d), \"function\" == typeof a.form.submit && (a.form.submit = f))
            }
        }, a.style.display = \"none\";
        var i = x(function(b) {
            a.parentNode.insertBefore(b, a.nextSibling)
        }, b);
        return i
    };
    var Ud = x.StringStream = function(a, b) {
        this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0
    };
    Ud.prototype = {
        eol: function() {
            return this.pos >= this.string.length
        },
        sol: function() {
            return this.pos == this.lineStart
        },
        peek: function() {
            return this.string.charAt(this.pos) || void 0
        },
        next: function() {
            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
        },
        eat: function(a) {
            var b = this.string.charAt(this.pos);
            if (\"string\" == typeof a) var c = b == a;
            else var c = b && (a.test ? a.test(b) : a(b));
            return c ? (++this.pos, b) : void 0
        },
        eatWhile: function(a) {
            for (var b = this.pos; this.eat(a););
            return this.pos > b
        },
        eatSpace: function() {
            for (var a = this.pos;
                /[\\s\\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
            return this.pos > a
        },
        skipToEnd: function() {
            this.pos = this.string.length
        },
        skipTo: function(a) {
            var b = this.string.indexOf(a, this.pos);
            return b > -1 ? (this.pos = b, !0) : void 0
        },
        backUp: function(a) {
            this.pos -= a
        },
        column: function() {
            return this.lastColumnPos < this.start && (this.lastColumnValue = bg(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? bg(this.string, this.lineStart, this.tabSize) : 0)
        },
        indentation: function() {
            return bg(this.string, null, this.tabSize) - (this.lineStart ? bg(this.string, this.lineStart, this.tabSize) : 0)
        },
        match: function(a, b, c) {
            if (\"string\" != typeof a) {
                var f = this.string.slice(this.pos).match(a);
                return f && f.index > 0 ? null : (f && b !== !1 && (this.pos += f[0].length), f)
            }
            var d = function(a) {
                    return c ? a.toLowerCase() : a
                },
                e = this.string.substr(this.pos, a.length);
            return d(e) == d(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0
        },
        current: function() {
            return this.string.slice(this.start, this.pos)
        },
        hideFirstChars: function(a, b) {
            this.lineStart += a;
            try {
                return b()
            } finally {
                this.lineStart -= a
            }
        }
    };
    var Vd = 0,
        Wd = x.TextMarker = function(a, b) {
            this.lines = [], this.type = b, this.doc = a, this.id = ++Vd
        };
    Wf(Wd), Wd.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            var a = this.doc.cm,
                b = a && !a.curOp;
            if (b && Xb(a), Vf(this, \"clear\")) {
                var c = this.find();
                c && Rf(this, \"clear\", c.from, c.to)
            }
            for (var d = null, e = null, f = 0; f < this.lines.length; ++f) {
                var g = this.lines[f],
                    h = ce(g.markedSpans, this);
                a && !this.collapsed ? lc(a, mf(g), \"text\") : a && (null != h.to && (e = mf(g)), null != h.from && (d = mf(g))), g.markedSpans = de(g.markedSpans, h), null == h.from && this.collapsed && !ye(this.doc, g) && a && lf(g, Tb(a.display))
            }
            if (a && this.collapsed && !a.options.lineWrapping)
                for (var f = 0; f < this.lines.length; ++f) {
                    var i = ue(this.lines[f]),
                        j = I(i);
                    j > a.display.maxLineLength && (a.display.maxLine = i, a.display.maxLineLength = j, a.display.maxLineChanged = !0)
                }
            null != d && a && this.collapsed && kc(a, d, e + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, a && cb(a.doc)), a && Rf(a, \"markerCleared\", a, this), b && Zb(a), this.parent && this.parent.clear()
        }
    }, Wd.prototype.find = function(a, b) {
        null == a && \"bookmark\" == this.type && (a = 1);
        for (var c, d, e = 0; e < this.lines.length; ++e) {
            var f = this.lines[e],
                g = ce(f.markedSpans, this);
            if (null != g.from && (c = qa(b ? f : mf(f), g.from), -1 == a)) return c;
            if (null != g.to && (d = qa(b ? f : mf(f), g.to), 1 == a)) return d
        }
        return c && {
            from: c,
            to: d
        }
    }, Wd.prototype.changed = function() {
        var a = this.find(-1, !0),
            b = this,
            c = this.doc.cm;
        a && c && ec(c, function() {
            var d = a.line,
                e = mf(a.line),
                f = yb(c, e);
            if (f && (Fb(f), c.curOp.selectionChanged = c.curOp.forceUpdate = !0), c.curOp.updateMaxLine = !0, !ye(b.doc, d) && null != b.height) {
                var g = b.height;
                b.height = null;
                var h = Ce(b) - g;
                h && lf(d, d.height + h)
            }
        })
    }, Wd.prototype.attachLine = function(a) {
        if (!this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            b.maybeHiddenMarkers && -1 != hg(b.maybeHiddenMarkers, this) || (b.maybeUnhiddenMarkers || (b.maybeUnhiddenMarkers = [])).push(this)
        }
        this.lines.push(a)
    }, Wd.prototype.detachLine = function(a) {
        if (this.lines.splice(hg(this.lines, a), 1), !this.lines.length && this.doc.cm) {
            var b = this.doc.cm.curOp;
            (b.maybeHiddenMarkers || (b.maybeHiddenMarkers = [])).push(this)
        }
    };
    var Vd = 0,
        Yd = x.SharedTextMarker = function(a, b) {
            this.markers = a, this.primary = b;
            for (var c = 0; c < a.length; ++c) a[c].parent = this
        };
    Wf(Yd), Yd.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            this.explicitlyCleared = !0;
            for (var a = 0; a < this.markers.length; ++a) this.markers[a].clear();
            Rf(this, \"clear\")
        }
    }, Yd.prototype.find = function(a, b) {
        return this.primary.find(a, b)
    };
    var Ae = x.LineWidget = function(a, b, c) {
        if (c)
            for (var d in c) c.hasOwnProperty(d) && (this[d] = c[d]);
        this.doc = a, this.node = b
    };
    Wf(Ae), Ae.prototype.clear = function() {
        var a = this.doc.cm,
            b = this.line.widgets,
            c = this.line,
            d = mf(c);
        if (null != d && b) {
            for (var e = 0; e < b.length; ++e) b[e] == this && b.splice(e--, 1);
            b.length || (c.widgets = null);
            var f = Ce(this);
            lf(c, Math.max(0, c.height - f)), a && ec(a, function() {
                Be(a, c, -f), lc(a, d, \"widget\")
            })
        }
    }, Ae.prototype.changed = function() {
        var a = this.height,
            b = this.doc.cm,
            c = this.line;
        this.height = null;
        var d = Ce(this) - a;
        d && (lf(c, c.height + d), b && ec(b, function() {
            b.curOp.forceUpdate = !0, Be(b, c, d)
        }))
    };
    var Ee = x.Line = function(a, b, c) {
        this.text = a, me(this, b), this.height = c ? c(this) : 1
    };
    Wf(Ee), Ee.prototype.lineNo = function() {
        return mf(this)
    };
    var Pe = {},
        Qe = {};
    _e.prototype = {
        chunkSize: function() {
            return this.lines.length
        },
        removeInner: function(a, b) {
            for (var c = a, d = a + b; d > c; ++c) {
                var e = this.lines[c];
                this.height -= e.height, Ge(e), Rf(e, \"delete\")
            }
            this.lines.splice(a, b)
        },
        collapse: function(a) {
            a.push.apply(a, this.lines)
        },
        insertInner: function(a, b, c) {
            this.height += c, this.lines = this.lines.slice(0, a).concat(b).concat(this.lines.slice(a));
            for (var d = 0; d < b.length; ++d) b[d].parent = this
        },
        iterN: function(a, b, c) {
            for (var d = a + b; d > a; ++a)
                if (c(this.lines[a])) return !0
        }
    }, af.prototype = {
        chunkSize: function() {
            return this.size
        },
        removeInner: function(a, b) {
            this.size -= b;
            for (var c = 0; c < this.children.length; ++c) {
                var d = this.children[c],
                    e = d.chunkSize();
                if (e > a) {
                    var f = Math.min(b, e - a),
                        g = d.height;
                    if (d.removeInner(a, f), this.height -= g - d.height, e == f && (this.children.splice(c--, 1), d.parent = null), 0 == (b -= f)) break;
                    a = 0
                } else a -= e
            }
            if (this.size - b < 25 && (this.children.length > 1 || !(this.children[0] instanceof _e))) {
                var h = [];
                this.collapse(h), this.children = [new _e(h)], this.children[0].parent = this
            }
        },
        collapse: function(a) {
            for (var b = 0; b < this.children.length; ++b) this.children[b].collapse(a)
        },
        insertInner: function(a, b, c) {
            this.size += b.length, this.height += c;
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d],
                    f = e.chunkSize();
                if (f >= a) {
                    if (e.insertInner(a, b, c), e.lines && e.lines.length > 50) {
                        for (; e.lines.length > 50;) {
                            var g = e.lines.splice(e.lines.length - 25, 25),
                                h = new _e(g);
                            e.height -= h.height, this.children.splice(d + 1, 0, h), h.parent = this
                        }
                        this.maybeSpill()
                    }
                    break
                }
                a -= f
            }
        },
        maybeSpill: function() {
            if (!(this.children.length <= 10)) {
                var a = this;
                do {
                    var b = a.children.splice(a.children.length - 5, 5),
                        c = new af(b);
                    if (a.parent) {
                        a.size -= c.size, a.height -= c.height;
                        var e = hg(a.parent.children, a);
                        a.parent.children.splice(e + 1, 0, c)
                    } else {
                        var d = new af(a.children);
                        d.parent = a, a.children = [d, c], a = d
                    }
                    c.parent = a.parent
                } while (a.children.length > 10);
                a.parent.maybeSpill()
            }
        },
        iterN: function(a, b, c) {
            for (var d = 0; d < this.children.length; ++d) {
                var e = this.children[d],
                    f = e.chunkSize();
                if (f > a) {
                    var g = Math.min(b, f - a);
                    if (e.iterN(a, g, c)) return !0;
                    if (0 == (b -= g)) break;
                    a = 0
                } else a -= f
            }
        }
    };
    var bf = 0,
        cf = x.Doc = function(a, b, c, d) {
            if (!(this instanceof cf)) return new cf(a, b, c, d);
            null == c && (c = 0), af.call(this, [new _e([new Ee(\"\", null)])]), this.first = c, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.frontier = c;
            var e = qa(c, 0);
            this.sel = Oa(e), this.history = new qf(null), this.id = ++bf, this.modeOption = b, this.lineSep = d, \"string\" == typeof a && (a = this.splitLines(a)), \$e(this, {
                from: e,
                to: e,
                text: a
            }), _a(this, Oa(e), Zf)
        };
    cf.prototype = kg(af.prototype, {
        constructor: cf,
        iter: function(a, b, c) {
            c ? this.iterN(a - this.first, b - a, c) : this.iterN(this.first, this.first + this.size, a)
        },
        insert: function(a, b) {
            for (var c = 0, d = 0; d < b.length; ++d) c += b[d].height;
            this.insertInner(a - this.first, b, c)
        },
        remove: function(a, b) {
            this.removeInner(a - this.first, b)
        },
        getValue: function(a) {
            var b = kf(this, this.first, this.first + this.size);
            return a === !1 ? b : b.join(a || this.lineSeparator())
        },
        setValue: hc(function(a) {
            var b = qa(this.first, 0),
                c = this.first + this.size - 1;
            jd(this, {
                from: b,
                to: qa(c, hf(this, c).text.length),
                text: this.splitLines(a),
                origin: \"setValue\",
                full: !0
            }, !0), _a(this, Oa(b))
        }),
        replaceRange: function(a, b, c, d) {
            b = Qa(this, b), c = c ? Qa(this, c) : b, pd(this, a, b, c, d)
        },
        getRange: function(a, b, c) {
            var d = jf(this, Qa(this, a), Qa(this, b));
            return c === !1 ? d : d.join(c || this.lineSeparator())
        },
        getLine: function(a) {
            var b = this.getLineHandle(a);
            return b && b.text
        },
        getLineHandle: function(a) {
            return Sa(this, a) ? hf(this, a) : void 0
        },
        getLineNumber: function(a) {
            return mf(a)
        },
        getLineHandleVisualStart: function(a) {
            return \"number\" == typeof a && (a = hf(this, a)), ue(a)
        },
        lineCount: function() {
            return this.size
        },
        firstLine: function() {
            return this.first
        },
        lastLine: function() {
            return this.first + this.size - 1
        },
        clipPos: function(a) {
            return Qa(this, a)
        },
        getCursor: function(a) {
            var c, b = this.sel.primary();
            return c = null == a || \"head\" == a ? b.head : \"anchor\" == a ? b.anchor : \"end\" == a || \"to\" == a || a === !1 ? b.to() : b.from()
        },
        listSelections: function() {
            return this.sel.ranges
        },
        somethingSelected: function() {
            return this.sel.somethingSelected()
        },
        setCursor: hc(function(a, b, c) {
            Ya(this, Qa(this, \"number\" == typeof a ? qa(a, b || 0) : a), null, c)
        }),
        setSelection: hc(function(a, b, c) {
            Ya(this, Qa(this, a), Qa(this, b || a), c)
        }),
        extendSelection: hc(function(a, b, c) {
            Va(this, Qa(this, a), b && Qa(this, b), c)
        }),
        extendSelections: hc(function(a, b) {
            Wa(this, Ta(this, a, b))
        }),
        extendSelectionsBy: hc(function(a, b) {
            Wa(this, ig(this.sel.ranges, a), b)
        }),
        setSelections: hc(function(a, b, c) {
            if (a.length) {
                for (var d = 0, e = []; d < a.length; d++) e[d] = new Ma(Qa(this, a[d].anchor), Qa(this, a[d].head));
                null == b && (b = Math.min(a.length - 1, this.sel.primIndex)), _a(this, Na(e, b), c)
            }
        }),
        addSelection: hc(function(a, b, c) {
            var d = this.sel.ranges.slice(0);
            d.push(new Ma(Qa(this, a), Qa(this, b || a))), _a(this, Na(d, d.length - 1), c)
        }),
        getSelection: function(a) {
            for (var c, b = this.sel.ranges, d = 0; d < b.length; d++) {
                var e = jf(this, b[d].from(), b[d].to());
                c = c ? c.concat(e) : e
            }
            return a === !1 ? c : c.join(a || this.lineSeparator())
        },
        getSelections: function(a) {
            for (var b = [], c = this.sel.ranges, d = 0; d < c.length; d++) {
                var e = jf(this, c[d].from(), c[d].to());
                a !== !1 && (e = e.join(a || this.lineSeparator())), b[d] = e
            }
            return b
        },
        replaceSelection: function(a, b, c) {
            for (var d = [], e = 0; e < this.sel.ranges.length; e++) d[e] = a;
            this.replaceSelections(d, b, c || \"+input\")
        },
        replaceSelections: hc(function(a, b, c) {
            for (var d = [], e = this.sel, f = 0; f < e.ranges.length; f++) {
                var g = e.ranges[f];
                d[f] = {
                    from: g.from(),
                    to: g.to(),
                    text: this.splitLines(a[f]),
                    origin: c
                }
            }
            for (var h = b && \"end\" != b && hd(this, d, b), f = d.length - 1; f >= 0; f--) jd(this, d[f]);
            h ? \$a(this, h) : this.cm && vd(this.cm)
        }),
        undo: hc(function() {
            ld(this, \"undo\")
        }),
        redo: hc(function() {
            ld(this, \"redo\")
        }),
        undoSelection: hc(function() {
            ld(this, \"undo\", !0)
        }),
        redoSelection: hc(function() {
            ld(this, \"redo\", !0)
        }),
        setExtending: function(a) {
            this.extend = a
        },
        getExtending: function() {
            return this.extend
        },
        historySize: function() {
            for (var a = this.history, b = 0, c = 0, d = 0; d < a.done.length; d++) a.done[d].ranges || ++b;
            for (var d = 0; d < a.undone.length; d++) a.undone[d].ranges || ++c;
            return {
                undo: b,
                redo: c
            }
        },
        clearHistory: function() {
            this.history = new qf(this.history.maxGeneration)
        },
        markClean: function() {
            this.cleanGeneration = this.changeGeneration(!0)
        },
        changeGeneration: function(a) {
            return a && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation
        },
        isClean: function(a) {
            return this.history.generation == (a || this.cleanGeneration)
        },
        getHistory: function() {
            return {
                done: Bf(this.history.done),
                undone: Bf(this.history.undone)
            }
        },
        setHistory: function(a) {
            var b = this.history = new qf(this.history.maxGeneration);
            b.done = Bf(a.done.slice(0), null, !0), b.undone = Bf(a.undone.slice(0), null, !0)
        },
        addLineClass: hc(function(a, b, c) {
            return yd(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {
                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\";
                if (a[d]) {
                    if (zg(c).test(a[d])) return !1;
                    a[d] += \" \" + c
                } else a[d] = c;
                return !0
            })
        }),
        removeLineClass: hc(function(a, b, c) {
            return yd(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {
                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\",
                    e = a[d];
                if (!e) return !1;
                if (null == c) a[d] = null;
                else {
                    var f = e.match(zg(c));
                    if (!f) return !1;
                    var g = f.index + f[0].length;
                    a[d] = e.slice(0, f.index) + (f.index && g != e.length ? \" \" : \"\") + e.slice(g) || null
                }
                return !0
            })
        }),
        addLineWidget: hc(function(a, b, c) {
            return De(this, a, b, c)
        }),
        removeLineWidget: function(a) {
            a.clear()
        },
        markText: function(a, b, c) {
            return Xd(this, Qa(this, a), Qa(this, b), c, c && c.type || \"range\")
        },
        setBookmark: function(a, b) {
            var c = {
                replacedWith: b && (null == b.nodeType ? b.widget : b),
                insertLeft: b && b.insertLeft,
                clearWhenEmpty: !1,
                shared: b && b.shared,
                handleMouseEvents: b && b.handleMouseEvents
            };
            return a = Qa(this, a), Xd(this, a, a, c, \"bookmark\")
        },
        findMarksAt: function(a) {
            a = Qa(this, a);
            var b = [],
                c = hf(this, a.line).markedSpans;
            if (c)
                for (var d = 0; d < c.length; ++d) {
                    var e = c[d];
                    (null == e.from || e.from <= a.ch) && (null == e.to || e.to >= a.ch) && b.push(e.marker.parent || e.marker)
                }
            return b
        },
        findMarks: function(a, b, c) {
            a = Qa(this, a), b = Qa(this, b);
            var d = [],
                e = a.line;
            return this.iter(a.line, b.line + 1, function(f) {
                var g = f.markedSpans;
                if (g)
                    for (var h = 0; h < g.length; h++) {
                        var i = g[h];
                        e == a.line && a.ch > i.to || null == i.from && e != a.line || e == b.line && i.from > b.ch || c && !c(i.marker) || d.push(i.marker.parent || i.marker)
                    }++e
            }), d
        },
        getAllMarks: function() {
            var a = [];
            return this.iter(function(b) {
                var c = b.markedSpans;
                if (c)
                    for (var d = 0; d < c.length; ++d) null != c[d].from && a.push(c[d].marker)
            }), a
        },
        posFromIndex: function(a) {
            var b, c = this.first;
            return this.iter(function(d) {
                var e = d.text.length + 1;
                return e > a ? (b = a, !0) : (a -= e, void++c)
            }), Qa(this, qa(c, b))
        },
        indexFromPos: function(a) {
            a = Qa(this, a);
            var b = a.ch;
            return a.line < this.first || a.ch < 0 ? 0 : (this.iter(this.first, a.line, function(a) {
                b += a.text.length + 1
            }), b)
        },
        copy: function(a) {
            var b = new cf(kf(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep);
            return b.scrollTop = this.scrollTop, b.scrollLeft = this.scrollLeft, b.sel = this.sel, b.extend = !1, a && (b.history.undoDepth = this.history.undoDepth, b.setHistory(this.getHistory())), b
        },
        linkedDoc: function(a) {
            a || (a = {});
            var b = this.first,
                c = this.first + this.size;
            null != a.from && a.from > b && (b = a.from), null != a.to && a.to < c && (c = a.to);
            var d = new cf(kf(this, b, c), a.mode || this.modeOption, b, this.lineSep);
            return a.sharedHist && (d.history = this.history), (this.linked || (this.linked = [])).push({
                doc: d,
                sharedHist: a.sharedHist
            }), d.linked = [{
                doc: this,
                isParent: !0,
                sharedHist: a.sharedHist
            }], _d(d, \$d(this)), d
        },
        unlinkDoc: function(a) {
            if (a instanceof x && (a = a.doc), this.linked)
                for (var b = 0; b < this.linked.length; ++b) {
                    var c = this.linked[b];
                    if (c.doc == a) {
                        this.linked.splice(b, 1), a.unlinkDoc(this), ae(\$d(this));
                        break
                    }
                }
            if (a.history == this.history) {
                var d = [a.id];
                ff(a, function(a) {
                    d.push(a.id)
                }, !0), a.history = new qf(null), a.history.done = Bf(this.history.done, d), a.history.undone = Bf(this.history.undone, d)
            }
        },
        iterLinkedDocs: function(a) {
            ff(this, a)
        },
        getMode: function() {
            return this.mode
        },
        getEditor: function() {
            return this.cm
        },
        splitLines: function(a) {
            return this.lineSep ? a.split(this.lineSep) : Mg(a)
        },
        lineSeparator: function() {
            return this.lineSep || \"\\n\"
        }
    }), cf.prototype.eachLine = cf.prototype.iter;
    var df = \"iter insert remove copy getEditor constructor\".split(\" \");
    for (var ef in cf.prototype) cf.prototype.hasOwnProperty(ef) && hg(df, ef) < 0 && (x.prototype[ef] = function(a) {
        return function() {
            return a.apply(this.doc, arguments)
        }
    }(cf.prototype[ef]));
    Wf(cf);
    var Ff = x.e_preventDefault = function(a) {
            a.preventDefault ? a.preventDefault() : a.returnValue = !1
        },
        Gf = x.e_stopPropagation = function(a) {
            a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
        },
        If = x.e_stop = function(a) {
            Ff(a), Gf(a)
        },
        Lf = x.on = function(a, b, c) {
            if (a.addEventListener) a.addEventListener(b, c, !1);
            else if (a.attachEvent) a.attachEvent(\"on\" + b, c);
            else {
                var d = a._handlers || (a._handlers = {}),
                    e = d[b] || (d[b] = []);
                e.push(c)
            }
        },
        Mf = [],
        Of = x.off = function(a, b, c) {
            if (a.removeEventListener) a.removeEventListener(b, c, !1);
            else if (a.detachEvent) a.detachEvent(\"on\" + b, c);
            else
                for (var d = Nf(a, b, !1), e = 0; e < d.length; ++e)
                    if (d[e] == c) {
                        d.splice(e, 1);
                        break
                    }
        },
        Pf = x.signal = function(a, b) {
            var c = Nf(a, b, !0);
            if (c.length)
                for (var d = Array.prototype.slice.call(arguments, 2), e = 0; e < c.length; ++e) c[e].apply(null, d)
        },
        Qf = null,
        Xf = 30,
        Yf = x.Pass = {
            toString: function() {
                return \"CodeMirror.Pass\"
            }
        },
        Zf = {
            scroll: !1
        },
        \$f = {
            origin: \"*mouse\"
        },
        _f = {
            origin: \"+move\"
        };
    ag.prototype.set = function(a, b) {
        clearTimeout(this.id), this.id = setTimeout(b, a)
    };
    var bg = x.countColumn = function(a, b, c, d, e) {
            null == b && (b = a.search(/[^\\s\\u00a0]/), -1 == b && (b = a.length));
            for (var f = d || 0, g = e || 0;;) {
                var h = a.indexOf(\"  \", f);
                if (0 > h || h >= b) return g + (b - f);
                g += h - f, g += c - g % c, f = h + 1
            }
        },
        cg = x.findColumn = function(a, b, c) {
            for (var d = 0, e = 0;;) {
                var f = a.indexOf(\" \", d); - 1 == f && (f = a.length);
                var g = f - d;
                if (f == a.length || e + g >= b) return d + Math.min(g, b - e);
                if (e += f - d, e += c - e % c, d = f + 1, e >= b) return d
            }
        },
        dg = [\"\"],
        gg = function(a) {
            a.select()
        };
    o ? gg = function(a) {
        a.selectionStart = 0, a.selectionEnd = a.value.length
    } : f && (gg = function(a) {
        try {
            a.select()
        } catch (b) {}
    });
    var ug, ng = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/,
        og = x.isWordChar = function(a) {
            return /\\w/.test(a) || a > \"\\x80\" && (a.toUpperCase() != a.toLowerCase() || ng.test(a))
        },
        rg = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;
    ug = document.createRange ? function(a, b, c, d) {
        var e = document.createRange();
        return e.setEnd(d || a, c), e.setStart(a, b), e
    } : function(a, b, c) {
        var d = document.body.createTextRange();
        try {
            d.moveToElementText(a.parentNode)
        } catch (e) {
            return d
        }
        return d.collapse(!0), d.moveEnd(\"character\", c), d.moveStart(\"character\", b), d
    };
    var xg = x.contains = function(a, b) {
        if (3 == b.nodeType && (b = b.parentNode), a.contains) return a.contains(b);
        do
            if (11 == b.nodeType && (b = b.host), b == a) return !0;
        while (b = b.parentNode)
    };
    f && 11 > g && (yg = function() {
        try {
            return document.activeElement
        } catch (a) {
            return document.body
        }
    });
    var Ig, Kg, Ag = x.rmClass = function(a, b) {
            var c = a.className,
                d = zg(b).exec(c);
            if (d) {
                var e = c.slice(d.index + d[0].length);
                a.className = c.slice(0, d.index) + (e ? d[1] + e : \"\")
            }
        },
        Bg = x.addClass = function(a, b) {
            var c = a.className;
            zg(b).test(c) || (a.className += (c ? \" \" : \"\") + b)
        },
        Eg = !1,
        Hg = function() {
            if (f && 9 > g) return !1;
            var a = tg(\"div\");
            return \"draggable\" in a || \"dragDrop\" in a
        }(),
        Mg = x.splitLines = 3 != \"\\n\\nb\".split(/\\n/).length ? function(a) {
            for (var b = 0, c = [], d = a.length; d >= b;) {
                var e = a.indexOf(\"\\n\", b); - 1 == e && (e = a.length);
                var f = a.slice(b, \"\\r\" == a.charAt(e - 1) ? e - 1 : e),
                    g = f.indexOf(\"\\r\"); - 1 != g ? (c.push(f.slice(0, g)), b += g + 1) : (c.push(f), b = e + 1)
            }
            return c
        } : function(a) {
            return a.split(/\\r\\n?|\\n/)
        },
        Ng = window.getSelection ? function(a) {
            try {
                return a.selectionStart != a.selectionEnd
            } catch (b) {
                return !1
            }
        } : function(a) {
            try {
                var b = a.ownerDocument.selection.createRange()
            } catch (c) {}
            return b && b.parentElement() == a ? 0 != b.compareEndPoints(\"StartToEnd\", b) : !1
        },
        Og = function() {
            var a = tg(\"div\");
            return \"oncopy\" in a ? !0 : (a.setAttribute(\"oncopy\", \"return;\"), \"function\" == typeof a.oncopy)
        }(),
        Pg = null,
        Rg = x.keyNames = {
            3: \"Enter\",
            8: \"Backspace\",
            9: \"Tab\",
            13: \"Enter\",
            16: \"Shift\",
            17: \"Ctrl\",
            18: \"Alt\",
            19: \"Pause\",
            20: \"CapsLock\",
            27: \"Esc\",
            32: \"Space\",
            33: \"PageUp\",
            34: \"PageDown\",
            35: \"End\",
            36: \"Home\",
            37: \"Left\",
            38: \"Up\",
            39: \"Right\",
            40: \"Down\",
            44: \"PrintScrn\",
            45: \"Insert\",
            46: \"Delete\",
            59: \";\",
            61: \"=\",
            91: \"Mod\",
            92: \"Mod\",
            93: \"Mod\",
            106: \"*\",
            107: \"=\",
            109: \"-\",
            110: \".\",
            111: \"/\",
            127: \"Delete\",
            173: \"-\",
            186: \";\",
            187: \"=\",
            188: \",\",
            189: \"-\",
            190: \".\",
            191: \"/\",
            192: \"`\",
            219: \"[\",
            220: \"\\\\\",
            221: \"]\",
            222: \"'\",
            63232: \"Up\",
            63233: \"Down\",
            63234: \"Left\",
            63235: \"Right\",
            63272: \"Delete\",
            63273: \"Home\",
            63275: \"End\",
            63276: \"PageUp\",
            63277: \"PageDown\",
            63302: \"Insert\"
        };
    ! function() {
        for (var a = 0; 10 > a; a++) Rg[a + 48] = Rg[a + 96] = String(a);
        for (var a = 65; 90 >= a; a++) Rg[a] = String.fromCharCode(a);
        for (var a = 1; 12 >= a; a++) Rg[a + 111] = Rg[a + 63235] = \"F\" + a
    }();
    var _g, eh = function() {
        function c(c) {
            return 247 >= c ? a.charAt(c) : c >= 1424 && 1524 >= c ? \"R\" : c >= 1536 && 1773 >= c ? b.charAt(c - 1536) : c >= 1774 && 2220 >= c ? \"r\" : c >= 8192 && 8203 >= c ? \"w\" : 8204 == c ? \"b\" : \"L\"
        }

        function j(a, b, c) {
            this.level = a, this.from = b, this.to = c
        }
        var a = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",
            b = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\",
            d = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,
            e = /[stwN]/,
            f = /[LRr]/,
            g = /[Lb1n]/,
            h = /[1n]/,
            i = \"L\";
        return function(a) {
            if (!d.test(a)) return !1;
            for (var m, b = a.length, k = [], l = 0; b > l; ++l) k.push(m = c(a.charCodeAt(l)));
            for (var l = 0, n = i; b > l; ++l) {
                var m = k[l];
                \"m\" == m ? k[l] = n : n = m
            }
            for (var l = 0, o = i; b > l; ++l) {
                var m = k[l];
                \"1\" == m && \"r\" == o ? k[l] = \"n\" : f.test(m) && (o = m, \"r\" == m && (k[l] = \"R\"))
            }
            for (var l = 1, n = k[0]; b - 1 > l; ++l) {
                var m = k[l];
                \"+\" == m && \"1\" == n && \"1\" == k[l + 1] ? k[l] = \"1\" : \",\" != m || n != k[l + 1] || \"1\" != n && \"n\" != n || (k[l] = n), n = m
            }
            for (var l = 0; b > l; ++l) {
                var m = k[l];
                if (\",\" == m) k[l] = \"N\";
                else if (\"%\" == m) {
                    for (var p = l + 1; b > p && \"%\" == k[p]; ++p);
                    for (var q = l && \"!\" == k[l - 1] || b > p && \"1\" == k[p] ? \"1\" : \"N\", r = l; p > r; ++r) k[r] = q;
                    l = p - 1
                }
            }
            for (var l = 0, o = i; b > l; ++l) {
                var m = k[l];
                \"L\" == o && \"1\" == m ? k[l] = \"L\" : f.test(m) && (o = m)
            }
            for (var l = 0; b > l; ++l)
                if (e.test(k[l])) {
                    for (var p = l + 1; b > p && e.test(k[p]); ++p);
                    for (var s = \"L\" == (l ? k[l - 1] : i), t = \"L\" == (b > p ? k[p] : i), q = s || t ? \"L\" : \"R\", r = l; p > r; ++r) k[r] = q;
                    l = p - 1
                }
            for (var v, u = [], l = 0; b > l;)
                if (g.test(k[l])) {
                    var w = l;
                    for (++l; b > l && g.test(k[l]); ++l);
                    u.push(new j(0, w, l))
                } else {
                    var x = l,
                        y = u.length;
                    for (++l; b > l && \"L\" != k[l]; ++l);
                    for (var r = x; l > r;)
                        if (h.test(k[r])) {
                            r > x && u.splice(y, 0, new j(1, x, r));
                            var z = r;
                            for (++r; l > r && h.test(k[r]); ++r);
                            u.splice(y, 0, new j(2, z, r)), x = r
                        } else ++r;
                    l > x && u.splice(y, 0, new j(1, x, l))
                }
            return 1 == u[0].level && (v = a.match(/^\\s+/)) && (u[0].from = v[0].length, u.unshift(new j(0, 0, v[0].length))), 1 == fg(u).level && (v = a.match(/\\s+\$/)) && (fg(u).to -= v[0].length, u.push(new j(0, b - v[0].length, b))), 2 == u[0].level && u.unshift(new j(1, u[0].to, u[0].to)), u[0].level != fg(u).level && u.push(new j(u[0].level, b, b)), u
        }
    }();
    return x.version = \"5.8.1\", x
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";
    a.defineMode(\"clojure\", function(a) {
        function m(a) {
            for (var b = {}, c = a.split(\" \"), d = 0; d < c.length; ++d) b[c[d]] = !0;
            return b
        }

        function s(a, b, c) {
            this.indent = a, this.type = b, this.prev = c
        }

        function t(a, b, c) {
            a.indentStack = new s(b, c, a.indentStack)
        }

        function u(a) {
            a.indentStack = a.indentStack.prev
        }

        function v(a, b) {
            return \"0\" === a && b.eat(/x/i) ? (b.eatWhile(r.hex), !0) : (\"+\" != a && \"-\" != a || !r.digit.test(b.peek()) || (b.eat(r.sign), a = b.next()), r.digit.test(a) ? (b.eat(a), b.eatWhile(r.digit), \".\" == b.peek() && (b.eat(\".\"), b.eatWhile(r.digit)), b.eat(r.exponent) && (b.eat(r.sign), b.eatWhile(r.digit)), !0) : !1)
        }

        function w(a) {
            var b = a.next();
            b && b.match(/[a-z]/) && a.match(/[a-z]+/, !0) || \"u\" === b && a.match(/[0-9a-z]{4}/i, !0)
        }
        var b = \"builtin\",
            c = \"comment\",
            d = \"string\",
            e = \"string-2\",
            f = \"atom\",
            g = \"number\",
            h = \"bracket\",
            i = \"keyword\",
            j = \"variable\",
            k = a.indentUnit || 2,
            l = a.indentUnit || 2,
            n = m(\"true false nil\"),
            o = m(\"defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle\"),
            p = m(\"* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -> ->> ->ArrayChunk ->Vec ->VecNode ->VecSeq -cache-protocol-fn -reset-methods .. / < <= = == > >= EMPTY-NODE accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* bound? butlast byte byte-array bytes case cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while empty empty? ensure enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by hash hash-combine hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc inc' init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod munge name namespace namespace-munge neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int rand-nth range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string realized? reduce reduce-kv reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents slurp some some-fn sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector-of vector? when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap *default-data-reader-fn* as-> cond-> cond->> reduced reduced? send-via set-agent-send-executor! set-agent-send-off-executor! some-> some->>\"),
            q = m(\"ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace\"),
            r = {
                digit: /\\d/,
                digit_or_colon: /[\\d:]/,
                hex: /[0-9a-f]/i,
                sign: /[+-]/,
                exponent: /e/i,
                keyword_char: /[^\\s\\(\\[\\;\\)\\]]/,
                symbol: /[\\w*+!\\-\\._?:<>\\/\\xa1-\\uffff]/
            };
        return {
            startState: function() {
                return {
                    indentStack: null,
                    indentation: 0,
                    mode: !1
                }
            },
            token: function(a, m) {
                if (null == m.indentStack && a.sol() && (m.indentation = a.indentation()), a.eatSpace()) return null;
                var s = null;
                switch (m.mode) {
                    case \"string\":
                        for (var x, y = !1; null != (x = a.next());) {
                            if ('\"' == x && !y) {
                                m.mode = !1;
                                break
                            }
                            y = !y && \"\\\\\" == x
                        }
                        s = d;
                        break;
                    default:
                        var z = a.next();
                        if ('\"' == z) m.mode = \"string\", s = d;
                        else if (\"\\\\\" == z) w(a), s = e;
                        else if (\"'\" != z || r.digit_or_colon.test(a.peek()))
                            if (\";\" == z) a.skipToEnd(), s = c;
                            else if (v(z, a)) s = g;
                        else if (\"(\" == z || \"[\" == z || \"{\" == z) {
                            var C, A = \"\",
                                B = a.column();
                            if (\"(\" == z)
                                for (; null != (C = a.eat(r.keyword_char));) A += C;
                            A.length > 0 && (q.propertyIsEnumerable(A) || /^(?:def|with)/.test(A)) ? t(m, B + k, z) : (a.eatSpace(), a.eol() || \";\" == a.peek() ? t(m, B + l, z) : t(m, B + a.current().length, z)), a.backUp(a.current().length - 1), s = h
                        } else if (\")\" == z || \"]\" == z || \"}\" == z) s = h, null != m.indentStack && m.indentStack.type == (\")\" == z ? \"(\" : \"]\" == z ? \"[\" : \"{\") && u(m);
                        else {
                            if (\":\" == z) return a.eatWhile(r.symbol), f;
                            a.eatWhile(r.symbol), s = o && o.propertyIsEnumerable(a.current()) ? i : p && p.propertyIsEnumerable(a.current()) ? b : n && n.propertyIsEnumerable(a.current()) ? f : j
                        } else s = f
                }
                return s
            },
            indent: function(a) {
                return null == a.indentStack ? a.indentation : a.indentStack.indent
            },
            closeBrackets: {
                pairs: '()[]{}\"\"'
            },
            lineComment: \";;\"
        }
    }), a.defineMIME(\"text/x-clojure\", \"clojure\")
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function d(a, c) {
        return \"pairs\" == c && \"string\" == typeof a ? a : \"object\" == typeof a && null != a[c] ? a[c] : b[c]
    }

    function h(a) {
        return function(b) {
            return m(b, a)
        }
    }

    function i(a) {
        var b = a.state.closeBrackets;
        if (!b) return null;
        var c = a.getModeAt(a.getCursor());
        return c.closeBrackets || b
    }

    function j(b) {
        var e = i(b);
        if (!e || b.getOption(\"disableInput\")) return a.Pass;
        for (var f = d(e, \"pairs\"), g = b.listSelections(), h = 0; h < g.length; h++) {
            if (!g[h].empty()) return a.Pass;
            var j = o(b, g[h].head);
            if (!j || f.indexOf(j) % 2 != 0) return a.Pass
        }
        for (var h = g.length - 1; h >= 0; h--) {
            var k = g[h].head;
            b.replaceRange(\"\", c(k.line, k.ch - 1), c(k.line, k.ch + 1))
        }
    }

    function k(b) {
        var c = i(b),
            e = c && d(c, \"explode\");
        if (!e || b.getOption(\"disableInput\")) return a.Pass;
        for (var f = b.listSelections(), g = 0; g < f.length; g++) {
            if (!f[g].empty()) return a.Pass;
            var h = o(b, f[g].head);
            if (!h || e.indexOf(h) % 2 != 0) return a.Pass
        }
        b.operation(function() {
            b.replaceSelection(\"\\n\\n\", null), b.execCommand(\"goCharLeft\"), f = b.listSelections();
            for (var a = 0; a < f.length; a++) {
                var c = f[a].head.line;
                b.indentLine(c, null, !0), b.indentLine(c + 1, null, !0)
            }
        })
    }

    function l(b) {
        var d = a.cmpPos(b.anchor, b.head) > 0;
        return {
            anchor: new c(b.anchor.line, b.anchor.ch + (d ? -1 : 1)),
            head: new c(b.head.line, b.head.ch + (d ? 1 : -1))
        }
    }

    function m(b, e) {
        var f = i(b);
        if (!f || b.getOption(\"disableInput\")) return a.Pass;
        var g = d(f, \"pairs\"),
            h = g.indexOf(e);
        if (-1 == h) return a.Pass;
        for (var q, r, j = d(f, \"triples\"), k = g.charAt(h + 1) == e, m = b.listSelections(), o = h % 2 == 0, s = 0; s < m.length; s++) {
            var v, t = m[s],
                u = t.head,
                r = b.getRange(u, c(u.line, u.ch + 1));
            if (o && !t.empty()) v = \"surround\";
            else if (!k && o || r != e)
                if (k && u.ch > 1 && j.indexOf(e) >= 0 && b.getRange(c(u.line, u.ch - 2), u) == e + e && (u.ch <= 2 || b.getRange(c(u.line, u.ch - 3), c(u.line, u.ch - 2)) != e)) v = \"addFour\";
                else if (k) {
                if (a.isWordChar(r) || !p(b, u, e)) return a.Pass;
                v = \"both\"
            } else {
                if (!o || b.getLine(u.line).length != u.ch && !n(r, g) && !/\\s/.test(r)) return a.Pass;
                v = \"both\"
            } else v = j.indexOf(e) >= 0 && b.getRange(u, c(u.line, u.ch + 3)) == e + e + e ? \"skipThree\" : \"skip\";
            if (q) {
                if (q != v) return a.Pass
            } else q = v
        }
        var w = h % 2 ? g.charAt(h - 1) : e,
            x = h % 2 ? e : g.charAt(h + 1);
        b.operation(function() {
            if (\"skip\" == q) b.execCommand(\"goCharRight\");
            else if (\"skipThree\" == q)
                for (var a = 0; 3 > a; a++) b.execCommand(\"goCharRight\");
            else if (\"surround\" == q) {
                for (var c = b.getSelections(), a = 0; a < c.length; a++) c[a] = w + c[a] + x;
                b.replaceSelections(c, \"around\"), c = b.listSelections().slice();
                for (var a = 0; a < c.length; a++) c[a] = l(c[a]);
                b.setSelections(c)
            } else \"both\" == q ? (b.replaceSelection(w + x, null), b.triggerElectric(w + x), b.execCommand(\"goCharLeft\")) : \"addFour\" == q && (b.replaceSelection(w + w + w + w, \"before\"), b.execCommand(\"goCharRight\"))
        })
    }

    function n(a, b) {
        var c = b.lastIndexOf(a);
        return c > -1 && c % 2 == 1
    }

    function o(a, b) {
        var d = a.getRange(c(b.line, b.ch - 1), c(b.line, b.ch + 1));
        return 2 == d.length ? d : null
    }

    function p(b, c, d) {
        var e = b.getLine(c.line),
            f = b.getTokenAt(c);
        if (/\\bstring2?\\b/.test(f.type)) return !1;
        var g = new a.StringStream(e.slice(0, c.ch) + d + e.slice(c.ch), 4);
        for (g.pos = g.start = f.start;;) {
            var h = b.getMode().token(g, f.state);
            if (g.pos >= c.ch + 1) return /\\bstring2?\\b/.test(h);
            g.start = g.pos
        }
    }
    var b = {
            pairs: \"()[]{}''\\\"\\\"\",
            triples: \"\",
            explode: \"[]{}\"
        },
        c = a.Pos;
    a.defineOption(\"autoCloseBrackets\", !1, function(b, c, d) {
        d && d != a.Init && (b.removeKeyMap(f), b.state.closeBrackets = null), c && (b.state.closeBrackets = c, b.addKeyMap(f))
    });
    for (var e = b.pairs + \"`\", f = {
            Backspace: j,
            Enter: k
        }, g = 0; g < e.length; g++) f[\"'\" + e.charAt(g) + \"'\"] = h(e.charAt(g))
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function b(a, b, c) {
        var e, d = a.getWrapperElement();
        return e = d.appendChild(document.createElement(\"div\")), c ? e.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\" : e.className = \"CodeMirror-dialog CodeMirror-dialog-top\", \"string\" == typeof b ? e.innerHTML = b : e.appendChild(b), e
    }

    function c(a, b) {
        a.state.currentNotificationClose && a.state.currentNotificationClose(), a.state.currentNotificationClose = b
    }
    a.defineExtension(\"openDialog\", function(d, e, f) {
        function j(a) {
            if (\"string\" == typeof a) k.value = a;
            else {
                if (h) return;
                h = !0, g.parentNode.removeChild(g), i.focus(), f.onClose && f.onClose(g)
            }
        }
        f || (f = {}), c(this, null);
        var l, g = b(this, d, f.bottom),
            h = !1,
            i = this,
            k = g.getElementsByTagName(\"input\")[0];
        return k ? (f.value && (k.value = f.value, f.selectValueOnOpen !== !1 && k.select()), f.onInput && a.on(k, \"input\", function(a) {
            f.onInput(a, k.value, j)
        }), f.onKeyUp && a.on(k, \"keyup\", function(a) {
            f.onKeyUp(a, k.value, j)
        }), a.on(k, \"keydown\", function(b) {
            f && f.onKeyDown && f.onKeyDown(b, k.value, j) || ((27 == b.keyCode || f.closeOnEnter !== !1 && 13 == b.keyCode) && (k.blur(), a.e_stop(b), j()), 13 == b.keyCode && e(k.value, b))
        }), f.closeOnBlur !== !1 && a.on(k, \"blur\", j), k.focus()) : (l = g.getElementsByTagName(\"button\")[0]) && (a.on(l, \"click\", function() {
            j(), i.focus()
        }), f.closeOnBlur !== !1 && a.on(l, \"blur\", j), l.focus()), j
    }), a.defineExtension(\"openConfirm\", function(d, e, f) {
        function l() {
            i || (i = !0, g.parentNode.removeChild(g), j.focus())
        }
        c(this, null);
        var g = b(this, d, f && f.bottom),
            h = g.getElementsByTagName(\"button\"),
            i = !1,
            j = this,
            k = 1;
        h[0].focus();
        for (var m = 0; m < h.length; ++m) {
            var n = h[m];
            ! function(b) {
                a.on(n, \"click\", function(c) {
                    a.e_preventDefault(c), l(), b && b(j)
                })
            }(e[m]), a.on(n, \"blur\", function() {
                --k, setTimeout(function() {
                    0 >= k && l()
                }, 200)
            }), a.on(n, \"focus\", function() {
                ++k
            })
        }
    }), a.defineExtension(\"openNotification\", function(d, e) {
        function j() {
            g || (g = !0, clearTimeout(h), f.parentNode.removeChild(f))
        }
        c(this, j);
        var h, f = b(this, d, e && e.bottom),
            g = !1,
            i = e && \"undefined\" != typeof e.duration ? e.duration : 5e3;
        return a.on(f, \"click\", function(b) {
            a.e_preventDefault(b), j()
        }), i && (h = setTimeout(j, i)), j
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    function e(a, b, e, g) {
        var h = a.getLineHandle(b.line),
            i = b.ch - 1,
            j = i >= 0 && d[h.text.charAt(i)] || d[h.text.charAt(++i)];
        if (!j) return null;
        var k = \">\" == j.charAt(1) ? 1 : -1;
        if (e && k > 0 != (i == b.ch)) return null;
        var l = a.getTokenTypeAt(c(b.line, i + 1)),
            m = f(a, c(b.line, i + (k > 0 ? 1 : 0)), k, l || null, g);
        return null == m ? null : {
            from: c(b.line, i),
            to: m && m.pos,
            match: m && m.ch == j.charAt(0),
            forward: k > 0
        }
    }

    function f(a, b, e, f, g) {
        for (var h = g && g.maxScanLineLength || 1e4, i = g && g.maxScanLines || 1e3, j = [], k = g && g.bracketRegex ? g.bracketRegex : /[(){}[\\]]/, l = e > 0 ? Math.min(b.line + i, a.lastLine() + 1) : Math.max(a.firstLine() - 1, b.line - i), m = b.line; m != l; m += e) {
            var n = a.getLine(m);
            if (n) {
                var o = e > 0 ? 0 : n.length - 1,
                    p = e > 0 ? n.length : -1;
                if (!(n.length > h))
                    for (m == b.line && (o = b.ch - (0 > e ? 1 : 0)); o != p; o += e) {
                        var q = n.charAt(o);
                        if (k.test(q) && (void 0 === f || a.getTokenTypeAt(c(m, o + 1)) == f)) {
                            var r = d[q];
                            if (\">\" == r.charAt(1) == e > 0) j.push(q);
                            else {
                                if (!j.length) return {
                                    pos: c(m, o),
                                    ch: q
                                };
                                j.pop()
                            }
                        }
                    }
            }
        }
        return m - e == (e > 0 ? a.lastLine() : a.firstLine()) ? !1 : null
    }

    function g(a, d, f) {
        for (var g = a.state.matchBrackets.maxHighlightLineLength || 1e3, h = [], i = a.listSelections(), j = 0; j < i.length; j++) {
            var k = i[j].empty() && e(a, i[j].head, !1, f);
            if (k && a.getLine(k.from.line).length <= g) {
                var l = k.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";
                h.push(a.markText(k.from, c(k.from.line, k.from.ch + 1), {
                    className: l
                })), k.to && a.getLine(k.to.line).length <= g && h.push(a.markText(k.to, c(k.to.line, k.to.ch + 1), {
                    className: l
                }))
            }
        }
        if (h.length) {
            b && a.state.focused && a.focus();
            var m = function() {
                a.operation(function() {
                    for (var a = 0; a < h.length; a++) h[a].clear()
                })
            };
            if (!d) return m;
            setTimeout(m, 800)
        }
    }

    function i(a) {
        a.operation(function() {
            h && (h(), h = null), h = g(a, !1, a.state.matchBrackets)
        })
    }
    var b = /MSIE \\d/.test(navigator.userAgent) && (null == document.documentMode || document.documentMode < 8),
        c = a.Pos,
        d = {
            \"(\": \")>\",
            \")\": \"(<\",
            \"[\": \"]>\",
            \"]\": \"[<\",
            \"{\": \"}>\",
            \"}\": \"{<\"
        },
        h = null;
    a.defineOption(\"matchBrackets\", !1, function(b, c, d) {
        d && d != a.Init && b.off(\"cursorActivity\", i), c && (b.state.matchBrackets = \"object\" == typeof c ? c : {}, b.on(\"cursorActivity\", i))
    }), a.defineExtension(\"matchBrackets\", function() {
        g(this, !0)
    }), a.defineExtension(\"findMatchingBracket\", function(a, b, c) {
        return e(this, a, b, c)
    }), a.defineExtension(\"scanForBracket\", function(a, b, c, d) {
        return f(this, a, b, c, d)
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";
    a.runMode = function(b, c, d, e) {
        var f = a.getMode(a.defaults, c),
            g = /MSIE \\d/.test(navigator.userAgent),
            h = g && (null == document.documentMode || document.documentMode < 9);
        if (1 == d.nodeType) {
            var i = e && e.tabSize || a.defaults.tabSize,
                j = d,
                k = 0;
            j.innerHTML = \"\", d = function(a, b) {
                if (\"\\n\" == a) return j.appendChild(document.createTextNode(h ? \"\\r\" : a)), void(k = 0);
                for (var c = \"\", d = 0;;) {
                    var e = a.indexOf(\" \", d);
                    if (-1 == e) {
                        c += a.slice(d), k += a.length - d;
                        break
                    }
                    k += e - d, c += a.slice(d, e);
                    var f = i - k % i;
                    k += f;
                    for (var g = 0; f > g; ++g) c += \" \";
                    d = e + 1
                }
                if (b) {
                    var l = j.appendChild(document.createElement(\"span\"));
                    l.className = \"cm-\" + b.replace(/ +/g, \" cm-\"), l.appendChild(document.createTextNode(c))
                } else j.appendChild(document.createTextNode(c))
            }
        }
        for (var l = a.splitLines(b), m = e && e.state || a.startState(f), n = 0, o = l.length; o > n; ++n) {
            n && d(\"\\n\");
            var p = new a.StringStream(l[n]);
            for (!p.string && f.blankLine && f.blankLine(m); !p.eol();) {
                var q = f.token(p, m);
                d(p.current(), q, n, p.start, m), p.start = p.pos
            }
        }
    }
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function b(a, b) {
        return \"string\" == typeof a ? a = new RegExp(a.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\\$\\|]/g, \"\\\\\$&\"), b ? \"gi\" : \"g\") : a.global || (a = new RegExp(a.source, a.ignoreCase ? \"gi\" : \"g\")), {
            token: function(b) {
                a.lastIndex = b.pos;
                var c = a.exec(b.string);
                return c && c.index == b.pos ? (b.pos += c[0].length, \"searching\") : void(c ? b.pos = c.index : b.skipToEnd())
            }
        }
    }

    function c() {
        this.posFrom = this.posTo = this.lastQuery = this.query = null, this.overlay = null
    }

    function d(a) {
        return a.state.search || (a.state.search = new c)
    }

    function e(a) {
        return \"string\" == typeof a && a == a.toLowerCase()
    }

    function f(a, b, c) {
        return a.getSearchCursor(b, c, e(b))
    }

    function g(a, b, c, d) {
        a.openDialog(b, d, {
            value: c,
            selectValueOnOpen: !0,
            closeOnEnter: !1,
            onClose: function() {
                p(a)
            }
        })
    }

    function h(a, b, c, d, e) {
        a.openDialog ? a.openDialog(b, e, {
            value: d,
            selectValueOnOpen: !0
        }) : e(prompt(c, d))
    }

    function i(a, b, c, d) {
        a.openConfirm ? a.openConfirm(b, d) : confirm(c) && d[0]()
    }

    function j(a) {
        return a.replace(/\\\\(.)/g, function(a, b) {
            return \"n\" == b ? \"\\n\" : \"r\" == b ? \"\\r\" : b
        })
    }

    function k(a) {
        var b = a.match(/^\\/(.*)\\/([a-z]*)\$/);
        if (b) try {
            a = new RegExp(b[1], -1 == b[2].indexOf(\"i\") ? \"\" : \"i\")
        } catch (c) {} else a = j(a);
        return (\"string\" == typeof a ? \"\" == a : a.test(\"\")) && (a = /x^/), a
    }

    function m(a, c, d) {
        c.queryText = d, c.query = k(d), a.removeOverlay(c.overlay, e(c.query)), c.overlay = b(c.query, e(c.query)), a.addOverlay(c.overlay), a.showMatchesOnScrollbar && (c.annotate && (c.annotate.clear(), c.annotate = null), c.annotate = a.showMatchesOnScrollbar(c.query, e(c.query)))
    }

    function n(b, c, e) {
        var f = d(b);
        if (f.query) return o(b, c);
        var i = b.getSelection() || f.lastQuery;
        if (e && b.openDialog) {
            var j = null;
            g(b, l, i, function(c, d) {
                a.e_stop(d), c && (c != f.queryText && m(b, f, c), j && (j.style.opacity = 1), o(b, d.shiftKey, function(a, c) {
                    var d;
                    c.line < 3 && document.querySelector && (d = b.display.wrapper.querySelector(\".CodeMirror-dialog\")) && d.getBoundingClientRect().bottom - 4 > b.cursorCoords(c, \"window\").top && ((j = d).style.opacity = .4)
                }))
            })
        } else h(b, l, \"Search for:\", i, function(a) {
            a && !f.query && b.operation(function() {
                m(b, f, a), f.posFrom = f.posTo = b.getCursor(), o(b, c)
            })
        })
    }

    function o(b, c, e) {
        b.operation(function() {
            var g = d(b),
                h = f(b, g.query, c ? g.posFrom : g.posTo);
            (h.find(c) || (h = f(b, g.query, c ? a.Pos(b.lastLine()) : a.Pos(b.firstLine(), 0)), h.find(c))) && (b.setSelection(h.from(), h.to()), b.scrollIntoView({
                from: h.from(),
                to: h.to()
            }, 20), g.posFrom = h.from(), g.posTo = h.to(), e && e(h.from(), h.to()))
        })
    }

    function p(a) {
        a.operation(function() {
            var b = d(a);
            b.lastQuery = b.query, b.query && (b.query = b.queryText = null, a.removeOverlay(b.overlay), b.annotate && (b.annotate.clear(), b.annotate = null))
        })
    }

    function t(a, b, c) {
        a.operation(function() {
            for (var d = f(a, b); d.findNext();)
                if (\"string\" != typeof b) {
                    var e = a.getRange(d.from(), d.to()).match(b);
                    d.replace(c.replace(/\\\$(\\d)/g, function(a, b) {
                        return e[b]
                    }))
                } else d.replace(c)
        })
    }

    function u(a, b) {
        if (!a.getOption(\"readOnly\")) {
            var c = a.getSelection() || d(a).lastQuery,
                e = b ? \"Replace all:\" : \"Replace:\";
            h(a, e + q, e, c, function(c) {
                c && (c = k(c), h(a, r, \"Replace with:\", \"\", function(d) {
                    if (d = j(d), b) t(a, c, d);
                    else {
                        p(a);
                        var e = f(a, c, a.getCursor()),
                            g = function() {
                                var j, b = e.from();
                                !(j = e.findNext()) && (e = f(a, c), !(j = e.findNext()) || b && e.from().line == b.line && e.from().ch == b.ch) || (a.setSelection(e.from(), e.to()), a.scrollIntoView({
                                    from: e.from(),
                                    to: e.to()
                                }), i(a, s, \"Replace?\", [function() {
                                    h(j)
                                }, g, function() {
                                    t(a, c, d)
                                }]))
                            },
                            h = function(a) {
                                e.replace(\"string\" == typeof c ? d : d.replace(/\\\$(\\d)/g, function(b, c) {
                                    return a[c]
                                })), g()
                            };
                        g()
                    }
                }))
            })
        }
    }
    var l = 'Search: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>',
        q = ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>',
        r = 'With: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>',
        s = \"Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>\";
    a.commands.find = function(a) {
        p(a), n(a)
    }, a.commands.findPersistent = function(a) {
        p(a), n(a, !1, !0)
    }, a.commands.findNext = n, a.commands.findPrev = function(a) {
        n(a, !0)
    }, a.commands.clearSearch = p, a.commands.replace = u, a.commands.replaceAll = function(a) {
        u(a, !0)
    }
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function c(a, c, e, f) {
        if (this.atOccurrence = !1, this.doc = a, null == f && \"string\" == typeof c && (f = !1), e = e ? a.clipPos(e) : b(0, 0), this.pos = {
                from: e,
                to: e
            }, \"string\" != typeof c) c.global || (c = new RegExp(c.source, c.ignoreCase ? \"ig\" : \"g\")), this.matches = function(d, e) {
            if (d) {
                c.lastIndex = 0;
                for (var h, i, f = a.getLine(e.line).slice(0, e.ch), g = 0;;) {
                    c.lastIndex = g;
                    var j = c.exec(f);
                    if (!j) break;
                    if (h = j, i = h.index, g = h.index + (h[0].length || 1), g == f.length) break
                }
                var k = h && h[0].length || 0;
                k || (0 == i && 0 == f.length ? h = void 0 : i != a.getLine(e.line).length && k++)
            } else {
                c.lastIndex = e.ch;
                var f = a.getLine(e.line),
                    h = c.exec(f),
                    k = h && h[0].length || 0,
                    i = h && h.index;
                i + k == f.length || k || (k = 1)
            }
            return h && k ? {
                from: b(e.line, i),
                to: b(e.line, i + k),
                match: h
            } : void 0
        };
        else {
            var g = c;
            f && (c = c.toLowerCase());
            var h = f ? function(a) {
                    return a.toLowerCase()
                } : function(a) {
                    return a
                },
                i = c.split(\"\\n\");
            if (1 == i.length) c.length ? this.matches = function(e, f) {
                if (e) {
                    var i = a.getLine(f.line).slice(0, f.ch),
                        j = h(i),
                        k = j.lastIndexOf(c);
                    if (k > -1) return k = d(i, j, k), {
                        from: b(f.line, k),
                        to: b(f.line, k + g.length)
                    }
                } else {
                    var i = a.getLine(f.line).slice(f.ch),
                        j = h(i),
                        k = j.indexOf(c);
                    if (k > -1) return k = d(i, j, k) + f.ch, {
                        from: b(f.line, k),
                        to: b(f.line, k + g.length)
                    }
                }
            } : this.matches = function() {};
            else {
                var j = g.split(\"\\n\");
                this.matches = function(c, d) {
                    var e = i.length - 1;
                    if (c) {
                        if (d.line - (i.length - 1) < a.firstLine()) return;
                        if (h(a.getLine(d.line).slice(0, j[e].length)) != i[i.length - 1]) return;
                        for (var f = b(d.line, j[e].length), g = d.line - 1, k = e - 1; k >= 1; --k, --g)
                            if (i[k] != h(a.getLine(g))) return;
                        var l = a.getLine(g),
                            m = l.length - j[0].length;
                        if (h(l.slice(m)) != i[0]) return;
                        return {
                            from: b(g, m),
                            to: f
                        }
                    }
                    if (!(d.line + (i.length - 1) > a.lastLine())) {
                        var l = a.getLine(d.line),
                            m = l.length - j[0].length;
                        if (h(l.slice(m)) == i[0]) {
                            for (var n = b(d.line, m), g = d.line + 1, k = 1; e > k; ++k, ++g)
                                if (i[k] != h(a.getLine(g))) return;
                            if (h(a.getLine(g).slice(0, j[e].length)) == i[e]) return {
                                from: n,
                                to: b(g, j[e].length)
                            }
                        }
                    }
                }
            }
        }
    }

    function d(a, b, c) {
        if (a.length == b.length) return c;
        for (var d = Math.min(c, a.length);;) {
            var e = a.slice(0, d).toLowerCase().length;
            if (c > e) ++d;
            else {
                if (!(e > c)) return d;
                --d
            }
        }
    }
    var b = a.Pos;
    c.prototype = {
        findNext: function() {
            return this.find(!1)
        },
        findPrevious: function() {
            return this.find(!0)
        },
        find: function(a) {
            function e(a) {
                var d = b(a, 0);
                return c.pos = {
                    from: d,
                    to: d
                }, c.atOccurrence = !1, !1
            }
            for (var c = this, d = this.doc.clipPos(a ? this.pos.from : this.pos.to);;) {
                if (this.pos = this.matches(a, d)) return this.atOccurrence = !0, this.pos.match || !0;
                if (a) {
                    if (!d.line) return e(0);
                    d = b(d.line - 1, this.doc.getLine(d.line - 1).length)
                } else {
                    var f = this.doc.lineCount();
                    if (d.line == f - 1) return e(f);
                    d = b(d.line + 1, 0)
                }
            }
        },
        from: function() {
            return this.atOccurrence ? this.pos.from : void 0
        },
        to: function() {
            return this.atOccurrence ? this.pos.to : void 0
        },
        replace: function(c, d) {
            if (this.atOccurrence) {
                var e = a.splitLines(c);
                this.doc.replaceRange(e, this.pos.from, this.pos.to, d), this.pos.to = b(this.pos.from.line + e.length - 1, e[e.length - 1].length + (1 == e.length ? this.pos.from.ch : 0))
            }
        }
    }, a.defineExtension(\"getSearchCursor\", function(a, b, d) {
        return new c(this.doc, a, b, d)
    }), a.defineDocExtension(\"getSearchCursor\", function(a, b, d) {
        return new c(this, a, b, d)
    }), a.defineExtension(\"selectMatches\", function(b, c) {
        for (var d = [], e = this.getSearchCursor(b, this.getCursor(\"from\"), c); e.findNext() && !(a.cmpPos(e.to(), this.getCursor(\"to\")) > 0);) d.push({
            anchor: e.from(),
            head: e.to()
        });
        d.length && this.setSelections(d, 0)
    })
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function d(a, b) {
        this.cm = a, this.options = b, this.widget = null, this.debounce = 0, this.tick = 0, this.startPos = this.cm.getCursor(\"start\"), this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;
        var c = this;
        a.on(\"cursorActivity\", this.activityFunc = function() {
            c.cursorActivity()
        })
    }

    function g(a, b, c) {
        var d = a.options.hintOptions,
            e = {};
        for (var f in n) e[f] = n[f];
        if (d)
            for (var f in d) void 0 !== d[f] && (e[f] = d[f]);
        if (c)
            for (var f in c) void 0 !== c[f] && (e[f] = c[f]);
        return e.hint.resolve && (e.hint = e.hint.resolve(a, b)), e
    }

    function h(a) {
        return \"string\" == typeof a ? a : a.text
    }

    function i(a, b) {
        function f(a, d) {
            var f;
            f = \"string\" != typeof d ? function(a) {
                return d(a, b)
            } : c.hasOwnProperty(d) ? c[d] : d, e[a] = f
        }
        var c = {
                Up: function() {
                    b.moveFocus(-1)
                },
                Down: function() {
                    b.moveFocus(1)
                },
                PageUp: function() {
                    b.moveFocus(-b.menuSize() + 1, !0)
                },
                PageDown: function() {
                    b.moveFocus(b.menuSize() - 1, !0)
                },
                Home: function() {
                    b.setFocus(0)
                },
                End: function() {
                    b.setFocus(b.length - 1)
                },
                Enter: b.pick,
                Tab: b.pick,
                Esc: b.close
            },
            d = a.options.customKeys,
            e = d ? {} : c;
        if (d)
            for (var g in d) d.hasOwnProperty(g) && f(g, d[g]);
        var h = a.options.extraKeys;
        if (h)
            for (var g in h) h.hasOwnProperty(g) && f(g, h[g]);
        return e
    }

    function j(a, b) {
        for (; b && b != a;) {
            if (\"LI\" === b.nodeName.toUpperCase() && b.parentNode == a) return b;
            b = b.parentNode
        }
    }

    function k(d, e) {
        this.completion = d, this.data = e, this.picked = !1;
        var f = this,
            g = d.cm,
            k = this.hints = document.createElement(\"ul\");
        k.className = \"CodeMirror-hints\", this.selectedHint = e.selectedHint || 0;
        for (var l = e.list, m = 0; m < l.length; ++m) {
            var n = k.appendChild(document.createElement(\"li\")),
                o = l[m],
                p = b + (m != this.selectedHint ? \"\" : \" \" + c);
            null != o.className && (p = o.className + \" \" + p), n.className = p, o.render ? o.render(n, e, o) : n.appendChild(document.createTextNode(o.displayText || h(o))), n.hintId = m
        }
        var q = g.cursorCoords(d.options.alignWithWord ? e.from : null),
            r = q.left,
            s = q.bottom,
            t = !0;
        k.style.left = r + \"px\", k.style.top = s + \"px\";
        var u = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth),
            v = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);
        (d.options.container || document.body).appendChild(k);
        var w = k.getBoundingClientRect(),
            x = w.bottom - v;
        if (x > 0) {
            var y = w.bottom - w.top,
                z = q.top - (q.bottom - w.top);
            if (z - y > 0) k.style.top = (s = q.top - y) + \"px\", t = !1;
            else if (y > v) {
                k.style.height = v - 5 + \"px\", k.style.top = (s = q.bottom - w.top) + \"px\";
                var A = g.getCursor();
                e.from.ch != A.ch && (q = g.cursorCoords(A), k.style.left = (r = q.left) + \"px\", w = k.getBoundingClientRect())
            }
        }
        var B = w.right - u;
        if (B > 0 && (w.right - w.left > u && (k.style.width = u - 5 + \"px\", B -= w.right - w.left - u), k.style.left = (r = q.left - B) + \"px\"), g.addKeyMap(this.keyMap = i(d, {
                moveFocus: function(a, b) {
                    f.changeActive(f.selectedHint + a, b)
                },
                setFocus: function(a) {
                    f.changeActive(a)
                },
                menuSize: function() {
                    return f.screenAmount()
                },
                length: l.length,
                close: function() {
                    d.close()
                },
                pick: function() {
                    f.pick()
                },
                data: e
            })), d.options.closeOnUnfocus) {
            var C;
            g.on(\"blur\", this.onBlur = function() {
                C = setTimeout(function() {
                    d.close()
                }, 100)
            }), g.on(\"focus\", this.onFocus = function() {
                clearTimeout(C)
            })
        }
        var D = g.getScrollInfo();
        return g.on(\"scroll\", this.onScroll = function() {
            var a = g.getScrollInfo(),
                b = g.getWrapperElement().getBoundingClientRect(),
                c = s + D.top - a.top,
                e = c - (window.pageYOffset || (document.documentElement || document.body).scrollTop);
            return t || (e += k.offsetHeight), e <= b.top || e >= b.bottom ? d.close() : (k.style.top = c + \"px\", void(k.style.left = r + D.left - a.left + \"px\"))
        }), a.on(k, \"dblclick\", function(a) {
            var b = j(k, a.target || a.srcElement);
            b && null != b.hintId && (f.changeActive(b.hintId), f.pick())
        }), a.on(k, \"click\", function(a) {
            var b = j(k, a.target || a.srcElement);
            b && null != b.hintId && (f.changeActive(b.hintId), d.options.completeOnSingleClick && f.pick())
        }), a.on(k, \"mousedown\", function() {
            setTimeout(function() {
                g.focus()
            }, 20)
        }), a.signal(e, \"select\", l[0], k.firstChild), !0
    }

    function l(a, b) {
        if (!a.somethingSelected()) return b;
        for (var c = [], d = 0; d < b.length; d++) b[d].supportsSelection && c.push(b[d]);
        return c
    }

    function m(b, c) {
        var e, d = b.getHelpers(c, \"hint\");
        if (d.length) {
            for (var g, f = !1, h = 0; h < d.length; h++) d[h].async && (f = !0);
            return f ? (g = function(a, b, c) {
                function f(d, g) {
                    if (d == e.length) return b(null);
                    var h = e[d];
                    if (h.async) h(a, function(a) {
                        a ? b(a) : f(d + 1)
                    }, c);
                    else {
                        var g = h(a, c);
                        g ? b(g) : f(d + 1)
                    }
                }
                var e = l(a, d);
                f(0)
            }, g.async = !0) : g = function(a, b) {
                for (var c = l(a, d), e = 0; e < c.length; e++) {
                    var f = c[e](a, b);
                    if (f && f.list.length) return f
                }
            }, g.supportsSelection = !0, g
        }
        return (e = b.getHelper(b.getCursor(), \"hintWords\")) ? function(b) {
            return a.hint.fromList(b, {
                words: e
            })
        } : a.hint.anyword ? function(b, c) {
            return a.hint.anyword(b, c)
        } : function() {}
    }
    var b = \"CodeMirror-hint\",
        c = \"CodeMirror-hint-active\";
    a.showHint = function(a, b, c) {
        if (!b) return a.showHint(c);
        c && c.async && (b.async = !0);
        var d = {
            hint: b
        };
        if (c)
            for (var e in c) d[e] = c[e];
        return a.showHint(d)
    }, a.defineExtension(\"showHint\", function(b) {
        b = g(this, this.getCursor(\"start\"), b);
        var c = this.listSelections();
        if (!(c.length > 1)) {
            if (this.somethingSelected()) {
                if (!b.hint.supportsSelection) return;
                for (var e = 0; e < c.length; e++)
                    if (c[e].head.line != c[e].anchor.line) return
            }
            this.state.completionActive && this.state.completionActive.close();
            var f = this.state.completionActive = new d(this, b);
            f.options.hint && (a.signal(this, \"startCompletion\", this), f.update(!0))
        }
    });
    var e = window.requestAnimationFrame || function(a) {
            return setTimeout(a, 1e3 / 60)
        },
        f = window.cancelAnimationFrame || clearTimeout;
    d.prototype = {
        close: function() {
            this.active() && (this.cm.state.completionActive = null, this.tick = null, this.cm.off(\"cursorActivity\", this.activityFunc), this.widget && this.data && a.signal(this.data, \"close\"), this.widget && this.widget.close(), a.signal(this.cm, \"endCompletion\", this.cm))
        },
        active: function() {
            return this.cm.state.completionActive == this
        },
        pick: function(b, c) {
            var d = b.list[c];
            d.hint ? d.hint(this.cm, b, d) : this.cm.replaceRange(h(d), d.from || b.from, d.to || b.to, \"complete\"), a.signal(b, \"pick\", d), this.close()
        },
        cursorActivity: function() {
            this.debounce && (f(this.debounce), this.debounce = 0);
            var a = this.cm.getCursor(),
                b = this.cm.getLine(a.line);
            if (a.line != this.startPos.line || b.length - a.ch != this.startLen - this.startPos.ch || a.ch < this.startPos.ch || this.cm.somethingSelected() || a.ch && this.options.closeCharacters.test(b.charAt(a.ch - 1))) this.close();
            else {
                var c = this;
                this.debounce = e(function() {
                    c.update()
                }), this.widget && this.widget.disable()
            }
        },
        update: function(a) {
            if (null != this.tick)
                if (this.options.hint.async) {
                    var b = ++this.tick,
                        c = this;
                    this.options.hint(this.cm, function(d) {
                        c.tick == b && c.finishUpdate(d, a)
                    }, this.options)
                } else this.finishUpdate(this.options.hint(this.cm, this.options), a)
        },
        finishUpdate: function(b, c) {
            this.data && a.signal(this.data, \"update\"), b && this.data && a.cmpPos(b.from, this.data.from) && (b = null), this.data = b;
            var d = this.widget && this.widget.picked || c && this.options.completeSingle;
            this.widget && this.widget.close(), b && b.list.length && (d && 1 == b.list.length ? this.pick(b, 0) : (this.widget = new k(this, b), a.signal(b, \"shown\")))
        }
    }, k.prototype = {
        close: function() {
            if (this.completion.widget == this) {
                this.completion.widget = null, this.hints.parentNode.removeChild(this.hints), this.completion.cm.removeKeyMap(this.keyMap);
                var a = this.completion.cm;
                this.completion.options.closeOnUnfocus && (a.off(\"blur\", this.onBlur), a.off(\"focus\", this.onFocus)), a.off(\"scroll\", this.onScroll)
            }
        },
        disable: function() {
            this.completion.cm.removeKeyMap(this.keyMap);
            var a = this;
            this.keyMap = {
                Enter: function() {
                    a.picked = !0
                }
            }, this.completion.cm.addKeyMap(this.keyMap)
        },
        pick: function() {
            this.completion.pick(this.data, this.selectedHint)
        },
        changeActive: function(b, d) {
            if (b >= this.data.list.length ? b = d ? this.data.list.length - 1 : 0 : 0 > b && (b = d ? 0 : this.data.list.length - 1), this.selectedHint != b) {
                var e = this.hints.childNodes[this.selectedHint];
                e.className = e.className.replace(\" \" + c, \"\"), e = this.hints.childNodes[this.selectedHint = b], e.className += \" \" + c, e.offsetTop < this.hints.scrollTop ? this.hints.scrollTop = e.offsetTop - 3 : e.offsetTop + e.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = e.offsetTop + e.offsetHeight - this.hints.clientHeight + 3), a.signal(this.data, \"select\", this.data.list[this.selectedHint], e)
            }
        },
        screenAmount: function() {
            return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1
        }
    }, a.registerHelper(\"hint\", \"auto\", {
        resolve: m
    }), a.registerHelper(\"hint\", \"fromList\", function(b, c) {
        var d = b.getCursor(),
            e = b.getTokenAt(d),
            f = a.Pos(d.line, e.end);
        if (e.string && /\\w/.test(e.string[e.string.length - 1])) var g = e.string,
            h = a.Pos(d.line, e.start);
        else var g = \"\",
            h = f;
        for (var i = [], j = 0; j < c.words.length; j++) {
            var k = c.words[j];
            k.slice(0, g.length) == g && i.push(k)
        }
        return i.length ? {
            list: i,
            from: h,
            to: f
        } : void 0
    }), a.commands.autocomplete = a.showHint;
    var n = {
        hint: a.hint.auto,
        completeSingle: !0,
        alignWithWord: !0,
        closeCharacters: /[\\s()\\[\\]{};:>,]/,
        closeOnUnfocus: !0,
        completeOnSingleClick: !1,
        container: null,
        customKeys: null,
        extraKeys: null
    };
    a.defineOption(\"hintOptions\", null)
}),
function(a) {
    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../../lib/codemirror\"], a) : a(CodeMirror)
}(function(a) {
    \"use strict\";

    function e(a, b, c) {
        var d = a.docs[b];
        d ? c(J(a, d)) : a.options.getFile ? a.options.getFile(b, c) : c(null)
    }

    function f(a, b, c) {
        for (var d in a.docs) {
            var e = a.docs[d];
            if (e.doc == b) return e
        }
        if (!c)
            for (var f = 0;; ++f)
                if (d = \"[doc\" + (f || \"\") + \"]\", !a.docs[d]) {
                    c = d;
                    break
                }
        return a.addDoc(c, b)
    }

    function g(b, c) {
        return \"string\" == typeof c ? b.docs[c] : (c instanceof a && (c = c.getDoc()), c instanceof a.Doc ? f(b, c) : void 0)
    }

    function h(a, b, c) {
        var e = f(a, b),
            g = a.cachedArgHints;
        g && g.doc == b && A(g.start, c.to) <= 0 && (a.cachedArgHints = null);
        var h = e.changed;
        null == h && (e.changed = h = {
            from: c.from.line,
            to: c.from.line
        });
        var j = c.from.line + (c.text.length - 1);
        c.from.line < h.to && (h.to = h.to - (c.to.line - j)), j >= h.to && (h.to = j + 1), h.from > c.from.line && (h.from = c.from.line), b.lineCount() > d && c.to - h.from > 100 && setTimeout(function() {
            e.changed && e.changed.to - e.changed.from > 100 && i(a, e)
        }, 200)
    }

    function i(a, b) {
        a.server.request({
            files: [{
                type: \"full\",
                name: b.name,
                text: J(a, b)
            }]
        }, function(a) {
            a ? window.console.error(a) : b.changed = null
        })
    }

    function j(d, e, f) {
        d.request(e, {
            type: \"completions\",
            types: !0,
            docs: !0,
            urls: !0
        }, function(g, h) {
            if (g) return H(d, e, g);
            var i = [],
                j = \"\",
                l = h.start,
                m = h.end;
            '[\"' == e.getRange(b(l.line, l.ch - 2), l) && '\"]' != e.getRange(m, b(m.line, m.ch + 2)) && (j = '\"]');
            for (var n = 0; n < h.completions.length; ++n) {
                var o = h.completions[n],
                    p = k(o.type);
                h.guess && (p += \" \" + c + \"guess\"), i.push({
                    text: o.name + j,
                    displayText: o.displayName || o.name,
                    className: p,
                    data: o
                })
            }
            var q = {
                    from: l,
                    to: m,
                    list: i
                },
                r = null;
            a.on(q, \"close\", function() {
                F(r)
            }), a.on(q, \"update\", function() {
                F(r)
            }), a.on(q, \"select\", function(a, b) {
                F(r);
                var e = d.options.completionTip ? d.options.completionTip(a.data) : a.data.doc;
                e && (r = E(b.parentNode.getBoundingClientRect().right + window.pageXOffset, b.getBoundingClientRect().top + window.pageYOffset, e), r.className += \" \" + c + \"hint-doc\")
            }), f(q)
        })
    }

    function k(a) {
        var b;
        return b = \"?\" == a ? \"unknown\" : \"number\" == a || \"string\" == a || \"bool\" == a ? a : /^fn\\(/.test(a) ? \"fn\" : /^\\[/.test(a) ? \"array\" : \"object\", c + \"completion \" + c + \"completion-\" + b
    }

    function l(a, b, c, d, e) {
        a.request(b, d, function(c, d) {
            if (c) return H(a, b, c);
            if (a.options.typeTip) var f = a.options.typeTip(d);
            else {
                var f = B(\"span\", null, B(\"strong\", null, d.type || \"not found\"));
                if (d.doc && f.appendChild(document.createTextNode(\" \\u2014 \" + d.doc)), d.url) {
                    f.appendChild(document.createTextNode(\" \"));
                    var g = f.appendChild(B(\"a\", null, \"[docs]\"));
                    g.href = d.url, g.target = \"_blank\"
                }
            }
            D(b, f, a), e && e()
        }, c)
    }

    function m(c, d) {
        if (I(c), !d.somethingSelected()) {
            var e = d.getTokenAt(d.getCursor()).state,
                f = a.innerMode(d.getMode(), e);
            if (\"javascript\" == f.mode.name) {
                var g = f.state.lexical;
                if (\"call\" == g.info) {
                    for (var h, i = g.pos || 0, j = d.getOption(\"tabSize\"), k = d.getCursor().line, l = Math.max(0, k - 9), m = !1; k >= l; --k) {
                        for (var p = d.getLine(k), q = 0, r = 0;;) {
                            var s = p.indexOf(\"  \", r);
                            if (-1 == s) break;
                            q += j - (s + q) % j - 1, r = s + 1
                        }
                        if (h = g.column - q, \"(\" == p.charAt(h)) {
                            m = !0;
                            break
                        }
                    }
                    if (m) {
                        var t = b(k, h),
                            u = c.cachedArgHints;
                        return u && u.doc == d.getDoc() && 0 == A(t, u.start) ? n(c, d, i) : void c.request(d, {
                            type: \"type\",
                            preferFunction: !0,
                            end: t
                        }, function(a, b) {
                            !a && b.type && /^fn\\(/.test(b.type) && (c.cachedArgHints = {
                                start: r,
                                type: o(b.type),
                                name: b.exprName || b.name || \"fn\",
                                guess: b.guess,
                                doc: d.getDoc()
                            }, n(c, d, i))
                        })
                    }
                }
            }
        }
    }

    function n(a, b, d) {
        I(a);
        for (var e = a.cachedArgHints, f = e.type, g = B(\"span\", e.guess ? c + \"fhint-guess\" : null, B(\"span\", c + \"fname\", e.name), \"(\"), h = 0; h < f.args.length; ++h) {
            h && g.appendChild(document.createTextNode(\", \"));
            var i = f.args[h];
            g.appendChild(B(\"span\", c + \"farg\" + (h == d ? \" \" + c + \"farg-current\" : \"\"), i.name || \"?\")), \"?\" != i.type && (g.appendChild(document.createTextNode(\":\\xa0\")), g.appendChild(B(\"span\", c + \"type\", i.type)))
        }
        g.appendChild(document.createTextNode(f.rettype ? \") ->\\xa0\" : \")\")), f.rettype && g.appendChild(B(\"span\", c + \"type\", f.rettype));
        var j = b.cursorCoords(null, \"page\");
        a.activeArgHints = E(j.right + 1, j.bottom, g)
    }

    function o(a) {
        function d(b) {
            for (var d = 0, e = c;;) {
                var f = a.charAt(c);
                if (b.test(f) && !d) return a.slice(e, c);
                /[{\\[\\(]/.test(f) ? ++d : /[}\\]\\)]/.test(f) && --d, ++c
            }
        }
        var b = [],
            c = 3;
        if (\")\" != a.charAt(c))
            for (;;) {
                var e = a.slice(c).match(/^([^, \\(\\[\\{]+): /);
                if (e && (c += e[0].length, e = e[1]), b.push({
                        name: e,
                        type: d(/[\\),]/)
                    }), \")\" == a.charAt(c)) break;
                c += 2
            }
        var f = a.slice(c).match(/^\\) -> (.*)\$/);
        return {
            args: b,
            rettype: f && f[1]
        }
    }

    function p(a, b) {
        function c(c) {
            var d = {
                    type: \"definition\",
                    variable: c || null
                },
                e = f(a, b.getDoc());
            a.server.request(y(a, e, d), function(c, d) {
                if (c) return H(a, b, c);
                if (!d.file && d.url) return void window.open(d.url);
                if (d.file) {
                    var g, f = a.docs[d.file];
                    if (f && (g = s(f.doc, d))) return a.jumpStack.push({
                        file: e.name,
                        start: b.getCursor(\"from\"),
                        end: b.getCursor(\"to\")
                    }), void r(a, e, f, g.start, g.end)
                }
                H(a, b, \"Could not find a definition.\")
            })
        }
        t(b) ? c() : C(b, \"Jump to variable\", function(a) {
            a && c(a)
        })
    }

    function q(a, b) {
        var c = a.jumpStack.pop(),
            d = c && a.docs[c.file];
        d && r(a, f(a, b.getDoc()), d, c.start, c.end)
    }

    function r(a, b, c, d, e) {
        c.doc.setSelection(d, e), b != c && a.options.switchToDoc && (I(a), a.options.switchToDoc(c.name, c.doc))
    }

    function s(a, c) {
        for (var d = c.context.slice(0, c.contextOffset).split(\"\\n\"), e = c.start.line - (d.length - 1), f = b(e, (1 == d.length ? c.start.ch : a.getLine(e).length) - d[0].length), g = a.getLine(e).slice(f.ch), h = e + 1; h < a.lineCount() && g.length < c.context.length; ++h) g += \"\\n\" + a.getLine(h);
        if (g.slice(0, c.context.length) == c.context) return c;
        for (var j, i = a.getSearchCursor(c.context, 0, !1), k = 1 / 0; i.findNext();) {
            var l = i.from(),
                m = 1e4 * Math.abs(l.line - f.line);
            m || (m = Math.abs(l.ch - f.ch)), k > m && (j = l, k = m)
        }
        if (!j) return null;
        if (1 == d.length ? j.ch += d[0].length : j = b(j.line + (d.length - 1), d[d.length - 1].length), c.start.line == c.end.line) var n = b(j.line, j.ch + (c.end.ch - c.start.ch));
        else var n = b(j.line + (c.end.line - c.start.line), c.end.ch);
        return {
            start: j,
            end: n
        }
    }

    function t(a) {
        var b = a.getCursor(\"end\"),
            c = a.getTokenAt(b);
        return c.start < b.ch && \"comment\" == c.type ? !1 : /[\\w)\\]]/.test(a.getLine(b.line).slice(Math.max(b.ch - 1, 0), b.ch + 1))
    }

    function u(a, b) {
        var c = b.getTokenAt(b.getCursor());
        return /\\w/.test(c.string) ? void C(b, \"New name for \" + c.string, function(c) {
            a.request(b, {
                type: \"rename\",
                newName: c,
                fullDocs: !0
            }, function(c, d) {
                return c ? H(a, b, c) : void x(a, d.changes)
            })
        }) : H(a, b, \"Not at a variable\")
    }

    function v(a, b) {
        var c = f(a, b.doc).name;
        a.request(b, {
            type: \"refs\"
        }, function(d, e) {
            if (d) return H(a, b, d);
            for (var f = [], g = 0, h = b.getCursor(), i = 0; i < e.refs.length; i++) {
                var j = e.refs[i];
                j.file == c && (f.push({
                    anchor: j.start,
                    head: j.end
                }), A(h, j.start) >= 0 && A(h, j.end) <= 0 && (g = f.length - 1))
            }
            b.setSelections(f, g)
        })
    }

    function x(a, b) {
        for (var c = Object.create(null), d = 0; d < b.length; ++d) {
            var e = b[d];
            (c[e.file] || (c[e.file] = [])).push(e)
        }
        for (var f in c) {
            var g = a.docs[f],
                h = c[f];
            if (g) {
                h.sort(function(a, b) {
                    return A(b.start, a.start)
                });
                for (var i = \"*rename\" + ++w, d = 0; d < h.length; ++d) {
                    var e = h[d];
                    g.doc.replaceRange(e.text, e.start, e.end, i)
                }
            }
        }
    }

    function y(a, c, e, f) {
        var g = [],
            h = 0,
            i = !e.fullDocs;
        i || delete e.fullDocs, \"string\" == typeof e && (e = {
            type: e
        }), e.lineCharPositions = !0, null == e.end && (e.end = f || c.doc.getCursor(\"end\"), c.doc.somethingSelected() && (e.start = c.doc.getCursor(\"start\")));
        var j = e.start || e.end;
        if (c.changed)
            if (c.doc.lineCount() > d && i !== !1 && c.changed.to - c.changed.from < 100 && c.changed.from <= j.line && c.changed.to > e.end.line) {
                g.push(z(c, j, e.end)), e.file = \"#0\";
                var h = g[0].offsetLines;
                null != e.start && (e.start = b(e.start.line - -h, e.start.ch)), e.end = b(e.end.line - h, e.end.ch)
            } else g.push({
                type: \"full\",
                name: c.name,
                text: J(a, c)
            }), e.file = c.name, c.changed = null;
        else e.file = c.name;
        for (var k in a.docs) {
            var l = a.docs[k];
            l.changed && l != c && (g.push({
                type: \"full\",
                name: l.name,
                text: J(a, l)
            }), l.changed = null)
        }
        return {
            query: e,
            files: g
        }
    }

    function z(c, d, e) {
        for (var i, f = c.doc, g = null, h = null, j = 4, k = d.line - 1, l = Math.max(0, k - 50); k >= l; --k) {
            var m = f.getLine(k),
                n = m.search(/\\bfunction\\b/);
            if (!(0 > n)) {
                var o = a.countColumn(m, null, j);
                null != g && o >= g || (g = o, h = k)
            }
        }
        null == h && (h = l);
        var p = Math.min(f.lastLine(), e.line + 20);
        if (null == g || g == a.countColumn(f.getLine(d.line), null, j)) i = p;
        else
            for (i = e.line + 1; p > i; ++i) {
                var o = a.countColumn(f.getLine(i), null, j);
                if (g >= o) break
            }
        var q = b(h, 0);
        return {
            type: \"part\",
            name: c.name,
            offsetLines: q.line,
            text: f.getRange(q, b(i, 0))
        }
    }

    function B(a, b) {
        var c = document.createElement(a);
        b && (c.className = b);
        for (var d = 2; d < arguments.length; ++d) {
            var e = arguments[d];
            \"string\" == typeof e && (e = document.createTextNode(e)), c.appendChild(e)
        }
        return c
    }

    function C(a, b, c) {
        a.openDialog ? a.openDialog(b + \": <input type=text>\", c) : c(prompt(b, \"\"))
    }

    function D(b, c, d) {
        function g() {
            j = !0, i || h()
        }

        function h() {
            b.state.ternTooltip = null, f.parentNode && (b.off(\"cursorActivity\", h), b.off(\"blur\", h), b.off(\"scroll\", h), G(f))
        }
        b.state.ternTooltip && F(b.state.ternTooltip);
        var e = b.cursorCoords(),
            f = b.state.ternTooltip = E(e.right + 1, e.bottom, c),
            i = !1,
            j = !1;
        a.on(f, \"mousemove\", function() {
            i = !0
        }), a.on(f, \"mouseout\", function(b) {
            a.contains(f, b.relatedTarget || b.toElement) || (j ? h() : i = !1)
        }), setTimeout(g, d.options.hintDelay ? d.options.hintDelay : 1700), b.on(\"cursorActivity\", h), b.on(\"blur\", h), b.on(\"scroll\", h)
    }

    function E(a, b, d) {
        var e = B(\"div\", c + \"tooltip\", d);
        return e.style.left = a + \"px\", e.style.top = b + \"px\", document.body.appendChild(e), e
    }

    function F(a) {
        var b = a && a.parentNode;
        b && b.removeChild(a)
    }

    function G(a) {
        a.style.opacity = \"0\", setTimeout(function() {
            F(a)
        }, 1100)
    }

    function H(a, b, c) {
        a.options.showError ? a.options.showError(b, c) : D(b, String(c), a)
    }

    function I(a) {
        a.activeArgHints && (F(a.activeArgHints), a.activeArgHints = null)
    }

    function J(a, b) {
        var c = b.doc.getValue();
        return a.options.fileFilter && (c = a.options.fileFilter(c, b.name, b.doc)), c
    }

    function K(a) {
        function f(a, e) {
            e && (a.id = ++c, d[c] = e), b.postMessage(a)
        }
        var b = a.worker = new Worker(a.options.workerScript);
        b.postMessage({
            type: \"init\",
            defs: a.options.defs,
            plugins: a.options.plugins,
            scripts: a.options.workerDeps
        });
        var c = 0,
            d = {};
        b.onmessage = function(b) {
            var c = b.data;
            \"getFile\" == c.type ? e(a, c.name, function(a, b) {
                f({
                    type: \"getFile\",
                    err: String(a),
                    text: b,
                    id: c.id
                })
            }) : \"debug\" == c.type ? window.console.log(c.message) : c.id && d[c.id] && (d[c.id](c.err, c.body), delete d[c.id])
        }, b.onerror = function(a) {
            for (var b in d) d[b](a);
            d = {}
        }, this.addFile = function(a, b) {
            f({
                type: \"add\",
                name: a,
                text: b
            })
        }, this.delFile = function(a) {
            f({
                type: \"del\",
                name: a
            })
        }, this.request = function(a, b) {
            f({
                type: \"req\",
                body: a
            }, b)
        }
    }
    a.TernServer = function(a) {
        var b = this;
        this.options = a || {};
        var c = this.options.plugins || (this.options.plugins = {});
        c.doc_comment || (c.doc_comment = !0), this.docs = Object.create(null), this.options.useWorker ? this.server = new K(this) : this.server = new tern.Server({
            getFile: function(a, c) {
                return e(b, a, c)
            },
            async: !0,
            defs: this.options.defs || [],
            plugins: c
        }), this.trackChange = function(a, c) {
            h(b, a, c)
        }, this.cachedArgHints = null, this.activeArgHints = null, this.jumpStack = [], this.getHint = function(a, c) {
            return j(b, a, c)
        }, this.getHint.async = !0
    }, a.TernServer.prototype = {
        addDoc: function(b, c) {
            var d = {
                doc: c,
                name: b,
                changed: null
            };
            return this.server.addFile(b, J(this, d)), a.on(c, \"change\", this.trackChange), this.docs[b] = d
        },
        delDoc: function(b) {
            var c = g(this, b);
            c && (a.off(c.doc, \"change\", this.trackChange), delete this.docs[c.name], this.server.delFile(c.name))
        },
        hideDoc: function(a) {
            I(this);
            var b = g(this, a);
            b && b.changed && i(this, b)
        },
        complete: function(a) {
            a.showHint({
                hint: this.getHint
            })
        },
        showType: function(a, b, c) {
            l(this, a, b, \"type\", c)
        },
        showDocs: function(a, b, c) {
            l(this, a, b, \"documentation\", c)
        },
        updateArgHints: function(a) {
            m(this, a)
        },
        jumpToDef: function(a) {
            p(this, a)
        },
        jumpBack: function(a) {
            q(this, a)
        },
        rename: function(a) {
            u(this, a)
        },
        selectName: function(a) {
            v(this, a)
        },
        request: function(a, b, c, d) {
            var e = this,
                g = f(this, a.getDoc()),
                h = y(this, g, b, d),
                i = h.query && this.options.queryOptions && this.options.queryOptions[h.query.type];
            if (i)
                for (var j in i) h.query[j] = i[j];
            this.server.request(h, function(a, d) {
                !a && e.options.responseFilter && (d = e.options.responseFilter(g, b, h, a, d)), c(a, d)
            })
        },
        destroy: function() {
            this.worker && (this.worker.terminate(), this.worker = null)
        }
    };
    var b = a.Pos,
        c = \"CodeMirror-Tern-\",
        d = 250,
        w = 0,
        A = a.cmpPos
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, b.acorn = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./identifier\"),
                g = a(\"./util\"),
                h = e.Parser.prototype;
            h.checkPropClash = function(a, b) {
                if (!(this.options.ecmaVersion >= 6 && (a.computed || a.method || a.shorthand))) {
                    var c = a.key,
                        d = void 0;
                    switch (c.type) {
                        case \"Identifier\":
                            d = c.name;
                            break;
                        case \"Literal\":
                            d = String(c.value);
                            break;
                        default:
                            return
                    }
                    var e = a.kind;
                    if (this.options.ecmaVersion >= 6) return void(\"__proto__\" === d && \"init\" === e && (b.proto && this.raise(c.start, \"Redefinition of __proto__ property\"), b.proto = !0));
                    var f = void 0;
                    if (g.has(b, d)) {
                        f = b[d];
                        var h = \"init\" !== e;
                        ((this.strict || h) && f[e] || !(h ^ f.init)) && this.raise(c.start, \"Redefinition of property\")
                    } else f = b[d] = {
                        init: !1,
                        get: !1,
                        set: !1
                    };
                    f[e] = !0
                }
            }, h.parseExpression = function(a, b) {
                var c = this.start,
                    e = this.startLoc,
                    f = this.parseMaybeAssign(a, b);
                if (this.type === d.types.comma) {
                    var g = this.startNodeAt(c, e);
                    for (g.expressions = [f]; this.eat(d.types.comma);) g.expressions.push(this.parseMaybeAssign(a, b));
                    return this.finishNode(g, \"SequenceExpression\")
                }
                return f
            }, h.parseMaybeAssign = function(a, b, c) {
                if (this.type == d.types._yield && this.inGenerator) return this.parseYield();
                var e = void 0;
                b ? e = !1 : (b = {
                    start: 0
                }, e = !0);
                var f = this.start,
                    g = this.startLoc;
                (this.type == d.types.parenL || this.type == d.types.name) && (this.potentialArrowAt = this.start);
                var h = this.parseMaybeConditional(a, b);
                if (c && (h = c.call(this, h, f, g)), this.type.isAssign) {
                    var i = this.startNodeAt(f, g);
                    return i.operator = this.value, i.left = this.type === d.types.eq ? this.toAssignable(h) : h, b.start = 0, this.checkLVal(h), this.next(), i.right = this.parseMaybeAssign(a), this.finishNode(i, \"AssignmentExpression\")
                }
                return e && b.start && this.unexpected(b.start), h
            }, h.parseMaybeConditional = function(a, b) {
                var c = this.start,
                    e = this.startLoc,
                    f = this.parseExprOps(a, b);
                if (b && b.start) return f;
                if (this.eat(d.types.question)) {
                    var g = this.startNodeAt(c, e);
                    return g.test = f, g.consequent = this.parseMaybeAssign(), this.expect(d.types.colon), g.alternate = this.parseMaybeAssign(a), this.finishNode(g, \"ConditionalExpression\")
                }
                return f
            }, h.parseExprOps = function(a, b) {
                var c = this.start,
                    d = this.startLoc,
                    e = this.parseMaybeUnary(b);
                return b && b.start ? e : this.parseExprOp(e, c, d, -1, a)
            }, h.parseExprOp = function(a, b, c, e, f) {
                var g = this.type.binop;
                if (null != g && (!f || this.type !== d.types._in) && g > e) {
                    var h = this.startNodeAt(b, c);
                    h.left = a, h.operator = this.value;
                    var i = this.type;
                    this.next();
                    var j = this.start,
                        k = this.startLoc;
                    return h.right = this.parseExprOp(this.parseMaybeUnary(), j, k, g, f), this.finishNode(h, i === d.types.logicalOR || i === d.types.logicalAND ? \"LogicalExpression\" : \"BinaryExpression\"), this.parseExprOp(h, b, c, e, f)
                }
                return a
            }, h.parseMaybeUnary = function(a) {
                if (this.type.prefix) {
                    var b = this.startNode(),
                        c = this.type === d.types.incDec;
                    return b.operator = this.value, b.prefix = !0, this.next(), b.argument = this.parseMaybeUnary(), a && a.start && this.unexpected(a.start), c ? this.checkLVal(b.argument) : this.strict && \"delete\" === b.operator && \"Identifier\" === b.argument.type && this.raise(b.start, \"Deleting local variable in strict mode\"), this.finishNode(b, c ? \"UpdateExpression\" : \"UnaryExpression\")
                }
                var e = this.start,
                    f = this.startLoc,
                    g = this.parseExprSubscripts(a);
                if (a && a.start) return g;
                for (; this.type.postfix && !this.canInsertSemicolon();) {
                    var b = this.startNodeAt(e, f);
                    b.operator = this.value, b.prefix = !1, b.argument = g, this.checkLVal(g), this.next(), g = this.finishNode(b, \"UpdateExpression\")
                }
                return g
            }, h.parseExprSubscripts = function(a) {
                var b = this.start,
                    c = this.startLoc,
                    d = this.parseExprAtom(a);
                return a && a.start ? d : this.parseSubscripts(d, b, c)
            }, h.parseSubscripts = function(a, b, c, e) {
                for (;;)
                    if (this.eat(d.types.dot)) {
                        var f = this.startNodeAt(b, c);
                        f.object = a, f.property = this.parseIdent(!0), f.computed = !1, a = this.finishNode(f, \"MemberExpression\")
                    } else if (this.eat(d.types.bracketL)) {
                    var f = this.startNodeAt(b, c);
                    f.object = a, f.property = this.parseExpression(), f.computed = !0, this.expect(d.types.bracketR), a = this.finishNode(f, \"MemberExpression\")
                } else if (!e && this.eat(d.types.parenL)) {
                    var f = this.startNodeAt(b, c);
                    f.callee = a, f.arguments = this.parseExprList(d.types.parenR, !1), a = this.finishNode(f, \"CallExpression\")
                } else {
                    if (this.type !== d.types.backQuote) return a;
                    var f = this.startNodeAt(b, c);
                    f.tag = a, f.quasi = this.parseTemplate(), a = this.finishNode(f, \"TaggedTemplateExpression\")
                }
            }, h.parseExprAtom = function(a) {
                var b = void 0,
                    c = this.potentialArrowAt == this.start;
                switch (this.type) {
                    case d.types._super:
                        this.inFunction || this.raise(this.start, \"'super' outside of function or class\");
                    case d.types._this:
                        var e = this.type === d.types._this ? \"ThisExpression\" : \"Super\";
                        return b = this.startNode(), this.next(), this.finishNode(b, e);
                    case d.types._yield:
                        this.inGenerator && this.unexpected();
                    case d.types.name:
                        var f = this.start,
                            g = this.startLoc,
                            h = this.parseIdent(this.type !== d.types.name);
                        return c && !this.canInsertSemicolon() && this.eat(d.types.arrow) ? this.parseArrowExpression(this.startNodeAt(f, g), [h]) : h;
                    case d.types.regexp:
                        var i = this.value;
                        return b = this.parseLiteral(i.value), b.regex = {
                            pattern: i.pattern,
                            flags: i.flags
                        }, b;
                    case d.types.num:
                    case d.types.string:
                        return this.parseLiteral(this.value);
                    case d.types._null:
                    case d.types._true:
                    case d.types._false:
                        return b = this.startNode(), b.value = this.type === d.types._null ? null : this.type === d.types._true, b.raw = this.type.keyword, this.next(), this.finishNode(b, \"Literal\");
                    case d.types.parenL:
                        return this.parseParenAndDistinguishExpression(c);
                    case d.types.bracketL:
                        return b = this.startNode(), this.next(), this.options.ecmaVersion >= 7 && this.type === d.types._for ? this.parseComprehension(b, !1) : (b.elements = this.parseExprList(d.types.bracketR, !0, !0, a), this.finishNode(b, \"ArrayExpression\"));
                    case d.types.braceL:
                        return this.parseObj(!1, a);
                    case d.types._function:
                        return b = this.startNode(), this.next(), this.parseFunction(b, !1);
                    case d.types._class:
                        return this.parseClass(this.startNode(), !1);
                    case d.types._new:
                        return this.parseNew();
                    case d.types.backQuote:
                        return this.parseTemplate();
                    default:
                        this.unexpected()
                }
            }, h.parseLiteral = function(a) {
                var b = this.startNode();
                return b.value = a, b.raw = this.input.slice(this.start, this.end), this.next(), this.finishNode(b, \"Literal\")
            }, h.parseParenExpression = function() {
                this.expect(d.types.parenL);
                var a = this.parseExpression();
                return this.expect(d.types.parenR), a
            }, h.parseParenAndDistinguishExpression = function(a) {
                var b = this.start,
                    c = this.startLoc,
                    e = void 0;
                if (this.options.ecmaVersion >= 6) {
                    if (this.next(), this.options.ecmaVersion >= 7 && this.type === d.types._for) return this.parseComprehension(this.startNodeAt(b, c), !0);
                    for (var f = this.start, g = this.startLoc, h = [], i = !0, j = {
                            start: 0
                        }, k = void 0, l = void 0; this.type !== d.types.parenR;) {
                        if (i ? i = !1 : this.expect(d.types.comma), this.type === d.types.ellipsis) {
                            k = this.start, h.push(this.parseParenItem(this.parseRest()));
                            break
                        }
                        this.type !== d.types.parenL || l || (l = this.start), h.push(this.parseMaybeAssign(!1, j, this.parseParenItem))
                    }
                    var m = this.start,
                        n = this.startLoc;
                    if (this.expect(d.types.parenR), a && !this.canInsertSemicolon() && this.eat(d.types.arrow)) return l && this.unexpected(l), this.parseParenArrowList(b, c, h);
                    h.length || this.unexpected(this.lastTokStart), k && this.unexpected(k), j.start && this.unexpected(j.start), h.length > 1 ? (e = this.startNodeAt(f, g), e.expressions = h, this.finishNodeAt(e, \"SequenceExpression\", m, n)) : e = h[0]
                } else e = this.parseParenExpression();
                if (this.options.preserveParens) {
                    var o = this.startNodeAt(b, c);
                    return o.expression = e, this.finishNode(o, \"ParenthesizedExpression\")
                }
                return e
            }, h.parseParenItem = function(a) {
                return a
            }, h.parseParenArrowList = function(a, b, c) {
                return this.parseArrowExpression(this.startNodeAt(a, b), c)
            };
            var i = [];
            h.parseNew = function() {
                var a = this.startNode(),
                    b = this.parseIdent(!0);
                if (this.options.ecmaVersion >= 6 && this.eat(d.types.dot)) return a.meta = b, a.property = this.parseIdent(!0), \"target\" !== a.property.name && this.raise(a.property.start, \"The only valid meta property for new is new.target\"), this.finishNode(a, \"MetaProperty\");
                var c = this.start,
                    e = this.startLoc;
                return a.callee = this.parseSubscripts(this.parseExprAtom(), c, e, !0), this.eat(d.types.parenL) ? a.arguments = this.parseExprList(d.types.parenR, !1) : a.arguments = i, this.finishNode(a, \"NewExpression\")
            }, h.parseTemplateElement = function() {
                var a = this.startNode();
                return a.value = {
                    raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),
                    cooked: this.value
                }, this.next(), a.tail = this.type === d.types.backQuote, this.finishNode(a, \"TemplateElement\")
            }, h.parseTemplate = function() {
                var a = this.startNode();
                this.next(), a.expressions = [];
                var b = this.parseTemplateElement();
                for (a.quasis = [b]; !b.tail;) this.expect(d.types.dollarBraceL), a.expressions.push(this.parseExpression()), this.expect(d.types.braceR), a.quasis.push(b = this.parseTemplateElement());
                return this.next(), this.finishNode(a, \"TemplateLiteral\")
            }, h.parseObj = function(a, b) {
                var c = this.startNode(),
                    e = !0,
                    f = {};
                for (c.properties = [], this.next(); !this.eat(d.types.braceR);) {
                    if (e) e = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var g = this.startNode(),
                        h = void 0,
                        i = void 0,
                        j = void 0;
                    this.options.ecmaVersion >= 6 && (g.method = !1, g.shorthand = !1, (a || b) && (i = this.start, j = this.startLoc), a || (h = this.eat(d.types.star))), this.parsePropertyName(g), this.parsePropertyValue(g, a, h, i, j, b), this.checkPropClash(g, f), c.properties.push(this.finishNode(g, \"Property\"))
                }
                return this.finishNode(c, a ? \"ObjectPattern\" : \"ObjectExpression\")
            }, h.parsePropertyValue = function(a, b, c, e, g, h) {
                if (this.eat(d.types.colon)) a.value = b ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(!1, h), a.kind = \"init\";
                else if (this.options.ecmaVersion >= 6 && this.type === d.types.parenL) b && this.unexpected(), a.kind = \"init\", a.method = !0, a.value = this.parseMethod(c);
                else if (this.options.ecmaVersion >= 5 && !a.computed && \"Identifier\" === a.key.type && (\"get\" === a.key.name || \"set\" === a.key.name) && this.type != d.types.comma && this.type != d.types.braceR) {
                    (c || b) && this.unexpected(), a.kind = a.key.name, this.parsePropertyName(a), a.value = this.parseMethod(!1);
                    var i = \"get\" === a.kind ? 0 : 1;
                    if (a.value.params.length !== i) {
                        var j = a.value.start;
                        \"get\" === a.kind ? this.raise(j, \"getter should have no params\") : this.raise(j, \"setter should have exactly one param\")
                    }
                } else this.options.ecmaVersion >= 6 && !a.computed && \"Identifier\" === a.key.type ? (a.kind = \"init\", b ? ((this.isKeyword(a.key.name) || this.strict && (f.reservedWords.strictBind(a.key.name) || f.reservedWords.strict(a.key.name)) || !this.options.allowReserved && this.isReservedWord(a.key.name)) && this.raise(a.key.start, \"Binding \" + a.key.name), a.value = this.parseMaybeDefault(e, g, a.key)) : this.type === d.types.eq && h ? (h.start || (h.start = this.start), a.value = this.parseMaybeDefault(e, g, a.key)) : a.value = a.key, a.shorthand = !0) : this.unexpected()
            }, h.parsePropertyName = function(a) {
                if (this.options.ecmaVersion >= 6) {
                    if (this.eat(d.types.bracketL)) return a.computed = !0, a.key = this.parseMaybeAssign(), this.expect(d.types.bracketR), a.key;
                    a.computed = !1
                }
                return a.key = this.type === d.types.num || this.type === d.types.string ? this.parseExprAtom() : this.parseIdent(!0)
            }, h.initFunction = function(a) {
                a.id = null, this.options.ecmaVersion >= 6 && (a.generator = !1, a.expression = !1)
            }, h.parseMethod = function(a) {
                var b = this.startNode();
                this.initFunction(b), this.expect(d.types.parenL), b.params = this.parseBindingList(d.types.parenR, !1, !1);
                return this.options.ecmaVersion >= 6 && (b.generator = a), this.parseFunctionBody(b, !1), this.finishNode(b, \"FunctionExpression\")
            }, h.parseArrowExpression = function(a, b) {
                return this.initFunction(a), a.params = this.toAssignableList(b, !0), this.parseFunctionBody(a, !0), this.finishNode(a, \"ArrowFunctionExpression\")
            }, h.parseFunctionBody = function(a, b) {
                var c = b && this.type !== d.types.braceL;
                if (c) a.body = this.parseMaybeAssign(), a.expression = !0;
                else {
                    var e = this.inFunction,
                        f = this.inGenerator,
                        g = this.labels;
                    this.inFunction = !0, this.inGenerator = a.generator, this.labels = [], a.body = this.parseBlock(!0), a.expression = !1, this.inFunction = e, this.inGenerator = f, this.labels = g
                }
                if (this.strict || !c && a.body.body.length && this.isUseStrict(a.body.body[0])) {
                    var h = {},
                        i = this.strict;
                    this.strict = !0, a.id && this.checkLVal(a.id, !0);
                    for (var j = 0; j < a.params.length; j++) this.checkLVal(a.params[j], !0, h);
                    this.strict = i
                }
            }, h.parseExprList = function(a, b, c, e) {
                for (var f = [], g = !0; !this.eat(a);) {
                    if (g) g = !1;
                    else if (this.expect(d.types.comma), b && this.afterTrailingComma(a)) break;
                    var h = void 0;
                    h = c && this.type === d.types.comma ? null : this.type === d.types.ellipsis ? this.parseSpread(e) : this.parseMaybeAssign(!1, e), f.push(h)
                }
                return f
            }, h.parseIdent = function(a) {
                var b = this.startNode();
                return a && \"never\" == this.options.allowReserved && (a = !1), this.type === d.types.name ? (!a && (!this.options.allowReserved && this.isReservedWord(this.value) || this.strict && f.reservedWords.strict(this.value) && (this.options.ecmaVersion >= 6 || -1 == this.input.slice(this.start, this.end).indexOf(\"\\\\\"))) && this.raise(this.start, \"The keyword '\" + this.value + \"' is reserved\"), b.name = this.value) : a && this.type.keyword ? b.name = this.type.keyword : this.unexpected(), this.next(), this.finishNode(b, \"Identifier\")
            }, h.parseYield = function() {
                var a = this.startNode();
                return this.next(), this.type == d.types.semi || this.canInsertSemicolon() || this.type != d.types.star && !this.type.startsExpr ? (a.delegate = !1, a.argument = null) : (a.delegate = this.eat(d.types.star), a.argument = this.parseMaybeAssign()), this.finishNode(a, \"YieldExpression\")
            }, h.parseComprehension = function(a, b) {
                for (a.blocks = []; this.type === d.types._for;) {
                    var c = this.startNode();
                    this.next(), this.expect(d.types.parenL), c.left = this.parseBindingAtom(), this.checkLVal(c.left, !0), this.expectContextual(\"of\"), c.right = this.parseExpression(), this.expect(d.types.parenR), a.blocks.push(this.finishNode(c, \"ComprehensionBlock\"))
                }
                return a.filter = this.eat(d.types._if) ? this.parseParenExpression() : null, a.body = this.parseExpression(), this.expect(b ? d.types.parenR : d.types.bracketR), a.generator = b, this.finishNode(a, \"ComprehensionExpression\")
            }
        }, {
            \"./identifier\": 2,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./util\": 15
        }],
        2: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                function f(a) {
                    if (1 == a.length) return b += \"return str === \" + JSON.stringify(a[0]) + \";\";
                    b += \"switch(str){\";
                    for (var c = 0; c < a.length; ++c) b += \"case \" + JSON.stringify(a[c]) + \":\";
                    b += \"return true}return false;\"
                }
                a = a.split(\" \");
                var b = \"\",
                    c = [];
                a: for (var d = 0; d < a.length; ++d) {
                    for (var e = 0; e < c.length; ++e)
                        if (c[e][0].length == a[d].length) {
                            c[e].push(a[d]);
                            continue a
                        }
                    c.push([a[d]])
                }
                if (c.length > 3) {
                    c.sort(function(a, b) {
                        return b.length - a.length
                    }), b += \"switch(str.length){\";
                    for (var d = 0; d < c.length; ++d) {
                        var g = c[d];
                        b += \"case \" + g[0].length + \":\", f(g)
                    }
                    b += \"}\"
                } else f(a);
                return new Function(\"str\", b)
            }

            function n(a, b) {
                for (var c = 65536, d = 0; d < b.length; d += 2) {
                    if (c += b[d], c > a) return !1;
                    if (c += b[d + 1], c >= a) return !0
                }
            }

            function o(a, b) {
                return 65 > a ? 36 === a : 91 > a ? !0 : 97 > a ? 95 === a : 123 > a ? !0 : 65535 >= a ? a >= 170 && j.test(String.fromCharCode(a)) : b === !1 ? !1 : n(a, l)
            }

            function p(a, b) {
                return 48 > a ? 36 === a : 58 > a ? !0 : 65 > a ? !1 : 91 > a ? !0 : 97 > a ? 95 === a : 123 > a ? !0 : 65535 >= a ? a >= 170 && k.test(String.fromCharCode(a)) : b === !1 ? !1 : n(a, l) || n(a, m)
            }
            c.__esModule = !0, c.isIdentifierStart = o, c.isIdentifierChar = p;
            var e = {
                3: d(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\"),
                5: d(\"class enum extends super const export import\"),
                6: d(\"enum await\"),
                strict: d(\"implements interface let package private protected public static yield\"),
                strictBind: d(\"eval arguments\")
            };
            c.reservedWords = e;
            var f = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\",
                g = {
                    5: d(f),
                    6: d(f + \" let const class extends export import yield super\")
                };
            c.keywords = g;
            var h = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0-\\u08b2\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua7ad\\ua7b0\\ua7b1\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab5f\\uab64\\uab65\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\",
                i = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e4-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d01-\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19b0-\\u19c0\\u19c8\\u19c9\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2-\\u1cf4\\u1cf8\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua900-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2d\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\",
                j = new RegExp(\"[\" + h + \"]\"),
                k = new RegExp(\"[\" + h + i + \"]\");
            h = i = null;
            var l = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 17, 26, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 99, 39, 9, 51, 157, 310, 10, 21, 11, 7, 153, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 98, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 26, 45, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 955, 52, 76, 44, 33, 24, 27, 35, 42, 34, 4, 0, 13, 47, 15, 3, 22, 0, 38, 17, 2, 24, 133, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 32, 4, 287, 47, 21, 1, 2, 0, 185, 46, 82, 47, 21, 0, 60, 42, 502, 63, 32, 0, 449, 56, 1288, 920, 104, 110, 2962, 1070, 13266, 568, 8, 30, 114, 29, 19, 47, 17, 3, 32, 20, 6, 18, 881, 68, 12, 0, 67, 12, 16481, 1, 3071, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 4149, 196, 1340, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42710, 42, 4148, 12, 221, 16355, 541],
                m = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 1306, 2, 54, 14, 32, 9, 16, 3, 46, 10, 54, 9, 7, 2, 37, 13, 2, 9, 52, 0, 13, 2, 49, 13, 16, 9, 83, 11, 168, 11, 6, 9, 8, 2, 57, 0, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 316, 19, 13, 9, 214, 6, 3, 8, 112, 16, 16, 9, 82, 12, 9, 9, 535, 9, 20855, 9, 135, 4, 60, 6, 26, 9, 1016, 45, 17, 3, 19723, 1, 5319, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 4305, 6, 792618, 239]
        }, {}],
        3: [function(a, b, c) {
            \"use strict\";

            function n(a, b) {
                return new d.Parser(b, a).parse()
            }

            function o(a, b, c) {
                var e = new d.Parser(c, a, b);
                return e.nextToken(), e.parseExpression()
            }

            function p(a, b) {
                return new d.Parser(b, a)
            }
            c.__esModule = !0, c.parse = n, c.parseExpressionAt = o, c.tokenizer = p;
            var d = a(\"./state\"),
                e = a(\"./options\");
            a(\"./parseutil\"), a(\"./statement\"), a(\"./lval\"), a(\"./expression\"), a(\"./location\"), c.Parser = d.Parser, c.plugins = d.plugins, c.defaultOptions = e.defaultOptions;
            var f = a(\"./locutil\");
            c.Position = f.Position, c.SourceLocation = f.SourceLocation, c.getLineInfo = f.getLineInfo;
            var g = a(\"./node\");
            c.Node = g.Node;
            var h = a(\"./tokentype\");
            c.TokenType = h.TokenType, c.tokTypes = h.types;
            var i = a(\"./tokencontext\");
            c.TokContext = i.TokContext, c.tokContexts = i.types;
            var j = a(\"./identifier\");
            c.isIdentifierChar = j.isIdentifierChar, c.isIdentifierStart = j.isIdentifierStart;
            var k = a(\"./tokenize\");
            c.Token = k.Token;
            var l = a(\"./whitespace\");
            c.isNewLine = l.isNewLine, c.lineBreak = l.lineBreak, c.lineBreakG = l.lineBreakG;
            var m = \"2.4.0\";
            c.version = m
        }, {
            \"./expression\": 1,
            \"./identifier\": 2,
            \"./location\": 4,
            \"./locutil\": 5,
            \"./lval\": 6,
            \"./node\": 7,
            \"./options\": 8,
            \"./parseutil\": 9,
            \"./state\": 10,
            \"./statement\": 11,
            \"./tokencontext\": 12,
            \"./tokenize\": 13,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        4: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./locutil\"),
                f = d.Parser.prototype;
            f.raise = function(a, b) {
                var c = e.getLineInfo(this.input, a);
                b += \" (\" + c.line + \":\" + c.column + \")\";
                var d = new SyntaxError(b);
                throw d.pos = a, d.loc = c, d.raisedAt = this.pos, d
            }, f.curPosition = function() {
                return this.options.locations ? new e.Position(this.curLine, this.pos - this.lineStart) : void 0
            }
        }, {
            \"./locutil\": 5,
            \"./state\": 10
        }],
        5: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function h(a, b) {
                for (var c = 1, d = 0;;) {
                    e.lineBreakG.lastIndex = d;
                    var g = e.lineBreakG.exec(a);
                    if (!(g && g.index < b)) return new f(c, b - d);
                    ++c, d = g.index + g[0].length
                }
            }
            c.__esModule = !0, c.getLineInfo = h;
            var e = a(\"./whitespace\"),
                f = function() {
                    function a(b, c) {
                        d(this, a), this.line = b, this.column = c
                    }
                    return a.prototype.offset = function(b) {
                        return new a(this.line, this.column + b)
                    }, a
                }();
            c.Position = f;
            var g = function i(a, b, c) {
                d(this, i), this.start = b, this.end = c, null !== a.sourceFile && (this.source = a.sourceFile)
            };
            c.SourceLocation = g
        }, {
            \"./whitespace\": 16
        }],
        6: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./identifier\"),
                g = a(\"./util\"),
                h = e.Parser.prototype;
            h.toAssignable = function(a, b) {
                if (this.options.ecmaVersion >= 6 && a) switch (a.type) {
                    case \"Identifier\":
                    case \"ObjectPattern\":
                    case \"ArrayPattern\":
                    case \"AssignmentPattern\":
                        break;
                    case \"ObjectExpression\":
                        a.type = \"ObjectPattern\";
                        for (var c = 0; c < a.properties.length; c++) {
                            var d = a.properties[c];
                            \"init\" !== d.kind && this.raise(d.key.start, \"Object pattern can't contain getter or setter\"), this.toAssignable(d.value, b)
                        }
                        break;
                    case \"ArrayExpression\":
                        a.type = \"ArrayPattern\", this.toAssignableList(a.elements, b);
                        break;
                    case \"AssignmentExpression\":
                        \"=\" === a.operator ? (a.type = \"AssignmentPattern\", delete a.operator) : this.raise(a.left.end, \"Only '=' operator can be used for specifying default value.\");
                        break;
                    case \"ParenthesizedExpression\":
                        a.expression = this.toAssignable(a.expression, b);
                        break;
                    case \"MemberExpression\":
                        if (!b) break;
                    default:
                        this.raise(a.start, \"Assigning to rvalue\")
                }
                return a
            }, h.toAssignableList = function(a, b) {
                var c = a.length;
                if (c) {
                    var d = a[c - 1];
                    if (d && \"RestElement\" == d.type) --c;
                    else if (d && \"SpreadElement\" == d.type) {
                        d.type = \"RestElement\";
                        var e = d.argument;
                        this.toAssignable(e, b), \"Identifier\" !== e.type && \"MemberExpression\" !== e.type && \"ArrayPattern\" !== e.type && this.unexpected(e.start), --c
                    }
                }
                for (var f = 0; c > f; f++) {
                    var g = a[f];
                    g && this.toAssignable(g, b)
                }
                return a
            }, h.parseSpread = function(a) {
                var b = this.startNode();
                return this.next(), b.argument = this.parseMaybeAssign(a), this.finishNode(b, \"SpreadElement\")
            }, h.parseRest = function() {
                var a = this.startNode();
                return this.next(), a.argument = this.type === d.types.name || this.type === d.types.bracketL ? this.parseBindingAtom() : this.unexpected(), this.finishNode(a, \"RestElement\")
            }, h.parseBindingAtom = function() {
                if (this.options.ecmaVersion < 6) return this.parseIdent();
                switch (this.type) {
                    case d.types.name:
                        return this.parseIdent();
                    case d.types.bracketL:
                        var a = this.startNode();
                        return this.next(), a.elements = this.parseBindingList(d.types.bracketR, !0, !0), this.finishNode(a, \"ArrayPattern\");
                    case d.types.braceL:
                        return this.parseObj(!0);
                    default:
                        this.unexpected()
                }
            }, h.parseBindingList = function(a, b, c) {
                for (var e = [], f = !0; !this.eat(a);)
                    if (f ? f = !1 : this.expect(d.types.comma), b && this.type === d.types.comma) e.push(null);
                    else {
                        if (c && this.afterTrailingComma(a)) break;
                        if (this.type === d.types.ellipsis) {
                            var g = this.parseRest();
                            this.parseBindingListItem(g), e.push(g), this.expect(a);
                            break
                        }
                        var h = this.parseMaybeDefault(this.start, this.startLoc);
                        this.parseBindingListItem(h), e.push(h)
                    }
                return e
            }, h.parseBindingListItem = function(a) {
                return a
            }, h.parseMaybeDefault = function(a, b, c) {
                if (c = c || this.parseBindingAtom(), this.options.ecmaVersion < 6 || !this.eat(d.types.eq)) return c;
                var e = this.startNodeAt(a, b);
                return e.left = c, e.right = this.parseMaybeAssign(), this.finishNode(e, \"AssignmentPattern\")
            }, h.checkLVal = function(a, b, c) {
                switch (a.type) {
                    case \"Identifier\":
                        this.strict && (f.reservedWords.strictBind(a.name) || f.reservedWords.strict(a.name)) && this.raise(a.start, (b ? \"Binding \" : \"Assigning to \") + a.name + \" in strict mode\"), c && (g.has(c, a.name) && this.raise(a.start, \"Argument name clash in strict mode\"), c[a.name] = !0);
                        break;
                    case \"MemberExpression\":
                        b && this.raise(a.start, (b ? \"Binding\" : \"Assigning to\") + \" member expression\");
                        break;
                    case \"ObjectPattern\":
                        for (var d = 0; d < a.properties.length; d++) this.checkLVal(a.properties[d].value, b, c);
                        break;
                    case \"ArrayPattern\":
                        for (var d = 0; d < a.elements.length; d++) {
                            var e = a.elements[d];
                            e && this.checkLVal(e, b, c)
                        }
                        break;
                    case \"AssignmentPattern\":
                        this.checkLVal(a.left, b, c);
                        break;
                    case \"RestElement\":
                        this.checkLVal(a.argument, b, c);
                        break;
                    case \"ParenthesizedExpression\":
                        this.checkLVal(a.expression, b, c);
                        break;
                    default:
                        this.raise(a.start, (b ? \"Binding\" : \"Assigning to\") + \" rvalue\")
                }
            }
        }, {
            \"./identifier\": 2,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./util\": 15
        }],
        7: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function i(a, b, c, d) {
                return a.type = b, a.end = c, this.options.locations && (a.loc.end = d), this.options.ranges && (a.range[1] = c), a
            }
            c.__esModule = !0;
            var e = a(\"./state\"),
                f = a(\"./locutil\"),
                g = function j(a, b, c) {
                    d(this, j), this.type = \"\", this.start = b, this.end = 0, a.options.locations && (this.loc = new f.SourceLocation(a, c)), a.options.directSourceFile && (this.sourceFile = a.options.directSourceFile), a.options.ranges && (this.range = [b, 0])
                };
            c.Node = g;
            var h = e.Parser.prototype;
            h.startNode = function() {
                return new g(this, this.start, this.startLoc)
            }, h.startNodeAt = function(a, b) {
                return new g(this, a, b)
            }, h.finishNode = function(a, b) {
                return i.call(this, a, b, this.lastTokEnd, this.lastTokEndLoc)
            }, h.finishNodeAt = function(a, b, c, d) {
                return i.call(this, a, b, c, d)
            }
        }, {
            \"./locutil\": 5,
            \"./state\": 10
        }],
        8: [function(a, b, c) {
            \"use strict\";

            function g(a) {
                var b = {};
                for (var c in f) b[c] = a && d.has(a, c) ? a[c] : f[c];
                return d.isArray(b.onToken) && ! function() {
                    var a = b.onToken;
                    b.onToken = function(b) {
                        return a.push(b)
                    }
                }(), d.isArray(b.onComment) && (b.onComment = h(b, b.onComment)), b
            }

            function h(a, b) {
                return function(c, d, f, g, h, i) {
                    var j = {
                        type: c ? \"Block\" : \"Line\",
                        value: d,
                        start: f,
                        end: g
                    };
                    a.locations && (j.loc = new e.SourceLocation(this, h, i)), a.ranges && (j.range = [f, g]), b.push(j)
                }
            }
            c.__esModule = !0, c.getOptions = g;
            var d = a(\"./util\"),
                e = a(\"./locutil\"),
                f = {
                    ecmaVersion: 5,
                    sourceType: \"script\",
                    onInsertedSemicolon: null,
                    onTrailingComma: null,
                    allowReserved: !0,
                    allowReturnOutsideFunction: !1,
                    allowImportExportEverywhere: !1,
                    allowHashBang: !1,
                    locations: !1,
                    onToken: null,
                    onComment: null,
                    ranges: !1,
                    program: null,
                    sourceFile: null,
                    directSourceFile: null,
                    preserveParens: !1,
                    plugins: {}
                };
            c.defaultOptions = f
        }, {
            \"./locutil\": 5,
            \"./util\": 15
        }],
        9: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./whitespace\"),
                g = e.Parser.prototype;
            g.isUseStrict = function(a) {
                return this.options.ecmaVersion >= 5 && \"ExpressionStatement\" === a.type && \"Literal\" === a.expression.type && \"use strict\" === a.expression.raw.slice(1, -1)
            }, g.eat = function(a) {
                return this.type === a ? (this.next(), !0) : !1
            }, g.isContextual = function(a) {
                return this.type === d.types.name && this.value === a
            }, g.eatContextual = function(a) {
                return this.value === a && this.eat(d.types.name)
            }, g.expectContextual = function(a) {
                this.eatContextual(a) || this.unexpected()
            }, g.canInsertSemicolon = function() {
                return this.type === d.types.eof || this.type === d.types.braceR || f.lineBreak.test(this.input.slice(this.lastTokEnd, this.start))
            }, g.insertSemicolon = function() {
                return this.canInsertSemicolon() ? (this.options.onInsertedSemicolon && this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc), !0) : void 0
            }, g.semicolon = function() {
                this.eat(d.types.semi) || this.insertSemicolon() || this.unexpected()
            }, g.afterTrailingComma = function(a) {
                return this.type == a ? (this.options.onTrailingComma && this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc), this.next(), !0) : void 0
            }, g.expect = function(a) {
                this.eat(a) || this.unexpected()
            }, g.unexpected = function(a) {
                this.raise(null != a ? a : this.start, \"Unexpected token\")
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        10: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"./identifier\"),
                f = a(\"./tokentype\"),
                g = a(\"./whitespace\"),
                h = a(\"./options\"),
                i = {};
            c.plugins = i;
            var j = function() {
                function a(b, c, i) {
                    d(this, a), this.options = h.getOptions(b), this.sourceFile = this.options.sourceFile, this.isKeyword = e.keywords[this.options.ecmaVersion >= 6 ? 6 : 5], this.isReservedWord = e.reservedWords[this.options.ecmaVersion], this.input = String(c), this.containsEsc = !1, this.loadPlugins(this.options.plugins), i ? (this.pos = i, this.lineStart = Math.max(0, this.input.lastIndexOf(\"\\n\", i)), this.curLine = this.input.slice(0, this.lineStart).split(g.lineBreak).length) : (this.pos = this.lineStart = 0, this.curLine = 1), this.type = f.types.eof, this.value = null, this.start = this.end = this.pos, this.startLoc = this.endLoc = this.curPosition(), this.lastTokEndLoc = this.lastTokStartLoc = null, this.lastTokStart = this.lastTokEnd = this.pos, this.context = this.initialContext(), this.exprAllowed = !0, this.strict = this.inModule = \"module\" === this.options.sourceType, this.potentialArrowAt = -1, this.inFunction = this.inGenerator = !1, this.labels = [], 0 === this.pos && this.options.allowHashBang && \"#!\" === this.input.slice(0, 2) && this.skipLineComment(2)
                }
                return a.prototype.extend = function(a, b) {
                    this[a] = b(this[a])
                }, a.prototype.loadPlugins = function(a) {
                    for (var b in a) {
                        var c = i[b];
                        if (!c) throw new Error(\"Plugin '\" + b + \"' not found\");
                        c(this, a[b])
                    }
                }, a.prototype.parse = function() {
                    var a = this.options.program || this.startNode();
                    return this.nextToken(), this.parseTopLevel(a)
                }, a
            }();
            c.Parser = j
        }, {
            \"./identifier\": 2,
            \"./options\": 8,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        11: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./tokentype\"),
                e = a(\"./state\"),
                f = a(\"./whitespace\"),
                g = e.Parser.prototype;
            g.parseTopLevel = function(a) {
                var b = !0;
                for (a.body || (a.body = []); this.type !== d.types.eof;) {
                    var c = this.parseStatement(!0, !0);
                    a.body.push(c), b && (this.isUseStrict(c) && this.setStrict(!0), b = !1)
                }
                return this.next(), this.options.ecmaVersion >= 6 && (a.sourceType = this.options.sourceType), this.finishNode(a, \"Program\")
            };
            var h = {
                    kind: \"loop\"
                },
                i = {
                    kind: \"switch\"
                };
            g.parseStatement = function(a, b) {
                var c = this.type,
                    e = this.startNode();
                switch (c) {
                    case d.types._break:
                    case d.types._continue:
                        return this.parseBreakContinueStatement(e, c.keyword);
                    case d.types._debugger:
                        return this.parseDebuggerStatement(e);
                    case d.types._do:
                        return this.parseDoStatement(e);
                    case d.types._for:
                        return this.parseForStatement(e);
                    case d.types._function:
                        return !a && this.options.ecmaVersion >= 6 && this.unexpected(), this.parseFunctionStatement(e);
                    case d.types._class:
                        return a || this.unexpected(), this.parseClass(e, !0);
                    case d.types._if:
                        return this.parseIfStatement(e);
                    case d.types._return:
                        return this.parseReturnStatement(e);
                    case d.types._switch:
                        return this.parseSwitchStatement(e);
                    case d.types._throw:
                        return this.parseThrowStatement(e);
                    case d.types._try:
                        return this.parseTryStatement(e);
                    case d.types._let:
                    case d.types._const:
                        a || this.unexpected();
                    case d.types._var:
                        return this.parseVarStatement(e, c);
                    case d.types._while:
                        return this.parseWhileStatement(e);
                    case d.types._with:
                        return this.parseWithStatement(e);
                    case d.types.braceL:
                        return this.parseBlock();
                    case d.types.semi:
                        return this.parseEmptyStatement(e);
                    case d.types._export:
                    case d.types._import:
                        return this.options.allowImportExportEverywhere || (b || this.raise(this.start, \"'import' and 'export' may only appear at the top level\"), this.inModule || this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\")), c === d.types._import ? this.parseImport(e) : this.parseExport(e);
                    default:
                        var f = this.value,
                            g = this.parseExpression();
                        return c === d.types.name && \"Identifier\" === g.type && this.eat(d.types.colon) ? this.parseLabeledStatement(e, f, g) : this.parseExpressionStatement(e, g)
                }
            }, g.parseBreakContinueStatement = function(a, b) {
                var c = \"break\" == b;
                this.next(), this.eat(d.types.semi) || this.insertSemicolon() ? a.label = null : this.type !== d.types.name ? this.unexpected() : (a.label = this.parseIdent(), this.semicolon());
                for (var e = 0; e < this.labels.length; ++e) {
                    var f = this.labels[e];
                    if (null == a.label || f.name === a.label.name) {
                        if (null != f.kind && (c || \"loop\" === f.kind)) break;
                        if (a.label && c) break
                    }
                }
                return e === this.labels.length && this.raise(a.start, \"Unsyntactic \" + b), this.finishNode(a, c ? \"BreakStatement\" : \"ContinueStatement\")
            }, g.parseDebuggerStatement = function(a) {
                return this.next(), this.semicolon(), this.finishNode(a, \"DebuggerStatement\")
            }, g.parseDoStatement = function(a) {
                return this.next(), this.labels.push(h), a.body = this.parseStatement(!1), this.labels.pop(), this.expect(d.types._while), a.test = this.parseParenExpression(), this.options.ecmaVersion >= 6 ? this.eat(d.types.semi) : this.semicolon(), this.finishNode(a, \"DoWhileStatement\")
            }, g.parseForStatement = function(a) {
                if (this.next(), this.labels.push(h), this.expect(d.types.parenL), this.type === d.types.semi) return this.parseFor(a, null);
                if (this.type === d.types._var || this.type === d.types._let || this.type === d.types._const) {
                    var b = this.startNode(),
                        c = this.type;
                    return this.next(), this.parseVar(b, !0, c), this.finishNode(b, \"VariableDeclaration\"), !(this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\")) || 1 !== b.declarations.length || c !== d.types._var && b.declarations[0].init ? this.parseFor(a, b) : this.parseForIn(a, b)
                }
                var e = {
                        start: 0
                    },
                    f = this.parseExpression(!0, e);
                return this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\") ? (this.toAssignable(f), this.checkLVal(f), this.parseForIn(a, f)) : (e.start && this.unexpected(e.start), this.parseFor(a, f))
            }, g.parseFunctionStatement = function(a) {
                return this.next(), this.parseFunction(a, !0)
            }, g.parseIfStatement = function(a) {
                return this.next(), a.test = this.parseParenExpression(), a.consequent = this.parseStatement(!1), a.alternate = this.eat(d.types._else) ? this.parseStatement(!1) : null, this.finishNode(a, \"IfStatement\")
            }, g.parseReturnStatement = function(a) {
                return this.inFunction || this.options.allowReturnOutsideFunction || this.raise(this.start, \"'return' outside of function\"), this.next(), this.eat(d.types.semi) || this.insertSemicolon() ? a.argument = null : (a.argument = this.parseExpression(), this.semicolon()), this.finishNode(a, \"ReturnStatement\")
            }, g.parseSwitchStatement = function(a) {
                this.next(), a.discriminant = this.parseParenExpression(), a.cases = [], this.expect(d.types.braceL), this.labels.push(i);
                for (var b, c = !1; this.type != d.types.braceR;)
                    if (this.type === d.types._case || this.type === d.types._default) {
                        var e = this.type === d.types._case;
                        b && this.finishNode(b, \"SwitchCase\"), a.cases.push(b = this.startNode()), b.consequent = [], this.next(), e ? b.test = this.parseExpression() : (c && this.raise(this.lastTokStart, \"Multiple default clauses\"), c = !0, b.test = null), this.expect(d.types.colon)
                    } else b || this.unexpected(), b.consequent.push(this.parseStatement(!0));
                return b && this.finishNode(b, \"SwitchCase\"), this.next(), this.labels.pop(), this.finishNode(a, \"SwitchStatement\")
            }, g.parseThrowStatement = function(a) {
                return this.next(), f.lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) && this.raise(this.lastTokEnd, \"Illegal newline after throw\"), a.argument = this.parseExpression(), this.semicolon(), this.finishNode(a, \"ThrowStatement\")
            };
            var j = [];
            g.parseTryStatement = function(a) {
                if (this.next(), a.block = this.parseBlock(), a.handler = null, this.type === d.types._catch) {
                    var b = this.startNode();
                    this.next(), this.expect(d.types.parenL), b.param = this.parseBindingAtom(), this.checkLVal(b.param, !0), this.expect(d.types.parenR), b.guard = null, b.body = this.parseBlock(), a.handler = this.finishNode(b, \"CatchClause\")
                }
                return a.guardedHandlers = j, a.finalizer = this.eat(d.types._finally) ? this.parseBlock() : null, a.handler || a.finalizer || this.raise(a.start, \"Missing catch or finally clause\"), this.finishNode(a, \"TryStatement\")
            }, g.parseVarStatement = function(a, b) {
                return this.next(), this.parseVar(a, !1, b), this.semicolon(), this.finishNode(a, \"VariableDeclaration\")
            }, g.parseWhileStatement = function(a) {
                return this.next(), a.test = this.parseParenExpression(), this.labels.push(h), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, \"WhileStatement\")
            }, g.parseWithStatement = function(a) {
                return this.strict && this.raise(this.start, \"'with' in strict mode\"), this.next(), a.object = this.parseParenExpression(), a.body = this.parseStatement(!1), this.finishNode(a, \"WithStatement\")
            }, g.parseEmptyStatement = function(a) {
                return this.next(), this.finishNode(a, \"EmptyStatement\")
            }, g.parseLabeledStatement = function(a, b, c) {
                for (var e = 0; e < this.labels.length; ++e) this.labels[e].name === b && this.raise(c.start, \"Label '\" + b + \"' is already declared\");
                for (var f = this.type.isLoop ? \"loop\" : this.type === d.types._switch ? \"switch\" : null, e = this.labels.length - 1; e >= 0; e--) {
                    var g = this.labels[e];
                    if (g.statementStart != a.start) break;
                    g.statementStart = this.start, g.kind = f
                }
                return this.labels.push({
                    name: b,
                    kind: f,
                    statementStart: this.start
                }), a.body = this.parseStatement(!0), this.labels.pop(), a.label = c, this.finishNode(a, \"LabeledStatement\")
            }, g.parseExpressionStatement = function(a, b) {
                return a.expression = b, this.semicolon(), this.finishNode(a, \"ExpressionStatement\")
            }, g.parseBlock = function(a) {
                var b = this.startNode(),
                    c = !0,
                    e = void 0;
                for (b.body = [], this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    var f = this.parseStatement(!0);
                    b.body.push(f), c && a && this.isUseStrict(f) && (e = this.strict, this.setStrict(this.strict = !0)), c = !1
                }
                return e === !1 && this.setStrict(!1), this.finishNode(b, \"BlockStatement\")
            }, g.parseFor = function(a, b) {
                return a.init = b, this.expect(d.types.semi), a.test = this.type === d.types.semi ? null : this.parseExpression(), this.expect(d.types.semi), a.update = this.type === d.types.parenR ? null : this.parseExpression(), this.expect(d.types.parenR), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, \"ForStatement\")
            }, g.parseForIn = function(a, b) {
                var c = this.type === d.types._in ? \"ForInStatement\" : \"ForOfStatement\";
                return this.next(), a.left = b, a.right = this.parseExpression(), this.expect(d.types.parenR), a.body = this.parseStatement(!1), this.labels.pop(), this.finishNode(a, c)
            }, g.parseVar = function(a, b, c) {
                for (a.declarations = [], a.kind = c.keyword;;) {
                    var e = this.startNode();
                    if (this.parseVarId(e), this.eat(d.types.eq) ? e.init = this.parseMaybeAssign(b) : c !== d.types._const || this.type === d.types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\") ? \"Identifier\" == e.id.type || b && (this.type === d.types._in || this.isContextual(\"of\")) ? e.init = null : this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\") : this.unexpected(), a.declarations.push(this.finishNode(e, \"VariableDeclarator\")), !this.eat(d.types.comma)) break
                }
                return a
            }, g.parseVarId = function(a) {
                a.id = this.parseBindingAtom(), this.checkLVal(a.id, !0)
            }, g.parseFunction = function(a, b, c) {
                return this.initFunction(a), this.options.ecmaVersion >= 6 && (a.generator = this.eat(d.types.star)), (b || this.type === d.types.name) && (a.id = this.parseIdent()), this.parseFunctionParams(a), this.parseFunctionBody(a, c), this.finishNode(a, b ? \"FunctionDeclaration\" : \"FunctionExpression\")
            }, g.parseFunctionParams = function(a) {
                this.expect(d.types.parenL), a.params = this.parseBindingList(d.types.parenR, !1, !1)
            }, g.parseClass = function(a, b) {
                this.next(), this.parseClassId(a, b), this.parseClassSuper(a);
                var c = this.startNode(),
                    e = !1;
                for (c.body = [], this.expect(d.types.braceL); !this.eat(d.types.braceR);)
                    if (!this.eat(d.types.semi)) {
                        var f = this.startNode(),
                            g = this.eat(d.types.star),
                            h = this.type === d.types.name && \"static\" === this.value;
                        this.parsePropertyName(f), f[\"static\"] = h && this.type !== d.types.parenL, f[\"static\"] && (g && this.unexpected(), g = this.eat(d.types.star), this.parsePropertyName(f)), f.kind = \"method\";
                        var i = !1;
                        if (!f.computed) {
                            var j = f.key;
                            g || \"Identifier\" !== j.type || this.type === d.types.parenL || \"get\" !== j.name && \"set\" !== j.name || (i = !0, f.kind = j.name, j = this.parsePropertyName(f)), !f[\"static\"] && (\"Identifier\" === j.type && \"constructor\" === j.name || \"Literal\" === j.type && \"constructor\" === j.value) && (e && this.raise(j.start, \"Duplicate constructor in the same class\"), i && this.raise(j.start, \"Constructor can't have get/set modifier\"), g && this.raise(j.start, \"Constructor can't be a generator\"), f.kind = \"constructor\", e = !0)
                        }
                        if (this.parseClassMethod(c, f, g), i) {
                            var k = \"get\" === f.kind ? 0 : 1;
                            if (f.value.params.length !== k) {
                                var l = f.value.start;
                                \"get\" === f.kind ? this.raise(l, \"getter should have no params\") : this.raise(l, \"setter should have exactly one param\")
                            }
                        }
                    }
                return a.body = this.finishNode(c, \"ClassBody\"), this.finishNode(a, b ? \"ClassDeclaration\" : \"ClassExpression\")
            }, g.parseClassMethod = function(a, b, c) {
                b.value = this.parseMethod(c), a.body.push(this.finishNode(b, \"MethodDefinition\"))
            }, g.parseClassId = function(a, b) {
                a.id = this.type === d.types.name ? this.parseIdent() : b ? this.unexpected() : null
            }, g.parseClassSuper = function(a) {
                a.superClass = this.eat(d.types._extends) ? this.parseExprSubscripts() : null
            }, g.parseExport = function(a) {
                if (this.next(), this.eat(d.types.star)) return this.expectContextual(\"from\"), a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected(), this.semicolon(), this.finishNode(a, \"ExportAllDeclaration\");
                if (this.eat(d.types._default)) {
                    var b = this.parseMaybeAssign(),
                        c = !0;
                    return (\"FunctionExpression\" == b.type || \"ClassExpression\" == b.type) && (c = !1, b.id && (b.type = \"FunctionExpression\" == b.type ? \"FunctionDeclaration\" : \"ClassDeclaration\")), a.declaration = b, c && this.semicolon(), this.finishNode(a, \"ExportDefaultDeclaration\")
                }
                return this.shouldParseExportStatement() ? (a.declaration = this.parseStatement(!0), a.specifiers = [], a.source = null) : (a.declaration = null, a.specifiers = this.parseExportSpecifiers(), this.eatContextual(\"from\") ? a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected() : a.source = null, this.semicolon()), this.finishNode(a, \"ExportNamedDeclaration\")
            }, g.shouldParseExportStatement = function() {
                return this.type.keyword
            }, g.parseExportSpecifiers = function() {
                var a = [],
                    b = !0;
                for (this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    if (b) b = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var c = this.startNode();
                    c.local = this.parseIdent(this.type === d.types._default), c.exported = this.eatContextual(\"as\") ? this.parseIdent(!0) : c.local, a.push(this.finishNode(c, \"ExportSpecifier\"))
                }
                return a
            }, g.parseImport = function(a) {
                return this.next(), this.type === d.types.string ? (a.specifiers = j, a.source = this.parseExprAtom()) : (a.specifiers = this.parseImportSpecifiers(), this.expectContextual(\"from\"), a.source = this.type === d.types.string ? this.parseExprAtom() : this.unexpected()), this.semicolon(), this.finishNode(a, \"ImportDeclaration\")
            }, g.parseImportSpecifiers = function() {
                var a = [],
                    b = !0;
                if (this.type === d.types.name) {
                    var c = this.startNode();
                    if (c.local = this.parseIdent(), this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportDefaultSpecifier\")), !this.eat(d.types.comma)) return a
                }
                if (this.type === d.types.star) {
                    var c = this.startNode();
                    return this.next(), this.expectContextual(\"as\"), c.local = this.parseIdent(), this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportNamespaceSpecifier\")), a
                }
                for (this.expect(d.types.braceL); !this.eat(d.types.braceR);) {
                    if (b) b = !1;
                    else if (this.expect(d.types.comma), this.afterTrailingComma(d.types.braceR)) break;
                    var c = this.startNode();
                    c.imported = this.parseIdent(!0), c.local = this.eatContextual(\"as\") ? this.parseIdent() : c.imported, this.checkLVal(c.local, !0), a.push(this.finishNode(c, \"ImportSpecifier\"))
                }
                return a
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        12: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"./state\"),
                f = a(\"./tokentype\"),
                g = a(\"./whitespace\"),
                h = function k(a, b, c, e) {
                    d(this, k), this.token = a, this.isExpr = !!b, this.preserveSpace = !!c, this.override = e
                };
            c.TokContext = h;
            var i = {
                b_stat: new h(\"{\", !1),
                b_expr: new h(\"{\", !0),
                b_tmpl: new h(\"\${\", !0),
                p_stat: new h(\"(\", !1),
                p_expr: new h(\"(\", !0),
                q_tmpl: new h(\"`\", !0, !0, function(a) {
                    return a.readTmplToken()
                }),
                f_expr: new h(\"function\", !0)
            };
            c.types = i;
            var j = e.Parser.prototype;
            j.initialContext = function() {
                return [i.b_stat]
            }, j.braceIsBlock = function(a) {
                if (a === f.types.colon) {
                    var b = this.curContext();
                    if (b === i.b_stat || b === i.b_expr) return !b.isExpr
                }
                return a === f.types._return ? g.lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) : a === f.types._else || a === f.types.semi || a === f.types.eof || a === f.types.parenR ? !0 : a == f.types.braceL ? this.curContext() === i.b_stat : !this.exprAllowed
            }, j.updateContext = function(a) {
                var b = void 0,
                    c = this.type;
                c.keyword && a == f.types.dot ? this.exprAllowed = !1 : (b = c.updateContext) ? b.call(this, a) : this.exprAllowed = c.beforeExpr
            }, f.types.parenR.updateContext = f.types.braceR.updateContext = function() {
                if (1 == this.context.length) return void(this.exprAllowed = !0);
                var a = this.context.pop();
                a === i.b_stat && this.curContext() === i.f_expr ? (this.context.pop(), this.exprAllowed = !1) : a === i.b_tmpl ? this.exprAllowed = !0 : this.exprAllowed = !a.isExpr
            }, f.types.braceL.updateContext = function(a) {
                this.context.push(this.braceIsBlock(a) ? i.b_stat : i.b_expr), this.exprAllowed = !0
            }, f.types.dollarBraceL.updateContext = function() {
                this.context.push(i.b_tmpl), this.exprAllowed = !0
            }, f.types.parenL.updateContext = function(a) {
                var b = a === f.types._if || a === f.types._for || a === f.types._with || a === f.types._while;
                this.context.push(b ? i.p_stat : i.p_expr), this.exprAllowed = !0
            }, f.types.incDec.updateContext = function() {}, f.types._function.updateContext = function() {
                this.curContext() !== i.b_stat && this.context.push(i.f_expr), this.exprAllowed = !1
            }, f.types.backQuote.updateContext = function() {
                this.curContext() === i.q_tmpl ? this.context.pop() : this.context.push(i.q_tmpl), this.exprAllowed = !1
            }
        }, {
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        13: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function m(a, b, c) {
                try {
                    return new RegExp(a, b)
                } catch (d) {
                    void 0 !== c && (d instanceof SyntaxError && this.raise(c, \"Error parsing regular expression: \" + d.message), this.raise(d))
                }
            }

            function o(a) {
                return 65535 >= a ? String.fromCharCode(a) : (a -= 65536, String.fromCharCode((a >> 10) + 55296, (1023 & a) + 56320))
            }
            c.__esModule = !0;
            var e = a(\"./identifier\"),
                f = a(\"./tokentype\"),
                g = a(\"./state\"),
                h = a(\"./locutil\"),
                i = a(\"./whitespace\"),
                j = function p(a) {
                    d(this, p), this.type = a.type, this.value = a.value, this.start = a.start, this.end = a.end, a.options.locations && (this.loc = new h.SourceLocation(a, a.startLoc, a.endLoc)), a.options.ranges && (this.range = [a.start, a.end])
                };
            c.Token = j;
            var k = g.Parser.prototype,
                l = \"object\" == typeof Packages && \"[object JavaPackage]\" == Object.prototype.toString.call(Packages);
            k.next = function() {
                this.options.onToken && this.options.onToken(new j(this)), this.lastTokEnd = this.end, this.lastTokStart = this.start, this.lastTokEndLoc = this.endLoc, this.lastTokStartLoc = this.startLoc, this.nextToken()
            }, k.getToken = function() {
                return this.next(), new j(this)
            }, \"undefined\" != typeof Symbol && (k[Symbol.iterator] = function() {
                var a = this;
                return {
                    next: function() {
                        var b = a.getToken();
                        return {
                            done: b.type === f.types.eof,
                            value: b
                        }
                    }
                }
            }), k.setStrict = function(a) {
                if (this.strict = a, this.type === f.types.num || this.type === f.types.string) {
                    if (this.pos = this.start, this.options.locations)
                        for (; this.pos < this.lineStart;) this.lineStart = this.input.lastIndexOf(\"\\n\", this.lineStart - 2) + 1, --this.curLine;
                    this.nextToken()
                }
            }, k.curContext = function() {
                return this.context[this.context.length - 1]
            }, k.nextToken = function() {
                var a = this.curContext();
                return a && a.preserveSpace || this.skipSpace(), this.start = this.pos, this.options.locations && (this.startLoc = this.curPosition()), this.pos >= this.input.length ? this.finishToken(f.types.eof) : a.override ? a.override(this) : void this.readToken(this.fullCharCodeAtPos())
            }, k.readToken = function(a) {
                return e.isIdentifierStart(a, this.options.ecmaVersion >= 6) || 92 === a ? this.readWord() : this.getTokenFromCode(a)
            }, k.fullCharCodeAtPos = function() {
                var a = this.input.charCodeAt(this.pos);
                if (55295 >= a || a >= 57344) return a;
                var b = this.input.charCodeAt(this.pos + 1);
                return (a << 10) + b - 56613888
            }, k.skipBlockComment = function() {
                var a = this.options.onComment && this.curPosition(),
                    b = this.pos,
                    c = this.input.indexOf(\"*/\", this.pos += 2);
                if (-1 === c && this.raise(this.pos - 2, \"Unterminated comment\"), this.pos = c + 2, this.options.locations) {
                    i.lineBreakG.lastIndex = b;
                    for (var d = void 0;
                        (d = i.lineBreakG.exec(this.input)) && d.index < this.pos;) ++this.curLine, this.lineStart = d.index + d[0].length
                }
                this.options.onComment && this.options.onComment(!0, this.input.slice(b + 2, c), b, this.pos, a, this.curPosition())
            }, k.skipLineComment = function(a) {
                for (var b = this.pos, c = this.options.onComment && this.curPosition(), d = this.input.charCodeAt(this.pos += a); this.pos < this.input.length && 10 !== d && 13 !== d && 8232 !== d && 8233 !== d;) ++this.pos, d = this.input.charCodeAt(this.pos);
                this.options.onComment && this.options.onComment(!1, this.input.slice(b + a, this.pos), b, this.pos, c, this.curPosition())
            }, k.skipSpace = function() {
                a: for (; this.pos < this.input.length;) {
                    var a = this.input.charCodeAt(this.pos);
                    switch (a) {
                        case 32:
                        case 160:
                            ++this.pos;
                            break;
                        case 13:
                            10 === this.input.charCodeAt(this.pos + 1) && ++this.pos;
                        case 10:
                        case 8232:
                        case 8233:
                            ++this.pos, this.options.locations && (++this.curLine, this.lineStart = this.pos);
                            break;
                        case 47:
                            switch (this.input.charCodeAt(this.pos + 1)) {
                                case 42:
                                    this.skipBlockComment();
                                    break;
                                case 47:
                                    this.skipLineComment(2);
                                    break;
                                default:
                                    break a
                            }
                            break;
                        default:
                            if (!(a > 8 && 14 > a || a >= 5760 && i.nonASCIIwhitespace.test(String.fromCharCode(a)))) break a;
                            ++this.pos
                    }
                }
            }, k.finishToken = function(a, b) {
                this.end = this.pos, this.options.locations && (this.endLoc = this.curPosition());
                var c = this.type;
                this.type = a, this.value = b, this.updateContext(c)
            }, k.readToken_dot = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                if (a >= 48 && 57 >= a) return this.readNumber(!0);
                var b = this.input.charCodeAt(this.pos + 2);
                return this.options.ecmaVersion >= 6 && 46 === a && 46 === b ? (this.pos += 3, this.finishToken(f.types.ellipsis)) : (++this.pos, this.finishToken(f.types.dot))
            }, k.readToken_slash = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                return this.exprAllowed ? (++this.pos, this.readRegexp()) : 61 === a ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.slash, 1)
            }, k.readToken_mult_modulo = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(42 === a ? f.types.star : f.types.modulo, 1)
            }, k.readToken_pipe_amp = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return b === a ? this.finishOp(124 === a ? f.types.logicalOR : f.types.logicalAND, 2) : 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(124 === a ? f.types.bitwiseOR : f.types.bitwiseAND, 1)
            }, k.readToken_caret = function() {
                var a = this.input.charCodeAt(this.pos + 1);
                return 61 === a ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.bitwiseXOR, 1)
            }, k.readToken_plus_min = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return b === a ? 45 == b && 62 == this.input.charCodeAt(this.pos + 2) && i.lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)) ? (this.skipLineComment(3), this.skipSpace(), this.nextToken()) : this.finishOp(f.types.incDec, 2) : 61 === b ? this.finishOp(f.types.assign, 2) : this.finishOp(f.types.plusMin, 1)
            }, k.readToken_lt_gt = function(a) {
                var b = this.input.charCodeAt(this.pos + 1),
                    c = 1;
                return b === a ? (c = 62 === a && 62 === this.input.charCodeAt(this.pos + 2) ? 3 : 2, 61 === this.input.charCodeAt(this.pos + c) ? this.finishOp(f.types.assign, c + 1) : this.finishOp(f.types.bitShift, c)) : 33 == b && 60 == a && 45 == this.input.charCodeAt(this.pos + 2) && 45 == this.input.charCodeAt(this.pos + 3) ? (this.inModule && this.unexpected(), this.skipLineComment(4), this.skipSpace(), this.nextToken()) : (61 === b && (c = 61 === this.input.charCodeAt(this.pos + 2) ? 3 : 2), this.finishOp(f.types.relational, c))
            }, k.readToken_eq_excl = function(a) {
                var b = this.input.charCodeAt(this.pos + 1);
                return 61 === b ? this.finishOp(f.types.equality, 61 === this.input.charCodeAt(this.pos + 2) ? 3 : 2) : 61 === a && 62 === b && this.options.ecmaVersion >= 6 ? (this.pos += 2, this.finishToken(f.types.arrow)) : this.finishOp(61 === a ? f.types.eq : f.types.prefix, 1)
            }, k.getTokenFromCode = function(a) {
                switch (a) {
                    case 46:
                        return this.readToken_dot();
                    case 40:
                        return ++this.pos, this.finishToken(f.types.parenL);
                    case 41:
                        return ++this.pos, this.finishToken(f.types.parenR);
                    case 59:
                        return ++this.pos, this.finishToken(f.types.semi);
                    case 44:
                        return ++this.pos, this.finishToken(f.types.comma);
                    case 91:
                        return ++this.pos, this.finishToken(f.types.bracketL);
                    case 93:
                        return ++this.pos, this.finishToken(f.types.bracketR);
                    case 123:
                        return ++this.pos, this.finishToken(f.types.braceL);
                    case 125:
                        return ++this.pos, this.finishToken(f.types.braceR);
                    case 58:
                        return ++this.pos, this.finishToken(f.types.colon);
                    case 63:
                        return ++this.pos, this.finishToken(f.types.question);
                    case 96:
                        if (this.options.ecmaVersion < 6) break;
                        return ++this.pos, this.finishToken(f.types.backQuote);
                    case 48:
                        var b = this.input.charCodeAt(this.pos + 1);
                        if (120 === b || 88 === b) return this.readRadixNumber(16);
                        if (this.options.ecmaVersion >= 6) {
                            if (111 === b || 79 === b) return this.readRadixNumber(8);
                            if (98 === b || 66 === b) return this.readRadixNumber(2);
                        }
                    case 49:
                    case 50:
                    case 51:
                    case 52:
                    case 53:
                    case 54:
                    case 55:
                    case 56:
                    case 57:
                        return this.readNumber(!1);
                    case 34:
                    case 39:
                        return this.readString(a);
                    case 47:
                        return this.readToken_slash();
                    case 37:
                    case 42:
                        return this.readToken_mult_modulo(a);
                    case 124:
                    case 38:
                        return this.readToken_pipe_amp(a);
                    case 94:
                        return this.readToken_caret();
                    case 43:
                    case 45:
                        return this.readToken_plus_min(a);
                    case 60:
                    case 62:
                        return this.readToken_lt_gt(a);
                    case 61:
                    case 33:
                        return this.readToken_eq_excl(a);
                    case 126:
                        return this.finishOp(f.types.prefix, 1)
                }
                this.raise(this.pos, \"Unexpected character '\" + o(a) + \"'\")
            }, k.finishOp = function(a, b) {
                var c = this.input.slice(this.pos, this.pos + b);
                return this.pos += b, this.finishToken(a, c)
            };
            var n = !!m(\"\\uffff\", \"u\");
            k.readRegexp = function() {
                for (var a = this, b = void 0, c = void 0, d = this.pos;;) {
                    this.pos >= this.input.length && this.raise(d, \"Unterminated regular expression\");
                    var e = this.input.charAt(this.pos);
                    if (i.lineBreak.test(e) && this.raise(d, \"Unterminated regular expression\"), b) b = !1;
                    else {
                        if (\"[\" === e) c = !0;
                        else if (\"]\" === e && c) c = !1;
                        else if (\"/\" === e && !c) break;
                        b = \"\\\\\" === e
                    }++this.pos
                }
                var g = this.input.slice(d, this.pos);
                ++this.pos;
                var h = this.readWord1(),
                    j = g;
                if (h) {
                    var k = /^[gmsiy]*\$/;
                    this.options.ecmaVersion >= 6 && (k = /^[gmsiyu]*\$/), k.test(h) || this.raise(d, \"Invalid regular expression flag\"), h.indexOf(\"u\") >= 0 && !n && (j = j.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g, function(b, c, e) {
                        return c = Number(\"0x\" + c), c > 1114111 && a.raise(d + e + 3, \"Code point out of bounds\"), \"x\"
                    }), j = j.replace(/\\\\u([a-fA-F0-9]{4})|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, \"x\"))
                }
                var o = null;
                return l || (m(j, void 0, d), o = m(g, h)), this.finishToken(f.types.regexp, {
                    pattern: g,
                    flags: h,
                    value: o
                })
            }, k.readInt = function(a, b) {
                for (var c = this.pos, d = 0, e = 0, f = null == b ? 1 / 0 : b; f > e; ++e) {
                    var g = this.input.charCodeAt(this.pos),
                        h = void 0;
                    if (h = g >= 97 ? g - 97 + 10 : g >= 65 ? g - 65 + 10 : g >= 48 && 57 >= g ? g - 48 : 1 / 0, h >= a) break;
                    ++this.pos, d = d * a + h
                }
                return this.pos === c || null != b && this.pos - c !== b ? null : d
            }, k.readRadixNumber = function(a) {
                this.pos += 2;
                var b = this.readInt(a);
                return null == b && this.raise(this.start + 2, \"Expected number in radix \" + a), e.isIdentifierStart(this.fullCharCodeAtPos()) && this.raise(this.pos, \"Identifier directly after number\"), this.finishToken(f.types.num, b)
            }, k.readNumber = function(a) {
                var b = this.pos,
                    c = !1,
                    d = 48 === this.input.charCodeAt(this.pos);
                a || null !== this.readInt(10) || this.raise(b, \"Invalid number\");
                var g = this.input.charCodeAt(this.pos);
                46 === g && (++this.pos, this.readInt(10), c = !0, g = this.input.charCodeAt(this.pos)), (69 === g || 101 === g) && (g = this.input.charCodeAt(++this.pos), (43 === g || 45 === g) && ++this.pos, null === this.readInt(10) && this.raise(b, \"Invalid number\"), c = !0), e.isIdentifierStart(this.fullCharCodeAtPos()) && this.raise(this.pos, \"Identifier directly after number\");
                var h = this.input.slice(b, this.pos),
                    i = void 0;
                return c ? i = parseFloat(h) : d && 1 !== h.length ? /[89]/.test(h) || this.strict ? this.raise(b, \"Invalid number\") : i = parseInt(h, 8) : i = parseInt(h, 10), this.finishToken(f.types.num, i)
            }, k.readCodePoint = function() {
                var a = this.input.charCodeAt(this.pos),
                    b = void 0;
                if (123 === a) {
                    this.options.ecmaVersion < 6 && this.unexpected();
                    var c = ++this.pos;
                    b = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos), ++this.pos, b > 1114111 && this.raise(c, \"Code point out of bounds\")
                } else b = this.readHexChar(4);
                return b
            }, k.readString = function(a) {
                for (var b = \"\", c = ++this.pos;;) {
                    this.pos >= this.input.length && this.raise(this.start, \"Unterminated string constant\");
                    var d = this.input.charCodeAt(this.pos);
                    if (d === a) break;
                    92 === d ? (b += this.input.slice(c, this.pos), b += this.readEscapedChar(!1), c = this.pos) : (i.isNewLine(d) && this.raise(this.start, \"Unterminated string constant\"), ++this.pos)
                }
                return b += this.input.slice(c, this.pos++), this.finishToken(f.types.string, b)
            }, k.readTmplToken = function() {
                for (var a = \"\", b = this.pos;;) {
                    this.pos >= this.input.length && this.raise(this.start, \"Unterminated template\");
                    var c = this.input.charCodeAt(this.pos);
                    if (96 === c || 36 === c && 123 === this.input.charCodeAt(this.pos + 1)) return this.pos === this.start && this.type === f.types.template ? 36 === c ? (this.pos += 2, this.finishToken(f.types.dollarBraceL)) : (++this.pos, this.finishToken(f.types.backQuote)) : (a += this.input.slice(b, this.pos), this.finishToken(f.types.template, a));
                    if (92 === c) a += this.input.slice(b, this.pos), a += this.readEscapedChar(!0), b = this.pos;
                    else if (i.isNewLine(c)) {
                        switch (a += this.input.slice(b, this.pos), ++this.pos, c) {
                            case 13:
                                10 === this.input.charCodeAt(this.pos) && ++this.pos;
                            case 10:
                                a += \"\\n\";
                                break;
                            default:
                                a += String.fromCharCode(c)
                        }
                        this.options.locations && (++this.curLine, this.lineStart = this.pos), b = this.pos
                    } else ++this.pos
                }
            }, k.readEscapedChar = function(a) {
                var b = this.input.charCodeAt(++this.pos);
                switch (++this.pos, b) {
                    case 110:
                        return \"\\n\";
                    case 114:
                        return \"\\r\";
                    case 120:
                        return String.fromCharCode(this.readHexChar(2));
                    case 117:
                        return o(this.readCodePoint());
                    case 116:
                        return \"  \";
                    case 98:
                        return \"\\b\";
                    case 118:
                        return \"\";
                    case 102:
                        return \"\\f\";
                    case 13:
                        10 === this.input.charCodeAt(this.pos) && ++this.pos;
                    case 10:
                        return this.options.locations && (this.lineStart = this.pos, ++this.curLine), \"\";
                    default:
                        if (b >= 48 && 55 >= b) {
                            var c = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0],
                                d = parseInt(c, 8);
                            return d > 255 && (c = c.slice(0, -1), d = parseInt(c, 8)), d > 0 && (this.strict || a) && this.raise(this.pos - 2, \"Octal literal in strict mode\"), this.pos += c.length - 1, String.fromCharCode(d)
                        }
                        return String.fromCharCode(b)
                }
            }, k.readHexChar = function(a) {
                var b = this.pos,
                    c = this.readInt(16, a);
                return null === c && this.raise(b, \"Bad character escape sequence\"), c
            }, k.readWord1 = function() {
                this.containsEsc = !1;
                for (var a = \"\", b = !0, c = this.pos, d = this.options.ecmaVersion >= 6; this.pos < this.input.length;) {
                    var f = this.fullCharCodeAtPos();
                    if (e.isIdentifierChar(f, d)) this.pos += 65535 >= f ? 1 : 2;
                    else {
                        if (92 !== f) break;
                        this.containsEsc = !0, a += this.input.slice(c, this.pos);
                        var g = this.pos;
                        117 != this.input.charCodeAt(++this.pos) && this.raise(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"), ++this.pos;
                        var h = this.readCodePoint();
                        (b ? e.isIdentifierStart : e.isIdentifierChar)(h, d) || this.raise(g, \"Invalid Unicode escape\"), a += o(h), c = this.pos
                    }
                    b = !1
                }
                return a + this.input.slice(c, this.pos)
            }, k.readWord = function() {
                var a = this.readWord1(),
                    b = f.types.name;
                return (this.options.ecmaVersion >= 6 || !this.containsEsc) && this.isKeyword(a) && (b = f.keywords[a]), this.finishToken(b, a)
            }
        }, {
            \"./identifier\": 2,
            \"./locutil\": 5,
            \"./state\": 10,
            \"./tokentype\": 14,
            \"./whitespace\": 16
        }],
        14: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function f(a, b) {
                return new e(a, {
                    beforeExpr: !0,
                    binop: b
                })
            }

            function k(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                b.keyword = a, j[a] = i[\"_\" + a] = new e(a, b)
            }
            c.__esModule = !0;
            var e = function l(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                d(this, l), this.label = a, this.keyword = b.keyword, this.beforeExpr = !!b.beforeExpr, this.startsExpr = !!b.startsExpr, this.isLoop = !!b.isLoop, this.isAssign = !!b.isAssign, this.prefix = !!b.prefix, this.postfix = !!b.postfix, this.binop = b.binop || null, this.updateContext = null
            };
            c.TokenType = e;
            var g = {
                    beforeExpr: !0
                },
                h = {
                    startsExpr: !0
                },
                i = {
                    num: new e(\"num\", h),
                    regexp: new e(\"regexp\", h),
                    string: new e(\"string\", h),
                    name: new e(\"name\", h),
                    eof: new e(\"eof\"),
                    bracketL: new e(\"[\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    bracketR: new e(\"]\"),
                    braceL: new e(\"{\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    braceR: new e(\"}\"),
                    parenL: new e(\"(\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    parenR: new e(\")\"),
                    comma: new e(\",\", g),
                    semi: new e(\";\", g),
                    colon: new e(\":\", g),
                    dot: new e(\".\"),
                    question: new e(\"?\", g),
                    arrow: new e(\"=>\", g),
                    template: new e(\"template\"),
                    ellipsis: new e(\"...\", g),
                    backQuote: new e(\"`\", h),
                    dollarBraceL: new e(\"\${\", {
                        beforeExpr: !0,
                        startsExpr: !0
                    }),
                    eq: new e(\"=\", {
                        beforeExpr: !0,
                        isAssign: !0
                    }),
                    assign: new e(\"_=\", {
                        beforeExpr: !0,
                        isAssign: !0
                    }),
                    incDec: new e(\"++/--\", {
                        prefix: !0,
                        postfix: !0,
                        startsExpr: !0
                    }),
                    prefix: new e(\"prefix\", {
                        beforeExpr: !0,
                        prefix: !0,
                        startsExpr: !0
                    }),
                    logicalOR: f(\"||\", 1),
                    logicalAND: f(\"&&\", 2),
                    bitwiseOR: f(\"|\", 3),
                    bitwiseXOR: f(\"^\", 4),
                    bitwiseAND: f(\"&\", 5),
                    equality: f(\"==/!=\", 6),
                    relational: f(\"</>\", 7),
                    bitShift: f(\"<</>>\", 8),
                    plusMin: new e(\"+/-\", {
                        beforeExpr: !0,
                        binop: 9,
                        prefix: !0,
                        startsExpr: !0
                    }),
                    modulo: f(\"%\", 10),
                    star: f(\"*\", 10),
                    slash: f(\"/\", 10)
                };
            c.types = i;
            var j = {};
            c.keywords = j, k(\"break\"), k(\"case\", g), k(\"catch\"), k(\"continue\"), k(\"debugger\"), k(\"default\", g), k(\"do\", {
                isLoop: !0
            }), k(\"else\", g), k(\"finally\"), k(\"for\", {
                isLoop: !0
            }), k(\"function\", h), k(\"if\"), k(\"return\", g), k(\"switch\"), k(\"throw\", g), k(\"try\"), k(\"var\"), k(\"let\"), k(\"const\"), k(\"while\", {
                isLoop: !0
            }), k(\"with\"), k(\"new\", {
                beforeExpr: !0,
                startsExpr: !0
            }), k(\"this\", h), k(\"super\", h), k(\"class\"), k(\"extends\", g), k(\"export\"), k(\"import\"), k(\"yield\", {
                beforeExpr: !0,
                startsExpr: !0
            }), k(\"null\", h), k(\"true\", h), k(\"false\", h), k(\"in\", {
                beforeExpr: !0,
                binop: 7
            }), k(\"instanceof\", {
                beforeExpr: !0,
                binop: 7
            }), k(\"typeof\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            }), k(\"void\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            }), k(\"delete\", {
                beforeExpr: !0,
                prefix: !0,
                startsExpr: !0
            })
        }, {}],
        15: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                return \"[object Array]\" === Object.prototype.toString.call(a)
            }

            function e(a, b) {
                return Object.prototype.hasOwnProperty.call(a, b)
            }
            c.__esModule = !0, c.isArray = d, c.has = e
        }, {}],
        16: [function(a, b, c) {
            \"use strict\";

            function f(a) {
                return 10 === a || 13 === a || 8232 === a || 8233 == a
            }
            c.__esModule = !0, c.isNewLine = f;
            var d = /\\r\\n?|\\n|\\u2028|\\u2029/;
            c.lineBreak = d;
            var e = new RegExp(d.source, \"g\");
            c.lineBreakG = e;
            var g = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;
            c.nonASCIIwhitespace = g
        }, {}]
    }, {}, [3])(3)
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, (b.acorn || (b.acorn = {})).loose = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";
            b.exports = \"undefined\" != typeof acorn ? acorn : require(\"./acorn\")
        }, {}],
        2: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./parseutil\"),
                f = a(\"..\"),
                g = d.LooseParser.prototype;
            g.checkLVal = function(a, b) {
                if (!a) return a;
                switch (a.type) {
                    case \"Identifier\":
                        return a;
                    case \"MemberExpression\":
                        return b ? this.dummyIdent() : a;
                    case \"ParenthesizedExpression\":
                        return a.expression = this.checkLVal(a.expression, b), a;
                    case \"ObjectPattern\":
                    case \"ArrayPattern\":
                    case \"RestElement\":
                    case \"AssignmentPattern\":
                        if (this.options.ecmaVersion >= 6) return a;
                    default:
                        return this.dummyIdent()
                }
            }, g.parseExpression = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseMaybeAssign(a);
                if (this.tok.type === f.tokTypes.comma) {
                    var d = this.startNodeAt(b);
                    for (d.expressions = [c]; this.eat(f.tokTypes.comma);) d.expressions.push(this.parseMaybeAssign(a));
                    return this.finishNode(d, \"SequenceExpression\")
                }
                return c
            }, g.parseParenExpression = function() {
                this.pushCx(), this.expect(f.tokTypes.parenL);
                var a = this.parseExpression();
                return this.popCx(), this.expect(f.tokTypes.parenR), a
            }, g.parseMaybeAssign = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseMaybeConditional(a);
                if (this.tok.type.isAssign) {
                    var d = this.startNodeAt(b);
                    return d.operator = this.tok.value, d.left = this.tok.type === f.tokTypes.eq ? this.toAssignable(c) : this.checkLVal(c), this.next(), d.right = this.parseMaybeAssign(a), this.finishNode(d, \"AssignmentExpression\")
                }
                return c
            }, g.parseMaybeConditional = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.parseExprOps(a);
                if (this.eat(f.tokTypes.question)) {
                    var d = this.startNodeAt(b);
                    return d.test = c, d.consequent = this.parseMaybeAssign(), d.alternate = this.expect(f.tokTypes.colon) ? this.parseMaybeAssign(a) : this.dummyIdent(), this.finishNode(d, \"ConditionalExpression\")
                }
                return c
            }, g.parseExprOps = function(a) {
                var b = this.storeCurrentPos(),
                    c = this.curIndent,
                    d = this.curLineStart;
                return this.parseExprOp(this.parseMaybeUnary(a), b, -1, a, c, d)
            }, g.parseExprOp = function(a, b, c, d, e, g) {
                if (this.curLineStart != g && this.curIndent < e && this.tokenStartsLine()) return a;
                var h = this.tok.type.binop;
                if (null != h && (!d || this.tok.type !== f.tokTypes._in) && h > c) {
                    var i = this.startNodeAt(b);
                    if (i.left = a, i.operator = this.tok.value, this.next(), this.curLineStart != g && this.curIndent < e && this.tokenStartsLine()) i.right = this.dummyIdent();
                    else {
                        var j = this.storeCurrentPos();
                        i.right = this.parseExprOp(this.parseMaybeUnary(d), j, h, d, e, g)
                    }
                    return this.finishNode(i, /&&|\\|\\|/.test(i.operator) ? \"LogicalExpression\" : \"BinaryExpression\"), this.parseExprOp(i, b, c, d, e, g)
                }
                return a
            }, g.parseMaybeUnary = function(a) {
                if (this.tok.type.prefix) {
                    var b = this.startNode(),
                        c = this.tok.type === f.tokTypes.incDec;
                    return b.operator = this.tok.value, b.prefix = !0, this.next(), b.argument = this.parseMaybeUnary(a), c && (b.argument = this.checkLVal(b.argument)), this.finishNode(b, c ? \"UpdateExpression\" : \"UnaryExpression\")
                }
                if (this.tok.type === f.tokTypes.ellipsis) {
                    var b = this.startNode();
                    return this.next(), b.argument = this.parseMaybeUnary(a), this.finishNode(b, \"SpreadElement\")
                }
                for (var d = this.storeCurrentPos(), e = this.parseExprSubscripts(); this.tok.type.postfix && !this.canInsertSemicolon();) {
                    var b = this.startNodeAt(d);
                    b.operator = this.tok.value, b.prefix = !1, b.argument = this.checkLVal(e), this.next(), e = this.finishNode(b, \"UpdateExpression\")
                }
                return e
            }, g.parseExprSubscripts = function() {
                var a = this.storeCurrentPos();
                return this.parseSubscripts(this.parseExprAtom(), a, !1, this.curIndent, this.curLineStart)
            }, g.parseSubscripts = function(a, b, c, d, e) {
                for (;;) {
                    if (this.curLineStart != e && this.curIndent <= d && this.tokenStartsLine()) {
                        if (this.tok.type != f.tokTypes.dot || this.curIndent != d) return a;
                        --d
                    }
                    if (this.eat(f.tokTypes.dot)) {
                        var g = this.startNodeAt(b);
                        g.object = a, this.curLineStart != e && this.curIndent <= d && this.tokenStartsLine() ? g.property = this.dummyIdent() : g.property = this.parsePropertyAccessor() || this.dummyIdent(), g.computed = !1, a = this.finishNode(g, \"MemberExpression\")
                    } else if (this.tok.type == f.tokTypes.bracketL) {
                        this.pushCx(), this.next();
                        var g = this.startNodeAt(b);
                        g.object = a, g.property = this.parseExpression(), g.computed = !0, this.popCx(), this.expect(f.tokTypes.bracketR), a = this.finishNode(g, \"MemberExpression\")
                    } else if (c || this.tok.type != f.tokTypes.parenL) {
                        if (this.tok.type != f.tokTypes.backQuote) return a;
                        var g = this.startNodeAt(b);
                        g.tag = a, g.quasi = this.parseTemplate(), a = this.finishNode(g, \"TaggedTemplateExpression\")
                    } else {
                        var g = this.startNodeAt(b);
                        g.callee = a, g.arguments = this.parseExprList(f.tokTypes.parenR), a = this.finishNode(g, \"CallExpression\")
                    }
                }
            }, g.parseExprAtom = function() {
                var a = void 0;
                switch (this.tok.type) {
                    case f.tokTypes._this:
                    case f.tokTypes._super:
                        var b = this.tok.type === f.tokTypes._this ? \"ThisExpression\" : \"Super\";
                        return a = this.startNode(), this.next(), this.finishNode(a, b);
                    case f.tokTypes.name:
                        var c = this.storeCurrentPos(),
                            d = this.parseIdent();
                        return this.eat(f.tokTypes.arrow) ? this.parseArrowExpression(this.startNodeAt(c), [d]) : d;
                    case f.tokTypes.regexp:
                        a = this.startNode();
                        var g = this.tok.value;
                        return a.regex = {
                            pattern: g.pattern,
                            flags: g.flags
                        }, a.value = g.value, a.raw = this.input.slice(this.tok.start, this.tok.end), this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes.num:
                    case f.tokTypes.string:
                        return a = this.startNode(), a.value = this.tok.value, a.raw = this.input.slice(this.tok.start, this.tok.end), this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes._null:
                    case f.tokTypes._true:
                    case f.tokTypes._false:
                        return a = this.startNode(), a.value = this.tok.type === f.tokTypes._null ? null : this.tok.type === f.tokTypes._true, a.raw = this.tok.type.keyword, this.next(), this.finishNode(a, \"Literal\");
                    case f.tokTypes.parenL:
                        var h = this.storeCurrentPos();
                        this.next();
                        var i = this.parseExpression();
                        if (this.expect(f.tokTypes.parenR), this.eat(f.tokTypes.arrow)) return this.parseArrowExpression(this.startNodeAt(h), i.expressions || (e.isDummy(i) ? [] : [i]));
                        if (this.options.preserveParens) {
                            var j = this.startNodeAt(h);
                            j.expression = i, i = this.finishNode(j, \"ParenthesizedExpression\")
                        }
                        return i;
                    case f.tokTypes.bracketL:
                        return a = this.startNode(), a.elements = this.parseExprList(f.tokTypes.bracketR, !0), this.finishNode(a, \"ArrayExpression\");
                    case f.tokTypes.braceL:
                        return this.parseObj();
                    case f.tokTypes._class:
                        return this.parseClass();
                    case f.tokTypes._function:
                        return a = this.startNode(), this.next(), this.parseFunction(a, !1);
                    case f.tokTypes._new:
                        return this.parseNew();
                    case f.tokTypes._yield:
                        return a = this.startNode(), this.next(), this.semicolon() || this.canInsertSemicolon() || this.tok.type != f.tokTypes.star && !this.tok.type.startsExpr ? (a.delegate = !1, a.argument = null) : (a.delegate = this.eat(f.tokTypes.star), a.argument = this.parseMaybeAssign()), this.finishNode(a, \"YieldExpression\");
                    case f.tokTypes.backQuote:
                        return this.parseTemplate();
                    default:
                        return this.dummyIdent()
                }
            }, g.parseNew = function() {
                var a = this.startNode(),
                    b = this.curIndent,
                    c = this.curLineStart,
                    d = this.parseIdent(!0);
                if (this.options.ecmaVersion >= 6 && this.eat(f.tokTypes.dot)) return a.meta = d, a.property = this.parseIdent(!0), this.finishNode(a, \"MetaProperty\");
                var e = this.storeCurrentPos();
                return a.callee = this.parseSubscripts(this.parseExprAtom(), e, !0, b, c), this.tok.type == f.tokTypes.parenL ? a.arguments = this.parseExprList(f.tokTypes.parenR) : a.arguments = [], this.finishNode(a, \"NewExpression\")
            }, g.parseTemplateElement = function() {
                var a = this.startNode();
                return a.value = {
                    raw: this.input.slice(this.tok.start, this.tok.end).replace(/\\r\\n?/g, \"\\n\"),
                    cooked: this.tok.value
                }, this.next(), a.tail = this.tok.type === f.tokTypes.backQuote, this.finishNode(a, \"TemplateElement\")
            }, g.parseTemplate = function() {
                var a = this.startNode();
                this.next(), a.expressions = [];
                var b = this.parseTemplateElement();
                for (a.quasis = [b]; !b.tail;) this.next(), a.expressions.push(this.parseExpression()), this.expect(f.tokTypes.braceR) ? b = this.parseTemplateElement() : (b = this.startNode(), b.value = {
                    cooked: \"\",
                    raw: \"\"
                }, b.tail = !0), a.quasis.push(b);
                return this.expect(f.tokTypes.backQuote), this.finishNode(a, \"TemplateLiteral\")
            }, g.parseObj = function() {
                var a = this.startNode();
                a.properties = [], this.pushCx();
                var b = this.curIndent + 1,
                    c = this.curLineStart;
                for (this.eat(f.tokTypes.braceL), this.curIndent + 1 < b && (b = this.curIndent, c = this.curLineStart); !this.closes(f.tokTypes.braceR, b, c);) {
                    var d = this.startNode(),
                        g = void 0,
                        h = void 0;
                    if (this.options.ecmaVersion >= 6 && (h = this.storeCurrentPos(), d.method = !1, d.shorthand = !1, g = this.eat(f.tokTypes.star)), this.parsePropertyName(d), e.isDummy(d.key)) e.isDummy(this.parseMaybeAssign()) && this.next(), this.eat(f.tokTypes.comma);
                    else {
                        if (this.eat(f.tokTypes.colon)) d.kind = \"init\", d.value = this.parseMaybeAssign();
                        else if (this.options.ecmaVersion >= 6 && (this.tok.type === f.tokTypes.parenL || this.tok.type === f.tokTypes.braceL)) d.kind = \"init\", d.method = !0, d.value = this.parseMethod(g);
                        else if (this.options.ecmaVersion >= 5 && \"Identifier\" === d.key.type && !d.computed && (\"get\" === d.key.name || \"set\" === d.key.name) && this.tok.type != f.tokTypes.comma && this.tok.type != f.tokTypes.braceR) d.kind = d.key.name, this.parsePropertyName(d), d.value = this.parseMethod(!1);
                        else {
                            if (d.kind = \"init\", this.options.ecmaVersion >= 6)
                                if (this.eat(f.tokTypes.eq)) {
                                    var i = this.startNodeAt(h);
                                    i.operator = \"=\", i.left = d.key, i.right = this.parseMaybeAssign(), d.value = this.finishNode(i, \"AssignmentExpression\")
                                } else d.value = d.key;
                            else d.value = this.dummyIdent();
                            d.shorthand = !0
                        }
                        a.properties.push(this.finishNode(d, \"Property\")), this.eat(f.tokTypes.comma)
                    }
                }
                return this.popCx(), this.eat(f.tokTypes.braceR) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), this.finishNode(a, \"ObjectExpression\")
            }, g.parsePropertyName = function(a) {
                if (this.options.ecmaVersion >= 6) {
                    if (this.eat(f.tokTypes.bracketL)) return a.computed = !0, a.key = this.parseExpression(), void this.expect(f.tokTypes.bracketR);
                    a.computed = !1
                }
                var b = this.tok.type === f.tokTypes.num || this.tok.type === f.tokTypes.string ? this.parseExprAtom() : this.parseIdent();
                a.key = b || this.dummyIdent()
            }, g.parsePropertyAccessor = function() {
                return this.tok.type === f.tokTypes.name || this.tok.type.keyword ? this.parseIdent() : void 0
            }, g.parseIdent = function() {
                var a = this.tok.type === f.tokTypes.name ? this.tok.value : this.tok.type.keyword;
                if (!a) return this.dummyIdent();
                var b = this.startNode();
                return this.next(), b.name = a, this.finishNode(b, \"Identifier\")
            }, g.initFunction = function(a) {
                a.id = null, a.params = [], this.options.ecmaVersion >= 6 && (a.generator = !1, a.expression = !1)
            }, g.toAssignable = function(a, b) {
                if (this.options.ecmaVersion >= 6 && a) switch (a.type) {
                    case \"ObjectExpression\":
                        a.type = \"ObjectPattern\";
                        for (var c = a.properties, d = 0; d < c.length; d++) this.toAssignable(c[d].value, b);
                        break;
                    case \"ArrayExpression\":
                        a.type = \"ArrayPattern\", this.toAssignableList(a.elements, b);
                        break;
                    case \"SpreadElement\":
                        a.type = \"RestElement\", a.argument = this.toAssignable(a.argument, b);
                        break;
                    case \"AssignmentExpression\":
                        a.type = \"AssignmentPattern\", delete a.operator
                }
                return this.checkLVal(a, b)
            }, g.toAssignableList = function(a, b) {
                for (var c = 0; c < a.length; c++) a[c] = this.toAssignable(a[c], b);
                return a
            }, g.parseFunctionParams = function(a) {
                return a = this.parseExprList(f.tokTypes.parenR), this.toAssignableList(a, !0)
            }, g.parseMethod = function(a) {
                var b = this.startNode();
                return this.initFunction(b), b.params = this.parseFunctionParams(), b.generator = a || !1, b.expression = this.options.ecmaVersion >= 6 && this.tok.type !== f.tokTypes.braceL, b.body = b.expression ? this.parseMaybeAssign() : this.parseBlock(), this.finishNode(b, \"FunctionExpression\")
            }, g.parseArrowExpression = function(a, b) {
                return this.initFunction(a), a.params = this.toAssignableList(b, !0), a.expression = this.tok.type !== f.tokTypes.braceL, a.body = a.expression ? this.parseMaybeAssign() : this.parseBlock(), this.finishNode(a, \"ArrowFunctionExpression\")
            }, g.parseExprList = function(a, b) {
                this.pushCx();
                var c = this.curIndent,
                    d = this.curLineStart,
                    g = [];
                for (this.next(); !this.closes(a, c + 1, d);)
                    if (this.eat(f.tokTypes.comma)) g.push(b ? null : this.dummyIdent());
                    else {
                        var h = this.parseMaybeAssign();
                        if (e.isDummy(h)) {
                            if (this.closes(a, c, d)) break;
                            this.next()
                        } else g.push(h);
                        this.eat(f.tokTypes.comma)
                    }
                return this.popCx(), this.eat(a) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), g
            }
        }, {
            \"..\": 1,
            \"./parseutil\": 4,
            \"./state\": 5
        }],
        3: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                if (a && a.__esModule) return a;
                var b = {};
                if (null != a)
                    for (var c in a) Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b[\"default\"] = a, b
            }

            function h(a, b) {
                var c = new g.LooseParser(a, b);
                return c.next(), c.parseTopLevel()
            }
            c.__esModule = !0, c.parse_dammit = h;
            var e = a(\"..\"),
                f = d(e),
                g = a(\"./state\");
            a(\"./tokenize\"), a(\"./statement\"), a(\"./expression\"), c.LooseParser = g.LooseParser, f.defaultOptions.tabSize = 4, f.parse_dammit = h, f.LooseParser = g.LooseParser
        }, {
            \"..\": 1,
            \"./expression\": 2,
            \"./state\": 5,
            \"./statement\": 6,
            \"./tokenize\": 7
        }],
        4: [function(a, b, c) {
            \"use strict\";

            function d(a) {
                return \"\\u2716\" == a.name
            }
            c.__esModule = !0, c.isDummy = d
        }, {}],
        5: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }
            c.__esModule = !0;
            var e = a(\"..\"),
                f = function() {
                    function a(b, c) {
                        if (d(this, a), this.toks = e.tokenizer(b, c), this.options = this.toks.options, this.input = this.toks.input, this.tok = this.last = {
                                type: e.tokTypes.eof,
                                start: 0,
                                end: 0
                            }, this.options.locations) {
                            var f = this.toks.curPosition();
                            this.tok.loc = new e.SourceLocation(this.toks, f, f)
                        }
                        this.ahead = [], this.context = [], this.curIndent = 0, this.curLineStart = 0, this.nextLineStart = this.lineEnd(this.curLineStart) + 1
                    }
                    return a.prototype.startNode = function() {
                        return new e.Node(this.toks, this.tok.start, this.options.locations ? this.tok.loc.start : null)
                    }, a.prototype.storeCurrentPos = function() {
                        return this.options.locations ? [this.tok.start, this.tok.loc.start] : this.tok.start
                    }, a.prototype.startNodeAt = function(a) {
                        return this.options.locations ? new e.Node(this.toks, a[0], a[1]) : new e.Node(this.toks, a)
                    }, a.prototype.finishNode = function(a, b) {
                        return a.type = b, a.end = this.last.end, this.options.locations && (a.loc.end = this.last.loc.end), this.options.ranges && (a.range[1] = this.last.end), a
                    }, a.prototype.dummyIdent = function() {
                        var a = this.startNode();
                        return a.name = \"\\u2716\", this.finishNode(a, \"Identifier\")
                    }, a.prototype.dummyString = function() {
                        var a = this.startNode();
                        return a.value = a.raw = \"\\u2716\", this.finishNode(a, \"Literal\")
                    }, a.prototype.eat = function(a) {
                        return this.tok.type === a ? (this.next(), !0) : !1
                    }, a.prototype.isContextual = function(a) {
                        return this.tok.type === e.tokTypes.name && this.tok.value === a
                    }, a.prototype.eatContextual = function(a) {
                        return this.tok.value === a && this.eat(e.tokTypes.name)
                    }, a.prototype.canInsertSemicolon = function() {
                        return this.tok.type === e.tokTypes.eof || this.tok.type === e.tokTypes.braceR || e.lineBreak.test(this.input.slice(this.last.end, this.tok.start))
                    }, a.prototype.semicolon = function() {
                        return this.eat(e.tokTypes.semi)
                    }, a.prototype.expect = function(a) {
                        if (this.eat(a)) return !0;
                        for (var b = 1; 2 >= b; b++)
                            if (this.lookAhead(b).type == a) {
                                for (var c = 0; b > c; c++) this.next();
                                return !0
                            }
                    }, a.prototype.pushCx = function() {
                        this.context.push(this.curIndent)
                    }, a.prototype.popCx = function() {
                        this.curIndent = this.context.pop()
                    }, a.prototype.lineEnd = function(a) {
                        for (; a < this.input.length && !e.isNewLine(this.input.charCodeAt(a));) ++a;
                        return a
                    }, a.prototype.indentationAfter = function(a) {
                        for (var b = 0;; ++a) {
                            var c = this.input.charCodeAt(a);
                            if (32 === c) ++b;
                            else {
                                if (9 !== c) return b;
                                b += this.options.tabSize
                            }
                        }
                    }, a.prototype.closes = function(a, b, c, d) {
                        return this.tok.type === a || this.tok.type === e.tokTypes.eof ? !0 : c != this.curLineStart && this.curIndent < b && this.tokenStartsLine() && (!d || this.nextLineStart >= this.input.length || this.indentationAfter(this.nextLineStart) < b)
                    }, a.prototype.tokenStartsLine = function() {
                        for (var a = this.tok.start - 1; a >= this.curLineStart; --a) {
                            var b = this.input.charCodeAt(a);
                            if (9 !== b && 32 !== b) return !1
                        }
                        return !0
                    }, a
                }();
            c.LooseParser = f
        }, {
            \"..\": 1
        }],
        6: [function(a, b, c) {
            \"use strict\";
            var d = a(\"./state\"),
                e = a(\"./parseutil\"),
                f = a(\"..\"),
                g = d.LooseParser.prototype;
            g.parseTopLevel = function() {
                var a = this.startNodeAt(this.options.locations ? [0, f.getLineInfo(this.input, 0)] : 0);
                for (a.body = []; this.tok.type !== f.tokTypes.eof;) a.body.push(this.parseStatement());
                return this.last = this.tok, this.options.ecmaVersion >= 6 && (a.sourceType = this.options.sourceType), this.finishNode(a, \"Program\")
            }, g.parseStatement = function() {
                var a = this.tok.type,
                    b = this.startNode();
                switch (a) {
                    case f.tokTypes._break:
                    case f.tokTypes._continue:
                        this.next();
                        var c = a === f.tokTypes._break;
                        return this.semicolon() || this.canInsertSemicolon() ? b.label = null : (b.label = this.tok.type === f.tokTypes.name ? this.parseIdent() : null, this.semicolon()), this.finishNode(b, c ? \"BreakStatement\" : \"ContinueStatement\");
                    case f.tokTypes._debugger:
                        return this.next(), this.semicolon(), this.finishNode(b, \"DebuggerStatement\");
                    case f.tokTypes._do:
                        return this.next(), b.body = this.parseStatement(), b.test = this.eat(f.tokTypes._while) ? this.parseParenExpression() : this.dummyIdent(), this.semicolon(), this.finishNode(b, \"DoWhileStatement\");
                    case f.tokTypes._for:
                        if (this.next(), this.pushCx(), this.expect(f.tokTypes.parenL), this.tok.type === f.tokTypes.semi) return this.parseFor(b, null);
                        if (this.tok.type === f.tokTypes._var || this.tok.type === f.tokTypes._let || this.tok.type === f.tokTypes._const) {
                            var d = this.parseVar(!0);
                            return 1 !== d.declarations.length || this.tok.type !== f.tokTypes._in && !this.isContextual(\"of\") ? this.parseFor(b, d) : this.parseForIn(b, d)
                        }
                        var g = this.parseExpression(!0);
                        return this.tok.type === f.tokTypes._in || this.isContextual(\"of\") ? this.parseForIn(b, this.toAssignable(g)) : this.parseFor(b, g);
                    case f.tokTypes._function:
                        return this.next(), this.parseFunction(b, !0);
                    case f.tokTypes._if:
                        return this.next(), b.test = this.parseParenExpression(), b.consequent = this.parseStatement(), b.alternate = this.eat(f.tokTypes._else) ? this.parseStatement() : null, this.finishNode(b, \"IfStatement\");
                    case f.tokTypes._return:
                        return this.next(), this.eat(f.tokTypes.semi) || this.canInsertSemicolon() ? b.argument = null : (b.argument = this.parseExpression(), this.semicolon()), this.finishNode(b, \"ReturnStatement\");
                    case f.tokTypes._switch:
                        var h = this.curIndent,
                            i = this.curLineStart;
                        this.next(), b.discriminant = this.parseParenExpression(), b.cases = [], this.pushCx(), this.expect(f.tokTypes.braceL);
                        for (var j = void 0; !this.closes(f.tokTypes.braceR, h, i, !0);)
                            if (this.tok.type === f.tokTypes._case || this.tok.type === f.tokTypes._default) {
                                var k = this.tok.type === f.tokTypes._case;
                                j && this.finishNode(j, \"SwitchCase\"), b.cases.push(j = this.startNode()), j.consequent = [], this.next(), k ? j.test = this.parseExpression() : j.test = null, this.expect(f.tokTypes.colon)
                            } else j || (b.cases.push(j = this.startNode()), j.consequent = [], j.test = null), j.consequent.push(this.parseStatement());
                        return j && this.finishNode(j, \"SwitchCase\"), this.popCx(), this.eat(f.tokTypes.braceR), this.finishNode(b, \"SwitchStatement\");
                    case f.tokTypes._throw:
                        return this.next(), b.argument = this.parseExpression(), this.semicolon(), this.finishNode(b, \"ThrowStatement\");
                    case f.tokTypes._try:
                        if (this.next(), b.block = this.parseBlock(), b.handler = null, this.tok.type === f.tokTypes._catch) {
                            var l = this.startNode();
                            this.next(), this.expect(f.tokTypes.parenL), l.param = this.toAssignable(this.parseExprAtom(), !0), this.expect(f.tokTypes.parenR), l.guard = null, l.body = this.parseBlock(), b.handler = this.finishNode(l, \"CatchClause\")
                        }
                        return b.finalizer = this.eat(f.tokTypes._finally) ? this.parseBlock() : null, b.handler || b.finalizer ? this.finishNode(b, \"TryStatement\") : b.block;
                    case f.tokTypes._var:
                    case f.tokTypes._let:
                    case f.tokTypes._const:
                        return this.parseVar();
                    case f.tokTypes._while:
                        return this.next(), b.test = this.parseParenExpression(), b.body = this.parseStatement(), this.finishNode(b, \"WhileStatement\");
                    case f.tokTypes._with:
                        return this.next(), b.object = this.parseParenExpression(), b.body = this.parseStatement(), this.finishNode(b, \"WithStatement\");
                    case f.tokTypes.braceL:
                        return this.parseBlock();
                    case f.tokTypes.semi:
                        return this.next(), this.finishNode(b, \"EmptyStatement\");
                    case f.tokTypes._class:
                        return this.parseClass(!0);
                    case f.tokTypes._import:
                        return this.parseImport();
                    case f.tokTypes._export:
                        return this.parseExport();
                    default:
                        var m = this.parseExpression();
                        return e.isDummy(m) ? (this.next(), this.tok.type === f.tokTypes.eof ? this.finishNode(b, \"EmptyStatement\") : this.parseStatement()) : a === f.tokTypes.name && \"Identifier\" === m.type && this.eat(f.tokTypes.colon) ? (b.body = this.parseStatement(), b.label = m, this.finishNode(b, \"LabeledStatement\")) : (b.expression = m, this.semicolon(), this.finishNode(b, \"ExpressionStatement\"))
                }
            }, g.parseBlock = function() {
                var a = this.startNode();
                this.pushCx(), this.expect(f.tokTypes.braceL);
                var b = this.curIndent,
                    c = this.curLineStart;
                for (a.body = []; !this.closes(f.tokTypes.braceR, b, c, !0);) a.body.push(this.parseStatement());
                return this.popCx(), this.eat(f.tokTypes.braceR), this.finishNode(a, \"BlockStatement\")
            }, g.parseFor = function(a, b) {
                return a.init = b, a.test = a.update = null, this.eat(f.tokTypes.semi) && this.tok.type !== f.tokTypes.semi && (a.test = this.parseExpression()), this.eat(f.tokTypes.semi) && this.tok.type !== f.tokTypes.parenR && (a.update = this.parseExpression()), this.popCx(), this.expect(f.tokTypes.parenR), a.body = this.parseStatement(), this.finishNode(a, \"ForStatement\")
            }, g.parseForIn = function(a, b) {
                var c = this.tok.type === f.tokTypes._in ? \"ForInStatement\" : \"ForOfStatement\";
                return this.next(), a.left = b, a.right = this.parseExpression(), this.popCx(), this.expect(f.tokTypes.parenR), a.body = this.parseStatement(), this.finishNode(a, c)
            }, g.parseVar = function(a) {
                var b = this.startNode();
                b.kind = this.tok.type.keyword, this.next(), b.declarations = [];
                do {
                    var c = this.startNode();
                    c.id = this.options.ecmaVersion >= 6 ? this.toAssignable(this.parseExprAtom(), !0) : this.parseIdent(), c.init = this.eat(f.tokTypes.eq) ? this.parseMaybeAssign(a) : null, b.declarations.push(this.finishNode(c, \"VariableDeclarator\"))
                } while (this.eat(f.tokTypes.comma));
                if (!b.declarations.length) {
                    var c = this.startNode();
                    c.id = this.dummyIdent(), b.declarations.push(this.finishNode(c, \"VariableDeclarator\"))
                }
                return a || this.semicolon(), this.finishNode(b, \"VariableDeclaration\")
            }, g.parseClass = function(a) {
                var b = this.startNode();
                this.next(), this.tok.type === f.tokTypes.name ? b.id = this.parseIdent() : a ? b.id = this.dummyIdent() : b.id = null, b.superClass = this.eat(f.tokTypes._extends) ? this.parseExpression() : null, b.body = this.startNode(), b.body.body = [], this.pushCx();
                var c = this.curIndent + 1,
                    d = this.curLineStart;
                for (this.eat(f.tokTypes.braceL), this.curIndent + 1 < c && (c = this.curIndent, d = this.curLineStart); !this.closes(f.tokTypes.braceR, c, d);)
                    if (!this.semicolon()) {
                        var g = this.startNode(),
                            h = void 0;
                        this.options.ecmaVersion >= 6 && (g[\"static\"] = !1, h = this.eat(f.tokTypes.star)), this.parsePropertyName(g), e.isDummy(g.key) ? (e.isDummy(this.parseMaybeAssign()) && this.next(), this.eat(f.tokTypes.comma)) : (\"Identifier\" !== g.key.type || g.computed || \"static\" !== g.key.name || this.tok.type == f.tokTypes.parenL || this.tok.type == f.tokTypes.braceL ? g[\"static\"] = !1 : (g[\"static\"] = !0,
                            h = this.eat(f.tokTypes.star), this.parsePropertyName(g)), this.options.ecmaVersion >= 5 && \"Identifier\" === g.key.type && !g.computed && (\"get\" === g.key.name || \"set\" === g.key.name) && this.tok.type !== f.tokTypes.parenL && this.tok.type !== f.tokTypes.braceL ? (g.kind = g.key.name, this.parsePropertyName(g), g.value = this.parseMethod(!1)) : (g.computed || g[\"static\"] || h || !(\"Identifier\" === g.key.type && \"constructor\" === g.key.name || \"Literal\" === g.key.type && \"constructor\" === g.key.value) ? g.kind = \"method\" : g.kind = \"constructor\", g.value = this.parseMethod(h)), b.body.body.push(this.finishNode(g, \"MethodDefinition\")))
                    }
                return this.popCx(), this.eat(f.tokTypes.braceR) || (this.last.end = this.tok.start, this.options.locations && (this.last.loc.end = this.tok.loc.start)), this.semicolon(), this.finishNode(b.body, \"ClassBody\"), this.finishNode(b, a ? \"ClassDeclaration\" : \"ClassExpression\")
            }, g.parseFunction = function(a, b) {
                return this.initFunction(a), this.options.ecmaVersion >= 6 && (a.generator = this.eat(f.tokTypes.star)), this.tok.type === f.tokTypes.name ? a.id = this.parseIdent() : b && (a.id = this.dummyIdent()), a.params = this.parseFunctionParams(), a.body = this.parseBlock(), this.finishNode(a, b ? \"FunctionDeclaration\" : \"FunctionExpression\")
            }, g.parseExport = function() {
                var a = this.startNode();
                if (this.next(), this.eat(f.tokTypes.star)) return a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : null, this.finishNode(a, \"ExportAllDeclaration\");
                if (this.eat(f.tokTypes._default)) {
                    var b = this.parseMaybeAssign();
                    if (b.id) switch (b.type) {
                        case \"FunctionExpression\":
                            b.type = \"FunctionDeclaration\";
                            break;
                        case \"ClassExpression\":
                            b.type = \"ClassDeclaration\"
                    }
                    return a.declaration = b, this.semicolon(), this.finishNode(a, \"ExportDefaultDeclaration\")
                }
                return this.tok.type.keyword ? (a.declaration = this.parseStatement(), a.specifiers = [], a.source = null) : (a.declaration = null, a.specifiers = this.parseExportSpecifierList(), a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : null, this.semicolon()), this.finishNode(a, \"ExportNamedDeclaration\")
            }, g.parseImport = function() {
                var a = this.startNode();
                if (this.next(), this.tok.type === f.tokTypes.string) a.specifiers = [], a.source = this.parseExprAtom(), a.kind = \"\";
                else {
                    var b = void 0;
                    this.tok.type === f.tokTypes.name && \"from\" !== this.tok.value && (b = this.startNode(), b.local = this.parseIdent(), this.finishNode(b, \"ImportDefaultSpecifier\"), this.eat(f.tokTypes.comma)), a.specifiers = this.parseImportSpecifierList(), a.source = this.eatContextual(\"from\") ? this.parseExprAtom() : this.dummyString(), b && a.specifiers.unshift(b)
                }
                return this.semicolon(), this.finishNode(a, \"ImportDeclaration\")
            }, g.parseImportSpecifierList = function() {
                var a = [];
                if (this.tok.type === f.tokTypes.star) {
                    var b = this.startNode();
                    this.next(), this.eatContextual(\"as\") && (b.local = this.parseIdent()), a.push(this.finishNode(b, \"ImportNamespaceSpecifier\"))
                } else {
                    var c = this.curIndent,
                        d = this.curLineStart,
                        g = this.nextLineStart;
                    for (this.pushCx(), this.eat(f.tokTypes.braceL), this.curLineStart > g && (g = this.curLineStart); !this.closes(f.tokTypes.braceR, c + (this.curLineStart <= g ? 1 : 0), d);) {
                        var b = this.startNode();
                        if (this.eat(f.tokTypes.star)) this.eatContextual(\"as\") && (b.local = this.parseIdent()), this.finishNode(b, \"ImportNamespaceSpecifier\");
                        else {
                            if (this.isContextual(\"from\")) break;
                            if (b.imported = this.parseIdent(), e.isDummy(b.imported)) break;
                            b.local = this.eatContextual(\"as\") ? this.parseIdent() : b.imported, this.finishNode(b, \"ImportSpecifier\")
                        }
                        a.push(b), this.eat(f.tokTypes.comma)
                    }
                    this.eat(f.tokTypes.braceR), this.popCx()
                }
                return a
            }, g.parseExportSpecifierList = function() {
                var a = [],
                    b = this.curIndent,
                    c = this.curLineStart,
                    d = this.nextLineStart;
                for (this.pushCx(), this.eat(f.tokTypes.braceL), this.curLineStart > d && (d = this.curLineStart); !this.closes(f.tokTypes.braceR, b + (this.curLineStart <= d ? 1 : 0), c) && !this.isContextual(\"from\");) {
                    var g = this.startNode();
                    if (g.local = this.parseIdent(), e.isDummy(g.local)) break;
                    g.exported = this.eatContextual(\"as\") ? this.parseIdent() : g.local, this.finishNode(g, \"ExportSpecifier\"), a.push(g), this.eat(f.tokTypes.comma)
                }
                return this.eat(f.tokTypes.braceR), this.popCx(), a
            }
        }, {
            \"..\": 1,
            \"./parseutil\": 4,
            \"./state\": 5
        }],
        7: [function(a, b, c) {
            \"use strict\";

            function g(a) {
                return 14 > a && a > 8 || 32 === a || 160 === a || d.isNewLine(a)
            }
            var d = a(\"..\"),
                e = a(\"./state\"),
                f = e.LooseParser.prototype;
            f.next = function() {
                if (this.last = this.tok, this.ahead.length ? this.tok = this.ahead.shift() : this.tok = this.readToken(), this.tok.start >= this.nextLineStart) {
                    for (; this.tok.start >= this.nextLineStart;) this.curLineStart = this.nextLineStart, this.nextLineStart = this.lineEnd(this.curLineStart) + 1;
                    this.curIndent = this.indentationAfter(this.curLineStart)
                }
            }, f.readToken = function() {
                for (;;) try {
                    return this.toks.next(), this.toks.type === d.tokTypes.dot && \".\" === this.input.substr(this.toks.end, 1) && this.options.ecmaVersion >= 6 && (this.toks.end++, this.toks.type = d.tokTypes.ellipsis), new d.Token(this.toks)
                } catch (a) {
                    if (!(a instanceof SyntaxError)) throw a;
                    var b = a.message,
                        c = a.raisedAt,
                        e = !0;
                    if (/unterminated/i.test(b))
                        if (c = this.lineEnd(a.pos + 1), /string/.test(b)) e = {
                            start: a.pos,
                            end: c,
                            type: d.tokTypes.string,
                            value: this.input.slice(a.pos + 1, c)
                        };
                        else if (/regular expr/i.test(b)) {
                        var f = this.input.slice(a.pos, c);
                        try {
                            f = new RegExp(f)
                        } catch (a) {}
                        e = {
                            start: a.pos,
                            end: c,
                            type: d.tokTypes.regexp,
                            value: f
                        }
                    } else e = /template/.test(b) ? {
                        start: a.pos,
                        end: c,
                        type: d.tokTypes.template,
                        value: this.input.slice(a.pos, c)
                    } : !1;
                    else if (/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(b))
                        for (; c < this.input.length && !g(this.input.charCodeAt(c));) ++c;
                    else if (/character escape|expected hexadecimal/i.test(b))
                        for (; c < this.input.length;) {
                            var h = this.input.charCodeAt(c++);
                            if (34 === h || 39 === h || d.isNewLine(h)) break
                        } else if (/unexpected character/i.test(b)) c++, e = !1;
                        else {
                            if (!/regular expression/i.test(b)) throw a;
                            e = !0
                        }
                    if (this.resetTo(c), e === !0 && (e = {
                            start: c,
                            end: c,
                            type: d.tokTypes.name,
                            value: \"\\u2716\"
                        }), e) return this.options.locations && (e.loc = new d.SourceLocation(this.toks, d.getLineInfo(this.input, e.start), d.getLineInfo(this.input, e.end))), e
                }
            }, f.resetTo = function(a) {
                this.toks.pos = a;
                var b = this.input.charAt(a - 1);
                if (this.toks.exprAllowed = !b || /[\\[\\{\\(,;:?\\/*=+\\-~!|&%^<>]/.test(b) || /[enwfd]/.test(b) && /\\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)\$/.test(this.input.slice(a - 10, a)), this.options.locations) {
                    this.toks.curLine = 1, this.toks.lineStart = d.lineBreakG.lastIndex = 0;
                    for (var c = void 0;
                        (c = d.lineBreakG.exec(this.input)) && c.index < a;) ++this.toks.curLine, this.toks.lineStart = c.index + c[0].length
                }
            }, f.lookAhead = function(a) {
                for (; a > this.ahead.length;) this.ahead.push(this.readToken());
                return this.ahead[a - 1]
            }
        }, {
            \"..\": 1,
            \"./state\": 5
        }]
    }, {}, [3])(3)
}),
function(a) {
    if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = a();
    else if (\"function\" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, (b.acorn || (b.acorn = {})).walk = a()
    }
}(function() {
    return function d(a, b, c) {
        function e(g, h) {
            if (!b[g]) {
                if (!a[g]) {
                    var i = \"function\" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error(\"Cannot find module '\" + g + \"'\");
                    throw j.code = \"MODULE_NOT_FOUND\", j
                }
                var k = b[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, d, a, b, c)
            }
            return b[g].exports
        }
        for (var f = \"function\" == typeof require && require, g = 0; g < c.length; g++) e(c[g]);
        return e
    }({
        1: [function(a, b, c) {
            \"use strict\";

            function d(a, b) {
                if (!(a instanceof b)) throw new TypeError(\"Cannot call a class as a function\")
            }

            function e(a, b, d, e, f) {
                d || (d = c.base),
                    function g(a, c, e) {
                        var f = e || a.type,
                            h = b[f];
                        d[f](a, c, g), h && h(a, c)
                    }(a, e, f)
            }

            function f(a, b, d, e) {
                d || (d = c.base), e || (e = []),
                    function f(a, c, e) {
                        var g = e || a.type,
                            h = b[g];
                        a != c[c.length - 1] && (c = c.slice(), c.push(a)), d[g](a, c, f), h && h(a, c)
                    }(a, e)
            }

            function g(a, b, d, e, f) {
                var g = d ? c.make(d, e) : e;
                ! function h(a, b, c) {
                    g[c || a.type](a, b, h)
                }(a, b, f)
            }

            function h(a) {
                return \"string\" == typeof a ? function(b) {
                    return b == a
                } : a ? a : function() {
                    return !0
                }
            }

            function j(a, b, d, e, f, g) {
                e = h(e), f || (f = c.base);
                try {
                    ! function k(a, c, g) {
                        var h = g || a.type;
                        if ((null == b || a.start <= b) && (null == d || a.end >= d) && f[h](a, c, k), (null == b || a.start == b) && (null == d || a.end == d) && e(h, a)) throw new i(a, c)
                    }(a, g)
                } catch (j) {
                    if (j instanceof i) return j;
                    throw j
                }
            }

            function k(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                try {
                    ! function j(a, c, f) {
                        var g = f || a.type;
                        if (!(a.start > b || a.end < b) && (e[g](a, c, j), d(g, a))) throw new i(a, c)
                    }(a, f)
                } catch (g) {
                    if (g instanceof i) return g;
                    throw g
                }
            }

            function l(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                try {
                    ! function j(a, c, f) {
                        if (!(a.end < b)) {
                            var g = f || a.type;
                            if (a.start >= b && d(g, a)) throw new i(a, c);
                            e[g](a, c, j)
                        }
                    }(a, f)
                } catch (g) {
                    if (g instanceof i) return g;
                    throw g
                }
            }

            function m(a, b, d, e, f) {
                d = h(d), e || (e = c.base);
                var g = void 0;
                return function j(a, c, f) {
                    if (!(a.start > b)) {
                        var h = f || a.type;
                        a.end <= b && (!g || g.node.end < a.end) && d(h, a) && (g = new i(a, c)), e[h](a, c, j)
                    }
                }(a, f), g
            }

            function n(a, b) {
                b || (b = c.base);
                var d = {};
                for (var e in b) d[e] = b[e];
                for (var e in a) d[e] = a[e];
                return d
            }

            function o(a, b, c) {
                c(a, b)
            }

            function p(a, b, c) {}
            c.__esModule = !0, c.simple = e, c.ancestor = f, c.recursive = g, c.findNodeAt = j, c.findNodeAround = k, c.findNodeAfter = l, c.findNodeBefore = m, c.make = n;
            var i = function r(a, b) {
                    d(this, r), this.node = a, this.state = b
                },
                q = {};
            c.base = q, q.Program = q.BlockStatement = function(a, b, c) {
                for (var d = 0; d < a.body.length; ++d) c(a.body[d], b, \"Statement\")
            }, q.Statement = o, q.EmptyStatement = p, q.ExpressionStatement = q.ParenthesizedExpression = function(a, b, c) {
                return c(a.expression, b, \"Expression\")
            }, q.IfStatement = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.consequent, b, \"Statement\"), a.alternate && c(a.alternate, b, \"Statement\")
            }, q.LabeledStatement = function(a, b, c) {
                return c(a.body, b, \"Statement\")
            }, q.BreakStatement = q.ContinueStatement = p, q.WithStatement = function(a, b, c) {
                c(a.object, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.SwitchStatement = function(a, b, c) {
                c(a.discriminant, b, \"Expression\");
                for (var d = 0; d < a.cases.length; ++d) {
                    var e = a.cases[d];
                    e.test && c(e.test, b, \"Expression\");
                    for (var f = 0; f < e.consequent.length; ++f) c(e.consequent[f], b, \"Statement\")
                }
            }, q.ReturnStatement = q.YieldExpression = function(a, b, c) {
                a.argument && c(a.argument, b, \"Expression\")
            }, q.ThrowStatement = q.SpreadElement = function(a, b, c) {
                return c(a.argument, b, \"Expression\")
            }, q.TryStatement = function(a, b, c) {
                c(a.block, b, \"Statement\"), a.handler && (c(a.handler.param, b, \"Pattern\"), c(a.handler.body, b, \"ScopeBody\")), a.finalizer && c(a.finalizer, b, \"Statement\")
            }, q.WhileStatement = q.DoWhileStatement = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForStatement = function(a, b, c) {
                a.init && c(a.init, b, \"ForInit\"), a.test && c(a.test, b, \"Expression\"), a.update && c(a.update, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForInStatement = q.ForOfStatement = function(a, b, c) {
                c(a.left, b, \"ForInit\"), c(a.right, b, \"Expression\"), c(a.body, b, \"Statement\")
            }, q.ForInit = function(a, b, c) {
                \"VariableDeclaration\" == a.type ? c(a, b) : c(a, b, \"Expression\")
            }, q.DebuggerStatement = p, q.FunctionDeclaration = function(a, b, c) {
                return c(a, b, \"Function\")
            }, q.VariableDeclaration = function(a, b, c) {
                for (var d = 0; d < a.declarations.length; ++d) c(a.declarations[d], b)
            }, q.VariableDeclarator = function(a, b, c) {
                c(a.id, b, \"Pattern\"), a.init && c(a.init, b, \"Expression\")
            }, q.Function = function(a, b, c) {
                a.id && c(a.id, b, \"Pattern\");
                for (var d = 0; d < a.params.length; d++) c(a.params[d], b, \"Pattern\");
                c(a.body, b, a.expression ? \"ScopeExpression\" : \"ScopeBody\")
            }, q.ScopeBody = function(a, b, c) {
                return c(a, b, \"Statement\")
            }, q.ScopeExpression = function(a, b, c) {
                return c(a, b, \"Expression\")
            }, q.Pattern = function(a, b, c) {
                \"Identifier\" == a.type ? c(a, b, \"VariablePattern\") : \"MemberExpression\" == a.type ? c(a, b, \"MemberPattern\") : c(a, b)
            }, q.VariablePattern = p, q.MemberPattern = o, q.RestElement = function(a, b, c) {
                return c(a.argument, b, \"Pattern\")
            }, q.ArrayPattern = function(a, b, c) {
                for (var d = 0; d < a.elements.length; ++d) {
                    var e = a.elements[d];
                    e && c(e, b, \"Pattern\")
                }
            }, q.ObjectPattern = function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) c(a.properties[d].value, b, \"Pattern\")
            }, q.Expression = o, q.ThisExpression = q.Super = q.MetaProperty = p, q.ArrayExpression = function(a, b, c) {
                for (var d = 0; d < a.elements.length; ++d) {
                    var e = a.elements[d];
                    e && c(e, b, \"Expression\")
                }
            }, q.ObjectExpression = function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) c(a.properties[d], b)
            }, q.FunctionExpression = q.ArrowFunctionExpression = q.FunctionDeclaration, q.SequenceExpression = q.TemplateLiteral = function(a, b, c) {
                for (var d = 0; d < a.expressions.length; ++d) c(a.expressions[d], b, \"Expression\")
            }, q.UnaryExpression = q.UpdateExpression = function(a, b, c) {
                c(a.argument, b, \"Expression\")
            }, q.BinaryExpression = q.LogicalExpression = function(a, b, c) {
                c(a.left, b, \"Expression\"), c(a.right, b, \"Expression\")
            }, q.AssignmentExpression = q.AssignmentPattern = function(a, b, c) {
                c(a.left, b, \"Pattern\"), c(a.right, b, \"Expression\")
            }, q.ConditionalExpression = function(a, b, c) {
                c(a.test, b, \"Expression\"), c(a.consequent, b, \"Expression\"), c(a.alternate, b, \"Expression\")
            }, q.NewExpression = q.CallExpression = function(a, b, c) {
                if (c(a.callee, b, \"Expression\"), a.arguments)
                    for (var d = 0; d < a.arguments.length; ++d) c(a.arguments[d], b, \"Expression\")
            }, q.MemberExpression = function(a, b, c) {
                c(a.object, b, \"Expression\"), a.computed && c(a.property, b, \"Expression\")
            }, q.ExportNamedDeclaration = q.ExportDefaultDeclaration = function(a, b, c) {
                a.declaration && c(a.declaration, b), a.source && c(a.source, b, \"Expression\")
            }, q.ExportAllDeclaration = function(a, b, c) {
                c(a.source, b, \"Expression\")
            }, q.ImportDeclaration = function(a, b, c) {
                for (var d = 0; d < a.specifiers.length; d++) c(a.specifiers[d], b);
                c(a.source, b, \"Expression\")
            }, q.ImportSpecifier = q.ImportDefaultSpecifier = q.ImportNamespaceSpecifier = q.Identifier = q.Literal = p, q.TaggedTemplateExpression = function(a, b, c) {
                c(a.tag, b, \"Expression\"), c(a.quasi, b)
            }, q.ClassDeclaration = q.ClassExpression = function(a, b, c) {
                return c(a, b, \"Class\")
            }, q.Class = function(a, b, c) {
                a.id && c(a.id, b, \"Pattern\"), a.superClass && c(a.superClass, b, \"Expression\");
                for (var d = 0; d < a.body.body.length; d++) c(a.body.body[d], b)
            }, q.MethodDefinition = q.Property = function(a, b, c) {
                a.computed && c(a.key, b, \"Expression\"), c(a.value, b, \"Expression\")
            }, q.ComprehensionExpression = function(a, b, c) {
                for (var d = 0; d < a.blocks.length; d++) c(a.blocks[d].right, b, \"Expression\");
                c(a.body, b, \"Expression\")
            }
        }, {}]
    }, {}, [1])(1)
}),
function() {
    Object.create = Object.create || function() {
        function a() {}
        if (!({
                    __proto__: null
                }
                instanceof Object)) return function(a) {
            return {
                __proto__: a
            }
        };
        var b = document.body.appendChild(document.createElement(\"iframe\"));
        b.src = \"javascript:\";
        var c = b.contentWindow.Object.prototype;
        return delete c.hasOwnProperty, delete c.isPrototypeOf, delete c.propertyIsEnumerable, delete c.valueOf, delete c.toString, delete c.toLocaleString, delete c.constructor,
            function(b) {
                return a.prototype = b || c, new a
            }
    }();
    var a = Array.prototype;
    a.some = a.some || function(a) {
        for (var b = 0; b < this.length; ++b)
            if (a(this[b], b)) return !0
    }, a.forEach = a.forEach || function(a) {
        for (var b = 0; b < this.length; ++b) a(this[b], b)
    }, a.indexOf = a.indexOf || function(a, b) {
        for (var c = b || 0; c < this.length; ++c)
            if (this[c] === a) return c;
        return -1
    }, a.lastIndexOf = a.lastIndexOf || function(a, b) {
        for (var c = null == b ? this.length - 1 : b; c >= 0; ++c)
            if (this[c] === a) return c;
        return -1
    }, a.map = a.map || function(a) {
        for (var b = [], c = 0; c < this.length; ++c) b.push(a(this[c], c));
        return b
    }, Array.isArray = Array.isArray || function(a) {
        return \"[object Array]\" == Object.prototype.toString.call(a)
    }, String.prototype.trim = String.prototype.trim || function() {
        for (var a = 0, b = this.length;
            /\\s/.test(this.charAt(a));) ++a;
        for (;
            /\\s/.test(this.charAt(b - 1));) --b;
        return this.slice(a, b)
    }, window.JSON || function() {
        function A(e) {
            var f, g, i, j = \"json\" == e;
            if (j || \"json-stringify\" == e || \"json-parse\" == e) {
                if (\"json-stringify\" == e || j) {
                    if (f = \"function\" == typeof h.stringify && v) {
                        (i = function() {
                            return 1
                        }).toJSON = i;
                        try {
                            f = \"0\" === h.stringify(0) && \"0\" === h.stringify(new Number) && '\"\"' == h.stringify(new String) && h.stringify(d) === a && h.stringify(a) === a && h.stringify() === a && \"1\" === h.stringify(i) && \"[1]\" == h.stringify([i]) && \"[null]\" == h.stringify([a]) && \"null\" == h.stringify(c) && \"[null,null,null]\" == h.stringify([a, d, c]) && '{\"A\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}' == h.stringify({
                                A: [i, b, !1, c, \"\\x00\\b\\n\\f\\r \"]
                            }) && \"1\" === h.stringify(c, i) && \"[\\n 1,\\n 2\\n]\" == h.stringify([1, 2], c, 1) && '\"-271821-04-20T00:00:00.000Z\"' == h.stringify(new Date(-864e13)) && '\"+275760-09-13T00:00:00.000Z\"' == h.stringify(new Date(864e13)) && '\"-000001-01-01T00:00:00.000Z\"' == h.stringify(new Date(-621987552e5)) && '\"1969-12-31T23:59:59.999Z\"' == h.stringify(new Date(-1))
                        } catch (k) {
                            f = !1
                        }
                    }
                    if (!j) return f
                }
                if (\"json-parse\" == e || j) {
                    if (\"function\" == typeof h.parse) try {
                        if (0 === h.parse(\"0\") && !h.parse(!1) && (i = h.parse('{\"A\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}'), g = 5 == i.a.length && 1 == i.a[0])) {
                            try {
                                g = !h.parse('\" \"')
                            } catch (l) {}
                            if (g) try {
                                g = 1 != h.parse(\"01\")
                            } catch (m) {}
                        }
                    } catch (n) {
                        g = !1
                    }
                    if (!j) return g
                }
                return f && g
            }
        }
        var e, f, a = void 0,
            b = !0,
            c = null,
            d = {}.toString,
            g = \"function\" == typeof define && define.c,
            h = !g && \"object\" == typeof exports && exports;
        h || g ? \"object\" == typeof JSON && JSON ? g ? h = JSON : (h.stringify = JSON.stringify, h.parse = JSON.parse) : g && (h = this.JSON = {}) : h = this.JSON || (this.JSON = {});
        var i, j, k, l, m, n, o, p, q, r, s, t, u, w, x, y, v = new Date(-0xc782b5b800cec);
        try {
            v = -109252 == v.getUTCFullYear() && 0 === v.getUTCMonth() && 1 == v.getUTCDate() && 10 == v.getUTCHours() && 37 == v.getUTCMinutes() && 6 == v.getUTCSeconds() && 708 == v.getUTCMilliseconds()
        } catch (z) {}
        A(\"json\") || (v || (w = Math.floor, x = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], y = function(a, b) {
            return x[b] + 365 * (a - 1970) + w((a - 1969 + (b = +(b > 1))) / 4) - w((a - 1901 + b) / 100) + w((a - 1601 + b) / 400)
        }), (e = {}.hasOwnProperty) || (e = function(a) {
            var f, b = {};
            return (b.__proto__ = c, b.__proto__ = {
                toString: 1
            }, b).toString != d ? e = function(a) {
                var b = this.__proto__,
                    a = a in (this.__proto__ = c, this);
                return this.__proto__ = b, a
            } : (f = b.constructor, e = function(a) {
                var b = (this.constructor || f).prototype;
                return a in this && !(a in b && this[a] === b[a])
            }), b = c, e.call(this, a)
        }), f = function(a, b) {
            var g, h, i, f = 0;
            (g = function() {
                this.valueOf = 0
            }).prototype.valueOf = 0, h = new g;
            for (i in h) e.call(h, i) && f++;
            g = h = c, f ? f = 2 == f ? function(a, b) {
                var g, c = {},
                    f = \"[object Function]\" == d.call(a);
                for (g in a) !(f && \"prototype\" == g) && !e.call(c, g) && (c[g] = 1) && e.call(a, g) && b(g)
            } : function(a, b) {
                var f, g, c = \"[object Function]\" == d.call(a);
                for (f in a) !(c && \"prototype\" == f) && e.call(a, f) && !(g = \"constructor\" === f) && b(f);
                (g || e.call(a, f = \"constructor\")) && b(f)
            } : (h = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"], f = function(a, b) {
                var f, c = \"[object Function]\" == d.call(a);
                for (f in a) !(c && \"prototype\" == f) && e.call(a, f) && b(f);
                for (c = h.length; f = h[--c]; e.call(a, f) && b(f));
            }), f(a, b)
        }, A(\"json-stringify\") || (i = {
            \"\\\\\": \"\\\\\\\\\",
            '\"': '\\\\\"',
            \"\\b\": \"\\\\b\",
            \"\\f\": \"\\\\f\",
            \"\\n\": \"\\\\n\",
            \"\\r\": \"\\\\r\",
            \"  \": \"\\\\t\"
        }, j = function(a, b) {
            return (\"000000\" + (b || 0)).slice(-a)
        }, k = function(a) {
            for (var d, b = '\"', c = 0; d = a.charAt(c); c++) b += '\\\\\"\\b\\f\\n\\r '.indexOf(d) > -1 ? i[d] : i[d] = \" \" > d ? \"\\\\u00\" + j(2, d.charCodeAt(0).toString(16)) : d;
            return b + '\"'
        }, l = function(g, h, i, m, n, o, p) {
            var r, s, t, u, v, x, z, A, B, q = h[g];
            if (\"object\" == typeof q && q)
                if (r = d.call(q), \"[object Date]\" != r || e.call(q, \"toJSON\")) \"function\" == typeof q.toJSON && (\"[object Number]\" != r && \"[object String]\" != r && \"[object Array]\" != r || e.call(q, \"toJSON\")) && (q = q.toJSON(g));
                else if (q > -1 / 0 && 1 / 0 > q) {
                if (y) {
                    for (t = w(q / 864e5), r = w(t / 365.2425) + 1970 - 1; y(r + 1, 0) <= t; r++);
                    for (s = w((t - y(r, 0)) / 30.42); y(r, s + 1) <= t; s++);
                    t = 1 + t - y(r, s), u = (q % 864e5 + 864e5) % 864e5, v = w(u / 36e5) % 24, x = w(u / 6e4) % 60, z = w(u / 1e3) % 60, u %= 1e3
                } else r = q.getUTCFullYear(), s = q.getUTCMonth(), t = q.getUTCDate(), v = q.getUTCHours(), x = q.getUTCMinutes(), z = q.getUTCSeconds(), u = q.getUTCMilliseconds();
                q = (0 >= r || r >= 1e4 ? (0 > r ? \"-\" : \"+\") + j(6, 0 > r ? -r : r) : j(4, r)) + \"-\" + j(2, s + 1) + \"-\" + j(2, t) + \"T\" + j(2, v) + \":\" + j(2, x) + \":\" + j(2, z) + \".\" + j(3, u) + \"Z\"
            } else q = c;
            if (i && (q = i.call(h, g, q)), q === c) return \"null\";
            if (r = d.call(q), \"[object Boolean]\" == r) return \"\" + q;
            if (\"[object Number]\" == r) return q > -1 / 0 && 1 / 0 > q ? \"\" + q : \"null\";
            if (\"[object String]\" == r) return k(q);
            if (\"object\" == typeof q) {
                for (g = p.length; g--;)
                    if (p[g] === q) throw TypeError();
                if (p.push(q), A = [], h = o, o += n, \"[object Array]\" == r) {
                    for (s = 0, g = q.length; g > s; B || (B = b), s++) r = l(s, q, i, m, n, o, p), A.push(r === a ? \"null\" : r);
                    g = B ? n ? \"[\\n\" + o + A.join(\",\\n\" + o) + \"\\n\" + h + \"]\" : \"[\" + A.join(\",\") + \"]\" : \"[]\"
                } else f(m || q, function(c) {
                    var d = l(c, q, i, m, n, o, p);
                    d !== a && A.push(k(c) + \":\" + (n ? \" \" : \"\") + d), B || (B = b)
                }), g = B ? n ? \"{\\n\" + o + A.join(\",\\n\" + o) + \"\\n\" + h + \"}\" : \"{\" + A.join(\",\") + \"}\" : \"{}\";
                return p.pop(), g
            }
        }, h.stringify = function(a, b, c) {
            var e, f, g, h, i, j;
            if (\"function\" == typeof b || \"object\" == typeof b && b)
                if (\"[object Function]\" == d.call(b)) f = b;
                else if (\"[object Array]\" == d.call(b))
                for (g = {}, h = 0, i = b.length; i > h; j = b[h++], (\"[object String]\" == d.call(j) || \"[object Number]\" == d.call(j)) && (g[j] = 1));
            if (c)
                if (\"[object Number]\" == d.call(c)) {
                    if ((c -= c % 1) > 0)
                        for (e = \"\", c > 10 && (c = 10); e.length < c; e += \" \");
                } else \"[object String]\" == d.call(c) && (e = c.length <= 10 ? c : c.slice(0, 10));
            return l(\"\", (j = {}, j[\"\"] = a, j), f, g, e, \"\", [])
        }), A(\"json-parse\") || (m = String.fromCharCode, n = {
            \"\\\\\": \"\\\\\",
            '\"': '\"',
            \"/\": \"/\",
            b: \"\\b\",
            t: \"  \",
            n: \"\\n\",
            f: \"\\f\",
            r: \"\\r\"
        }, o = function() {
            throw t = u = c, SyntaxError()
        }, p = function() {
            for (var e, f, g, h, i, a = u, d = a.length; d > t;)
                if (e = a.charAt(t), \" \\r\\n \".indexOf(e) > -1) t++;
                else {
                    if (\"{}[]:,\".indexOf(e) > -1) return t++, e;
                    if ('\"' == e) {
                        for (f = \"@\", t++; d > t;)
                            if (e = a.charAt(t), \" \" > e) o();
                            else if (\"\\\\\" == e)
                            if (e = a.charAt(++t), '\\\\\"/btnfr'.indexOf(e) > -1) f += n[e], t++;
                            else if (\"u\" == e) {
                            for (g = ++t, h = t + 4; h > t; t++) e = a.charAt(t), e >= \"0\" && \"9\" >= e || e >= \"a\" && \"f\" >= e || e >= \"A\" && \"F\" >= e || o();
                            f += m(\"0x\" + a.slice(g, t))
                        } else o();
                        else {
                            if ('\"' == e) break;
                            f += e, t++
                        }
                        if ('\"' == a.charAt(t)) return t++, f
                    } else {
                        if (g = t, \"-\" == e && (i = b, e = a.charAt(++t)), e >= \"0\" && \"9\" >= e) {
                            for (\"0\" == e && (e = a.charAt(t + 1), e >= \"0\" && \"9\" >= e) && o(); d > t && (e = a.charAt(t), e >= \"0\" && \"9\" >= e); t++);
                            if (\".\" == a.charAt(t)) {
                                for (h = ++t; d > h && (e = a.charAt(h), e >= \"0\" && \"9\" >= e); h++);
                                h == t && o(), t = h
                            }
                            if (e = a.charAt(t), \"e\" == e || \"E\" == e) {
                                for (e = a.charAt(++t), (\"+\" == e || \"-\" == e) && t++, h = t; d > h && (e = a.charAt(h), e >= \"0\" && \"9\" >= e); h++);
                                h == t && o(), t = h
                            }
                            return +a.slice(g, t)
                        }
                        if (i && o(), \"true\" == a.slice(t, t + 4)) return t += 4, b;
                        if (\"false\" == a.slice(t, t + 5)) return t += 5, !1;
                        if (\"null\" == a.slice(t, t + 4)) return t += 4, c
                    }
                    o()
                }
            return \"\$\"
        }, q = function(a) {
            var c, d;
            if (\"\$\" == a && o(), \"string\" == typeof a) {
                if (\"@\" == a.charAt(0)) return a.slice(1);
                if (\"[\" == a) {
                    for (c = []; a = p(), \"]\" != a; d || (d = b)) d && (\",\" == a ? (a = p(), \"]\" == a && o()) : o()), \",\" == a && o(), c.push(q(a));
                    return c
                }
                if (\"{\" == a) {
                    for (c = {}; a = p(), \"}\" != a; d || (d = b)) d && (\",\" == a ? (a = p(), \"}\" == a && o()) : o()), (\",\" == a || \"string\" != typeof a || \"@\" != a.charAt(0) || \":\" != p()) && o(), c[a.slice(1)] = q(p());
                    return c
                }
                o()
            }
            return a
        }, s = function(b, c, d) {
            d = r(b, c, d), d === a ? delete b[c] : b[c] = d
        }, r = function(a, b, c) {
            var g, e = a[b];
            if (\"object\" == typeof e && e)
                if (\"[object Array]\" == d.call(e))
                    for (g = e.length; g--;) s(e, g, c);
                else f(e, function(a) {
                    s(e, a, c)
                });
            return c.call(a, b, e)
        }, h.parse = function(a, b) {
            var e, f;
            return t = 0, u = a, e = q(p()), \"\$\" != p() && o(), t = u = c, b && \"[object Function]\" == d.call(b) ? r((f = {}, f[\"\"] = e, f), \"\", b) : e
        })), g && define(function() {
            return h
        })
    }()
}(),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], b) : void b((a.tern || (a.tern = {})).signal = {})
}(this, function(a) {
    function b(a, b) {
        var c = this._handlers || (this._handlers = Object.create(null));
        (c[a] || (c[a] = [])).push(b)
    }

    function c(a, b) {
        var c = this._handlers && this._handlers[a];
        if (c)
            for (var d = 0; d < c.length; ++d)
                if (c[d] == b) {
                    c.splice(d, 1);
                    break
                }
    }

    function e(a, b) {
        var c = a._handlers && a._handlers[b];
        return c && c.length ? c.slice() : d
    }

    function f(a, b, c, d, f) {
        for (var g = e(this, a), h = 0; h < g.length; ++h) g[h].call(this, b, c, d, f)
    }

    function g(a, b, c, d, f) {
        for (var g = e(this, a), h = 0; h < g.length; ++h) {
            var i = g[h].call(this, b, c, d, f);
            if (i) return i
        }
    }

    function h(a) {
        var b = this._handlers && this._handlers[a];
        return b && b.length > 0 && b
    }
    var d = [];
    a.mixin = function(a) {
        return a.on = b, a.off = c, a.signal = f, a.signalReturnFirst = g, a.hasHandler = h, a
    }
}),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports, require(\"./infer\"), require(\"./signal\"), require(\"acorn\"), require(\"acorn/dist/walk\")) : \"function\" == typeof define && define.amd ? define([\"exports\", \"./infer\", \"./signal\", \"acorn/dist/acorn\", \"acorn/dist/walk\"], b) : void b(a.tern || (a.tern = {}), tern, tern.signal, acorn, acorn.walk)
}(this, function(a, b, c, d, e) {
    \"use strict\";

    function i(a, b) {
        this.name = a, this.parent = b, this.scope = this.text = this.ast = this.lineOffsets = null
    }

    function j(a, c) {
        var d = {
                directSourceFile: c,
                allowReturnOutsideFunction: !0,
                allowImportExportEverywhere: !0,
                ecmaVersion: a.options.ecmaVersion
            },
            e = a.signalReturnFirst(\"preParse\", c.text, d) || c.text,
            f = b.parse(e, d);
        return a.signal(\"postParse\", f, e), f
    }

    function k(a, c, d) {
        a.text = d.options.stripCRs ? c.replace(/\\r\\n/g, \"\\n\") : c, b.withContext(d.cx, function() {
            a.ast = j(d, a)
        }), a.lineOffsets = null
    }

    function m(a, c, d) {
        if (c.query && !h.hasOwnProperty(c.query.type)) return d(\"No query type '\" + c.query.type + \"' defined\");
        var e = c.query;
        e || d(null, {});
        var f = c.files || [];
        f.length && ++a.uses;
        for (var g = 0; g < f.length; ++g) {
            var i = f[g];
            \"delete\" == i.type ? a.delFile(i.name) : o(a, i.name, null, \"full\" == i.type ? i.text : null)
        }
        var j = \"number\" == typeof c.timeout ? [c.timeout] : null;
        if (!e) return void r(a, j, function() {});
        var k = h[e.type];
        if (k.takesFile) {
            if (\"string\" != typeof e.file) return d(\".query.file must be a string\");
            /^#/.test(e.file) || o(a, e.file, null)
        }
        r(a, j, function(c) {
            function h() {
                var b;
                try {
                    b = k.run(a, e, g)
                } catch (c) {
                    return a.options.debug && \"TernError\" != c.name && console.error(c.stack), d(c)
                }
                d(null, b)
            }
            if (c) return d(c);
            var g = k.takesFile && w(a, f, e.file);
            return k.fullFile && \"part\" == g.type ? d(\"Can't run a \" + e.type + \" query on a file fragment\") : (b.resetGuessing(), void b.withContext(a.cx, j ? function() {
                b.withTimeout(j[0], h)
            } : h))
        })
    }

    function n(a, c) {
        return b.withContext(a.cx, function() {
            c.scope = a.cx.topScope, a.signal(\"beforeLoad\", c), b.analyze(c.ast, c.name, c.scope), a.signal(\"afterLoad\", c)
        }), c
    }

    function o(a, b, c, d) {
        var e = a.findFile(b);
        if (e) return null != d && (e.scope && (a.needsPurge.push(b), e.scope = null), k(e, d, a)), void(y(a, e.parent) > y(a, c) && (e.parent = c, e.excluded && (e.excluded = null)));
        var f = new i(b, c);
        a.files.push(f), a.fileMap[b] = f, null != d ? k(f, d, a) : a.options.async ? (a.startAsyncAction(), a.options.getFile(b, function(b, c) {
            k(f, c || \"\", a), a.finishAsyncAction(b)
        })) : k(f, a.options.getFile(b) || \"\", a)
    }

    function q(a, b, c) {
        var d = function() {
            a.off(\"everythingFetched\", d), clearTimeout(e), r(a, b, c)
        };
        a.on(\"everythingFetched\", d);
        var e = setTimeout(d, a.options.fetchTimeout)
    }

    function r(a, c, d) {
        if (a.pending) return q(a, c, d);
        var e = a.fetchError;
        if (e) return a.fetchError = null, d(e);
        a.needsPurge.length > 0 && b.withContext(a.cx, function() {
            b.purge(a.needsPurge), a.needsPurge.length = 0
        });
        for (var f = !0, g = 0; g < a.files.length;) {
            for (var h = []; g < a.files.length; ++g) {
                var i = a.files[g];
                null == i.text ? f = !1 : null != i.scope || i.excluded || h.push(i)
            }
            h.sort(function(b, c) {
                return y(a, b.parent) - y(a, c.parent)
            });
            for (var j = 0; j < h.length; j++) {
                var i = h[j];
                if (i.parent && !A(a, i)) i.excluded = !0;
                else if (c) {
                    var k = +new Date;
                    b.withTimeout(c[0], function() {
                        n(a, i)
                    }), c[0] -= +new Date - k
                } else n(a, i)
            }
        }
        f ? d() : q(a, c, d)
    }

    function s(a) {
        var b = a.indexOf(\"\\n\");
        return 0 > b ? a : a.slice(0, b)
    }

    function t(a, b, c) {
        var d = Math.max(0, c - 500),
            e = null;
        if (!/^\\s*\$/.test(a))
            for (;;) {
                var f = b.indexOf(a, d);
                if (0 > f || f > c + 500) break;
                (null == e || Math.abs(e - c) > Math.abs(f - c)) && (e = f), d = f + a.length
            }
        return e
    }

    function u(a) {
        for (var b = 0; a; ++b, a = a.prev);
        return b
    }

    function v(a) {
        var b = new Error(a);
        return b.name = \"TernError\", b
    }

    function w(a, c, d) {
        var f = d.match(/^#(\\d+)\$/);
        if (!f) return a.findFile(d);
        var g = c[f[1]];
        if (!g || \"delete\" == g.type) throw v(\"Reference to unknown file \" + d);
        if (\"full\" == g.type) return a.findFile(g.name);
        var h = g.backing = a.findFile(g.name),
            i = g.offset;
        g.offsetLines && (i = {
            line: g.offsetLines,
            ch: 0
        }), g.offset = i = F(h, null == g.offsetLines ? g.offset : {
            line: g.offsetLines,
            ch: 0
        }, !0);
        var n, o, k = s(g.text),
            l = t(k, h.text, i),
            m = null == l ? Math.max(0, h.text.lastIndexOf(\"\\n\", i)) : l;
        return b.withContext(a.cx, function() {
            b.purge(g.name, m, m + g.text.length);
            var d, c = g.text;
            if (d = c.match(/(?:\"([^\"]*)\"|([\\w\$]+))\\s*:\\s*function\\b/)) {
                var f = e.findNodeAround(g.backing.ast, m, \"ObjectExpression\");
                f && f.node.objType && (n = {
                    type: f.node.objType,
                    prop: d[2] || d[1]
                })
            }
            if (l && (d = k.match(/^(.*?)\\bfunction\\b/))) {
                for (var i = d[1].length, p = \"\", q = 0; i > q; ++q) p += \" \";
                g.text = p + c.slice(i), o = !0
            }
            var r = b.scopeAt(h.ast, m, h.scope),
                s = b.scopeAt(h.ast, m + c.length, h.scope),
                t = g.scope = u(r) < u(s) ? s : r;
            g.ast = j(a, g), b.analyze(g.ast, g.name, t);
            a: if (n || o) {
                var v = b.scopeAt(g.ast, k.length, r);
                if (!v.fnType) break a;
                if (n) {
                    var w = n.type.getProp(n.prop);
                    w.addType(v.fnType)
                } else if (o) {
                    var x = b.scopeAt(h.ast, m + k.length, h.scope);
                    if (x == r || !x.fnType) break a;
                    var y = x.fnType,
                        z = v.fnType;
                    if (!z || z.name != y.name && y.name) break a;
                    for (var q = 0, A = Math.min(y.args.length, z.args.length); A > q; ++q) y.args[q].propagate(z.args[q]);
                    y.self.propagate(z.self), z.retval.propagate(y.retval)
                }
            }
        }), g
    }

    function x(a) {
        var b = 0;
        return e.simple(a, {
            Expression: function() {
                ++b
            }
        }), b
    }

    function y(a, b) {
        for (var c = 0; b;) b = a.findFile(b).parent, ++c;
        return c
    }

    function z(a, b) {
        for (;;) {
            var c = a.findFile(b.parent);
            if (!c.parent) break;
            b = c
        }
        return b.name
    }

    function A(a, b) {
        var c = z(a, b),
            d = x(b.ast),
            e = a.budgets[c];
        return null == e && (e = a.budgets[c] = a.options.dependencyBudget), d > e ? !1 : (a.budgets[c] = e - d, !0)
    }

    function B(a) {
        return \"number\" == typeof a || \"object\" == typeof a && \"number\" == typeof a.line && \"number\" == typeof a.ch
    }

    function C(a) {
        if (a.query) {
            if (\"string\" != typeof a.query.type) return \".query.type must be a string\";
            if (a.query.start && !B(a.query.start)) return \".query.start must be a position\";
            if (a.query.end && !B(a.query.end)) return \".query.end must be a position\"
        }
        if (a.files) {
            if (!Array.isArray(a.files)) return \"Files property must be an array\";
            for (var b = 0; b < a.files.length; ++b) {
                var c = a.files[b];
                if (\"object\" != typeof c) return \".files[n] must be objects\";
                if (\"string\" != typeof c.name) return \".files[n].name must be a string\";
                if (\"delete\" != c.type) {
                    if (\"string\" != typeof c.text) return \".files[n].text must be a string\";
                    if (\"part\" == c.type) {
                        if (!B(c.offset) && \"number\" != typeof c.offsetLines) return \".files[n].offset must be a position\"
                    } else if (\"full\" != c.type) return '.files[n].type must be \"full\" or \"part\"'
                }
            }
        }
    }

    function E(a, b) {
        for (var c = a.text, d = a.lineOffsets || (a.lineOffsets = [0]), e = 0, f = 0, g = Math.min(Math.floor(b / D), d.length - 1), e = d[g], f = g * D; b > f;) {
            if (++f, e = c.indexOf(\"\\n\", e) + 1, 0 === e) return null;
            f % D === 0 && d.push(e)
        }
        return e
    }

    function G(a, b) {
        if (!a) return {
            line: 0,
            ch: 0
        };
        for (var e, f, c = a.lineOffsets || (a.lineOffsets = [0]), d = a.text, g = c.length - 1; g >= 0; --g) c[g] <= b && (e = g * D, f = c[g]);
        for (;;) {
            var h = d.indexOf(\"\\n\", f);
            if (h >= b || 0 > h) break;
            f = h + 1, ++e
        }
        return {
            line: e,
            ch: b - f
        }
    }

    function I(a) {
        for (var b in a) null == a[b] && delete a[b];
        return a
    }

    function J(a, b, c) {
        null != c && (a[b] = c)
    }

    function K(a, b) {
        \"string\" != typeof a && (a = a.name, b = b.name);
        var c = /^[A-Z]/.test(a),
            d = /^[A-Z]/.test(b);
        return c == d ? b > a ? -1 : a == b ? 0 : 1 : c ? 1 : -1
    }

    function L(a, b, c) {
        return \"Literal\" == a.type && \"string\" == typeof a.value && a.start == b - 1 && a.end <= c + 1
    }

    function M(a, b) {
        for (var c = 0; c < a.properties.length; c++) {
            var d = a.properties[c];
            if (d.key.start <= b && d.key.end >= b) return d
        }
    }

    function P(a, c, e) {
        function m(b, d, e, f) {
            if ((!t && c.omitObjectPrototype === !1 || d != a.cx.protos.Object || j) && !(c.filter !== !1 && j && 0 !== (c.caseInsensitive ? b.toLowerCase() : b).indexOf(j) || l && l.props[b])) {
                var g = O(c, k, b, d && d.props[b], e);
                f && g && \"string\" != typeof g && f(g)
            }
        }
        if (null == c.end) throw v(\"missing .query.end field\");
        var f = a.signalReturnFirst(\"completion\", e, c);
        if (f) return f;
        for (var g = F(e, c.end), h = g, i = e.text; g && d.isIdentifierChar(i.charCodeAt(g - 1));) --g;
        if (c.expandWordForward !== !1)
            for (; h < i.length && d.isIdentifierChar(i.charCodeAt(h));) ++h;
        var l, j = i.slice(g, h),
            k = [];
        c.caseInsensitive && (j = j.toLowerCase());
        var n, o, p, q, s, t, r = b.findExpressionAround(e.ast, null, g, e.scope);
        if (r) {
            var u = r.node;
            if (\"MemberExpression\" == u.type && u.object.end < g) s = r;
            else if (L(u, g, h)) {
                var w = b.parentNode(u, e.ast);
                \"MemberExpression\" == w.type && w.property == u && (s = {
                    node: w,
                    state: r.state
                })
            } else if (\"ObjectExpression\" == u.type) {
                var x = M(u, h);
                x ? (t = r, o = q = x.key.name) : j || /:\\s*\$/.test(e.text.slice(0, g)) || (t = r, o = q = !0)
            }
        }
        if (t) p = b.typeFromContext(e.ast, t), l = t.node.objType;
        else if (s) o = s.node.property, o = \"Literal\" == o.type ? o.value.slice(1) : o.name, s.node = s.node.object, p = b.expressionType(s);
        else if (\".\" == i.charAt(g - 1)) {
            for (var y = g - 1; y && (\".\" == i.charAt(y - 1) || d.isIdentifierChar(i.charCodeAt(y - 1)));) y--;
            var z = i.slice(y, g - 1);
            z && (p = b.def.parsePath(z, e.scope).getObjType(), o = j)
        }
        if (null != o) {
            if (a.cx.completingProperty = o, p && b.forAllPropertiesOf(p, m), !k.length && c.guess !== !1 && p && p.guessProperties && p.guessProperties(function(a, b, c) {
                    a != o && \"\\u2716\" != a && m(a, b, c)
                }), !k.length && j.length >= 2 && c.guess !== !1)
                for (var o in a.cx.props) m(o, a.cx.props[o][0], 0);
            n = \"memberCompletion\"
        } else b.forAllLocalsAt(e.ast, g, e.scope, m), c.includeKeywords && N.forEach(function(a) {
            m(a, null, 0, function(a) {
                a.isKeyword = !0
            })
        }), n = \"variableCompletion\";
        return a.signal(n, e, g, h, m), c.sort !== !1 && k.sort(K), a.cx.completingProperty = null, {
            start: H(c, e, g),
            end: H(c, e, h),
            isProperty: !!o,
            isObjectKey: !!q,
            completions: k
        }
    }

    function Q(a, b) {
        var c = b.prefix,
            d = [];
        for (var e in a.cx.props) \"<i>\" == e || c && 0 !== e.indexOf(c) || d.push(e);
        return b.sort !== !1 && d.sort(K), {
            completions: d
        }
    }

    function S(a, b, c) {
        var d = R(a, b, c);
        if (d) return d;
        throw v(\"No expression at the given position.\");
    }

    function T(a) {
        return a && (a = a.getType()) && a instanceof b.Obj ? a : null
    }

    function U(a, c, d, e) {
        var f;
        e && (b.resetGuessing(), f = b.expressionType(e));
        var g = a.hasHandler(\"typeAt\");
        if (g)
            for (var h = F(d, c.end), i = 0; i < g.length; i++) f = g[i](d, h, e, f);
        if (!f) throw v(\"No type found at the given position.\");
        var j;
        if (\"ObjectExpression\" == e.node.type && null != c.end && (j = M(e.node, F(d, c.end)))) {
            var k = j.key.name,
                l = T(b.typeFromContext(d.ast, e));
            if (l && l.hasProp(k)) f = l.hasProp(k);
            else {
                var m = T(f);
                m && m.hasProp(k) && (f = m.hasProp(k))
            }
        }
        return f
    }

    function V(a, c, d) {
        var f, e = R(d, c),
            g = U(a, c, d, e),
            h = g;
        if (g = c.preferFunction ? g.getFunctionType() || g.getType() : g.getType(), e && (\"Identifier\" == e.node.type ? f = e.node.name : \"MemberExpression\" != e.node.type || e.node.computed || (f = e.node.property.name)), null != c.depth && \"number\" != typeof c.depth) throw v(\".query.depth must be a number\");
        var i = {
            guess: b.didGuess(),
            type: b.toString(h, c.depth),
            name: g && g.name,
            exprName: f,
            doc: h.doc,
            url: h.url
        };
        return g && Y(c, g, i), I(i)
    }

    function W(a, b) {
        if (!b) return null;
        if (\"full\" == a.docFormat) return b;
        var c = /.\\n[\\s@\\n]/.exec(b);
        if (c && (b = b.slice(0, c.index + 1)), b = b.replace(/\\n\\s*/g, \" \"), b.length < 100) return b;
        var d = /[\\.!?] [A-Z]/g;
        d.lastIndex = 80;
        var e = d.exec(b);
        return e && (b = b.slice(0, e.index + 1)), b
    }

    function X(a, c, d) {
        var e = R(d, c),
            f = U(a, c, d, e),
            g = {
                url: f.url,
                doc: W(c, f.doc),
                type: b.toString(f)
            },
            h = f.getType();
        return h && Y(c, h, g), I(g)
    }

    function Y(a, c, d) {
        d.url || (d.url = c.url), d.doc || (d.doc = W(a, c.doc)), d.origin || (d.origin = c.origin);
        var e, f = b.cx().protos;
        !d.url && !d.doc && c.proto && (e = c.proto.hasCtor) && c.proto != f.Object && c.proto != f.Function && c.proto != f.Array && (d.url = e.url, d.doc = W(a, e.doc))
    }

    function _(a, c, d) {
        var e = R(d, c),
            f = U(a, c, d, e);
        if (b.didGuess()) return {};
        var g = Z(f),
            h = {
                url: f.url,
                doc: W(c, f.doc),
                origin: f.origin
            };
        if (f.types)
            for (var i = f.types.length - 1; i >= 0; --i) {
                var j = f.types[i];
                Y(c, j, h), g || (g = Z(j))
            }
        if (g && g.node) {
            var k = g.node.sourceFile || a.findFile(g.origin),
                l = H(c, k, g.node.start),
                m = H(c, k, g.node.end);
            h.start = l, h.end = m, h.file = g.origin;
            var n = Math.max(0, g.node.start - 50);
            h.contextOffset = g.node.start - n, h.context = k.text.slice(n, n + 50)
        } else g && (h.file = g.origin, \$(a, c, g, h));
        return I(h)
    }

    function aa(a, c, d, e, f) {
        function k(a) {
            return function(b, d) {
                if (f)
                    for (var e = d; e != h; e = e.prev) {
                        var i = e.hasProp(f);
                        if (i) throw v(\"Renaming `\" + g + \"` to `\" + f + \"` would make a variable at line \" + (G(a, b.start).line + 1) + \" point to the definition at line \" + (G(a, i.name.start).line + 1))
                    }
                j.push({
                    file: a.name,
                    start: H(c, a, b.start),
                    end: H(c, a, b.end)
                })
            }
        }
        for (var g = e.node.name, h = e.state; h && !(g in h.props); h = h.prev);
        if (!h) throw v(\"Could not find a definition for \" + g);
        var i, j = [];
        if (h.originNode) {
            if (i = \"local\", f) {
                for (var l = h.prev; l && !(f in l.props); l = l.prev);
                l && b.findRefs(h.originNode, h, f, l, function(a) {
                    throw v(\"Renaming `\" + g + \"` to `\" + f + \"` would shadow the definition used at line \" + (G(d, a.start).line + 1))
                })
            }
            b.findRefs(h.originNode, h, g, h, k(d))
        } else {
            i = \"global\";
            for (var m = 0; m < a.files.length; ++m) {
                var n = a.files[m];
                b.findRefs(n.ast, n.scope, g, h, k(n))
            }
        }
        return {
            refs: j,
            type: i,
            name: g
        }
    }

    function ba(a, c, d, e) {
        function h(a) {
            return function(b) {
                g.push({
                    file: a.name,
                    start: H(c, a, b.start),
                    end: H(c, a, b.end)
                })
            }
        }
        var f = b.expressionType(d).getObjType();
        if (!f) throw v(\"Couldn't determine type of base object.\");
        for (var g = [], i = 0; i < a.files.length; ++i) {
            var j = a.files[i];
            b.findPropRefs(j.ast, j.scope, f, e.name, h(j))
        }
        return {
            refs: g,
            name: e.name
        }
    }

    function ca(a, b, c) {
        var d = S(c, b, !0);
        if (d && \"Identifier\" == d.node.type) return aa(a, b, c, d);
        if (d && \"MemberExpression\" == d.node.type && !d.node.computed) {
            var e = d.node.property;
            return d.node = d.node.object, ba(a, b, d, e)
        }
        if (d && \"ObjectExpression\" == d.node.type)
            for (var f = F(c, b.end), g = 0; g < d.node.properties.length; ++g) {
                var h = d.node.properties[g].key;
                if (h.start <= f && h.end >= f) return ba(a, b, d, h)
            }
        throw v(\"Not at a variable or property name.\")
    }

    function da(a, b, c) {
        if (\"string\" != typeof b.newName) throw v(\".query.newName should be a string\");
        var d = S(c, b);
        if (!d || \"Identifier\" != d.node.type) throw v(\"Not at a variable.\");
        var e = aa(a, b, c, d, b.newName),
            f = e.refs;
        delete e.refs, e.files = a.files.map(function(a) {
            return a.name
        });
        for (var g = e.changes = [], h = 0; h < f.length; ++h) {
            var i = f[h];
            i.text = b.newName, g.push(i)
        }
        return e
    }

    function ea(a) {
        return {
            files: a.files.map(function(a) {
                return a.name
            })
        }
    }
    var f = Object.create(null);
    a.registerPlugin = function(a, b) {
        f[a] = b
    };
    var g = a.defaultOptions = {
            debug: !1,
            async: !1,
            getFile: function(a, b) {
                this.async && b(null, null)
            },
            normalizeFilename: function(a) {
                return a
            },
            defs: [],
            plugins: {},
            fetchTimeout: 1e3,
            dependencyBudget: 2e4,
            reuseInstances: !0,
            stripCRs: !1,
            ecmaVersion: 6,
            projectDir: \"/\"
        },
        h = {
            completions: {
                takesFile: !0,
                run: P
            },
            properties: {
                run: Q
            },
            type: {
                takesFile: !0,
                run: V
            },
            documentation: {
                takesFile: !0,
                run: X
            },
            definition: {
                takesFile: !0,
                run: _
            },
            refs: {
                takesFile: !0,
                fullFile: !0,
                run: ca
            },
            rename: {
                takesFile: !0,
                fullFile: !0,
                run: da
            },
            files: {
                run: ea
            }
        };
    a.defineQueryType = function(a, b) {
        h[a] = b
    }, i.prototype.asLineChar = function(a) {
        return G(this, a)
    };
    var l = a.Server = function(a) {
        this.cx = null, this.options = a || {};
        for (var b in g) a.hasOwnProperty(b) || (a[b] = g[b]);
        this.projectDir = a.projectDir.replace(/\\\\/g, \"/\"), /\\/\$/.test(this.projectDir) || (this.projectDir += \"/\"), this.handlers = Object.create(null), this.files = [], this.fileMap = Object.create(null), this.needsPurge = [], this.budgets = Object.create(null), this.uses = 0, this.pending = 0, this.asyncError = null, this.mod = {}, this.defs = a.defs.slice(0), this.plugins = Object.create(null);
        for (var c in a.plugins) a.plugins.hasOwnProperty(c) && this.loadPlugin(c, a.plugins[c]);
        this.reset()
    };
    l.prototype = c.mixin({
        addFile: function(a, b, c) {
            !c || c in this.fileMap || (c = null), a in this.fileMap || (a = this.normalizeFilename(a)), o(this, a, c, b)
        },
        delFile: function(a) {
            var b = this.findFile(a);
            b && (this.needsPurge.push(b.name), this.files.splice(this.files.indexOf(b), 1), delete this.fileMap[a])
        },
        reset: function() {
            this.signal(\"reset\"), this.cx = new b.Context(this.defs, this), this.uses = 0, this.budgets = Object.create(null);
            for (var a = 0; a < this.files.length; ++a) {
                var c = this.files[a];
                c.scope = null
            }
            this.signal(\"postReset\")
        },
        request: function(a, b) {
            var c = C(a);
            if (c) return b(c);
            var d = this;
            m(this, a, function(a, c) {
                b(a, c), d.uses > 40 && (d.reset(), r(d, null, function() {}))
            })
        },
        findFile: function(a) {
            return this.fileMap[a]
        },
        flush: function(a) {
            var c = this.cx;
            r(this, null, function(d) {
                return d ? a(d) : void b.withContext(c, a)
            })
        },
        startAsyncAction: function() {
            ++this.pending
        },
        finishAsyncAction: function(a) {
            a && (this.asyncError = a), 0 === --this.pending && this.signal(\"everythingFetched\")
        },
        addDefs: function(a, b) {
            b ? this.defs.unshift(a) : this.defs.push(a), this.cx && this.reset()
        },
        loadPlugin: function(a, b) {
            if (1 == arguments.length && (b = this.options.plugins[a] || !0), !(a in this.plugins) && a in f && b) {
                this.plugins[a] = !0;
                var c = f[a](this, b);
                if (c && (c.defs && this.addDefs(c.defs, c.loadFirst), c.passes))
                    for (var d in c.passes) c.passes.hasOwnProperty(d) && this.on(d, c.passes[d])
            }
        },
        normalizeFilename: function(a) {
            var b = this.options.normalizeFilename(a).replace(/\\\\/g, \"/\");
            return 0 == b.indexOf(this.projectDir) && (b = b.slice(this.projectDir.length)), b
        }
    });
    var D = 25,
        F = a.resolvePos = function(a, b, c) {
            if (\"number\" != typeof b) {
                var d = E(a, b.line);
                if (null == d) {
                    if (!c) throw v(\"File doesn't contain a line \" + b.line);
                    b = a.text.length
                } else b = d + b.ch
            }
            if (b > a.text.length) {
                if (!c) throw v(\"Position \" + b + \" is outside of file.\");
                b = a.text.length
            }
            return b
        },
        H = a.outputPos = function(a, b, c) {
            if (a.lineCharPositions) {
                var d = G(b, c);
                return \"part\" == b.type && (d.line += null != b.offsetLines ? b.offsetLines : G(b.backing, b.offset).line), d
            }
            return c + (\"part\" == b.type ? b.offset : 0)
        },
        N = \"break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try\".split(\" \"),
        O = a.addCompletion = function(a, c, d, e, f) {
            for (var g = a.types || a.docs || a.urls || a.origins, h = g || a.depths, i = 0; i < c.length; ++i) {
                var j = c[i];
                if ((h ? j.name : j) == d) return
            }
            var k = h ? {
                name: d
            } : d;
            if (c.push(k), e && g) {
                b.resetGuessing();
                var l = e.getType();
                k.guess = b.didGuess(), a.types && (k.type = b.toString(e)), a.docs && J(k, \"doc\", W(a, e.doc || l && l.doc)), a.urls && J(k, \"url\", e.url || l && l.url), a.origins && J(k, \"origin\", e.origin || l && l.origin)
            }
            return a.depths && (k.depth = f || 0), k
        },
        R = a.findQueryExpr = function(a, c, d) {
            if (null == c.end) throw v(\"missing .query.end field\");
            if (c.variable) {
                var e = b.scopeAt(a.ast, F(a, c.end), a.scope);
                return {
                    node: {
                        type: \"Identifier\",
                        name: c.variable,
                        start: c.end,
                        end: c.end + 1
                    },
                    state: e
                }
            }
            var f = c.start && F(a, c.start),
                g = F(a, c.end),
                h = b.findExpressionAt(a.ast, f, g, a.scope);
            return h ? h : (h = b.findExpressionAround(a.ast, f, g, a.scope), h && (\"ObjectExpression\" == h.node.type || d || (null == f ? g : f) - h.node.start < 20 || h.node.end - g < 20) ? h : null)
        },
        Z = a.getSpan = function(a) {
            if (a.origin) {
                if (a.originNode) {
                    var b = a.originNode;
                    return /^Function/.test(b.type) && b.id && (b = b.id), {
                        origin: a.origin,
                        node: b
                    }
                }
                return a.span ? {
                    origin: a.origin,
                    span: a.span
                } : void 0
            }
        },
        \$ = a.storeSpan = function(a, b, c, d) {
            if (d.origin = c.origin, c.span) {
                var e = /^(\\d+)\\[(\\d+):(\\d+)\\]-(\\d+)\\[(\\d+):(\\d+)\\]\$/.exec(c.span);
                d.start = b.lineCharPositions ? {
                    line: Number(e[2]),
                    ch: Number(e[3])
                } : Number(e[1]), d.end = b.lineCharPositions ? {
                    line: Number(e[5]),
                    ch: Number(e[6])
                } : Number(e[4])
            } else {
                var f = a.findFile(c.origin);
                d.start = H(b, f, c.node.start), d.end = H(b, f, c.node.end)
            }
        };
    a.version = \"0.15.1\"
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? exports.init = a : \"function\" == typeof define && define.amd ? define({
        init: a
    }) : void(tern.def = {
        init: a
    })
}(function(a, b) {
    \"use strict\";

    function c(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }

    function e(a, b, c) {
        return a.call ? a(b, c) : a
    }

    function f(a, c) {
        if (\"!ret\" == c) {
            if (a.retval) return a.retval;
            var d = new b.AVal;
            return a.propagate(new b.IsCallee(b.ANull, [], null, d)), d
        }
        return a.getProp(c)
    }

    function g(a, c, d, f) {
        return function(g, h) {
            for (var i = [], j = 0; j < c.length; j++) i.push(e(c[j], g, h));
            return new b.Fn(a, b.ANull, i, e(d, g, h), f)
        }
    }

    function h(a) {
        return function(c, d) {
            for (var f = new b.AVal, g = 0; g < a.length; g++) e(a[g], c, d).propagate(f);
            return f.maxWeight = 1e5, f
        }
    }

    function i(a) {
        return function(c, d) {
            return new b.Arr(a(c, d))
        }
    }

    function j(a) {
        return function(c, d) {
            return new b.Arr(a.map(function(a) {
                return e(a, c, d)
            }))
        }
    }

    function k(a, c, e, f) {
        var g = new d(a, null, e, f).parseType(!1, c, !0);
        if (/^fn\\(/.test(a))
            for (var h = 0; h < g.args.length; ++h)(function(a) {
                var c = g.args[a];
                c instanceof b.Fn && c.args && c.args.length && l(g, function(d, e) {
                    var f = e[a];
                    f && f.propagate(new b.IsCallee(b.cx().topScope, c.args, null, b.ANull))
                })
            })(h);
        return g
    }

    function l(a, b, c) {
        var d = a.computeRet,
            e = a.retval;
        a.computeRet = function(a, f, g) {
            var h = b(a, f, g),
                i = d ? d(a, f, g) : e;
            return c ? h : i
        }
    }

    function p(a, c) {
        for (var d = 0; d < c.length && a != b.ANull; ++d) {
            var e = c[d];
            if (\"!\" == e.charAt(0))
                if (\"!proto\" == e) a = a instanceof b.Obj && a.proto || b.ANull;
                else {
                    var f = a.getFunctionType();
                    if (f)
                        if (\"!ret\" == e) a = f.retval && f.retval.getType(!1) || b.ANull;
                        else {
                            var g = f.args && f.args[Number(e.slice(1))];
                            a = g && g.getType(!1) || b.ANull
                        } else a = b.ANull
                } else if (a instanceof b.Obj) {
                var h = \"prototype\" == e && a instanceof b.Fn ? a.getProp(e) : a.props[e];
                a = !h || h.isEmpty() ? b.ANull : h.types[0]
            }
        }
        return a
    }

    function q(a) {
        var b = Object.create(a.prototype);
        return b.props = Object.create(null), b.isShell = !0, b
    }

    function r(a) {
        if (!a[\"!type\"] || /^(fn\\(|\\[)/.test(a[\"!type\"])) return !1;
        for (var b in a)
            if (\"!type\" != b && \"!doc\" != b && \"!url\" != b && \"!span\" != b && \"!data\" != b) return !1;
        return !0
    }

    function s(a, d, e) {
        if (!a) {
            var f = d[\"!type\"];
            if (f)
                if (/^fn\\(/.test(f)) a = q(b.Fn);
                else {
                    if (\"[\" != f.charAt(0)) throw new Error(\"Invalid !type spec: \" + f);
                    a = q(b.Arr)
                } else a = d[\"!stdProto\"] ? b.cx().protos[d[\"!stdProto\"]] : q(b.Obj);
            a.name = e
        }
        for (var g in d)
            if (c(d, g) && 33 != g.charCodeAt(0)) {
                var h = d[g];
                if (\"string\" == typeof h || r(h)) continue;
                var i = a.defProp(g);
                s(i.getObjType(), h, e ? e + \".\" + g : g).propagate(i)
            }
        return a
    }

    function t(a, d, e) {
        if (a.isShell) {
            delete a.isShell;
            var f = d[\"!type\"];
            if (f) k(f, e, a);
            else {
                var g = d[\"!proto\"] && k(d[\"!proto\"]);
                b.Obj.call(a, g instanceof b.Obj ? g : !0, e)
            }
        }
        var h = d[\"!effects\"];
        if (h && a instanceof b.Fn)
            for (var i = 0; i < h.length; ++i) m(h[i], a);
        u(d, a);
        for (var j in d)
            if (c(d, j) && 33 != j.charCodeAt(0)) {
                var l = d[j],
                    n = a.defProp(j),
                    o = e ? e + \".\" + j : j;
                if (\"string\" == typeof l) n.isEmpty() && k(l, o).propagate(n);
                else {
                    if (r(l)) {
                        if (!n.isEmpty()) continue;
                        k(l[\"!type\"], o, null, !0).propagate(n)
                    } else t(n.getObjType(), l, o);
                    l[\"!doc\"] && (n.doc = l[\"!doc\"]), l[\"!url\"] && (n.url = l[\"!url\"]), l[\"!span\"] && (n.span = l[\"!span\"])
                }
            }
        return a
    }

    function u(a, b) {
        a[\"!doc\"] && (b.doc = a[\"!doc\"]), a[\"!url\"] && (b.url = a[\"!url\"]), a[\"!span\"] && (b.span = a[\"!span\"]), a[\"!data\"] && (b.metaData = a[\"!data\"])
    }

    function v(a, c) {
        var d = b.cx(),
            e = d.parent;
        b.addOrigin(d.curOrigin = a[\"!name\"] || \"env#\" + d.origins.length), d.localDefs = d.definitions[d.curOrigin] = Object.create(null), e && e.signal(\"preLoadDef\", a), s(c, a);
        var f = a[\"!define\"];
        if (f) {
            for (var g in f) {
                var h = f[g];
                d.localDefs[g] = \"string\" == typeof h ? o(h) : s(null, h, g)
            }
            for (var g in f) {
                var h = f[g];
                \"string\" != typeof h && t(d.localDefs[g], f[g], g)
            }
        }
        t(c, a), e && e.signal(\"postLoadDef\", a), d.curOrigin = d.localDefs = null
    }
    var d = a.TypeParser = function(a, b, c, d) {
        this.pos = b || 0, this.spec = a, this.base = c, this.forceNew = d
    };
    d.prototype = {
        eat: function(a) {
            return (1 == a.length ? this.spec.charAt(this.pos) == a : this.spec.indexOf(a, this.pos) == this.pos) ? (this.pos += a.length, !0) : void 0
        },
        word: function(a) {
            for (var c, b = \"\", a = a || /[\\w\$]/;
                (c = this.spec.charAt(this.pos)) && a.test(c);) b += c, ++this.pos;
            return b
        },
        error: function() {
            throw new Error(\"Unrecognized type spec: \" + this.spec + \" (at \" + this.pos + \")\")
        },
        parseFnType: function(a, c, d, e) {
            var f = [],
                h = [],
                i = !1;
            if (!this.eat(\")\"))
                for (var j = 0;; ++j) {
                    var l, k = this.spec.indexOf(\": \", this.pos); - 1 != k && (l = this.spec.slice(this.pos, k), /^[\$\\w?]+\$/.test(l) ? this.pos = k + 2 : l = null), h.push(l);
                    var m = this.parseType(a);
                    if (m.call && (i = !0), f.push(m), !this.eat(\", \")) {
                        this.eat(\")\") || this.error();
                        break
                    }
                }
            var n, o, p, q;
            if (this.eat(\" -> \")) {
                var r = this.pos;
                n = this.parseType(!0), n.call && !i && (o = n, n = b.ANull, p = r)
            } else n = b.ANull;
            return i ? g(c, f, n, e) : (d && (q = this.base) ? b.Fn.call(this.base, c, b.ANull, f, h, n, e) : q = new b.Fn(c, b.ANull, f, h, n, e), o && (q.computeRet = o), null != p && (q.computeRetSource = this.spec.slice(p, this.pos)), q)
        },
        parseType: function(a, c, d) {
            var e = this.parseTypeMaybeProp(a, c, d);
            if (!this.eat(\"|\")) return e;
            for (var f = [e], g = e.call;;) {
                var i = this.parseTypeMaybeProp(a, c, d);
                if (f.push(i), i.call && (g = !0), !this.eat(\"|\")) break
            }
            if (g) return h(f);
            for (var j = new b.AVal, k = 0; k < f.length; k++) f[k].propagate(j);
            return j.maxWeight = 1e5, j
        },
        parseTypeMaybeProp: function(a, b, c) {
            for (var d = this.parseTypeInner(a, b, c); a && this.eat(\".\");) d = this.extendWithProp(d);
            return d
        },
        extendWithProp: function(a) {
            var b = this.word(/[\\w<>\$!:]/) || this.error();
            return a.apply ? function(c, d) {
                return f(a(c, d), b)
            } : f(a, b)
        },
        parseTypeInner: function(a, c, d) {
            var e;
            if (this.eat(\"fn(\") || (e = this.eat(\"fn*(\"))) return this.parseFnType(a, c, d, e);
            if (this.eat(\"[\")) {
                for (var g, f = this.parseType(a), h = f.call; this.eat(\", \");) {
                    g || (g = [f]);
                    var k = this.parseType(a);
                    g.push(k), h = h || k.call
                }
                return this.eat(\"]\") || this.error(), h ? g ? j(g) : i(f) : d && this.base ? (b.Arr.call(this.base, g || f), this.base) : new b.Arr(g || f)
            }
            if (this.eat(\"+\")) {
                var l = this.word(/[\\w\$<>\\.:!]/),
                    m = b.cx().localDefs[l + \".prototype\"];
                if (!m) {
                    var m = o(l);
                    if (!(m instanceof b.Obj)) return m;
                    var n = p(m, [\"prototype\"]);
                    n && (n = n.getObjType()) && (m = n)
                }
                return a && this.eat(\"[\") ? this.parsePoly(m) : d && this.forceNew ? new b.Obj(m) : b.getInstance(m)
            }
            if (this.eat(\":\")) {
                var c = this.word(/[\\w\$\\.]/);
                return b.getSymbol(c)
            }
            if (a && this.eat(\"!\")) {
                var q = this.word(/\\d/);
                if (q) return q = Number(q),
                    function(a, c) {
                        return c[q] || b.ANull
                    };
                if (this.eat(\"this\")) return function(a) {
                    return a
                };
                if (this.eat(\"custom:\")) {
                    var r = this.word(/[\\w\$]/);
                    return w[r] || function() {
                        return b.ANull
                    }
                }
                return this.fromWord(\"!\" + this.word(/[\\w\$<>\\.!:]/))
            }
            return this.eat(\"?\") ? b.ANull : this.fromWord(this.word(/[\\w\$<>\\.!:`]/))
        },
        fromWord: function(a) {
            var c = b.cx();
            switch (a) {
                case \"number\":
                    return c.num;
                case \"string\":
                    return c.str;
                case \"bool\":
                    return c.bool;
                case \"<top>\":
                    return c.topScope
            }
            return c.localDefs && a in c.localDefs ? c.localDefs[a] : o(a)
        },
        parsePoly: function(a) {
            var d, c = \"<i>\";
            (d = this.spec.slice(this.pos).match(/^\\s*([\\w\$:]+)\\s*=\\s*/)) && (c = d[1], this.pos += d[0].length);
            var e = this.parseType(!0);
            if (this.eat(\"]\") || this.error(), e.call) return function(d, f) {
                var g = new b.Obj(a);
                return e(d, f).propagate(g.defProp(c)), g
            };
            var f = new b.Obj(a);
            return e.propagate(f.defProp(c)), f
        }
    };
    var n, m = a.parseEffect = function(a, c) {
            var f;
            if (0 == a.indexOf(\"propagate \")) {
                var g = new d(a, 10),
                    h = g.parseType(!0);
                g.eat(\" \") || g.error();
                var i = g.parseType(!0);
                l(c, function(a, b) {
                    e(h, a, b).propagate(e(i, a, b))
                })
            } else if (0 == a.indexOf(\"call \")) {
                var j = 5 == a.indexOf(\"and return \", 5),
                    g = new d(a, j ? 16 : 5),
                    k = g.parseType(!0),
                    m = null,
                    n = [];
                for (g.eat(\" this=\") && (m = g.parseType(!0)); g.eat(\" \");) n.push(g.parseType(!0));
                l(c, function(a, c) {
                    for (var d = e(k, a, c), f = m ? e(m, a, c) : b.ANull, g = [], h = 0; h < n.length; ++h) g.push(e(n[h], a, c));
                    var i = j ? new b.AVal : b.ANull;
                    return d.propagate(new b.IsCallee(f, g, null, i)), i
                }, j)
            } else if (f = a.match(/^custom (\\S+)\\s*(.*)/)) {
                var o = w[f[1]];
                o && l(c, f[2] ? o(f[2]) : o)
            } else {
                if (0 != a.indexOf(\"copy \")) throw new Error(\"Unknown effect type: \" + a);
                var g = new d(a, 5),
                    p = g.parseType(!0);
                g.eat(\" \");
                var q = g.parseType(!0);
                l(c, function(a, c) {
                    var d = e(p, a, c),
                        f = e(q, a, c);
                    d.forAllProps(function(a, c, d) {
                        d && \"<i>\" != a && f.propagate(new b.DefProp(a, c))
                    })
                })
            }
        },
        o = a.parsePath = function(a, c) {
            var d = b.cx(),
                e = d.paths[a],
                f = a;
            if (null != e) return e;
            d.paths[a] = b.ANull;
            var g = c || n || d.topScope;
            if (d.localDefs)
                for (var h in d.localDefs)
                    if (0 == a.indexOf(h)) {
                        if (a == h) return d.paths[a] = d.localDefs[a];
                        if (\".\" == a.charAt(h.length)) {
                            g = d.localDefs[h], a = a.slice(h.length + 1);
                            break
                        }
                    }
            var i = p(g, a.split(\".\"));
            return d.paths[f] = i == b.ANull ? null : i, i
        };
    a.load = function(a, c) {
        c || (c = b.cx().topScope);
        var d = n;
        n = c;
        try {
            v(a, c)
        } finally {
            n = d
        }
    }, a.parse = function(a, c, d) {
        var e = b.cx();
        c && (e.origin = c, e.localDefs = e.definitions[c]);
        try {
            return \"string\" == typeof a ? k(a, d) : t(s(null, a, d), a, d)
        } finally {
            c && (e.origin = e.localDefs = null)
        }
    };
    var w = Object.create(null);
    b.registerFunction = function(a, b) {
        w[a] = b
    };
    var x = b.constraint({
        construct: function(a, b, c) {
            this.created = a, this.target = b, this.spec = c
        },
        addType: function(a) {
            if (a instanceof b.Obj && this.created++ < 5) {
                var c = new b.Obj(a),
                    d = this.spec;
                if (d instanceof b.AVal && (d = d.getObjType(!1)), d instanceof b.Obj)
                    for (var e in d.props) {
                        var f = d.props[e].types[0],
                            g = c.defProp(e);
                        if (f && f instanceof b.Obj && f.props.value) {
                            var h = f.props.value.getType(!1);
                            h && g.addType(h)
                        }
                    }
                this.target.addType(c)
            }
        }
    });
    b.registerFunction(\"Object_create\", function(a, c, d) {
        if (d && d.length && \"Literal\" == d[0].type && null == d[0].value) return new b.Obj;
        var e = new b.AVal;
        return c[0] && c[0].propagate(new x(0, e, c[1])), e
    });
    var y = b.constraint({
        construct: function(a) {
            this.target = a
        },
        addType: function(a) {
            a instanceof b.Obj && (a.hasProp(\"value\") ? a.getProp(\"value\").propagate(this.target) : a.hasProp(\"get\") && a.getProp(\"get\").propagate(new b.IsCallee(b.ANull, [], null, this.target)))
        }
    });
    b.registerFunction(\"Object_defineProperty\", function(a, c, d) {
        if (d && d.length >= 3 && \"Literal\" == d[1].type && \"string\" == typeof d[1].value) {
            var e = c[0],
                f = new b.AVal;
            e.propagate(new b.DefProp(d[1].value, f, d[1])), c[2].propagate(new y(f))
        }
        return b.ANull
    }), b.registerFunction(\"Object_defineProperties\", function(a, c, d) {
        if (c.length >= 2) {
            var e = c[0];
            c[1].forAllProps(function(a, c, f) {
                if (f) {
                    var g = new b.AVal;
                    e.propagate(new b.DefProp(a, g, d && d[1])), c.propagate(new y(g))
                }
            })
        }
        return b.ANull
    });
    var z = b.constraint({
        construct: function(a, b, c) {
            this.self = a, this.args = b, this.target = c
        },
        addType: function(a) {
            if (a instanceof b.Fn) {
                this.target.addType(new b.Fn(a.name, b.ANull, a.args.slice(this.args.length), a.argNames.slice(this.args.length), a.retval, a.generator)), this.self.propagate(a.self);
                for (var c = 0; c < Math.min(a.args.length, this.args.length); ++c) this.args[c].propagate(a.args[c])
            }
        }
    });
    b.registerFunction(\"Function_bind\", function(a, c) {
        if (!c.length) return b.ANull;
        var d = new b.AVal;
        return a.propagate(new z(c[0], c.slice(1), d)), d
    }), b.registerFunction(\"Array_ctor\", function(a, c) {
        var d = new b.Arr;
        if (1 != c.length || !c[0].hasType(b.cx().num))
            for (var e = d.getProp(\"<i>\"), f = 0; f < c.length; ++f) c[f].propagate(e);
        return d
    }), b.registerFunction(\"Promise_ctor\", function(a, c, d) {
        var e = b.cx().definitions.ecma6;
        if (!e || c.length < 1) return b.ANull;
        var f = new b.Obj(e[\"Promise.prototype\"]),
            g = f.defProp(\":t\", d && d[0]),
            h = new b.AVal;
        h.propagate(g);
        var i = new b.Fn(\"execute\", b.ANull, [h], [\"value\"], b.ANull),
            j = e.Promise_reject;
        return c[0].propagate(new b.IsCallee(b.ANull, [i, j], null, b.ANull)), f
    });
    var A = b.constraint({
            construct: function(a) {
                this.output = a
            },
            addType: function(a) {
                a.constructor == b.Obj && \"Promise\" == a.name && a.hasProp(\":t\") ? a.getProp(\":t\").propagate(this.output) : a.propagate(this.output)
            }
        }),
        B = 50;
    return b.registerFunction(\"Promise_then\", function(a, c, d) {
        var e = c.length && c[0].getFunctionType(),
            f = b.cx().definitions.ecma6;
        if (!e || !f) return a;
        var i, g = new b.Obj(f[\"Promise.prototype\"]),
            h = g.defProp(\":t\", d && d[0]);
        return e.retval.isEmpty() && (i = a.getType()) instanceof b.Obj && i.hasProp(\":t\") && i.getProp(\":t\").propagate(h, B), e.retval.propagate(new A(h)), g
    }), b.registerFunction(\"getOwnPropertySymbols\", function(a, c) {
        if (!c.length) return b.ANull;
        var d = new b.AVal;
        return c[0].forAllProps(function(a, c, e) {
            e && \":\" == a.charAt(0) && d.addType(b.getSymbol(a.slice(1)))
        }), d
    }), b.registerFunction(\"getSymbol\", function(a, c, d) {
        return d.length && \"Literal\" == d[0].type && \"string\" == typeof d[0].value ? b.getSymbol(d[0].value) : b.ANull
    }), a
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? a(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], a) : void a(tern.comment || (tern.comment = {}))
}(function(a) {
    function b(a) {
        return 14 > a && a > 8 || 32 === a || 160 === a
    }

    function c(a, c) {
        for (; c > 0; --c) {
            var d = a.charCodeAt(c - 1);
            if (10 == d) break;
            if (!b(d)) return !1
        }
        return !0
    }
    a.commentsBefore = function(a, d) {
        var g, e = null,
            f = 0;
        a: for (; d > 0;) {
            var h = a.charCodeAt(d - 1);
            if (10 == h)
                for (var i = --d, j = !1; i > 0; --i) {
                    if (h = a.charCodeAt(i - 1), 47 == h && 47 == a.charCodeAt(i - 2)) {
                        if (!c(a, i - 2)) break a;
                        var k = a.slice(i, d);
                        !f && g ? e[0] = k + \"\\n\" + e[0] : (e || (e = [])).unshift(k), g = !0, f = 0, d = i - 2;
                        break
                    }
                    if (10 == h) {
                        if (!j && ++f > 1) break a;
                        break
                    }
                    j || b(h) || (j = !0)
                } else if (47 == h && 42 == a.charCodeAt(d - 2)) {
                    for (var i = d - 2; i > 1; --i)
                        if (42 == a.charCodeAt(i - 1) && 47 == a.charCodeAt(i - 2)) {
                            if (!c(a, i - 2)) break a;
                            (e || (e = [])).unshift(a.slice(i, d - 2)), g = !1, f = 0;
                            break
                        }
                    d = i - 2
                } else {
                    if (!b(h)) break;
                    --d
                }
        }
        return e
    }, a.commentAfter = function(a, c) {
        for (; c < a.length;) {
            var d = a.charCodeAt(c);
            if (47 == d) {
                var f, e = a.charCodeAt(c + 1);
                if (47 == e) f = a.indexOf(\"\\n\", c + 2);
                else {
                    if (42 != e) return;
                    f = a.indexOf(\"*/\", c + 2)
                }
                return a.slice(c + 2, 0 > f ? a.length : f)
            }
            b(d) && ++c
        }
    }, a.ensureCommentsBefore = function(b, c) {
        return c.hasOwnProperty(\"commentsBefore\") ? c.commentsBefore : c.commentsBefore = a.commentsBefore(b, c.start)
    }
}),
function(a, b) {
    return \"object\" == typeof exports && \"object\" == typeof module ? b(exports, require(\"acorn\"), require(\"acorn/dist/acorn_loose\"), require(\"acorn/dist/walk\"), require(\"./def\"), require(\"./signal\")) : \"function\" == typeof define && define.amd ? define([\"exports\", \"acorn/dist/acorn\", \"acorn/dist/acorn_loose\", \"acorn/dist/walk\", \"./def\", \"./signal\"], b) : void b(a.tern || (a.tern = {}), acorn, acorn, acorn.walk, tern.def, tern.signal)
}(this, function(a, b, c, d, e, f) {
    \"use strict\";

    function i(a, b) {
        var c = Object.create(a);
        if (b)
            for (var d in b) c[d] = b[d];
        return c
    }

    function t(a, b, c) {
        var d = a.getType(!1),
            e = b.getType(!1);
        return d && e ? u(d, e, c) : !0
    }

    function u(a, b, c) {
        if (!a || c >= 5) return b;
        if (!a || a == b) return a;
        if (!b) return a;
        if (a.constructor != b.constructor) return !1;
        if (a.constructor != S) {
            if (a.constructor == Q) {
                var f = 0,
                    g = 0,
                    h = 0;
                for (var i in a.props) f++, i in b.props && t(a.props[i], b.props[i], c + 1) && h++;
                for (var i in b.props) g++;
                return f && g && h < Math.max(f, g) / 2 ? !1 : f > g ? a : b
            }
            return a.constructor == R && a.args.length == b.args.length && a.args.every(function(a, d) {
                return t(a, b.args[d], c + 1)
            }) && t(a.retval, b.retval, c + 1) && t(a.self, b.self, c + 1) ? a : !1
        }
        var d = a.getProp(\"<i>\").getType(!1);
        if (!d) return b;
        var e = b.getProp(\"<i>\").getType(!1);
        return !e || u(d, e, c + 1) ? b : void 0
    }

    function w(a) {
        for (var b = 0, c = 0, d = 0, e = null, f = 0; f < a.length; ++f) {
            var g = a[f];
            if (g instanceof S) ++b;
            else if (g instanceof R) ++c;
            else if (g instanceof Q) ++d;
            else if (g instanceof O) {
                if (e && g.name != e.name) return null;
                e = g
            }
        }
        var h = (b && 1) + (c && 1) + (d && 1) + (e && 1);
        if (h > 1) return null;
        if (e) return e;
        for (var i = 0, j = null, f = 0; f < a.length; ++f) {
            var g = a[f],
                k = 0;
            if (b) k = g.getProp(\"<i>\").isEmpty() ? 1 : 2;
            else if (c) {
                k = 1;
                for (var l = 0; l < g.args.length; ++l) g.args[l].isEmpty() || ++k;
                g.retval.isEmpty() || ++k
            } else d && (k = g.name ? 100 : 2);
            k >= i && (i = k, j = g)
        }
        return j
    }

    function B(a, b) {
        W.disabledComputing = {
            fn: a,
            prev: W.disabledComputing
        };
        var c = b();
        return W.disabledComputing = W.disabledComputing.prev, c
    }

    function P(a) {
        var b = a.charCodeAt(0);
        return b >= 48 && 57 >= b ? !/\\D/.test(a) : !1
    }

    function U(a, b) {
        var c = W.props[a] || (W.props[a] = []);
        c.push(b)
    }

    function V(a) {
        return W.props[a]
    }

    function \$(b) {
        if (W.workList) return b(W.workList);
        for (var c = [], d = 0, e = W.workList = function(a, b, e) {
                d < Y - Z * c.length && c.push(a, b, e, d)
            }, f = b(e), g = 0; g < c.length; g += 4) {
            if (X && +new Date >= X) throw new a.TimedOut;
            d = c[g + 3] + 1, c[g + 1].addType(c[g], c[g + 2])
        }
        return W.workList = null, f
    }

    function _(a, b, c) {
        var d = W.curSuperCtor,
            e = W.curSuper;
        W.curSuperCtor = a, W.curSuper = b;
        var f = c();
        return W.curSuperCtor = d, W.curSuper = e, f
    }

    function ba(a) {
        for (; a.isBlock;) a = a.prev;
        return a
    }

    function ca(a, b) {
        var c = ba(a).fnType;
        c && (c.instantiateScore = (c.instantiateScore || 0) + b)
    }

    function ea(a, b) {
        try {
            return d.simple(a, {
                Expression: function() {
                    if (--b <= 0) throw da
                }
            }), !0
        } catch (c) {
            if (c == da) return !1;
            throw c
        }
    }

    function fa(a, b) {
        var c = b.instantiateScore;
        return !W.disabledComputing && c && b.args.length && ea(a, 5 * c) ? (ca(ba(b.originNode.scope.prev), c / 2), ga(a, b), !0) : void(b.instantiateScore = null)
    }

    function ga(a, b) {
        for (var c = 0; c < b.args.length; ++c) b.args[c] = new s;
        b.self = new s, b.computeRet = function(c, e) {
            return B(b, function() {
                var f = W.curOrigin;
                W.curOrigin = b.origin;
                var g = a.scope,
                    i = new aa(g.prev, g.originNode);
                for (var j in g.props)
                    for (var k = i.defProp(j, g.props[j].originNode), l = 0; l < e.length; ++l) b.argNames[l] == j && l < e.length && e[l].propagate(k);
                for (var m = b.argNames.length != e.length ? b.argNames.slice(0, e.length) : b.argNames; m.length < e.length;) m.push(\"?\");
                if (i.fnType = new R(b.name, c, e, m, h, b.generator), i.fnType.originNode = b.originNode, b.arguments) {
                    var n = i.fnType.arguments = new s;
                    i.defProp(\"arguments\").addType(new S(n));
                    for (var l = 0; l < e.length; ++l) e[l].propagate(n)
                }
                return a.scope = i, d.recursive(a.body, i, null, ma), d.recursive(a.body, i, null, Ga), W.curOrigin = f, i.fnType.retval
            })
        }
    }

    function ha(a) {
        function f(a, c, d) {
            if (!(d > 3) && a.forward)
                for (var e = 0; e < a.forward.length; ++e) {
                    var g = a.forward[e].propagatesTo();
                    if (g) {
                        var i, h = c;
                        if (g instanceof s) i = g;
                        else {
                            if (!(g.target instanceof s)) continue;
                            h += g.pathExt, i = g.target
                        }
                        if (i == b) return h;
                        var j = f(i, h, d + 1);
                        if (j) return j
                    }
                }
        }
        var b = a.retval;
        if (b != h) {
            var c, d;
            !b.isEmpty() && (c = b.getType()) instanceof S && (b = d = c.getProp(\"<i>\"));
            for (var g = f(a.self, \"!this\", 0), i = 0; !g && i < a.args.length; ++i) g = f(a.args[i], \"!\" + i, 0);
            if (g) {
                d && (g = \"[\" + g + \"]\");
                var j = new e.TypeParser(g),
                    k = j.parseType(!0);
                return a.computeRet = k.apply ? k : function() {
                    return k
                }, a.computeRetSource = g, !0
            }
        }
    }

    function ia(a, b) {
        return a.defProp(b.name, b)
    }

    function ja(a) {
        return \"Identifier\" == a.type ? a.name : \"AssignmentPattern\" == a.type ? ja(a.left) : \"ObjectPattern\" == a.type ? \"{\" + a.properties.map(function(a) {
            return ja(a.value)
        }).join(\", \") + \"}\" : \"ArrayPattern\" == a.type ? \"[\" + a.elements.map(ja).join(\", \") + \"]\" : \"RestElement\" == a.type ? \"...\" + ja(a.argument) : \"_\"
    }

    function ka(a) {
        return \"VariableDeclaration\" == a.type && \"var\" != a.kind || \"FunctionDeclaration\" == a.type || \"ClassDeclaration\" == a.type
    }

    function la(a, b) {
        return {
            inner: a,
            outer: b || a
        }
    }

    function oa(a) {
        var b = a.getSymbolType();
        return b ? b.asPropName() : void 0
    }

    function pa(a) {
        switch (a) {
            case \"+\":
            case \"-\":
            case \"~\":
                return W.num;
            case \"!\":
                return W.bool;
            case \"typeof\":
                return W.str;
            case \"void\":
            case \"delete\":
                return h
        }
    }

    function qa(a) {
        switch (a) {
            case \"==\":
            case \"!=\":
            case \"===\":
            case \"!==\":
            case \"<\":
            case \">\":
            case \">=\":
            case \"<=\":
            case \"in\":
            case \"instanceof\":
                return !0
        }
    }

    function ra(a) {
        if (a.regex) return F(W.protos.RegExp);
        switch (typeof a.value) {
            case \"boolean\":
                return W.bool;
            case \"number\":
                return W.num;
            case \"string\":
                return W.str;
            case \"object\":
            case \"function\":
                return a.value ? F(W.protos.RegExp) : h
        }
    }

    function sa(a, b) {
        if (a == b || b == h) return a;
        if (a == h) return b;
        var c = new s;
        return a.propagate(c), b.propagate(c), c
    }

    function ta(a, b) {
        for (var c = 0; c < a.params.length; c++) {
            var d = a.params[c];
            \"Identifier\" != d.type && wa(d, b, a.scope.fnType.args[c])
        }
    }

    function ua(a, b) {
        return b.hasProp(a.name) || W.topScope.defProp(a.name, a)
    }

    function wa(a, b, c) {
        var d = va[a.type];
        d && d(a, b, c)
    }

    function xa(a) {
        var b = ba(a);
        return b.fnType ? b.fnType.self : b
    }

    function ya(a) {
        a.isEmpty() && a.propertyOf && (a.propertyOf.getProp(a.propertyName).addType(new Q, o), ya(a.propertyOf))
    }

    function za(a, b, c) {
        !c && a.id && (c = a.id.name);
        var e, f, d = W.protos.Object;
        if (a.superClass)
            if (\"Literal\" == a.superClass.type && null == a.superClass.value) d = null;
            else {
                var i, g = Ea(a.superClass, b);
                e = g.getFunctionType(), e && (i = e.getProp(\"prototype\").getObjType()) ? d = i : (e = g, f = g.getProp(\"prototype\"))
            }
        var j = new Q(d, c && c + \".prototype\");
        return f && f.propagate(new L(j)), _(e, f || d, function() {
            for (var d, e = a.body.body, f = 0; f < e.length; f++) \"constructor\" == e[f].kind && (d = e[f].value);
            var g = a.objType = d ? Ea(d, b) : new R(c, h, [], null, h);
            g.originNode = a.id || d || a;
            var i = F(j, g);
            g.self.addType(i), g.defProp(\"prototype\", a).addType(j);
            for (var f = 0; f < e.length; f++) {
                var l, k = e[f];
                if (\"constructor\" != k.kind) {
                    var m = na(k, b);
                    \"<i>\" == m || \"set\" == k.kind ? l = h : (l = (k[\"static\"] ? g : j).defProp(m, k.key), l.initializer = !0, \"get\" == k.kind && (l = new C(i, [], null, l))), Ea(k.value, b, l);
                    var n = l.getFunctionType();
                    n && n.self.addType(i)
                }
            }
            return g
        })
    }

    function Aa(a, b, c) {
        var d = a.length > 1 && a.length < 6;
        if (d) {
            for (var f, e = !0, g = 0; g < a.length; g++) {
                var h = a[g];
                h ? \"Literal\" != h.type || f && f != typeof h.value ? e = !1 : f = typeof h.value : d = !1
            }
            e && (d = !1)
        }
        if (d) {
            for (var i = [], g = 0; g < a.length; ++g) i.push(c(a[g], b));
            return new S(i)
        }
        if (a.length < 2) return new S(a[0] && c(a[0], b));
        for (var j = new s, g = 0; g < a.length; g++) a[g] && c(a[g], b).propagate(j);
        return new S(j)
    }

    function Ba(a) {
        return function(b, c, d, e) {
            var f = a(b, c, e);
            return d && f.propagate(d), f
        }
    }

    function Ca(a) {
        return function(b, c, d, e) {
            return d || (d = new s), a(b, c, d, e), d
        }
    }

    function Ea(a, b, c, d) {
        var e = Da[a.type];
        return e ? e(a, b, c, d) : h
    }

    function Fa(a) {
        return \"VariableDeclaration\" == a.type ? a.declarations[0].id : a
    }

    function Ia(a, b, c) {
        var d = Array.isArray(a);
        return d && 1 == a.length && (a = a[0], d = !1), d ? null == c ? function(b) {
            return a.indexOf(b.origin) > -1
        } : function(d, e) {
            return e && e.start >= b && e.end <= c && a.indexOf(d.origin) > -1
        } : null == c ? function(b) {
            return b.origin == a
        } : function(d, e) {
            return e && e.start >= b && e.end <= c && d.origin == a
        }
    }

    function Ja(a) {
        Ra = !0;
        var b = V(a);
        if (b)
            for (var c = 0; c < b.length; ++c) {
                var d = b[c].getProp(a);
                if (!d.isEmpty()) return d
            }
        return h
    }

    function Ka(a, b) {
        var c = new Q(!0);
        c.defProp(\"done\").addType(W.bool), b.propagate(c.defProp(\"value\"));
        var d = new R(null, h, a ? [a] : [], a ? [\"?\"] : [], c),
            e = new Q(W.definitions.ecma6 && W.definitions.ecma6.generator_prototype || !0);
        return e.defProp(\"next\").addType(d), e
    }

    function La(a, b) {
        return a.generator ? a.computeRet ? Ka(a.yieldval, b) : (a.generator === !0 && (a.generator = Ka(a.yieldval, b)), a.generator) : b
    }

    function Ma(a, b, c) {
        var d = Oa(a, c).getFunctionType();
        if (!d) return h;
        var e = d.retval;
        if (d.computeRet) {
            for (var f = 0, g = []; f < b.length; ++f) g.push(Oa(b[f], c));
            var i = h;
            \"MemberExpression\" == a.type && (i = Oa(a.object, c)), e = d.computeRet(i, g, b)
        }
        return La(d, e)
    }

    function Oa(a, b) {
        var c = Na[a.type];
        return c ? c(a, b) : h
    }
    var g = a.toString = function(a, b, c) {
            return !a || a == c || b && -3 > b ? \"?\" : a.toString(b, c)
        },
        h = a.ANull = f.mixin({
            addType: function() {},
            propagate: function() {},
            getProp: function() {
                return h
            },
            forAllProps: function() {},
            hasType: function() {
                return !1
            },
            isEmpty: function() {
                return !0
            },
            getFunctionType: function() {},
            getObjType: function() {},
            getSymbolType: function() {},
            getType: function() {},
            gatherProperties: function() {},
            propagatesTo: function() {},
            typeHint: function() {},
            propHint: function() {},
            toString: function() {
                return \"?\"
            }
        }),
        j = 100,
        k = 90,
        l = 10,
        m = 6,
        n = 6,
        o = 1,
        p = 90,
        q = 2,
        r = 4,
        s = a.AVal = function() {
            this.types = [], this.forward = null, this.maxWeight = 0
        };
    s.prototype = i(h, {
        addType: function(a, b) {
            if (b = b || j, this.maxWeight < b) {
                if (this.maxWeight = b, 1 == this.types.length && this.types[0] == a) return;
                this.types.length = 0
            } else if (this.maxWeight > b || this.types.indexOf(a) > -1) return;
            this.signal(\"addType\", a), this.types.push(a);
            var c = this.forward;
            c && \$(function(d) {
                for (var e = 0; e < c.length; ++e) d(a, c[e], b)
            })
        },
        propagate: function(a, b) {
            if (!(a == h || a instanceof N && this.forward && this.forward.length > 2)) {
                b && b != j && (a = new M(a, b)), (this.forward || (this.forward = [])).push(a);
                var c = this.types;
                c.length && \$(function(d) {
                    for (var e = 0; e < c.length; ++e) d(c[e], a, b)
                })
            }
        },
        getProp: function(a) {
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            var b = (this.props || (this.props = Object.create(null)))[a];
            return b || (b = this.props[a] = new s, this.propagate(new y(a, b))), b
        },
        forAllProps: function(a) {
            this.propagate(new A(a))
        },
        hasType: function(a) {
            return this.types.indexOf(a) > -1
        },
        isEmpty: function() {
            return 0 === this.types.length
        },
        getFunctionType: function() {
            for (var a = this.types.length - 1; a >= 0; --a)
                if (this.types[a] instanceof R) return this.types[a]
        },
        getObjType: function() {
            for (var a = null, b = this.types.length - 1; b >= 0; --b) {
                var c = this.types[b];
                if (c instanceof Q) {
                    if (c.name) return c;
                    a || (a = c)
                }
            }
            return a
        },
        getSymbolType: function() {
            for (var a = this.types.length - 1; a >= 0; --a)
                if (this.types[a] instanceof T) return this.types[a]
        },
        getType: function(a) {
            return 0 === this.types.length && a !== !1 ? this.makeupType() : 1 === this.types.length ? this.types[0] : w(this.types)
        },
        toString: function(a, b) {
            if (0 == this.types.length) return g(this.makeupType(), a, b);
            if (1 == this.types.length) return g(this.types[0], a, b);
            var c = v(this.types);
            return c.length > 2 ? \"?\" : c.map(function(c) {
                return g(c, a, b)
            }).join(\"|\")
        },
        makeupPropType: function(a) {
            var b = this.propertyName,
                c = a.proto && a.proto.hasProp(b);
            if (c) {
                var d = c.getType();
                if (d) return d
            }
            if (\"<i>\" != b) {
                var e = a.hasProp(\"<i>\");
                if (e) return e.getType()
            } else if (a.props[\"<i>\"] != this)
                for (var f in a.props) {
                    var g = a.props[f];
                    if (!g.isEmpty()) return g.getType()
                }
        },
        makeupType: function() {
            var a = this.propertyOf && this.makeupPropType(this.propertyOf);
            if (a) return a;
            if (!this.forward) return null;
            for (var b = this.forward.length - 1; b >= 0; --b) {
                var c = this.forward[b].typeHint();
                if (c && !c.isEmpty()) return Ra = !0, c
            }
            for (var d = Object.create(null), e = null, b = 0; b < this.forward.length; ++b) {
                var f = this.forward[b].propHint();
                f && \"length\" != f && \"<i>\" != f && \"\\u2716\" != f && f != W.completingProperty && (d[f] = !0, e = f)
            }
            if (!e) return null;
            var g = V(e);
            if (g) {
                var h = [];
                a: for (var b = 0; b < g.length; ++b) {
                    var i = g[b];
                    for (var f in d)
                        if (!i.hasProp(f)) continue a;
                    i.hasCtor && (i = F(i)), h.push(i)
                }
                var j = w(h);
                if (j) return Ra = !0, j
            }
        },
        typeHint: function() {
            return this.types.length ? this.getType() : null
        },
        propagatesTo: function() {
            return this
        },
        gatherProperties: function(a, b) {
            for (var c = 0; c < this.types.length; ++c) this.types[c].gatherProperties(a, b)
        },
        guessProperties: function(a) {
            if (this.forward)
                for (var b = 0; b < this.forward.length; ++b) {
                    var c = this.forward[b].propHint();
                    c && a(c, null, 0)
                }
            var d = this.makeupType();
            d && d.gatherProperties(a)
        }
    });
    var v = a.simplifyTypes = function(a) {
            var b = [];
            a: for (var c = 0; c < a.length; ++c) {
                for (var d = a[c], e = 0; e < b.length; e++) {
                    var f = u(d, b[e], 0);
                    if (f) {
                        b[e] = f;
                        continue a
                    }
                }
                b.push(d)
            }
            return b
        },
        x = a.constraint = function(a) {
            var b = function() {
                this.origin = W.curOrigin, this.construct.apply(this, arguments)
            };
            b.prototype = Object.create(h);
            for (var c in a) a.hasOwnProperty(c) && (b.prototype[c] = a[c]);
            return b
        },
        y = x({
            construct: function(a, b) {
                this.prop = a, this.target = b
            },
            addType: function(a, b) {
                a.getProp && a.getProp(this.prop).propagate(this.target, b)
            },
            propHint: function() {
                return this.prop
            },
            propagatesTo: function() {
                return \"<i>\" != this.prop && /[^\\w_]/.test(this.prop) ? void 0 : {
                    target: this.target,
                    pathExt: \".\" + this.prop
                }
            }
        }),
        z = a.PropHasSubset = a.DefProp = x({
            construct: function(a, b, c) {
                this.prop = a, this.type = b, this.originNode = c
            },
            addType: function(a, b) {
                if (a instanceof Q) {
                    var c = a.defProp(this.prop, this.originNode);
                    c.origin || (c.origin = this.origin), this.type.propagate(c, b)
                }
            },
            propHint: function() {
                return this.prop
            }
        }),
        A = x({
            construct: function(a) {
                this.c = a
            },
            addType: function(a) {
                a instanceof Q && a.forAllProps(this.c)
            }
        }),
        C = a.IsCallee = x({
            construct: function(a, b, c, d) {
                this.self = a, this.args = b, this.argNodes = c, this.retval = d, this.disabled = W.disabledComputing
            },
            addType: function(a, b) {
                if (a instanceof R) {
                    for (var c = 0; c < this.args.length; ++c) c < a.args.length && this.args[c].propagate(a.args[c], b), a.arguments && this.args[c].propagate(a.arguments, b);
                    this.self.propagate(a.self, this.self == W.topScope ? p : b);
                    var d = a.computeRet,
                        e = a.retval;
                    if (d)
                        for (var f = this.disabled; f; f = f.prev)(f.fn == a || a.originNode && f.fn.originNode == a.originNode) && (d = null);
                    if (d) {
                        var g = W.disabledComputing;
                        W.disabledComputing = this.disabled, e = d(this.self, this.args, this.argNodes), W.disabledComputing = g
                    }
                    La(a, e).propagate(this.retval, b)
                }
            },
            typeHint: function() {
                for (var a = [], b = 0; b < this.args.length; ++b) a.push(\"?\");
                return new R(null, this.self, this.args, a, h)
            },
            propagatesTo: function() {
                return {
                    target: this.retval,
                    pathExt: \".!ret\"
                }
            }
        }),
        D = x({
            construct: function(a, b, c, d) {
                this.propName = a, this.args = b, this.argNodes = c, this.retval = d, this.disabled = W.disabledComputing
            },
            addType: function(a, b) {
                var c = new C(a, this.args, this.argNodes, this.retval);
                c.disabled = this.disabled, a.getProp(this.propName).propagate(c, b)
            },
            propHint: function() {
                return this.propName
            }
        }),
        E = a.IsCtor = x({
            construct: function(a, b) {
                this.target = a, this.noReuse = b
            },
            addType: function(a, b) {
                a instanceof R && (W.parent && !W.parent.options.reuseInstances && (this.noReuse = !0), a.getProp(\"prototype\").propagate(new G(this.noReuse ? !1 : a, this.target), b))
            }
        }),
        F = a.getInstance = function(a, b) {
            if (b === !1) return new Q(a);
            b || (b = a.hasCtor), a.instances || (a.instances = []);
            for (var c = 0; c < a.instances.length; ++c) {
                var d = a.instances[c];
                if (d.ctor == b) return d.instance
            }
            var e = new Q(a, b && b.name);
            return e.origin = a.origin, a.instances.push({
                ctor: b,
                instance: e
            }), e
        },
        G = a.IsProto = x({
            construct: function(a, b) {
                this.ctor = a, this.target = b
            },
            addType: function(a, b) {
                a instanceof Q && ((this.count = (this.count || 0) + 1) > 8 || (a == W.protos.Array ? this.target.addType(new S) : this.target.addType(F(a, this.ctor))))
            }
        }),
        H = x({
            construct: function(a) {
                this.fn = a
            },
            addType: function(a, b) {
                if (a instanceof Q && !a.hasCtor) {
                    a.hasCtor = this.fn;
                    var c = new K(a, this.fn);
                    c.addType(this.fn), a.forAllProps(function(a, b, d) {
                        d && b.propagate(c)
                    })
                }
            }
        }),
        I = x({
            construct: function(a, b) {
                this.other = a, this.target = b
            },
            addType: function(a, b) {
                a == W.str ? this.target.addType(W.str, b) : a == W.num && this.other.hasType(W.num) && this.target.addType(W.num, b)
            },
            typeHint: function() {
                return this.other
            }
        }),
        J = a.IfObj = x({
            construct: function(a) {
                this.target = a
            },
            addType: function(a, b) {
                a instanceof Q && this.target.addType(a, b)
            },
            propagatesTo: function() {
                return this.target
            }
        }),
        K = x({
            construct: function(a, b) {
                this.obj = a, this.ctor = b
            },
            addType: function(a) {
                a instanceof R && a.self && a.self.addType(F(this.obj, this.ctor), r)
            }
        }),
        L = x({
            construct: function(a) {
                this.obj = a
            },
            addType: function(a) {
                a instanceof Q && this.obj.proto == W.protos.Object && this.obj.replaceProto(a)
            }
        }),
        M = x({
            construct: function(a, b) {
                this.inner = a, this.weight = b
            },
            addType: function(a, b) {
                this.inner.addType(a, Math.min(b, this.weight))
            },
            propagatesTo: function() {
                return this.inner.propagatesTo()
            },
            typeHint: function() {
                return this.inner.typeHint()
            },
            propHint: function() {
                return this.inner.propHint()
            }
        }),
        N = a.Type = function() {};
    N.prototype = i(h, {
        constructor: N,
        propagate: function(a, b) {
            a.addType(this, b)
        },
        hasType: function(a) {
            return a == this
        },
        isEmpty: function() {
            return !1
        },
        typeHint: function() {
            return this
        },
        getType: function() {
            return this
        }
    });
    var O = a.Prim = function(a, b) {
        this.name = b, this.proto = a
    };
    O.prototype = i(N.prototype, {
        constructor: O,
        toString: function() {
            return this.name
        },
        getProp: function(a) {
            return this.proto.hasProp(a) || h
        },
        gatherProperties: function(a, b) {
            this.proto && this.proto.gatherProperties(a, b)
        }
    });
    var Q = a.Obj = function(a, b) {
        if (this.props || (this.props = Object.create(null)), this.proto = a === !0 ? W.protos.Object : a, a && !b && a.name && !(this instanceof R)) {
            var c = /^(.*)\\.prototype\$/.exec(this.proto.name);
            c && (b = c[1])
        }
        this.name = b, this.maybeProps = null, this.origin = W.curOrigin
    };
    Q.prototype = i(N.prototype, {
        constructor: Q,
        toString: function(a) {
            if (null == a && (a = 0), 0 >= a && this.name) return this.name;
            var b = [],
                c = !1;
            for (var d in this.props)
                if (\"<i>\" != d) {
                    if (b.length > 5) {
                        c = !0;
                        break
                    }
                    a ? b.push(d + \": \" + g(this.props[d], a - 1, this)) : b.push(d)
                }
            return b.sort(), c && b.push(\"...\"), \"{\" + b.join(\", \") + \"}\"
        },
        hasProp: function(a, b) {
            P(a) && (a = this.normalizeIntegerProp(a));
            var c = this.props[a];
            if (b !== !1)
                for (var d = this.proto; d && !c; d = d.proto) c = d.props[a];
            return c
        },
        defProp: function(a, b) {
            var c = this.hasProp(a, !1);
            if (c) return b && !c.originNode && (c.originNode = b), c;
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            P(a) && (a = this.normalizeIntegerProp(a));
            var d = this.maybeProps && this.maybeProps[a];
            return d ? (delete this.maybeProps[a], this.maybeUnregProtoPropHandler()) : (d = new s, d.propertyOf = this, d.propertyName = a), this.props[a] = d, d.originNode = b, d.origin = W.curOrigin, this.broadcastProp(a, d, !0), d
        },
        getProp: function(a) {
            var b = this.hasProp(a, !0) || this.maybeProps && this.maybeProps[a];
            if (b) return b;
            if (\"__proto__\" == a || \"\\u2716\" == a) return h;
            P(a) && (a = this.normalizeIntegerProp(a));
            var c = this.ensureMaybeProps()[a] = new s;
            return c.propertyOf = this, c.propertyName = a, c
        },
        normalizeIntegerProp: function(a) {
            return \"<i>\"
        },
        broadcastProp: function(a, b, c) {
            if (c && (this.signal(\"addProp\", a, b), this instanceof aa || U(a, this)), this.onNewProp)
                for (var d = 0; d < this.onNewProp.length; ++d) {
                    var e = this.onNewProp[d];
                    e.onProtoProp ? e.onProtoProp(a, b, c) : e(a, b, c)
                }
        },
        onProtoProp: function(a, b, c) {
            var d = this.maybeProps && this.maybeProps[a];
            d && (delete this.maybeProps[a], this.maybeUnregProtoPropHandler(), this.proto.getProp(a).propagate(d)), this.broadcastProp(a, b, !1)
        },
        replaceProto: function(a) {
            this.proto && this.maybeProps && this.proto.unregPropHandler(this), this.proto = a, this.maybeProps && this.proto.forAllProps(this)
        },
        ensureMaybeProps: function() {
            return this.maybeProps || (this.proto && this.proto.forAllProps(this), this.maybeProps = Object.create(null)), this.maybeProps
        },
        removeProp: function(a) {
            var b = this.props[a];
            delete this.props[a], this.ensureMaybeProps()[a] = b, b.types.length = 0
        },
        forAllProps: function(a) {
            this.onNewProp || (this.onNewProp = [], this.proto && this.proto.forAllProps(this)), this.onNewProp.push(a);
            for (var b = this; b; b = b.proto)
                for (var c in b.props) a.onProtoProp ? a.onProtoProp(c, b.props[c], b == this) : a(c, b.props[c], b == this)
        },
        maybeUnregProtoPropHandler: function() {
            if (this.maybeProps) {
                for (var a in this.maybeProps) return;
                this.maybeProps = null
            }!this.proto || this.onNewProp && this.onNewProp.length || this.proto.unregPropHandler(this)
        },
        unregPropHandler: function(a) {
            for (var b = 0; b < this.onNewProp.length; ++b)
                if (this.onNewProp[b] == a) {
                    this.onNewProp.splice(b, 1);
                    break
                }
            this.maybeUnregProtoPropHandler()
        },
        gatherProperties: function(a, b) {
            for (var c in this.props) \"<i>\" != c && \":\" != c.charAt(0) && a(c, this, b);
            this.proto && this.proto.gatherProperties(a, b + 1)
        },
        getObjType: function() {
            return this
        }
    });
    var R = a.Fn = function(a, b, c, d, e, f) {
        Q.call(this, W.protos.Function, a), this.self = b, this.args = c, this.argNames = d, this.retval = e, this.generator = f
    };
    R.prototype = i(Q.prototype, {
        constructor: R,
        toString: function(a) {
            null == a && (a = 0);
            for (var b = this.generator ? \"fn*(\" : \"fn(\", c = 0; c < this.args.length; ++c) {
                c && (b += \", \");
                var d = this.argNames[c];
                d && \"?\" != d && (b += d + \": \"), b += a > -3 ? g(this.args[c], a - 1, this) : \"?\"
            }
            return b += \")\", this.retval.isEmpty() || (b += \" -> \" + (a > -3 ? g(this.retval, a - 1, this) : \"?\")), b
        },
        getProp: function(a) {
            if (\"prototype\" == a) {
                var b = this.hasProp(a, !1);
                if (!b) {
                    b = this.defProp(a);
                    var c = new Q(!0, this.name && this.name + \".prototype\");
                    c.origin = this.origin, b.addType(c, l)
                }
                return b
            }
            return Q.prototype.getProp.call(this, a)
        },
        defProp: function(a, b) {
            if (\"prototype\" == a) {
                var c = this.hasProp(a, !1);
                return c ? c : (c = Q.prototype.defProp.call(this, a, b), c.origin = this.origin, c.propagate(new H(this)), c)
            }
            return Q.prototype.defProp.call(this, a, b)
        },
        getFunctionType: function() {
            return this
        }
    });
    var S = a.Arr = function(a) {
        Q.call(this, W.protos.Array);
        var b = this.defProp(\"<i>\");
        if (Array.isArray(a)) {
            this.tuple = a.length;
            for (var c = 0; c < a.length; c++) {
                var d = this.defProp(String(c));
                a[c].propagate(d), d.propagate(b)
            }
        } else a && (this.tuple = 0, a.propagate(b))
    };
    S.prototype = i(Q.prototype, {
        constructor: S,
        toString: function(a) {
            if (null == a && (a = 0), -3 >= a) return \"[?]\";
            var b = \"\";
            if (this.tuple) {
                for (var c, d = 0; d in this.props; d++) {
                    var e = g(this.getProp(String(d)), a - 1, this);
                    c = null == c ? e : c != e ? !1 : e, b += (b ? \", \" : \"\") + e
                }
                c && (b = c)
            } else b = g(this.getProp(\"<i>\"), a - 1, this);
            return \"[\" + b + \"]\"
        },
        normalizeIntegerProp: function(a) {
            return +a < this.tuple ? a : \"<i>\"
        }
    });
    var T = a.Sym = function(a, b) {
        O.call(this, W.protos.Symbol, \"Symbol\"), this.symName = a, this.originNode = b
    };
    T.prototype = i(O.prototype, {
        constructor: T,
        asPropName: function() {
            return \":\" + this.symName
        },
        getSymbolType: function() {
            return this
        }
    }), a.getSymbol = function(a, b) {
        var c = a.replace(/[^\\w\$\\.]/g, \"_\"),
            d = W.symbols[c];
        return d ? (b && !d.originNode && (d.originNode = b), d) : W.symbols[c] = new T(c, b)
    }, a.Context = function(b, c) {
        this.parent = c, this.props = Object.create(null), this.protos = Object.create(null), this.origins = [], this.curOrigin = \"ecma5\", this.paths = Object.create(null), this.definitions = Object.create(null), this.purgeGen = 0, this.workList = null, this.disabledComputing = null, this.curSuperCtor = this.curSuper = null, this.symbols = Object.create(null), a.withContext(this, function() {
            if (W.protos.Object = new Q(null, \"Object.prototype\"), W.topScope = new aa, W.topScope.name = \"<top>\", W.protos.Array = new Q(!0, \"Array.prototype\"), W.protos.Function = new R(\"Function.prototype\", h, [], [], h), W.protos.Function.proto = W.protos.Object, W.protos.RegExp = new Q(!0, \"RegExp.prototype\"), W.protos.String = new Q(!0, \"String.prototype\"), W.protos.Number = new Q(!0, \"Number.prototype\"), W.protos.Boolean = new Q(!0, \"Boolean.prototype\"), W.protos.Symbol = new Q(!0, \"Symbol.prototype\"), W.str = new O(W.protos.String, \"string\"), W.bool = new O(W.protos.Boolean, \"bool\"), W.num = new O(W.protos.Number, \"number\"), W.curOrigin = null, b)
                for (var a = 0; a < b.length; ++a) e.load(b[a])
        })
    }, a.Context.prototype.startAnalysis = function() {
        this.disabledComputing = this.workList = this.curSuperCtor = this.curSuper = null
    };
    var W = null;
    a.cx = function() {
        return W
    }, a.withContext = function(a, b) {
        var c = W;
        W = a;
        try {
            return b()
        } finally {
            W = c
        }
    }, a.TimedOut = function() {
        this.message = \"Timed out\", this.stack = (new Error).stack
    }, a.TimedOut.prototype = Object.create(Error.prototype), a.TimedOut.prototype.name = \"infer.TimedOut\";
    var X;
    a.withTimeout = function(a, b) {
        var c = +new Date + a,
            d = X;
        if (d && c > d) return b();
        X = c;
        try {
            return b()
        } finally {
            X = d
        }
    }, a.addOrigin = function(a) {
        W.origins.indexOf(a) < 0 && W.origins.push(a)
    };
    var Y = 20,
        Z = 1e-4,
        aa = a.Scope = function(a, b, c) {
            Q.call(this, a || !0), this.prev = a, this.originNode = b, this.isBlock = !!c
        };
    aa.prototype = i(Q.prototype, {
        constructor: aa,
        defVar: function(a, b) {
            for (var c = this;; c = c.proto) {
                var d = c.props[a];
                if (d) return d;
                if (!c.prev) return c.defProp(a, b)
            }
        }
    });
    var da = {},
        ma = a.scopeGatherer = d.make({
            VariablePattern: function(a, b) {
                b.inner && ia(b.inner, a)
            },
            AssignmentPattern: function(a, b, c) {
                c(a.left, b, \"Pattern\"), c(a.right, b.outer, \"Expression\")
            },
            AssignmentExpression: function(a, b, c) {
                \"MemberExpression\" == a.left.type ? c(a.left, b, \"Expression\") : c(a.left, la(!1, b), \"Pattern\"), c(a.right, b, \"Expression\")
            },
            Function: function(a, b, c) {
                for (var d = a.scope = new aa(b, a), e = [], f = [], g = 0; g < a.params.length; ++g) {
                    var i = a.params[g];
                    if (f.push(ja(i)), \"Identifier\" == i.type) e.push(ia(d, i));
                    else {
                        var j = new s;
                        e.push(j), j.originNode = i, c(i, la(d), \"Pattern\")
                    }
                }
                if (d.fnType = new R(a.id && a.id.name, new s, e, f, h, a.generator), d.fnType.originNode = a, a.id) {
                    var k = \"FunctionDeclaration\" == a.type;
                    ia(k ? b : d, a.id)
                }
                c(a.body, d, a.expression ? \"Expression\" : \"Statement\")
            },
            BlockStatement: function(a, b, c) {
                !a.scope && a.body.some(ka) && (b = a.scope = new aa(b, a, !0)), d.base.BlockStatement(a, b, c)
            },
            TryStatement: function(a, b, c) {
                if (c(a.block, b, \"Statement\"), a.handler)
                    if (\"Identifier\" == a.handler.param.type) {
                        var d = ia(b, a.handler.param);
                        c(a.handler.body, b, \"Statement\");
                        var e = W.definitions.ecma5;
                        e && d.isEmpty() && F(e[\"Error.prototype\"]).propagate(d, n)
                    } else c(a.handler.param, la(b), \"Pattern\");
                a.finalizer && c(a.finalizer, b, \"Statement\")
            },
            VariableDeclaration: function(a, b, c) {
                for (var d = \"var\" == a.kind ? ba(b) : b, e = 0; e < a.declarations.length; ++e) {
                    var f = a.declarations[e];
                    c(f.id, la(d, b), \"Pattern\"), f.init && c(f.init, b, \"Expression\")
                }
            },
            ClassDeclaration: function(a, b, c) {
                ia(b, a.id), a.superClass && c(a.superClass, b, \"Expression\");
                for (var d = 0; d < a.body.body.length; d++) c(a.body.body[d], b)
            },
            ForInStatement: function(a, b, c) {
                !a.scope && ka(a.left) && (b = a.scope = new aa(b, a, !0)), d.base.ForInStatement(a, b, c)
            },
            ForStatement: function(a, b, c) {
                !a.scope && a.init && ka(a.init) && (b = a.scope = new aa(b, a, !0)), d.base.ForStatement(a, b, c)
            },
            ImportDeclaration: function(a, b) {
                for (var c = 0; c < a.specifiers.length; c++) ia(b, a.specifiers[c].local)
            }
        });
    ma.ForOfStatement = ma.ForInStatement;
    var na = a.propName = function(a, b) {
            var c = a.property || a.key;
            if (!a.computed && \"Identifier\" == c.type) return c.name;
            if (\"Literal\" == c.type) {
                if (\"string\" == typeof c.value) return c.value;
                if (\"number\" == typeof c.value) return String(c.value)
            }
            if (b) {
                var d = oa(Ea(c, b));
                if (d) return a.propName = d
            } else if (a.propName) return a.propName;
            return \"<i>\"
        },
        va = a.inferPatternVisitor = {
            Identifier: function(a, b, c) {
                c.propagate(ua(a, b))
            },
            MemberExpression: function(a, b, c) {
                var d = Ea(a.object, b),
                    e = na(a, b);
                d.propagate(new z(e, c, a.property))
            },
            RestElement: function(a, b, c) {
                wa(a.argument, b, new S(c))
            },
            ObjectPattern: function(a, b, c) {
                for (var d = 0; d < a.properties.length; ++d) {
                    var e = a.properties[d];
                    wa(e.value, b, c.getProp(e.key.name))
                }
            },
            ArrayPattern: function(a, b, c) {
                for (var d = 0; d < a.elements.length; d++) a.elements[d] && wa(a.elements[d], b, c.getProp(String(d)))
            },
            AssignmentPattern: function(a, b, c) {
                wa(a.left, b, sa(c, Ea(a.right, b)))
            }
        },
        Da = a.inferExprVisitor = {
            ArrayExpression: Ba(function(a, b) {
                return Aa(a.elements, b, Ea)
            }),
            ObjectExpression: Ba(function(a, b, c) {
                for (var e, d = !0, f = 0; f < a.properties.length; ++f) {
                    var g = a.properties[f];
                    if (\"__proto__\" == g.key.name)
                        if (\"Literal\" == g.value.type && null == g.value.value) d = null;
                        else {
                            var i = Ea(g.value, b),
                                j = i.getObjType();
                            j ? d = j : e = i
                        }
                }
                var k = a.objType = new Q(d, c);
                return e && e.propagate(new L(k)), k.originNode = a, _(null, e || d, function() {
                    for (var c = 0; c < a.properties.length; ++c) {
                        var d = a.properties[c],
                            e = d.key;
                        if (\"\\u2716\" != d.value.name && \"__proto__\" != d.key.name) {
                            var g, f = na(d, b);
                            if (\"<i>\" == f || \"set\" == d.kind) g = h;
                            else {
                                var i = g = k.defProp(f, e);
                                i.initializer = !0, \"get\" == d.kind && (g = new C(k, [], null, i))
                            }
                            Ea(d.value, b, g, f), \"FunctionExpression\" == d.value.type && d.value.scope.fnType.self.addType(k, q)
                        }
                    }
                }), k
            }),
            FunctionExpression: Ba(function(a, b, c) {
                var e = a.scope,
                    f = e.fnType;
                return c && !f.name && (f.name = c), ta(a, e), a.expression ? Ea(a.body, e, e.fnType.retval = new s) : d.recursive(a.body, e, null, Ga, \"Statement\"), \"ArrowFunctionExpression\" == a.type && (xa(b).propagate(f.self), f.self = h), fa(a, f) || ha(f), a.id && e.getProp(a.id.name).addType(f), f
            }),
            ClassExpression: Ba(za),
            SequenceExpression: Ba(function(a, b) {
                for (var c = 0, d = a.expressions.length - 1; d > c; ++c) Ea(a.expressions[c], b, h);
                return Ea(a.expressions[d], b)
            }),
            UnaryExpression: Ba(function(a, b) {
                return Ea(a.argument, b, h), pa(a.operator)
            }),
            UpdateExpression: Ba(function(a, b) {
                return Ea(a.argument, b, h), W.num
            }),
            BinaryExpression: Ba(function(a, b) {
                if (\"+\" == a.operator) {
                    var c = Ea(a.left, b),
                        d = Ea(a.right, b);
                    if (c.hasType(W.str) || d.hasType(W.str)) return W.str;
                    if (c.hasType(W.num) && d.hasType(W.num)) return W.num;
                    var e = new s;
                    return c.propagate(new I(d, e)), d.propagate(new I(c, e)), e
                }
                return Ea(a.left, b, h), Ea(a.right, b, h), qa(a.operator) ? W.bool : W.num
            }),
            AssignmentExpression: Ba(function(a, b, c) {
                var d, e;
                if (\"MemberExpression\" == a.left.type ? (e = na(a.left, b), c || (c = \"Identifier\" == a.left.object.type ? a.left.object.name + \".\" + e : e)) : c || \"Identifier\" != a.left.type || (c = a.left.name), a.operator && \"=\" != a.operator && \"+=\" != a.operator ? (Ea(a.right, b, h), d = W.num) : d = Ea(a.right, b, null, c), \"MemberExpression\" == a.left.type) {
                    var f = Ea(a.left.object, b);
                    if (\"prototype\" == e && ca(b, 20), \"<i>\" == e) {
                        var g = a.left.property.name,
                            i = b.props[g],
                            j = i && i.iteratesOver;
                        if (j) {
                            ca(b, 20);
                            var k = \"MemberExpression\" == a.right.type && a.right.computed && a.right.property.name == g;
                            return j.forAllProps(function(a, b, c) {
                                c && \"prototype\" != a && \"<i>\" != a && f.propagate(new z(a, k ? b : h))
                            }), d
                        }
                    }
                    f.propagate(new z(e, d, a.left.property)), ya(f), \"FunctionExpression\" == a.right.type && f.propagate(a.right.scope.fnType.self, q)
                } else wa(a.left, b, d);
                return d
            }),
            LogicalExpression: Ca(function(a, b, c) {
                Ea(a.left, b, c), Ea(a.right, b, c)
            }),
            ConditionalExpression: Ca(function(a, b, c) {
                Ea(a.test, b, h), Ea(a.consequent, b, c), Ea(a.alternate, b, c)
            }),
            NewExpression: Ca(function(a, b, c, d) {
                \"Identifier\" == a.callee.type && a.callee.name in b.props && ca(b, 20);
                for (var e = 0, f = []; e < a.arguments.length; ++e) f.push(Ea(a.arguments[e], b));
                var g = Ea(a.callee, b),
                    h = new s;
                g.propagate(new E(h, d && /\\.prototype\$/.test(d))), h.propagate(c, k), g.propagate(new C(h, f, a.arguments, new J(c)))
            }),
            CallExpression: Ca(function(a, b, c) {
                for (var d = 0, e = []; d < a.arguments.length; ++d) e.push(Ea(a.arguments[d], b));
                var f = ba(b).fnType;
                if (\"MemberExpression\" == a.callee.type) {
                    var g = Ea(a.callee.object, b),
                        h = na(a.callee, b);
                    f && (\"call\" == h || \"apply\" == h) && f.args.indexOf(g) > -1 && ca(b, 30), g.propagate(new D(h, e, a.arguments, c))
                } else if (\"Super\" == a.callee.type && W.curSuperCtor) W.curSuperCtor.propagate(new C(xa(b), e, a.arguments, c));
                else {
                    var i = Ea(a.callee, b);
                    f && f.args.indexOf(i) > -1 && ca(b, 30);
                    var j = i.getFunctionType();
                    j && j.instantiateScore && f && ca(b, j.instantiateScore / 5), i.propagate(new C(W.topScope, e, a.arguments, c))
                }
            }),
            MemberExpression: Ca(function(a, b, c) {
                var e, d = na(a);
                if (\"<i>\" == d) {
                    var f = Ea(a.property, b),
                        g = oa(f);
                    g ? d = a.propName = g : f.hasType(W.num) || (e = m)
                }
                Ea(a.object, b).getProp(d).propagate(c, e)
            }),
            Identifier: Ba(function(a, b) {
                if (\"arguments\" == a.name) {
                    var c = ba(b);
                    !c.fnType || a.name in c.props || b.defProp(a.name, c.fnType.originNode).addType(new S(c.fnType.arguments = new s))
                }
                return b.getProp(a.name)
            }),
            ThisExpression: Ba(function(a, b) {
                return xa(b)
            }),
            Super: Ba(function(a) {
                return a.superType = W.curSuper || h
            }),
            Literal: Ba(function(a) {
                return ra(a)
            }),
            TemplateLiteral: Ba(function(a, b) {
                for (var c = 0; c < a.expressions.length; ++c) Ea(a.expressions[c], b, h);
                return W.str
            }),
            TaggedTemplateExpression: Ca(function(a, b, c) {
                for (var d = [new S(W.str)], e = 0; e < a.quasi.expressions.length; ++e) d.push(Ea(a.quasi.expressions[e], b));
                Ea(a.tag, b, new C(W.topScope, d, a.quasi.expressions, c))
            }),
            YieldExpression: Ba(function(a, b) {
                var c = h,
                    d = ba(b).fnType;
                return d && (d.retval == h && (d.retval = new s), d.yieldval || (d.yieldval = new s), c = d.retval), a.argument && (a.delegate ? Ea(a.argument, b, new D(\"next\", [], null, new y(\"value\", c))) : Ea(a.argument, b, c)), d ? d.yieldval : h
            })
        };
    Da.ArrowFunctionExpression = Da.FunctionExpression;
    var Ga = a.inferWrapper = d.make({
            Expression: function(a, b) {
                Ea(a, a.scope || b, h)
            },
            FunctionDeclaration: function(a, b, c) {
                var d = a.scope,
                    e = d.fnType;
                ta(a, d), c(a.body, d, \"Statement\"), fa(a, e) || ha(e), b.getProp(a.id.name).addType(e)
            },
            Statement: function(a, b, c) {
                c(a, a.scope || b)
            },
            VariableDeclaration: function(a, b) {
                for (var c = 0; c < a.declarations.length; ++c) {
                    var d = a.declarations[c];
                    if (\"Identifier\" == d.id.type) {
                        var e = b.getProp(d.id.name);
                        d.init && Ea(d.init, b, e, d.id.name)
                    } else d.init && wa(d.id, b, Ea(d.init, b))
                }
            },
            ClassDeclaration: function(a, b) {
                b.getProp(a.id.name).addType(za(a, b, a.id.name))
            },
            ReturnStatement: function(a, b) {
                if (a.argument) {
                    var c = h,
                        d = ba(b).fnType;
                    d && (d.retval == h && (d.retval = new s), c = d.retval), Ea(a.argument, b, c)
                }
            },
            ForInStatement: function(a, b, c) {
                var d = Ea(a.right, b);
                if (\"Identifier\" == a.right.type && a.right.name in b.props || \"MemberExpression\" == a.right.type && \"prototype\" == a.right.property.name) {
                    ca(b, 5);
                    var e = Fa(a.left);
                    \"Identifier\" == e.type ? (e.name in b.props && (b.getProp(e.name).iteratesOver = d), d.getProp(\"<i>\").propagate(ua(e, b))) : wa(e, b, d.getProp(\"<i>\"))
                }
                c(a.body, b, \"Statement\")
            },
            ForOfStatement: function(a, b, c) {
                var e, d = Fa(a.left);
                \"Identifier\" == d.type ? e = ua(d, b) : wa(d, b, e = new s), Ea(a.right, b, new D(\":Symbol.iterator\", [], null, new D(\"next\", [], null, new y(\"value\", e)))), c(a.body, b, \"Statement\")
            }
        }),
        Ha = a.parse = function(a, d, e) {
            (!d || Array.isArray(d)) && (d = e);
            var f;
            try {
                f = b.parse(a, d)
            } catch (g) {
                f = c.parse_dammit(a, d)
            }
            return f
        };
    a.analyze = function(b, c, e) {
        \"string\" == typeof b && (b = Ha(b)), c || (c = \"file#\" + W.origins.length), a.addOrigin(W.curOrigin = c), e || (e = W.topScope), W.startAnalysis(), d.recursive(b, e, null, ma), W.parent && W.parent.signal(\"preInfer\", b, e), d.recursive(b, e, null, Ga), W.parent && W.parent.signal(\"postInfer\", b, e), W.curOrigin = null
    }, a.purge = function(a, b, c) {
        var d = Ia(a, b, c);
        ++W.purgeGen, W.topScope.purge(d);
        for (var e in W.props) {
            for (var f = W.props[e], g = 0; g < f.length; ++g) {
                var h = f[g],
                    i = h.props[e];
                (!i || d(i, i.originNode)) && f.splice(g--, 1)
            }
            f.length || delete W.props[e]
        }
    }, s.prototype.purge = function(a) {
        if (this.purgeGen != W.purgeGen) {
            this.purgeGen = W.purgeGen;
            for (var b = 0; b < this.types.length; ++b) {
                var c = this.types[b];
                a(c, c.originNode) ? this.types.splice(b--, 1) : c.purge(a)
            }
            if (this.types.length || (this.maxWeight = 0), this.forward)
                for (var b = 0; b < this.forward.length; ++b) {
                    var d = this.forward[b];
                    a(d) ? (this.forward.splice(b--, 1), this.props && (this.props = null)) : d.purge && d.purge(a)
                }
        }
    }, h.purge = function() {}, Q.prototype.purge = function(a) {
        if (this.purgeGen == W.purgeGen) return !0;
        this.purgeGen = W.purgeGen;
        for (var b in this.props) {
            var c = this.props[b];
            a(c, c.originNode) && this.removeProp(b), c.purge(a)
        }
    }, R.prototype.purge = function(a) {
        if (!Q.prototype.purge.call(this, a)) {
            this.self.purge(a), this.retval.purge(a);
            for (var b = 0; b < this.args.length; ++b) this.args[b].purge(a)
        }
    };
    var Na = a.typeFinder = {
            ArrayExpression: function(a, b) {
                return Aa(a.elements, b, Oa)
            },
            ObjectExpression: function(a) {
                return a.objType
            },
            ClassExpression: function(a) {
                return a.objType
            },
            FunctionExpression: function(a) {
                return a.scope.fnType
            },
            ArrowFunctionExpression: function(a) {
                return a.scope.fnType
            },
            SequenceExpression: function(a, b) {
                return Oa(a.expressions[a.expressions.length - 1], b)
            },
            UnaryExpression: function(a) {
                return pa(a.operator)
            },
            UpdateExpression: function() {
                return W.num
            },
            BinaryExpression: function(a, b) {
                if (qa(a.operator)) return W.bool;
                if (\"+\" == a.operator) {
                    var c = Oa(a.left, b),
                        d = Oa(a.right, b);
                    if (c.hasType(W.str) || d.hasType(W.str)) return W.str
                }
                return W.num
            },
            AssignmentExpression: function(a, b) {
                return Oa(a.right, b)
            },
            LogicalExpression: function(a, b) {
                var c = Oa(a.left, b);
                return c.isEmpty() ? Oa(a.right, b) : c
            },
            ConditionalExpression: function(a, b) {
                var c = Oa(a.consequent, b);
                return c.isEmpty() ? Oa(a.alternate, b) : c
            },
            NewExpression: function(a, b) {
                var c = Oa(a.callee, b).getFunctionType(),
                    d = c && c.getProp(\"prototype\").getObjType();
                return d ? F(d, c) : h
            },
            CallExpression: function(a, b) {
                return Ma(a.callee, a.arguments, b)
            },
            MemberExpression: function(a, b) {
                var c = na(a),
                    d = Oa(a.object, b).getType();
                return d ? d.getProp(c) : \"<i>\" == c ? h : Ja(c)
            },
            Identifier: function(a, b) {
                return b.hasProp(a.name) || h
            },
            ThisExpression: function(a, b) {
                return xa(b)
            },
            Literal: function(a) {
                return ra(a)
            },
            Super: Ba(function(a) {
                return a.superType
            }),
            TemplateLiteral: function() {
                return W.str
            },
            TaggedTemplateExpression: function(a, b) {
                return Ma(a.tag, a.quasi.expressions, b)
            },
            YieldExpression: function(a, b) {
                var c = ba(b).fnType;
                return c ? c.yieldval : h
            }
        },
        Pa = a.searchVisitor = d.make({
            Function: function(a, b, c) {
                d.base.Function(a, a.scope, c)
            },
            Property: function(a, b, c) {
                a.computed && c(a.key, b, \"Expression\"), a.key != a.value && c(a.value, b, \"Expression\")
            },
            Statement: function(a, b, c) {
                c(a, a.scope || b)
            },
            ImportSpecifier: function(a, b, c) {
                c(a.local, b)
            },
            ImportDefaultSpecifier: function(a, b, c) {
                c(a.local, b)
            },
            ImportNamespaceSpecifier: function(a, b, c) {
                c(a.local, b)
            }
        });
    a.fullVisitor = d.make({
        MemberExpression: function(a, b, c) {
            c(a.object, b, \"Expression\"), c(a.property, b, a.computed ? \"Expression\" : null)
        },
        ObjectExpression: function(a, b, c) {
            for (var d = 0; d < a.properties.length; ++d) c(a.properties[d].value, b, \"Expression\"), c(a.properties[d].key, b)
        }
    }, Pa), a.findExpressionAt = function(a, b, c, e, f) {
        var g = f || function(a, b) {
            return \"Identifier\" == b.type && \"\\u2716\" == b.name ? !1 : Na.hasOwnProperty(b.type)
        };
        return d.findNodeAt(a, b, c, g, Pa, e || W.topScope)
    }, a.findExpressionAround = function(a, b, c, e, f) {
        var g = f || function(a, c) {
            return null != b && c.start > b ? !1 : \"Identifier\" == c.type && \"\\u2716\" == c.name ? !1 : Na.hasOwnProperty(c.type)
        };
        return d.findNodeAround(a, c, g, Pa, e || W.topScope)
    }, a.expressionType = function(a) {
        return Oa(a.node, a.state)
    }, a.parentNode = function(a, b) {
        function e(b, f, g) {
            if (b.start <= a.start && b.end >= a.end) {
                var h = c[c.length - 1];
                if (b == a) throw {
                    found: h
                };
                h != b && c.push(b), d.base[g || b.type](b, f, e), h != b && c.pop()
            }
        }
        var c = [];
        try {
            e(b, null)
        } catch (f) {
            if (f.found) return f.found;
            throw f
        }
    };
    var Qa = a.findTypeFromContext = {
        ArrayExpression: function(a, b, c) {
            return c(a, !0).getProp(\"<i>\")
        },
        ObjectExpression: function(a, b, c) {
            for (var d = 0; d < a.properties.length; ++d) {
                var e = b.properties[d];
                if (e.value == b) return c(a, !0).getProp(e.key.name)
            }
        },
        UnaryExpression: function(a) {
            return pa(a.operator)
        },
        UpdateExpression: function() {
            return W.num
        },
        BinaryExpression: function(a) {
            return qa(a.operator) ? W.bool : W.num
        },
        AssignmentExpression: function(a, b, c) {
            return c(a.left)
        },
        LogicalExpression: function(a, b, c) {
            return c(a, !0)
        },
        ConditionalExpression: function(a, b, c) {
            return a.consequent == b || a.alternate == b ? c(a, !0) : void 0
        },
        CallExpression: function(a, b, c) {
            for (var d = 0; d < a.arguments.length; d++) {
                var e = a.arguments[d];
                if (e == b) {
                    var f = c(a.callee).getFunctionType();
                    if (f instanceof R) return f.args[d];
                    break
                }
            }
        },
        ReturnStatement: function(a, b, c) {
            var e = d.findNodeAround(b.sourceFile.ast, b.start, \"Function\");
            if (e) {
                var f = \"FunctionDeclaration\" != e.node.type ? c(e.node, !0).getFunctionType() : e.node.scope.fnType;
                if (f) return f.retval.getType()
            }
        },
        VariableDeclarator: function(a, b, c) {
            return a.init == b ? c(a.id) : void 0
        }
    };
    Qa.NewExpression = Qa.CallExpression, a.typeFromContext = function(b, c) {
        var d = a.parentNode(c.node, b),
            e = null;
        if (Qa.hasOwnProperty(d.type)) {
            var f = Qa[d.type];
            e = f && f(d, c.node, function(d, e) {
                var f = {
                        node: d,
                        state: c.state
                    },
                    g = e ? a.typeFromContext(b, f) : a.expressionType(f);
                return g || h
            })
        }
        return e || a.expressionType(c)
    };
    var Ra = !1;
    a.resetGuessing = function(a) {
        Ra = a
    }, a.didGuess = function() {
        return Ra
    }, a.forAllPropertiesOf = function(a, b) {
        a.gatherProperties(b, 0)
    };
    var Sa = d.make({}, Pa);
    a.findRefs = function(a, b, c, e, f) {
        Sa.Identifier = Sa.VariablePattern = function(a, b) {
            if (a.name == c)
                for (var d = b; d; d = d.prev)
                    if (d == e && f(a, b), c in d.props) return
        }, d.recursive(a, b, null, Sa)
    };
    var Ta = d.make({
        Function: function(a, b, c) {
            c(a.body, a.scope, a.expression ? \"Expression\" : \"Statement\")
        },
        Statement: function(a, b, c) {
            c(a, a.scope || b)
        }
    });
    a.findPropRefs = function(a, b, c, e, f) {
        d.simple(a, {
            MemberExpression: function(a, b) {
                a.computed || a.property.name != e || Oa(a.object, b).getType() == c && f(a.property)
            },
            ObjectExpression: function(a, b) {
                if (Oa(a, b).getType() == c)
                    for (var d = 0; d < a.properties.length; ++d) a.properties[d].key.name == e && f(a.properties[d].key)
            }
        }, Ta, b)
    };
    var Ua = a.scopeAt = function(a, b, c) {
        var e = d.findNodeAround(a, b, function(a, b) {
            return b.scope
        });
        return e ? e.node.scope : c || W.topScope
    };
    a.forAllLocalsAt = function(a, b, c, d) {
        var e = Ua(a, b, c);
        e.gatherProperties(d, 0)
    }, e = a.def = e.init({}, a)
}),
function(a) {
    return \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../lib/infer\"), require(\"../lib/tern\"), require(\"../lib/comment\"), require(\"acorn\"), require(\"acorn/dist/walk\")) : \"function\" == typeof define && define.amd ? define([\"../lib/infer\", \"../lib/tern\", \"../lib/comment\", \"acorn/dist/acorn\", \"acorn/dist/walk\"], a) : void a(tern, tern, tern.comment, acorn, acorn.walk)
}(function(a, b, c, d, e) {
    \"use strict\";

    function h(a, b) {
        function d(a) {
            c.ensureCommentsBefore(b, a)
        }
        e.simple(a, {
            VariableDeclaration: d,
            FunctionDeclaration: d,
            MethodDefinition: d,
            Property: d,
            AssignmentExpression: function(a) {
                \"=\" == a.operator && d(a)
            },
            CallExpression: function(a) {
                i(a) && d(a)
            }
        })
    }

    function i(a) {
        return \"MemberExpression\" == a.callee.type && \"Object\" == a.callee.object.name && \"defineProperty\" == a.callee.property.name && a.arguments.length >= 3 && \"string\" == typeof a.arguments[1].value
    }

    function j(b, c) {
        w(b.sourceFile.text, c), e.simple(b, {
            VariableDeclaration: function(a, b) {
                var c = a.declarations[0].id;
                a.commentsBefore && \"Identifier\" == c.type && m(a, a.commentsBefore, b, b.getProp(a.declarations[0].id.name))
            },
            FunctionDeclaration: function(a, b) {
                a.commentsBefore && m(a, a.commentsBefore, b, b.getProp(a.id.name), a.scope.fnType)
            },
            ClassDeclaration: function(a, b) {
                a.commentsBefore && m(a, a.commentsBefore, b, b.getProp(a.id.name), a.objType)
            },
            AssignmentExpression: function(b, c) {
                b.commentsBefore && m(b, b.commentsBefore, c, a.expressionType({
                    node: b.left,
                    state: c
                }))
            },
            ObjectExpression: function(b, c) {
                for (var d = 0; d < b.properties.length; ++d) {
                    var e = b.properties[d],
                        f = a.propName(e);
                    \"<i>\" != f && e.commentsBefore && m(e, e.commentsBefore, c, b.objType.getProp(f))
                }
            },
            Class: function(b, c) {
                var d = b.objType.getProp(\"prototype\").getObjType();
                if (d)
                    for (var e = 0; e < b.body.body.length; e++) {
                        var g, f = b.body.body[e];
                        f.commentsBefore && (\"constructor\" == f.kind ? m(f, f.commentsBefore, c, b.objType) : \"<i>\" != (g = a.propName(f)) && m(f, f.commentsBefore, c, d.getProp(g)))
                    }
            },
            CallExpression: function(b, c) {
                if (b.commentsBefore && i(b)) {
                    var d = a.expressionType({
                        node: b.arguments[0],
                        state: c
                    }).getObjType();
                    if (d && d instanceof a.Obj) {
                        var e = d.props[b.arguments[1].value];
                        e && m(b, b.commentsBefore, c, e)
                    }
                }
            }
        }, a.searchVisitor, c)
    }

    function k(b) {
        var c = b[\"!typedef\"],
            d = a.cx(),
            e = b[\"!name\"];
        if (c)
            for (var f in c) d.parent.mod.jsdocTypedefs[f] = t(a.def.parse(c[f], e, f), f)
    }

    function l(a) {
        for (var b, c = 1; c < a.length; c++) {
            var d = a[c],
                e = d.match(/^[\\s\\*]*/)[0];
            if (e != d)
                if (null == b) b = e;
                else {
                    for (var f = 0; f < b.length && b.charCodeAt(f) == e.charCodeAt(f);) ++f;
                    f < b.length && (b = b.slice(0, f))
                }
        }
        for (a = a.map(function(a, c) {
                if (a = a.replace(/\\s+\$/, \"\"), 0 == c && null != b)
                    for (var d = 0; d < b.length; d++) {
                        var e = a.indexOf(b.slice(d));
                        if (0 == e) return a.slice(b.length - d)
                    }
                return null == b || 0 == c ? a.replace(/^[\\s\\*]*/, \"\") : a.length < b.length ? \"\" : a.slice(b.length)
            }); a.length && !a[a.length - 1];) a.pop();
        for (; a.length && !a[0];) a.shift();
        return a
    }

    function m(b, c, d, e, f) {
        v(b, d, e, c);
        var g = a.cx();
        !f && e instanceof a.AVal && e.types.length && (f = e.types[e.types.length - 1], f instanceof a.Obj && f.origin == g.curOrigin && !f.doc || (f = null));
        for (var h = c.length - 1; h >= 0; h--) {
            var i = l(c[h].split(/\\r\\n?|\\n/)).join(\"\\n\");
            if (i) {
                e instanceof a.AVal && (e.doc = i), f && (f.doc = i);
                break
            }
        }
    }

    function n(a, b) {
        for (;
            /\\s/.test(a.charAt(b));) ++b;
        return b
    }

    function o(a) {
        if (!d.isIdentifierStart(a.charCodeAt(0))) return !1;
        for (var b = 1; b < a.length; b++)
            if (!d.isIdentifierChar(a.charCodeAt(b))) return !1;
        return !0
    }

    function p(a, b, c, d) {
        for (var e = [], f = [], g = !1, h = !0; c = n(b, c), !h || b.charAt(c) != d; h = !1) {
            var i = b.indexOf(\":\", c);
            if (0 > i) return null;
            var j = b.slice(c, i);
            if (!o(j)) return null;
            e.push(j), c = i + 1;
            var k = r(a, b, c);
            if (!k) return null;
            c = k.end, g = g || k.madeUp, f.push(k.type), c = n(b, c);
            var l = b.charAt(c);
            if (++c, l == d) break;
            if (\",\" != l) return null
        }
        return {
            labels: e,
            types: f,
            end: c,
            madeUp: g
        }
    }

    function q(b, c, d) {
        var e = s(b, c, d);
        return e ? \"[]\" == c.slice(e.end, e.end + 2) ? {
            madeUp: e.madeUp,
            end: e.end + 2,
            type: new a.Arr(e.type)
        } : e : null
    }

    function r(b, c, d) {
        for (var e, f = !1, g = !1;;) {
            var h = q(b, c, d);
            if (!h) return null;
            if (g = g || h.madeUp, f ? h.type.propagate(f) : e = h.type, d = n(c, h.end), \"|\" != c.charAt(d)) break;
            d++, f || (f = new a.AVal, e.propagate(f), e = f)
        }
        var i = !1;
        return \"=\" == c.charAt(d) && (++d, i = !0), {
            type: e,
            end: d,
            isOptional: i,
            madeUp: g
        }
    }

    function s(b, c, e) {
        e = n(c, e);
        var f, g = !1;
        if (c.indexOf(\"function(\", e) == e) {
            var h = p(b, c, e + 9, \")\"),
                i = a.ANull;
            if (!h) return null;
            if (e = n(c, h.end), \":\" == c.charAt(e)) {
                ++e;
                var j = r(b, c, e + 1);
                if (!j) return null;
                e = j.end, i = j.type, g = j.madeUp
            }
            f = new a.Fn(null, a.ANull, h.types, h.labels, i)
        } else if (\"[\" == c.charAt(e)) {
            var k = r(b, c, e + 1);
            if (!k) return null;
            if (e = n(c, k.end), g = k.madeUp, \"]\" != c.charAt(e)) return null;
            ++e, f = new a.Arr(k.type)
        } else if (\"{\" == c.charAt(e)) {
            var l = p(b, c, e + 1, \"}\");
            if (!l) return null;
            f = new a.Obj(!0);
            for (var m = 0; m < l.types.length; ++m) {
                var o = f.defProp(l.labels[m]);
                o.initializer = !0, l.types[m].propagate(o)
            }
            e = l.end, g = l.madeUp
        } else if (\"(\" == c.charAt(e)) {
            var k = r(b, c, e + 1);
            if (!k) return null;
            if (e = n(c, k.end), \")\" != c.charAt(e)) return null;
            ++e, f = k.type
        } else {
            var q = e;
            if (!d.isIdentifierStart(c.charCodeAt(e))) return null;
            for (; d.isIdentifierChar(c.charCodeAt(e));) ++e;
            if (q == e) return null;
            var s = c.slice(q, e);
            if (/^(number|integer)\$/i.test(s)) f = a.cx().num;
            else if (/^bool(ean)?\$/i.test(s)) f = a.cx().bool;
            else if (/^string\$/i.test(s)) f = a.cx().str;
            else if (/^(null|undefined)\$/i.test(s)) f = a.ANull;
            else if (/^array\$/i.test(s)) {
                var k = null;
                if (\".\" == c.charAt(e) && \"<\" == c.charAt(e + 1)) {
                    var u = r(b, c, e + 2);
                    if (!u) return null;
                    if (e = n(c, u.end), g = u.madeUp, \">\" != c.charAt(e++)) return null;
                    k = u.type
                }
                f = new a.Arr(k)
            } else if (/^object\$/i.test(s)) {
                if (f = new a.Obj(!0), \".\" == c.charAt(e) && \"<\" == c.charAt(e + 1)) {
                    var v = r(b, c, e + 2);
                    if (!v) return null;
                    if (e = n(c, v.end), g = g || v.madeUp, \",\" != c.charAt(e++)) return null;
                    var w = r(b, c, e);
                    if (!w) return null;
                    if (e = n(c, w.end), g = v.madeUp || w.madeUp, \">\" != c.charAt(e++)) return null;
                    w.type.propagate(f.defProp(\"<i>\"))
                }
            } else {
                for (; 46 == c.charCodeAt(e) || d.isIdentifierChar(c.charCodeAt(e));) ++e;
                var A, x = c.slice(q, e),
                    y = a.cx(),
                    z = y.parent && y.parent.mod.jsdocTypedefs;
                z && x in z ? f = z[x] : (A = a.def.parsePath(x, b).getObjType()) ? f = t(A, x) : (y.jsdocPlaceholders || (y.jsdocPlaceholders = Object.create(null)), f = x in y.jsdocPlaceholders ? y.jsdocPlaceholders[x] : y.jsdocPlaceholders[x] = new a.Obj(null, x), g = !0)
            }
        }
        return {
            type: f,
            end: e,
            madeUp: g
        }
    }

    function t(b, c) {
        if (b instanceof a.Fn && /(?:^|\\.)[A-Z][^\\.]*\$/.test(c)) {
            var d = b.getProp(\"prototype\").getObjType();
            if (d instanceof a.Obj) return a.getInstance(d)
        }
        return b
    }

    function u(a, b, c) {
        if (c = n(b, c || 0), \"{\" != b.charAt(c)) return null;
        var d = r(a, b, c + 1);
        if (!d) return null;
        var e = n(b, d.end);
        return \"}\" != b.charAt(e) ? null : (d.end = e + 1, d)
    }

    function v(a, b, c, d) {
        for (var e, f, g, h, i, j, k = 0; k < d.length; ++k)
            for (var n, l = d[k], m = /(?:\\n|\$|\\*)\\s*@(type|param|arg(?:ument)?|returns?|this)\\s+(.*)/g; n = m.exec(l);)
                if (\"this\" == n[1] && (j = r(b, n[2], 0))) i = j, h = !0;
                else if (j = u(b, n[2])) switch (h = !0, n[1]) {
            case \"returns\":
            case \"return\":
                g = j;
                break;
            case \"type\":
                e = j;
                break;
            case \"param\":
            case \"arg\":
            case \"argument\":
                var o = n[2].slice(j.end).match(/^\\s*(\\[?)\\s*([^\\]\\s=]+)\\s*(?:=[^\\]]+\\s*)?(\\]?).*/);
                if (!o) continue;
                var p = o[2] + (j.isOptional || \"[\" === o[1] && \"]\" === o[3] ? \"?\" : \"\");
                (f || (f = Object.create(null)))[p] = j
        }
        h && z(e, i, f, g, a, c)
    }

    function w(b, c) {
        for (var f, d = a.cx(), e = /\\s@typedef\\s+(.*)/g; f = e.exec(b);) {
            var g = u(c, f[1]),
                h = g && f[1].slice(g.end).match(/^\\s*(\\S+)/);
            if (h && g.type instanceof a.Obj) {
                for (var i = b.slice(f.index + f[0].length); f = /\\s+@prop(?:erty)?\\s+(.*)/.exec(i);) {
                    var k, j = u(c, f[1]);
                    j && (k = f[1].slice(j.end).match(/^\\s*(\\S+)/)) && j.type.propagate(g.type.defProp(k[1])), i = i.slice(f[0].length)
                }
                d.parent.mod.jsdocTypedefs[h[1]] = g.type
            }
        }
    }

    function x(b, c) {
        var d = a.cx().parent.mod.docComment.weight;
        b.type.propagate(c, d || (b.madeUp ? f : void 0))
    }

    function y(a) {
        return \"FunctionExpression\" == a.type || \"ArrowFunctionExpression\" == a.type
    }

    function z(b, c, d, e, f, g) {
        var h;
        if (\"VariableDeclaration\" == f.type) {
            var i = f.declarations[0];
            i.init && y(i.init) && (h = i.init.scope.fnType)
        } else \"FunctionDeclaration\" == f.type ? h = f.scope.fnType : \"AssignmentExpression\" == f.type ? y(f.right) && (h = f.right.scope.fnType) : \"CallExpression\" == f.type || y(f.value) && (h = f.value.scope.fnType);
        if (h && (d || e || c)) {
            if (d)
                for (var j = 0; j < h.argNames.length; ++j) {
                    var k = h.argNames[j],
                        l = d[k];
                    !l && (l = d[k + \"?\"]) && (h.argNames[j] += \"?\"), l && x(l, h.args[j])
                }
            e && (h.retval == a.ANull && (h.retval = new a.AVal), x(e, h.retval)), c && x(c, h.self)
        } else b && x(b, g)
    }
    var f = 1,
        g = 101;
    b.registerPlugin(\"doc_comment\", function(a, b) {
        a.mod.jsdocTypedefs = Object.create(null), a.on(\"reset\", function() {
            a.mod.jsdocTypedefs = Object.create(null)
        }), a.mod.docComment = {
            weight: b && b.strong ? g : void 0,
            fullDocs: b && b.fullDocs
        }, a.on(\"postParse\", h), a.on(\"postInfer\", j), a.on(\"postLoadDef\", k)
    })
});
  </script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/acorn.js\"></script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/acorn_loose.js\"></script>
  <script src=\"http://ternjs.net/node_modules/acorn/dist/walk.js\"></script>
  <script src=\"http://ternjs.net/doc/demo/polyfill.js\"></script>
  <script src=\"http://ternjs.net/lib/signal.js\"></script>
  <script src=\"http://ternjs.net/lib/tern.js\"></script>
  <script src=\"http://ternjs.net/lib/def.js\"></script>
  <script src=\"http://ternjs.net/lib/comment.js\"></script>
  <script src=\"http://ternjs.net/lib/infer.js\"></script>
  <script src=\"http://ternjs.net/plugin/doc_comment.js\"></script>
  <script type=\"text/javascript\">


if (typeof jseval === 'undefined') {
  jseval = eval;
}

global = window;

var foo = ml(function(){ /*
  this
  is
  a
  multiline
  string.
*/})

function innerSplit(s, by) {
  by = by || \"\\n\";
  return s.split(by).slice(1, -1).join(by);
}

function ml(x) {
  return innerSplit(x.toString());
}

function require(name) {
  if(!(name in modules)) {
    console.error(name + \" unknown requirement\");
  }
  if(global[name] === undefined) {
    modules[name][\"require\"]()
  }
  if(global[name] === undefined) {
    console.error(\"failed to require \" + name);
    return;
  }
  return global[name];
}

function jsrep(s) {
  //console.log(s);
  return jseval(s);
}

modules = {}
exports = {}

function pkg(name, f) {
  modules[name] = {}
  modules[name][\"require\"] = function() {
    f.bind(modules[name])();
    modules[name][\"exports\"] = exports;
    global[name] = exports;
    exports = {}
  }
  return modules[name]
}

pkg(\"path\", function(){ 
   exports.sep = \"/\";   
});
require(\"path\");

pkg(\"process\", function() {
   exports.argv = [];
   exports.stdout = {};
   exports.stdout.write = console.log.bind(console);
   exports.stdin = {};
   exports.env = {};
   exports.stdin.setEncoding = function (enc) { }
   exports.stdin.on = function (kind, cb) { }
});
require(\"process\");

pkg(\"fs\", function() {
  exports.readFileSync = function(path, encoding) { return \"\"; }
  exports.writeFileSync = function(path, data, encoding) { return \"\"; }
  exports.existsSync = function(path) { return false; }
});
require(\"fs\");

pkg(\"compiler\", function () {
var reader = require(\"reader\");
var getenv = function (k, p) {
  if (string63(k)) {
    var b = find(function (e) {
      return(e[k]);
    }, reverse(environment));
    if (is63(b)) {
      if (p) {
        return(b[p]);
      } else {
        return(b);
      }
    }
  }
};
var macro_function = function (k) {
  return(getenv(k, \"macro\"));
};
var macro63 = function (k) {
  return(is63(macro_function(k)));
};
var special63 = function (k) {
  return(is63(getenv(k, \"special\")));
};
var special_form63 = function (form) {
  return(! atom63(form) && special63(hd(form)));
};
var statement63 = function (k) {
  return(special63(k) && getenv(k, \"stmt\"));
};
var symbol_expansion = function (k) {
  return(getenv(k, \"symbol\"));
};
var symbol63 = function (k) {
  return(is63(symbol_expansion(k)));
};
var variable63 = function (k) {
  var b = first(function (frame) {
    return(frame[k]);
  }, reverse(environment));
  return(! atom63(b) && is63(b.variable));
};
bound63 = function (x) {
  return(macro63(x) || special63(x) || symbol63(x) || variable63(x));
};
quoted = function (form) {
  if (string63(form)) {
    return(escape(form));
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      return(join([\"list\"], map(quoted, form)));
    }
  }
};
var literal = function (s) {
  if (string_literal63(s)) {
    return(s);
  } else {
    return(quoted(s));
  }
};
var _names = {};
unique = function (x) {
  if (_names[x]) {
    var i = _names[x];
    _names[x] = _names[x] + 1;
    return(unique(x + i));
  } else {
    _names[x] = 1;
    return(\"_\" + x);
  }
};
var stash42 = function (args) {
  if (keys63(args)) {
    var l = [\"%object\", \"\\\"_stash\\\"\", true];
    var _o = args;
    var k = undefined;
    for (k in _o) {
      var v = _o[k];
      var _e9;
      if (numeric63(k)) {
        _e9 = parseInt(k);
      } else {
        _e9 = k;
      }
      var _k = _e9;
      if (! number63(_k)) {
        add(l, literal(_k));
        add(l, v);
      }
    }
    return(join(args, [l]));
  } else {
    return(args);
  }
};
var bias = function (k) {
  if (number63(k) && !( target === \"js\")) {
    if (target === \"js\") {
      k = k - 1;
    } else {
      k = k + 1;
    }
  }
  return(k);
};
bind = function (lh, rh) {
  if (atom63(lh)) {
    return([lh, rh]);
  } else {
    var id = unique(\"id\");
    var bs = [id, rh];
    var _o1 = lh;
    var k = undefined;
    for (k in _o1) {
      var v = _o1[k];
      var _e10;
      if (numeric63(k)) {
        _e10 = parseInt(k);
      } else {
        _e10 = k;
      }
      var _k1 = _e10;
      var _e11;
      if (_k1 === \"rest\") {
        _e11 = [\"cut\", id, _35(lh)];
      } else {
        _e11 = [\"get\", id, [\"quote\", bias(_k1)]];
      }
      var x = _e11;
      if (is63(_k1)) {
        var _e12;
        if (v === true) {
          _e12 = _k1;
        } else {
          _e12 = v;
        }
        var _k2 = _e12;
        bs = join(bs, bind(_k2, x));
      }
    }
    return(bs);
  }
};
setenv(\"arguments%\", {_stash: true, macro: function (from) {
  return([[\"get\", [\"get\", [\"get\", \"Array\", [\"quote\", \"prototype\"]], [\"quote\", \"slice\"]], [\"quote\", \"call\"]], \"arguments\", from]);
}});
bind42 = function (args, body) {
  var args1 = [];
  var rest = function () {
    if (target === \"js\") {
      return([\"unstash\", [\"arguments%\", _35(args1)]]);
    } else {
      add(args1, \"|...|\");
      return([\"unstash\", [\"list\", \"|...|\"]]);
    }
  };
  if (atom63(args)) {
    return([args1, join([\"let\", [args, rest()]], body)]);
  } else {
    var bs = [];
    var r = unique(\"r\");
    var _o2 = args;
    var k = undefined;
    for (k in _o2) {
      var v = _o2[k];
      var _e13;
      if (numeric63(k)) {
        _e13 = parseInt(k);
      } else {
        _e13 = k;
      }
      var _k3 = _e13;
      if (number63(_k3)) {
        if (atom63(v)) {
          add(args1, v);
        } else {
          var x = unique(\"x\");
          add(args1, x);
          bs = join(bs, [v, x]);
        }
      }
    }
    if (keys63(args)) {
      bs = join(bs, [r, rest()]);
      bs = join(bs, [keys(args), r]);
    }
    return([args1, join([\"let\", bs], body)]);
  }
};
var quoting63 = function (depth) {
  return(number63(depth));
};
var quasiquoting63 = function (depth) {
  return(quoting63(depth) && depth > 0);
};
var can_unquote63 = function (depth) {
  return(quoting63(depth) && depth === 1);
};
var quasisplice63 = function (x, depth) {
  return(can_unquote63(depth) && ! atom63(x) && hd(x) === \"unquote-splicing\");
};
var expand_local = function (_x34) {
  var _id = _x34;
  var x = _id[0];
  var name = _id[1];
  var value = _id[2];
  return([\"%local\", name, macroexpand(value)]);
};
var expand_function = function (_x36) {
  var _id1 = _x36;
  var x = _id1[0];
  var args = _id1[1];
  var body = cut(_id1, 2);
  add(environment, {});
  var _o3 = args;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var _x37 = _o3[_i3];
    var _e14;
    if (numeric63(_i3)) {
      _e14 = parseInt(_i3);
    } else {
      _e14 = _i3;
    }
    var __i3 = _e14;
    setenv(_x37, {_stash: true, variable: true});
  }
  var _x38 = join([\"%function\", args], macroexpand(body));
  drop(environment);
  return(_x38);
};
var expand_definition = function (_x40) {
  var _id2 = _x40;
  var x = _id2[0];
  var name = _id2[1];
  var args = _id2[2];
  var body = cut(_id2, 3);
  add(environment, {});
  var _o4 = args;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var _x41 = _o4[_i4];
    var _e15;
    if (numeric63(_i4)) {
      _e15 = parseInt(_i4);
    } else {
      _e15 = _i4;
    }
    var __i4 = _e15;
    setenv(_x41, {_stash: true, variable: true});
  }
  var _x42 = join([x, name, args], macroexpand(body));
  drop(environment);
  return(_x42);
};
var expand_macro = function (_x44) {
  var _id3 = _x44;
  var name = _id3[0];
  var body = cut(_id3, 1);
  return(macroexpand(apply(macro_function(name), body)));
};
macroexpand = function (form) {
  if (symbol63(form)) {
    return(macroexpand(symbol_expansion(form)));
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      var x = hd(form);
      if (x === \"%local\") {
        return(expand_local(form));
      } else {
        if (x === \"%function\") {
          return(expand_function(form));
        } else {
          if (x === \"%global-function\") {
            return(expand_definition(form));
          } else {
            if (x === \"%local-function\") {
              return(expand_definition(form));
            } else {
              if (macro63(x)) {
                return(expand_macro(form));
              } else {
                return(map(macroexpand, form));
              }
            }
          }
        }
      }
    }
  }
};
var quasiquote_list = function (form, depth) {
  var xs = [[\"list\"]];
  var _o5 = form;
  var k = undefined;
  for (k in _o5) {
    var v = _o5[k];
    var _e16;
    if (numeric63(k)) {
      _e16 = parseInt(k);
    } else {
      _e16 = k;
    }
    var _k4 = _e16;
    if (! number63(_k4)) {
      var _e17;
      if (quasisplice63(v, depth)) {
        _e17 = quasiexpand(v[1]);
      } else {
        _e17 = quasiexpand(v, depth);
      }
      var _v = _e17;
      last(xs)[_k4] = _v;
    }
  }
  var _x47 = form;
  var _n6 = _35(_x47);
  var _i6 = 0;
  while (_i6 < _n6) {
    var x = _x47[_i6];
    if (quasisplice63(x, depth)) {
      var _x48 = quasiexpand(x[1]);
      add(xs, _x48);
      add(xs, [\"list\"]);
    } else {
      add(last(xs), quasiexpand(x, depth));
    }
    _i6 = _i6 + 1;
  }
  var pruned = keep(function (x) {
    return(_35(x) > 1 || !( hd(x) === \"list\") || keys63(x));
  }, xs);
  if (one63(pruned)) {
    return(hd(pruned));
  } else {
    return(join([\"join\"], pruned));
  }
};
quasiexpand = function (form, depth) {
  if (quasiquoting63(depth)) {
    if (atom63(form)) {
      return([\"quote\", form]);
    } else {
      if (can_unquote63(depth) && hd(form) === \"unquote\") {
        return(quasiexpand(form[1]));
      } else {
        if (hd(form) === \"unquote\" || hd(form) === \"unquote-splicing\") {
          return(quasiquote_list(form, depth - 1));
        } else {
          if (hd(form) === \"quasiquote\") {
            return(quasiquote_list(form, depth + 1));
          } else {
            return(quasiquote_list(form, depth));
          }
        }
      }
    }
  } else {
    if (atom63(form)) {
      return(form);
    } else {
      if (hd(form) === \"quote\") {
        return(form);
      } else {
        if (hd(form) === \"quasiquote\") {
          return(quasiexpand(form[1], 1));
        } else {
          return(map(function (x) {
            return(quasiexpand(x, depth));
          }, form));
        }
      }
    }
  }
};
expand_if = function (_x52) {
  var _id4 = _x52;
  var a = _id4[0];
  var b = _id4[1];
  var c = cut(_id4, 2);
  if (is63(b)) {
    return([join([\"%if\", a, b], expand_if(c))]);
  } else {
    if (is63(a)) {
      return([a]);
    }
  }
};
indent_level = 0;
indentation = function () {
  var s = \"\";
  var i = 0;
  while (i < indent_level) {
    s = s + \"  \";
    i = i + 1;
  }
  return(s);
};
var reserved = {\"else\": true, \"<\": true, \"true\": true, \"/\": true, \"end\": true, \"typeof\": true, \"function\": true, \"switch\": true, \"=\": true, \"or\": true, \"try\": true, \"catch\": true, \"until\": true, \"local\": true, \"repeat\": true, \"-\": true, \"false\": true, \"continue\": true, \"==\": true, \"and\": true, \"if\": true, \"for\": true, \">=\": true, \"<=\": true, \"with\": true, \"return\": true, \"finally\": true, \"nil\": true, \"new\": true, \"do\": true, \"case\": true, \"break\": true, \"elseif\": true, \"+\": true, \"not\": true, \"void\": true, \"var\": true, \"%\": true, \"in\": true, \"delete\": true, \"throw\": true, \"debugger\": true, \"instanceof\": true, \"this\": true, \"while\": true, \"then\": true, \"default\": true, \"*\": true, \">\": true};
reserved63 = function (x) {
  return(reserved[x]);
};
var valid_code63 = function (n) {
  return(number_code63(n) || n > 64 && n < 91 || n > 96 && n < 123 || n === 46 || n === 95);
};
valid_id63 = function (id) {
  if (none63(id) || reserved63(id)) {
    return(false);
  } else {
    var i = 0;
    while (i < _35(id)) {
      if (! valid_code63(code(id, i))) {
        return(false);
      }
      i = i + 1;
    }
    return(true);
  }
};
key = function (k) {
  var i = inner(k);
  if (valid_id63(i)) {
    return(i);
  } else {
    if (target === \"js\") {
      return(k);
    } else {
      return(\"[\" + k + \"]\");
    }
  }
};
mapo = function (f, t) {
  var o = [];
  var _o6 = t;
  var k = undefined;
  for (k in _o6) {
    var v = _o6[k];
    var _e18;
    if (numeric63(k)) {
      _e18 = parseInt(k);
    } else {
      _e18 = k;
    }
    var _k5 = _e18;
    var x = f(v);
    if (is63(x)) {
      add(o, literal(_k5));
      add(o, x);
    }
  }
  return(o);
};
var __x57 = [];
var _x58 = [];
_x58.lua = \"not\";
_x58.js = \"!\";
__x57[\"not\"] = _x58;
var __x59 = [];
__x59[\"/\"] = true;
__x59[\"*\"] = true;
__x59[\"%\"] = true;
var __x60 = [];
__x60[\"+\"] = true;
__x60[\"-\"] = true;
var __x61 = [];
var _x62 = [];
_x62.lua = \"..\";
_x62.js = \"+\";
__x61.cat = _x62;
var __x63 = [];
__x63[\"<=\"] = true;
__x63[\">=\"] = true;
__x63[\"<\"] = true;
__x63[\">\"] = true;
var __x64 = [];
var _x65 = [];
_x65.lua = \"==\";
_x65.js = \"===\";
__x64[\"=\"] = _x65;
var __x66 = [];
var _x67 = [];
_x67.lua = \"and\";
_x67.js = \"&&\";
__x66[\"and\"] = _x67;
var __x68 = [];
var _x69 = [];
_x69.lua = \"or\";
_x69.js = \"||\";
__x68[\"or\"] = _x69;
var infix = [__x57, __x59, __x60, __x61, __x63, __x64, __x66, __x68];
var unary63 = function (form) {
  return(two63(form) && in63(hd(form), [\"not\", \"-\"]));
};
var index = function (k) {
  return(k);
};
var precedence = function (form) {
  if (!( atom63(form) || unary63(form))) {
    var _o7 = infix;
    var k = undefined;
    for (k in _o7) {
      var v = _o7[k];
      var _e19;
      if (numeric63(k)) {
        _e19 = parseInt(k);
      } else {
        _e19 = k;
      }
      var _k6 = _e19;
      if (v[hd(form)]) {
        return(index(_k6));
      }
    }
  }
  return(0);
};
var getop = function (op) {
  return(find(function (level) {
    var x = level[op];
    if (x === true) {
      return(op);
    } else {
      if (is63(x)) {
        return(x[target]);
      }
    }
  }, infix));
};
var infix63 = function (x) {
  return(is63(getop(x)));
};
var compile_args = function (args) {
  var s = \"(\";
  var c = \"\";
  var _x71 = args;
  var _n9 = _35(_x71);
  var _i9 = 0;
  while (_i9 < _n9) {
    var x = _x71[_i9];
    s = s + c + compile(x);
    c = \", \";
    _i9 = _i9 + 1;
  }
  return(s + \")\");
};
var escape_newlines = function (s) {
  var s1 = \"\";
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    var _e20;
    if (c === \"\\n\") {
      _e20 = \"\\\\n\";
    } else {
      _e20 = c;
    }
    s1 = s1 + _e20;
    i = i + 1;
  }
  return(s1);
};
var id = function (id) {
  var id1 = \"\";
  var i = 0;
  while (i < _35(id)) {
    var c = char(id, i);
    var n = code(c);
    var _e21;
    if (c === \"-\") {
      _e21 = \"_\";
    } else {
      var _e22;
      if (valid_code63(n)) {
        _e22 = c;
      } else {
        var _e23;
        if (i === 0) {
          _e23 = \"_\" + n;
        } else {
          _e23 = n;
        }
        _e22 = _e23;
      }
      _e21 = _e22;
    }
    var c1 = _e21;
    id1 = id1 + c1;
    i = i + 1;
  }
  return(id1);
};
var compile_atom = function (x) {
  if (x === \"nil\" && target === \"lua\") {
    return(x);
  } else {
    if (x === \"nil\") {
      return(\"undefined\");
    } else {
      if (id_literal63(x)) {
        return(inner(x));
      } else {
        if (string_literal63(x)) {
          return(escape_newlines(x));
        } else {
          if (string63(x)) {
            return(id(x));
          } else {
            if (boolean63(x)) {
              if (x) {
                return(\"true\");
              } else {
                return(\"false\");
              }
            } else {
              if (nan63(x)) {
                return(\"nan\");
              } else {
                if (x === inf) {
                  return(\"inf\");
                } else {
                  if (x === -inf) {
                    return(\"-inf\");
                  } else {
                    if (number63(x)) {
                      return(x + \"\");
                    } else {
                      throw new Error(\"Cannot compile atom: \" + string(x));
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
var terminator = function (stmt63) {
  if (! stmt63) {
    return(\"\");
  } else {
    if (target === \"js\") {
      return(\";\\n\");
    } else {
      return(\"\\n\");
    }
  }
};
var compile_special = function (form, stmt63) {
  var _id5 = form;
  var x = _id5[0];
  var args = cut(_id5, 1);
  var _id6 = getenv(x);
  var self_tr63 = _id6.tr;
  var stmt = _id6.stmt;
  var special = _id6.special;
  var tr = terminator(stmt63 && ! self_tr63);
  return(apply(special, args) + tr);
};
var parenthesize_call63 = function (x) {
  return(! atom63(x) && hd(x) === \"%function\" || precedence(x) > 0);
};
var compile_call = function (form) {
  var f = hd(form);
  var f1 = compile(f);
  var args = compile_args(stash42(tl(form)));
  if (parenthesize_call63(f)) {
    return(\"(\" + f1 + \")\" + args);
  } else {
    return(f1 + args);
  }
};
var op_delims = function (parent, child) {
  var _r56 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id7 = _r56;
  var right = _id7.right;
  var _e24;
  if (right) {
    _e24 = _6261;
  } else {
    _e24 = _62;
  }
  if (_e24(precedence(child), precedence(parent))) {
    return([\"(\", \")\"]);
  } else {
    return([\"\", \"\"]);
  }
};
var compile_infix = function (form) {
  var _id8 = form;
  var op = _id8[0];
  var _id9 = cut(_id8, 1);
  var a = _id9[0];
  var b = _id9[1];
  var _id10 = op_delims(form, a);
  var ao = _id10[0];
  var ac = _id10[1];
  var _id11 = op_delims(form, b, {_stash: true, right: true});
  var bo = _id11[0];
  var bc = _id11[1];
  var _a = compile(a);
  var _b = compile(b);
  var _op = getop(op);
  if (unary63(form)) {
    return(_op + ao + \" \" + _a + ac);
  } else {
    return(ao + _a + ac + \" \" + _op + \" \" + bo + _b + bc);
  }
};
compile_function = function (args, body) {
  var _r58 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id12 = _r58;
  var name = _id12.name;
  var prefix = _id12.prefix;
  var _e25;
  if (name) {
    _e25 = compile(name);
  } else {
    _e25 = \"\";
  }
  var _id13 = _e25;
  var _args = compile_args(args);
  indent_level = indent_level + 1;
  var _x74 = compile(body, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var _body = _x74;
  var ind = indentation();
  var _e26;
  if (prefix) {
    _e26 = prefix + \" \";
  } else {
    _e26 = \"\";
  }
  var p = _e26;
  var _e27;
  if (target === \"js\") {
    _e27 = \"\";
  } else {
    _e27 = \"end\";
  }
  var tr = _e27;
  if (name) {
    tr = tr + \"\\n\";
  }
  if (target === \"js\") {
    return(\"function \" + _id13 + _args + \" {\\n\" + _body + ind + \"}\" + tr);
  } else {
    return(p + \"function \" + _id13 + _args + \"\\n\" + _body + ind + tr);
  }
};
var can_return63 = function (form) {
  return(is63(form) && (atom63(form) || !( hd(form) === \"return\") && ! statement63(hd(form))));
};
compile = function (form) {
  var _r60 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id14 = _r60;
  var stmt = _id14.stmt;
  if (nil63(form)) {
    return(\"\");
  } else {
    if (special_form63(form)) {
      return(compile_special(form, stmt));
    } else {
      var tr = terminator(stmt);
      var _e28;
      if (stmt) {
        _e28 = indentation();
      } else {
        _e28 = \"\";
      }
      var ind = _e28;
      var _e29;
      if (atom63(form)) {
        _e29 = compile_atom(form);
      } else {
        var _e30;
        if (infix63(hd(form))) {
          _e30 = compile_infix(form);
        } else {
          _e30 = compile_call(form);
        }
        _e29 = _e30;
      }
      var _form = _e29;
      return(ind + _form + tr);
    }
  }
};
var lower_statement = function (form, tail63) {
  var hoist = [];
  var e = lower(form, hoist, true, tail63);
  if (some63(hoist) && is63(e)) {
    return(join([\"do\"], hoist, [e]));
  } else {
    if (is63(e)) {
      return(e);
    } else {
      if (_35(hoist) > 1) {
        return(join([\"do\"], hoist));
      } else {
        return(hd(hoist));
      }
    }
  }
};
var lower_body = function (body, tail63) {
  return(lower_statement(join([\"do\"], body), tail63));
};
var literal63 = function (form) {
  return(atom63(form) || hd(form) === \"%array\" || hd(form) === \"%object\");
};
var standalone63 = function (form) {
  return(! atom63(form) && ! infix63(hd(form)) && ! literal63(form) && !( \"get\" === hd(form)));
};
var lower_do = function (args, hoist, stmt63, tail63) {
  var _x79 = almost(args);
  var _n10 = _35(_x79);
  var _i10 = 0;
  while (_i10 < _n10) {
    var x = _x79[_i10];
    var _y = lower(x, hoist, stmt63);
    if (_y) {
      var e = _y;
      if (standalone63(e)) {
        add(hoist, e);
      }
    }
    _i10 = _i10 + 1;
  }
  var e = lower(last(args), hoist, stmt63, tail63);
  if (tail63 && can_return63(e)) {
    return([\"return\", e]);
  } else {
    return(e);
  }
};
var lower_set = function (args, hoist, stmt63, tail63) {
  var _id15 = args;
  var lh = _id15[0];
  var rh = _id15[1];
  add(hoist, [\"set\", lh, lower(rh, hoist)]);
  if (!( stmt63 && ! tail63)) {
    return(lh);
  }
};
var lower_if = function (args, hoist, stmt63, tail63) {
  var _id16 = args;
  var cond = _id16[0];
  var _then = _id16[1];
  var _else = _id16[2];
  if (stmt63 || tail63) {
    var _e32;
    if (_else) {
      _e32 = [lower_body([_else], tail63)];
    }
    return(add(hoist, join([\"%if\", lower(cond, hoist), lower_body([_then], tail63)], _e32)));
  } else {
    var e = unique(\"e\");
    add(hoist, [\"%local\", e]);
    var _e31;
    if (_else) {
      _e31 = [lower([\"set\", e, _else])];
    }
    add(hoist, join([\"%if\", lower(cond, hoist), lower([\"set\", e, _then])], _e31));
    return(e);
  }
};
var lower_short = function (x, args, hoist) {
  var _id17 = args;
  var a = _id17[0];
  var b = _id17[1];
  var hoist1 = [];
  var b1 = lower(b, hoist1);
  if (some63(hoist1)) {
    var _id18 = unique(\"id\");
    var _e33;
    if (x === \"and\") {
      _e33 = [\"%if\", _id18, b, _id18];
    } else {
      _e33 = [\"%if\", _id18, _id18, b];
    }
    return(lower([\"do\", [\"%local\", _id18, a], _e33], hoist));
  } else {
    return([x, lower(a, hoist), b1]);
  }
};
var lower_try = function (args, hoist, tail63) {
  return(add(hoist, [\"%try\", lower_body(args, tail63)]));
};
var lower_while = function (args, hoist) {
  var _id19 = args;
  var c = _id19[0];
  var body = cut(_id19, 1);
  return(add(hoist, [\"while\", lower(c, hoist), lower_body(body)]));
};
var lower_for = function (args, hoist) {
  var _id20 = args;
  var t = _id20[0];
  var k = _id20[1];
  var body = cut(_id20, 2);
  return(add(hoist, [\"%for\", lower(t, hoist), k, lower_body(body)]));
};
var lower_function = function (args) {
  var _id21 = args;
  var a = _id21[0];
  var body = cut(_id21, 1);
  return([\"%function\", a, lower_body(body, true)]);
};
var lower_definition = function (kind, args, hoist) {
  var _id22 = args;
  var name = _id22[0];
  var _args1 = _id22[1];
  var body = cut(_id22, 2);
  return(add(hoist, [kind, name, _args1, lower_body(body, true)]));
};
var lower_call = function (form, hoist) {
  var _form1 = map(function (x) {
    return(lower(x, hoist));
  }, form);
  if (some63(_form1)) {
    return(_form1);
  }
};
var lower_infix63 = function (form) {
  return(infix63(hd(form)) && _35(form) > 3);
};
var lower_infix = function (form, hoist) {
  var _id23 = form;
  var x = _id23[0];
  var args = cut(_id23, 1);
  return(lower(reduce(function (a, b) {
    return([x, b, a]);
  }, reverse(args)), hoist));
};
var lower_special = function (form, hoist) {
  var e = lower_call(form, hoist);
  if (e) {
    return(add(hoist, e));
  }
};
lower = function (form, hoist, stmt63, tail63) {
  if (atom63(form)) {
    return(form);
  } else {
    if (empty63(form)) {
      return([\"%array\"]);
    } else {
      if (nil63(hoist)) {
        return(lower_statement(form));
      } else {
        if (lower_infix63(form)) {
          return(lower_infix(form, hoist));
        } else {
          var _id24 = form;
          var x = _id24[0];
          var args = cut(_id24, 1);
          if (x === \"do\") {
            return(lower_do(args, hoist, stmt63, tail63));
          } else {
            if (x === \"set\") {
              return(lower_set(args, hoist, stmt63, tail63));
            } else {
              if (x === \"%if\") {
                return(lower_if(args, hoist, stmt63, tail63));
              } else {
                if (x === \"%try\") {
                  return(lower_try(args, hoist, tail63));
                } else {
                  if (x === \"while\") {
                    return(lower_while(args, hoist));
                  } else {
                    if (x === \"%for\") {
                      return(lower_for(args, hoist));
                    } else {
                      if (x === \"%function\") {
                        return(lower_function(args));
                      } else {
                        if (x === \"%local-function\" || x === \"%global-function\") {
                          return(lower_definition(x, args, hoist));
                        } else {
                          if (in63(x, [\"and\", \"or\"])) {
                            return(lower_short(x, args, hoist));
                          } else {
                            if (statement63(x)) {
                              return(lower_special(form, hoist));
                            } else {
                              return(lower_call(form, hoist));
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
var expand = function (form) {
  return(lower(macroexpand(form)));
};
global.require = require;
var run = eval;
_37result = undefined;
eval = function (form) {
  var previous = target;
  target = \"js\";
  var code = compile(expand([\"set\", \"%result\", form]));
  target = previous;
  run(code);
  return(_37result);
};
setenv(\"do\", {_stash: true, tr: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var s = \"\";
  var _x107 = forms;
  var _n12 = _35(_x107);
  var _i12 = 0;
  while (_i12 < _n12) {
    var x = _x107[_i12];
    s = s + compile(x, {_stash: true, stmt: true});
    _i12 = _i12 + 1;
  }
  return(s);
}, stmt: true});
setenv(\"%if\", {_stash: true, tr: true, special: function (cond, cons, alt) {
  var _cond1 = compile(cond);
  indent_level = indent_level + 1;
  var _x110 = compile(cons, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var _cons1 = _x110;
  var _e34;
  if (alt) {
    indent_level = indent_level + 1;
    var _x111 = compile(alt, {_stash: true, stmt: true});
    indent_level = indent_level - 1;
    _e34 = _x111;
  }
  var _alt1 = _e34;
  var ind = indentation();
  var s = \"\";
  if (target === \"js\") {
    s = s + ind + \"if (\" + _cond1 + \") {\\n\" + _cons1 + ind + \"}\";
  } else {
    s = s + ind + \"if \" + _cond1 + \" then\\n\" + _cons1;
  }
  if (_alt1 && target === \"js\") {
    s = s + \" else {\\n\" + _alt1 + ind + \"}\";
  } else {
    if (_alt1) {
      s = s + ind + \"else\\n\" + _alt1;
    }
  }
  if (target === \"lua\") {
    return(s + ind + \"end\\n\");
  } else {
    return(s + \"\\n\");
  }
}, stmt: true});
setenv(\"while\", {_stash: true, tr: true, special: function (cond, form) {
  var _cond3 = compile(cond);
  indent_level = indent_level + 1;
  var _x113 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x113;
  var ind = indentation();
  if (target === \"js\") {
    return(ind + \"while (\" + _cond3 + \") {\\n\" + body + ind + \"}\\n\");
  } else {
    return(ind + \"while \" + _cond3 + \" do\\n\" + body + ind + \"end\\n\");
  }
}, stmt: true});
setenv(\"%for\", {_stash: true, tr: true, special: function (t, k, form) {
  var _t1 = compile(t);
  var ind = indentation();
  indent_level = indent_level + 1;
  var _x115 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x115;
  if (target === \"lua\") {
    return(ind + \"for \" + k + \" in next, \" + _t1 + \" do\\n\" + body + ind + \"end\\n\");
  } else {
    return(ind + \"for (\" + k + \" in \" + _t1 + \") {\\n\" + body + ind + \"}\\n\");
  }
}, stmt: true});
setenv(\"%try\", {_stash: true, tr: true, special: function (form) {
  var e = unique(\"e\");
  var ind = indentation();
  indent_level = indent_level + 1;
  var _x121 = compile(form, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var body = _x121;
  var hf = [\"return\", [\"%array\", false, [\"get\", e, \"\\\"message\\\"\"]]];
  indent_level = indent_level + 1;
  var _x125 = compile(hf, {_stash: true, stmt: true});
  indent_level = indent_level - 1;
  var h = _x125;
  return(ind + \"try {\\n\" + body + ind + \"}\\n\" + ind + \"catch (\" + e + \") {\\n\" + h + ind + \"}\\n\");
}, stmt: true});
setenv(\"%delete\", {_stash: true, special: function (place) {
  return(indentation() + \"delete \" + compile(place));
}, stmt: true});
setenv(\"break\", {_stash: true, special: function () {
  return(indentation() + \"break\");
}, stmt: true});
setenv(\"%function\", {_stash: true, special: function (args, body) {
  return(compile_function(args, body));
}});
setenv(\"%global-function\", {_stash: true, tr: true, special: function (name, args, body) {
  if (target === \"lua\") {
    var x = compile_function(args, body, {_stash: true, name: name});
    return(indentation() + x);
  } else {
    return(compile([\"set\", name, [\"%function\", args, body]], {_stash: true, stmt: true}));
  }
}, stmt: true});
setenv(\"%local-function\", {_stash: true, tr: true, special: function (name, args, body) {
  if (target === \"lua\") {
    var x = compile_function(args, body, {_stash: true, name: name, prefix: \"local\"});
    return(indentation() + x);
  } else {
    return(compile([\"%local\", name, [\"%function\", args, body]], {_stash: true, stmt: true}));
  }
}, stmt: true});
setenv(\"return\", {_stash: true, special: function (x) {
  var _e35;
  if (nil63(x)) {
    _e35 = \"return\";
  } else {
    _e35 = \"return(\" + compile(x) + \")\";
  }
  var _x135 = _e35;
  return(indentation() + _x135);
}, stmt: true});
setenv(\"new\", {_stash: true, special: function (x) {
  return(\"new \" + compile(x));
}});
setenv(\"error\", {_stash: true, special: function (x) {
  var _e36;
  if (target === \"js\") {
    _e36 = \"throw \" + compile([\"new\", [\"Error\", x]]);
  } else {
    _e36 = \"error(\" + compile(x) + \")\";
  }
  var e = _e36;
  return(indentation() + e);
}, stmt: true});
setenv(\"%local\", {_stash: true, special: function (name, value) {
  var _id26 = compile(name);
  var value1 = compile(value);
  var _e37;
  if (is63(value)) {
    _e37 = \" = \" + value1;
  } else {
    _e37 = \"\";
  }
  var rh = _e37;
  var _e38;
  if (target === \"js\") {
    _e38 = \"var \";
  } else {
    _e38 = \"local \";
  }
  var keyword = _e38;
  var ind = indentation();
  return(ind + keyword + _id26 + rh);
}, stmt: true});
setenv(\"set\", {_stash: true, special: function (lh, rh) {
  var _lh1 = compile(lh);
  var _e39;
  if (nil63(rh)) {
    _e39 = \"nil\";
  } else {
    _e39 = rh;
  }
  var _rh1 = compile(_e39);
  return(indentation() + _lh1 + \" = \" + _rh1);
}, stmt: true});
setenv(\"get\", {_stash: true, special: function (t, k) {
  var _t3 = compile(t);
  var k1 = compile(k);
  if (target === \"lua\" && char(_t3, 0) === \"{\") {
    _t3 = \"(\" + _t3 + \")\";
  }
  if (string_literal63(k) && valid_id63(inner(k))) {
    return(_t3 + \".\" + inner(k));
  } else {
    return(_t3 + \"[\" + k1 + \"]\");
  }
}});
setenv(\"%array\", {_stash: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var _e40;
  if (target === \"lua\") {
    _e40 = \"{\";
  } else {
    _e40 = \"[\";
  }
  var open = _e40;
  var _e41;
  if (target === \"lua\") {
    _e41 = \"}\";
  } else {
    _e41 = \"]\";
  }
  var close = _e41;
  var s = \"\";
  var c = \"\";
  var _o9 = forms;
  var k = undefined;
  for (k in _o9) {
    var v = _o9[k];
    var _e42;
    if (numeric63(k)) {
      _e42 = parseInt(k);
    } else {
      _e42 = k;
    }
    var _k7 = _e42;
    if (number63(_k7)) {
      s = s + c + compile(v);
      c = \", \";
    }
  }
  return(open + s + close);
}});
setenv(\"%object\", {_stash: true, special: function () {
  var forms = unstash(Array.prototype.slice.call(arguments, 0));
  var s = \"{\";
  var c = \"\";
  var _e43;
  if (target === \"lua\") {
    _e43 = \" = \";
  } else {
    _e43 = \": \";
  }
  var sep = _e43;
  var _o11 = pair(forms);
  var k = undefined;
  for (k in _o11) {
    var v = _o11[k];
    var _e44;
    if (numeric63(k)) {
      _e44 = parseInt(k);
    } else {
      _e44 = k;
    }
    var _k9 = _e44;
    if (number63(_k9)) {
      var _id28 = v;
      var _k10 = _id28[0];
      var _v2 = _id28[1];
      if (! string63(_k10)) {
        throw new Error(\"Illegal key: \" + string(_k10));
      }
      s = s + c + key(_k10) + sep + compile(_v2);
      c = \", \";
    }
  }
  return(s + \"}\");
}});
exports.run = run;
exports.eval = eval;
exports.expand = expand;
exports.compile = compile;
});

pkg(\"macros\", function () {
setenv(\"quote\", {_stash: true, macro: function (form) {
  return(quoted(form));
}});
setenv(\"quasiquote\", {_stash: true, macro: function (form) {
  return(quasiexpand(form, 1));
}});
setenv(\"at\", {_stash: true, macro: function (l, i) {
  if (target === \"lua\" && number63(i)) {
    i = i + 1;
  } else {
    if (target === \"lua\") {
      i = [\"+\", i, 1];
    }
  }
  return([\"get\", l, i]);
}});
setenv(\"wipe\", {_stash: true, macro: function (place) {
  if (target === \"lua\") {
    return([\"set\", place, \"nil\"]);
  } else {
    return([\"%delete\", place]);
  }
}});
setenv(\"list\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  var x = unique(\"x\");
  var l = [];
  var forms = [];
  var _o1 = body;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e6;
    if (numeric63(k)) {
      _e6 = parseInt(k);
    } else {
      _e6 = k;
    }
    var _k1 = _e6;
    if (number63(_k1)) {
      l[_k1] = v;
    } else {
      add(forms, [\"set\", [\"get\", x, [\"quote\", _k1]], v]);
    }
  }
  if (some63(forms)) {
    return(join([\"let\", x, join([\"%array\"], l)], forms, [x]));
  } else {
    return(join([\"%array\"], l));
  }
}});
setenv(\"if\", {_stash: true, macro: function () {
  var branches = unstash(Array.prototype.slice.call(arguments, 0));
  return(hd(expand_if(branches)));
}});
setenv(\"case\", {_stash: true, macro: function (x) {
  var _r10 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id2 = _r10;
  var clauses = cut(_id2, 0);
  var bs = map(function (_x28) {
    var _id3 = _x28;
    var a = _id3[0];
    var b = _id3[1];
    if (nil63(b)) {
      return([a]);
    } else {
      return([[\"=\", [\"quote\", a], x], b]);
    }
  }, pair(clauses));
  return(join([\"if\"], apply(join, bs)));
}});
setenv(\"when\", {_stash: true, macro: function (cond) {
  var _r13 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id5 = _r13;
  var body = cut(_id5, 0);
  return([\"if\", cond, join([\"do\"], body)]);
}});
setenv(\"unless\", {_stash: true, macro: function (cond) {
  var _r15 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id7 = _r15;
  var body = cut(_id7, 0);
  return([\"if\", [\"not\", cond], join([\"do\"], body)]);
}});
setenv(\"obj\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"%object\"], mapo(function (x) {
    return(x);
  }, body)));
}});
setenv(\"let\", {_stash: true, macro: function (bs) {
  var _r19 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id11 = _r19;
  var body = cut(_id11, 0);
  if (atom63(bs)) {
    return(join([\"let\", [bs, hd(body)]], tl(body)));
  } else {
    if (none63(bs)) {
      return(join([\"do\"], body));
    } else {
      var _id12 = bs;
      var lh = _id12[0];
      var rh = _id12[1];
      var bs2 = cut(_id12, 2);
      var _id13 = bind(lh, rh);
      var id = _id13[0];
      var val = _id13[1];
      var bs1 = cut(_id13, 2);
      var renames = [];
      if (bound63(id) || reserved63(id) || toplevel63()) {
        var id1 = unique(id);
        renames = [id, id1];
        id = id1;
      } else {
        setenv(id, {_stash: true, variable: true});
      }
      return([\"do\", [\"%local\", id, val], [\"let-symbol\", renames, join([\"let\", join(bs1, bs2)], body)]]);
    }
  }
}});
setenv(\"with\", {_stash: true, macro: function (x, v) {
  var _r21 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id15 = _r21;
  var body = cut(_id15, 0);
  return(join([\"let\", [x, v]], body, [x]));
}});
setenv(\"let-when\", {_stash: true, macro: function (x, v) {
  var _r23 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id17 = _r23;
  var body = cut(_id17, 0);
  var y = unique(\"y\");
  return([\"let\", y, v, [\"when\", y, join([\"let\", [x, y]], body)]]);
}});
setenv(\"define-macro\", {_stash: true, macro: function (name, args) {
  var _r25 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id19 = _r25;
  var body = cut(_id19, 0);
  var _x79 = [\"setenv\", [\"quote\", name]];
  _x79.macro = join([\"fn\", args], body);
  var form = _x79;
  eval(form);
  return(form);
}});
setenv(\"define-special\", {_stash: true, macro: function (name, args) {
  var _r27 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id21 = _r27;
  var body = cut(_id21, 0);
  var _x85 = [\"setenv\", [\"quote\", name]];
  _x85.special = join([\"fn\", args], body);
  var form = join(_x85, keys(body));
  eval(form);
  return(form);
}});
setenv(\"define-symbol\", {_stash: true, macro: function (name, expansion) {
  setenv(name, {_stash: true, symbol: expansion});
  var _x91 = [\"setenv\", [\"quote\", name]];
  _x91.symbol = [\"quote\", expansion];
  return(_x91);
}});
setenv(\"define-reader\", {_stash: true, macro: function (_x99) {
  var _id24 = _x99;
  var char = _id24[0];
  var s = _id24[1];
  var _r31 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id25 = _r31;
  var body = cut(_id25, 0);
  return([\"set\", [\"get\", \"read-table\", char], join([\"fn\", [s]], body)]);
}});
setenv(\"define\", {_stash: true, macro: function (name, x) {
  var _r33 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id27 = _r33;
  var body = cut(_id27, 0);
  setenv(name, {_stash: true, variable: true});
  if (some63(body)) {
    return(join([\"%local-function\", name], bind42(x, body)));
  } else {
    return([\"%local\", name, x]);
  }
}});
setenv(\"define-global\", {_stash: true, macro: function (name, x) {
  var _r35 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id29 = _r35;
  var body = cut(_id29, 0);
  setenv(name, {_stash: true, toplevel: true, variable: true});
  if (some63(body)) {
    return(join([\"%global-function\", name], bind42(x, body)));
  } else {
    return([\"set\", name, x]);
  }
}});
setenv(\"with-frame\", {_stash: true, macro: function () {
  var body = unstash(Array.prototype.slice.call(arguments, 0));
  var x = unique(\"x\");
  return([\"do\", [\"add\", \"environment\", [\"obj\"]], [\"with\", x, join([\"do\"], body), [\"drop\", \"environment\"]]]);
}});
setenv(\"with-bindings\", {_stash: true, macro: function (_x128) {
  var _id32 = _x128;
  var names = _id32[0];
  var _r37 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id33 = _r37;
  var body = cut(_id33, 0);
  var x = unique(\"x\");
  var _x131 = [\"setenv\", x];
  _x131.variable = true;
  return(join([\"with-frame\", [\"each\", x, names, _x131]], body));
}});
setenv(\"let-macro\", {_stash: true, macro: function (definitions) {
  var _r40 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id35 = _r40;
  var body = cut(_id35, 0);
  add(environment, {});
  map(function (m) {
    return(macroexpand(join([\"define-macro\"], m)));
  }, definitions);
  var _x135 = join([\"do\"], macroexpand(body));
  drop(environment);
  return(_x135);
}});
setenv(\"let-symbol\", {_stash: true, macro: function (expansions) {
  var _r44 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id38 = _r44;
  var body = cut(_id38, 0);
  add(environment, {});
  map(function (_x143) {
    var _id39 = _x143;
    var name = _id39[0];
    var exp = _id39[1];
    return(macroexpand([\"define-symbol\", name, exp]));
  }, pair(expansions));
  var _x142 = join([\"do\"], macroexpand(body));
  drop(environment);
  return(_x142);
}});
setenv(\"let-unique\", {_stash: true, macro: function (names) {
  var _r48 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id41 = _r48;
  var body = cut(_id41, 0);
  var bs = map(function (n) {
    return([n, [\"unique\", [\"quote\", n]]]);
  }, names);
  return(join([\"let\", apply(join, bs)], body));
}});
setenv(\"fn\", {_stash: true, macro: function (args) {
  var _r51 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id43 = _r51;
  var body = cut(_id43, 0);
  return(join([\"%function\"], bind42(args, body)));
}});
setenv(\"guard\", {_stash: true, macro: function (expr) {
  if (target === \"js\") {
    return([[\"fn\", join(), [\"%try\", [\"list\", true, expr]]]]);
  } else {
    var e = unique(\"e\");
    var x = unique(\"x\");
    var msg = unique(\"msg\");
    return([\"let\", [x, \"nil\", msg, \"nil\", e, [\"xpcall\", [\"fn\", join(), [\"set\", x, expr]], [\"fn\", [\"m\"], [\"set\", msg, [\"%message-handler\", \"m\"]]]]], [\"list\", e, [\"if\", e, x, msg]]]);
  }
}});
setenv(\"each\", {_stash: true, macro: function (x, t) {
  var _r55 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id46 = _r55;
  var body = cut(_id46, 0);
  var o = unique(\"o\");
  var n = unique(\"n\");
  var i = unique(\"i\");
  var _e7;
  if (atom63(x)) {
    _e7 = [i, x];
  } else {
    var _e8;
    if (_35(x) > 1) {
      _e8 = x;
    } else {
      _e8 = [i, hd(x)];
    }
    _e7 = _e8;
  }
  var _id47 = _e7;
  var k = _id47[0];
  var v = _id47[1];
  var _e9;
  if (target === \"lua\") {
    _e9 = body;
  } else {
    _e9 = [join([\"let\", k, [\"if\", [\"numeric?\", k], [\"parseInt\", k], k]], body)];
  }
  return([\"let\", [o, t, k, \"nil\"], [\"%for\", o, k, join([\"let\", [v, [\"get\", o, k]]], _e9)]]);
}});
setenv(\"for\", {_stash: true, macro: function (i, to) {
  var _r57 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id49 = _r57;
  var body = cut(_id49, 0);
  return([\"let\", i, 0, join([\"while\", [\"<\", i, to]], body, [[\"inc\", i]])]);
}});
setenv(\"step\", {_stash: true, macro: function (v, t) {
  var _r59 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id51 = _r59;
  var body = cut(_id51, 0);
  var x = unique(\"x\");
  var n = unique(\"n\");
  var i = unique(\"i\");
  return([\"let\", [x, t, n, [\"#\", x]], [\"for\", i, n, join([\"let\", [v, [\"at\", x, i]]], body)]]);
}});
setenv(\"set-of\", {_stash: true, macro: function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  var l = [];
  var _o3 = xs;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var x = _o3[_i3];
    var _e10;
    if (numeric63(_i3)) {
      _e10 = parseInt(_i3);
    } else {
      _e10 = _i3;
    }
    var __i3 = _e10;
    l[x] = true;
  }
  return(join([\"obj\"], l));
}});
setenv(\"language\", {_stash: true, macro: function () {
  return([\"quote\", target]);
}});
setenv(\"target\", {_stash: true, macro: function () {
  var clauses = unstash(Array.prototype.slice.call(arguments, 0));
  return(clauses[target]);
}});
setenv(\"join!\", {_stash: true, macro: function (a) {
  var _r63 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id53 = _r63;
  var bs = cut(_id53, 0);
  return([\"set\", a, join([\"join\", a], bs)]);
}});
setenv(\"cat!\", {_stash: true, macro: function (a) {
  var _r65 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id55 = _r65;
  var bs = cut(_id55, 0);
  return([\"set\", a, join([\"cat\", a], bs)]);
}});
setenv(\"inc\", {_stash: true, macro: function (n, by) {
  return([\"set\", n, [\"+\", n, by || 1]]);
}});
setenv(\"dec\", {_stash: true, macro: function (n, by) {
  return([\"set\", n, [\"-\", n, by || 1]]);
}});
setenv(\"with-indent\", {_stash: true, macro: function (form) {
  var x = unique(\"x\");
  return([\"do\", [\"inc\", \"indent-level\"], [\"with\", x, form, [\"dec\", \"indent-level\"]]]);
}});
setenv(\"export\", {_stash: true, macro: function () {
  var names = unstash(Array.prototype.slice.call(arguments, 0));
  if (target === \"js\") {
    return(join([\"do\"], map(function (k) {
      return([\"set\", [\"get\", \"exports\", [\"quote\", k]], k]);
    }, names)));
  } else {
    var x = {};
    var _o5 = names;
    var _i5 = undefined;
    for (_i5 in _o5) {
      var k = _o5[_i5];
      var _e11;
      if (numeric63(_i5)) {
        _e11 = parseInt(_i5);
      } else {
        _e11 = _i5;
      }
      var __i5 = _e11;
      x[k] = k;
    }
    return([\"return\", join([\"obj\"], x)]);
  }
}});
});

pkg(\"main\", function () {
var reader = require(\"reader\");
var compiler = require(\"compiler\");
var system = require(\"system\");
var eval_print = function (form) {
  var _id = (function () {
    try {
      return([true, compiler.eval(form)]);
    }
    catch (_e) {
      return([false, _e.message]);
    }
  })();
  var ok = _id[0];
  var x = _id[1];
  if (! ok) {
    return(print(\"error: \" + x));
  } else {
    if (is63(x)) {
      return(print(string(x)));
    }
  }
};
var rep = function (s) {
  return(eval_print(reader[\"read-string\"](s)));
};
var repl = function () {
  var buf = \"\";
  var rep1 = function (s) {
    buf = buf + s;
    var more = [];
    var form = reader[\"read-string\"](buf, more);
    if (!( form === more)) {
      eval_print(form);
      buf = \"\";
      return(system.write(\"> \"));
    }
  };
  system.write(\"> \");
  var _in = process.stdin;
  _in.setEncoding(\"utf8\");
  return(_in.on(\"data\", rep1));
};
compile_file = function (path) {
  var s = reader.stream(system[\"read-file\"](path));
  var body = reader[\"read-all\"](s);
  var form = compiler.expand(join([\"do\"], body));
  return(compiler.compile(form, {_stash: true, stmt: true}));
};
load = function (path) {
  return(compiler.run(compile_file(path)));
};
var run_file = function (path) {
  return(compiler.run(system[\"read-file\"](path)));
};
var usage = function () {
  print(\"usage: lumen [options] <object files>\");
  print(\"options:\");
  print(\"  -c <input>\\tCompile input file\");
  print(\"  -o <output>\\tOutput file\");
  print(\"  -t <target>\\tTarget language (default: lua)\");
  print(\"  -e <expr>\\tExpression to evaluate\");
  return(system.exit());
};
var main = function () {
  var arg = hd(system.argv);
  if (arg === \"-h\" || arg === \"--help\") {
    usage();
  }
  var pre = [];
  var input = undefined;
  var output = undefined;
  var target1 = undefined;
  var expr = undefined;
  var argv = system.argv;
  var n = _35(argv);
  var i = 0;
  while (i < n) {
    var a = argv[i];
    if (a === \"-c\" || a === \"-o\" || a === \"-t\" || a === \"-e\") {
      if (i === n - 1) {
        print(\"missing argument for \" + a);
      } else {
        i = i + 1;
        var val = argv[i];
        if (a === \"-c\") {
          input = val;
        } else {
          if (a === \"-o\") {
            output = val;
          } else {
            if (a === \"-t\") {
              target1 = val;
            } else {
              if (a === \"-e\") {
                expr = val;
              }
            }
          }
        }
      }
    } else {
      if (!( \"-\" === char(a, 0))) {
        add(pre, a);
      }
    }
    i = i + 1;
  }
  var _x2 = pre;
  var _n = _35(_x2);
  var _i = 0;
  while (_i < _n) {
    var file = _x2[_i];
    run_file(file);
    _i = _i + 1;
  }
  if (nil63(input)) {
    if (expr) {
      return(rep(expr));
    } else {
      return(repl());
    }
  } else {
    if (target1) {
      target = target1;
    }
    var code = compile_file(input);
    if (nil63(output) || output === \"-\") {
      return(print(code));
    } else {
      return(system[\"write-file\"](output, code));
    }
  }
};
main();
});

pkg(\"reader\", function () {
var delimiters = {\"(\": true, \")\": true, \";\": true, \"\\n\": true, \"}\": true, \"]\": true, \"{\": true, \"[\": true};
var whitespace = {\" \": true, \"\\n\": true, \"\\t\": true};
var stream = function (str, more) {
  return({more: more, pos: 0, len: _35(str), string: str});
};
var peek_char = function (s, count, offset) {
  var _id = s;
  var pos = _id.pos;
  var len = _id.len;
  var string = _id.string;
  var from = pos + (offset || 0);
  var n = count || 1;
  if (from <= len - n) {
    if (n === 1) {
      return(char(string, from));
    } else {
      return(clip(string, from, from + n));
    }
  }
};
var read_char = function (s, count, offset) {
  var c = peek_char(s, count, offset);
  if (c) {
    s.pos = s.pos + _35(c);
    return(c);
  }
};
var skip_non_code = function (s) {
  while (true) {
    var c = peek_char(s);
    if (nil63(c)) {
      break;
    } else {
      if (whitespace[c]) {
        read_char(s);
      } else {
        if (c === \";\") {
          while (c && !( c === \"\\n\")) {
            c = read_char(s);
          }
          skip_non_code(s);
        } else {
          break;
        }
      }
    }
  }
};
var read_table = {};
var eof = {};
var read = function (s) {
  skip_non_code(s);
  var c = peek_char(s);
  if (is63(c)) {
    return((read_table[c] || read_table[\"\"])(s));
  } else {
    return(eof);
  }
};
var read_all = function (s) {
  var l = [];
  while (true) {
    var form = read(s);
    if (form === eof) {
      break;
    }
    add(l, form);
  }
  return(l);
};
var read_string = function (str, more) {
  var x = read(stream(str, more));
  if (!( x === eof)) {
    return(x);
  }
};
var key63 = function (atom) {
  return(string63(atom) && _35(atom) > 1 && char(atom, edge(atom)) === \":\");
};
var flag63 = function (atom) {
  return(string63(atom) && _35(atom) > 1 && char(atom, 0) === \":\");
};
var expected = function (s, c) {
  var _id1 = s;
  var more = _id1.more;
  var pos = _id1.pos;
  var _id2 = more;
  var _e;
  if (_id2) {
    _e = _id2;
  } else {
    throw new Error(\"Expected \" + c + \" at \" + pos);
    _e = undefined;
  }
  return(_e);
};
var wrap = function (s, x) {
  var y = read(s);
  if (y === s.more) {
    return(y);
  } else {
    return([x, y]);
  }
};
read_table[\"\"] = function (s) {
  var str = \"\";
  while (true) {
    var c = peek_char(s);
    if (c && (! whitespace[c] && ! delimiters[c])) {
      str = str + read_char(s);
    } else {
      break;
    }
  }
  if (str === \"true\") {
    return(true);
  } else {
    if (str === \"false\") {
      return(false);
    } else {
      if (str === \"nan\") {
        return(nan);
      } else {
        if (str === \"-nan\") {
          return(nan);
        } else {
          if (str === \"inf\") {
            return(inf);
          } else {
            if (str === \"-inf\") {
              return(-inf);
            } else {
              var n = number(str);
              if (nil63(n) || nan63(n) || inf63(n)) {
                return(str);
              } else {
                return(n);
              }
            }
          }
        }
      }
    }
  }
};
read_table[\"(\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \")\") {
      read_char(s);
      r = l;
    } else {
      if (nil63(c)) {
        r = expected(s, \")\");
      } else {
        var x = read(s);
        if (key63(x)) {
          var k = clip(x, 0, edge(x));
          var v = read(s);
          l[k] = v;
        } else {
          if (flag63(x)) {
            l[clip(x, 1)] = true;
          } else {
            add(l, x);
          }
        }
      }
    }
  }
  return(r);
};
read_table[\")\"] = function (s) {
  throw new Error(\"Unexpected ) at \" + s.pos);
};
read_table[\"[\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \"]\") {
      read_char(s);
      r = [\"fn\", [\"_\"], l];
    } else {
      if (nil63(c)) {
        r = expected(s, \"]\");
      } else {
        var x = read(s);
        add(l, x);
      }
    }
  }
  return(r);
};
read_table[\"]\"] = function (s) {
  throw new Error(\"Unexpected ] at \" + s.pos);
};
read_table[\"{\"] = function (s) {
  read_char(s);
  var r = undefined;
  var l = [];
  while (nil63(r)) {
    skip_non_code(s);
    var c = peek_char(s);
    if (c === \"}\") {
      read_char(s);
      r = join([\"curly\"], l);
    } else {
      if (nil63(c)) {
        r = expected(s, \"}\");
      } else {
        var x = read(s);
        add(l, x);
      }
    }
  }
  return(r);
};
read_table[\"}\"] = function (s) {
  throw new Error(\"Unexpected } at \" + s.pos);
};
read_table[\"\\\"\\\"\\\"\"] = function (s) {
  read_char(s, 3);
  var r = undefined;
  var str = \"\\\"\";
  while (nil63(r)) {
    var c = peek_char(s, 3);
    if (c === \"\\\"\\\"\\\"\") {
      read_char(s, 3);
      r = str + \"\\\"\";
    } else {
      if (nil63(c)) {
        r = expected(s, \"\\\"\\\"\\\"\");
      } else {
        var x = read_char(s);
        var _e1;
        if (x === \"\\\"\" || x === \"\\\\\") {
          _e1 = \"\\\\\" + x;
        } else {
          _e1 = x;
        }
        str = str + _e1;
      }
    }
  }
  return(r);
};
read_table[\"\\\"\"] = function (s) {
  if (peek_char(s, 3) === \"\\\"\\\"\\\"\") {
    return(read_table[\"\\\"\\\"\\\"\"](s));
  }
  read_char(s);
  var r = undefined;
  var str = \"\\\"\";
  while (nil63(r)) {
    var c = peek_char(s);
    if (c === \"\\\"\") {
      r = str + read_char(s);
    } else {
      if (nil63(c)) {
        r = expected(s, \"\\\"\");
      } else {
        if (c === \"\\\\\") {
          str = str + read_char(s);
        }
        str = str + read_char(s);
      }
    }
  }
  return(r);
};
read_table[\"|\"] = function (s) {
  read_char(s);
  var r = undefined;
  var str = \"|\";
  while (nil63(r)) {
    var c = peek_char(s);
    if (c === \"|\") {
      r = str + read_char(s);
    } else {
      if (nil63(c)) {
        r = expected(s, \"|\");
      } else {
        str = str + read_char(s);
      }
    }
  }
  return(r);
};
read_table[\"'\"] = function (s) {
  read_char(s);
  return(wrap(s, \"quote\"));
};
read_table[\"`\"] = function (s) {
  read_char(s);
  return(wrap(s, \"quasiquote\"));
};
read_table[\",\"] = function (s) {
  read_char(s);
  if (peek_char(s) === \"@\") {
    read_char(s);
    return(wrap(s, \"unquote-splicing\"));
  } else {
    return(wrap(s, \"unquote\"));
  }
};
exports.stream = stream;
exports.read = read;
exports[\"read-all\"] = read_all;
exports[\"read-string\"] = read_string;
exports[\"read-table\"] = read_table;
});

pkg(\"runtime\", function () {
environment = [{}];
target = \"js\";
nil63 = function (x) {
  return(x === undefined || x === null);
};
is63 = function (x) {
  return(! nil63(x));
};
_35 = function (x) {
  return(x.length || 0);
};
none63 = function (x) {
  return(_35(x) === 0);
};
some63 = function (x) {
  return(_35(x) > 0);
};
one63 = function (x) {
  return(_35(x) === 1);
};
two63 = function (x) {
  return(_35(x) === 2);
};
hd = function (l) {
  return(l[0]);
};
type = function (x) {
  return(typeof(x));
};
string63 = function (x) {
  return(type(x) === \"string\");
};
number63 = function (x) {
  return(type(x) === \"number\");
};
boolean63 = function (x) {
  return(type(x) === \"boolean\");
};
function63 = function (x) {
  return(type(x) === \"function\");
};
obj63 = function (x) {
  return(is63(x) && type(x) === \"object\");
};
atom63 = function (x) {
  return(nil63(x) || string63(x) || number63(x) || boolean63(x));
};
nan = 0 / 0;
inf = 1 / 0;
nan63 = function (n) {
  return(!( n === n));
};
inf63 = function (n) {
  return(n === inf || n === -inf);
};
clip = function (s, from, upto) {
  return(s.substring(from, upto));
};
cut = function (x, from, upto) {
  var l = [];
  var j = 0;
  var _e;
  if (nil63(from) || from < 0) {
    _e = 0;
  } else {
    _e = from;
  }
  var i = _e;
  var n = _35(x);
  var _e1;
  if (nil63(upto) || upto > n) {
    _e1 = n;
  } else {
    _e1 = upto;
  }
  var _upto = _e1;
  while (i < _upto) {
    l[j] = x[i];
    i = i + 1;
    j = j + 1;
  }
  var _o = x;
  var k = undefined;
  for (k in _o) {
    var v = _o[k];
    var _e2;
    if (numeric63(k)) {
      _e2 = parseInt(k);
    } else {
      _e2 = k;
    }
    var _k = _e2;
    if (! number63(_k)) {
      l[_k] = v;
    }
  }
  return(l);
};
keys = function (x) {
  var t = [];
  var _o1 = x;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e3;
    if (numeric63(k)) {
      _e3 = parseInt(k);
    } else {
      _e3 = k;
    }
    var _k1 = _e3;
    if (! number63(_k1)) {
      t[_k1] = v;
    }
  }
  return(t);
};
edge = function (x) {
  return(_35(x) - 1);
};
inner = function (x) {
  return(clip(x, 1, edge(x)));
};
tl = function (l) {
  return(cut(l, 1));
};
char = function (s, n) {
  return(s.charAt(n));
};
code = function (s, n) {
  return(s.charCodeAt(n));
};
string_literal63 = function (x) {
  return(string63(x) && char(x, 0) === \"\\\"\");
};
id_literal63 = function (x) {
  return(string63(x) && char(x, 0) === \"|\");
};
add = function (l, x) {
  l.push(x);
  return(undefined);
};
drop = function (l) {
  return(l.pop());
};
last = function (l) {
  return(l[edge(l)]);
};
almost = function (l) {
  return(cut(l, 0, edge(l)));
};
reverse = function (l) {
  var l1 = keys(l);
  var i = edge(l);
  while (i >= 0) {
    add(l1, l[i]);
    i = i - 1;
  }
  return(l1);
};
reduce = function (f, x) {
  if (none63(x)) {
    return(x);
  } else {
    if (one63(x)) {
      return(hd(x));
    } else {
      return(f(hd(x), reduce(f, tl(x))));
    }
  }
};
join = function () {
  var ls = unstash(Array.prototype.slice.call(arguments, 0));
  if (two63(ls)) {
    var _id = ls;
    var a = _id[0];
    var b = _id[1];
    if (a && b) {
      var c = [];
      var o = _35(a);
      var _o2 = a;
      var k = undefined;
      for (k in _o2) {
        var v = _o2[k];
        var _e4;
        if (numeric63(k)) {
          _e4 = parseInt(k);
        } else {
          _e4 = k;
        }
        var _k2 = _e4;
        c[_k2] = v;
      }
      var _o3 = b;
      var k = undefined;
      for (k in _o3) {
        var v = _o3[k];
        var _e5;
        if (numeric63(k)) {
          _e5 = parseInt(k);
        } else {
          _e5 = k;
        }
        var _k3 = _e5;
        if (number63(_k3)) {
          _k3 = _k3 + o;
        }
        c[_k3] = v;
      }
      return(c);
    } else {
      return(a || b || []);
    }
  } else {
    return(reduce(join, ls));
  }
};
find = function (f, t) {
  var _o4 = t;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var x = _o4[_i4];
    var _e6;
    if (numeric63(_i4)) {
      _e6 = parseInt(_i4);
    } else {
      _e6 = _i4;
    }
    var __i4 = _e6;
    var y = f(x);
    if (y) {
      return(y);
    }
  }
};
first = function (f, l) {
  var _x1 = l;
  var _n5 = _35(_x1);
  var _i5 = 0;
  while (_i5 < _n5) {
    var x = _x1[_i5];
    var y = f(x);
    if (y) {
      return(y);
    }
    _i5 = _i5 + 1;
  }
};
in63 = function (x, t) {
  return(find(function (y) {
    return(x === y);
  }, t));
};
pair = function (l) {
  var l1 = [];
  var i = 0;
  while (i < _35(l)) {
    add(l1, [l[i], l[i + 1]]);
    i = i + 1;
    i = i + 1;
  }
  return(l1);
};
sort = function (l, f) {
  var _e7;
  if (f) {
    _e7 = function (a, b) {
      if (f(a, b)) {
        return(-1);
      } else {
        return(1);
      }
    };
  }
  return(l.sort(_e7));
};
map = function (f, x) {
  var t = [];
  var _x3 = x;
  var _n6 = _35(_x3);
  var _i6 = 0;
  while (_i6 < _n6) {
    var v = _x3[_i6];
    var y = f(v);
    if (is63(y)) {
      add(t, y);
    }
    _i6 = _i6 + 1;
  }
  var _o5 = x;
  var k = undefined;
  for (k in _o5) {
    var v = _o5[k];
    var _e8;
    if (numeric63(k)) {
      _e8 = parseInt(k);
    } else {
      _e8 = k;
    }
    var _k4 = _e8;
    if (! number63(_k4)) {
      var y = f(v);
      if (is63(y)) {
        t[_k4] = y;
      }
    }
  }
  return(t);
};
keep = function (f, x) {
  return(map(function (v) {
    if (f(v)) {
      return(v);
    }
  }, x));
};
keys63 = function (t) {
  var _o6 = t;
  var k = undefined;
  for (k in _o6) {
    var v = _o6[k];
    var _e9;
    if (numeric63(k)) {
      _e9 = parseInt(k);
    } else {
      _e9 = k;
    }
    var _k5 = _e9;
    if (! number63(_k5)) {
      return(true);
    }
  }
  return(false);
};
empty63 = function (t) {
  var _o7 = t;
  var _i9 = undefined;
  for (_i9 in _o7) {
    var x = _o7[_i9];
    var _e10;
    if (numeric63(_i9)) {
      _e10 = parseInt(_i9);
    } else {
      _e10 = _i9;
    }
    var __i9 = _e10;
    return(false);
  }
  return(true);
};
stash = function (args) {
  if (keys63(args)) {
    var p = [];
    var _o8 = args;
    var k = undefined;
    for (k in _o8) {
      var v = _o8[k];
      var _e11;
      if (numeric63(k)) {
        _e11 = parseInt(k);
      } else {
        _e11 = k;
      }
      var _k6 = _e11;
      if (! number63(_k6)) {
        p[_k6] = v;
      }
    }
    p._stash = true;
    add(args, p);
  }
  return(args);
};
unstash = function (args) {
  if (none63(args)) {
    return([]);
  } else {
    var l = last(args);
    if (! atom63(l) && l._stash) {
      var args1 = almost(args);
      var _o9 = l;
      var k = undefined;
      for (k in _o9) {
        var v = _o9[k];
        var _e12;
        if (numeric63(k)) {
          _e12 = parseInt(k);
        } else {
          _e12 = k;
        }
        var _k7 = _e12;
        if (!( _k7 === \"_stash\")) {
          args1[_k7] = v;
        }
      }
      return(args1);
    } else {
      return(args);
    }
  }
};
search = function (s, pattern, start) {
  var i = s.indexOf(pattern, start);
  if (i >= 0) {
    return(i);
  }
};
split = function (s, sep) {
  if (s === \"\" || sep === \"\") {
    return([]);
  } else {
    var l = [];
    var n = _35(sep);
    while (true) {
      var i = search(s, sep);
      if (nil63(i)) {
        break;
      } else {
        add(l, clip(s, 0, i));
        s = clip(s, i + n);
      }
    }
    add(l, s);
    return(l);
  }
};
cat = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  if (none63(xs)) {
    return(\"\");
  } else {
    return(reduce(function (a, b) {
      return(a + b);
    }, xs));
  }
};
_43 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (a, b) {
    return(a + b);
  }, xs));
};
_ = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a - b);
  }, reverse(xs)));
};
_42 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (a, b) {
    return(a * b);
  }, xs));
};
_47 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a / b);
  }, reverse(xs)));
};
_37 = function () {
  var xs = unstash(Array.prototype.slice.call(arguments, 0));
  return(reduce(function (b, a) {
    return(a % b);
  }, reverse(xs)));
};
_62 = function (a, b) {
  return(a > b);
};
_60 = function (a, b) {
  return(a < b);
};
_61 = function (a, b) {
  return(a === b);
};
_6261 = function (a, b) {
  return(a >= b);
};
_6061 = function (a, b) {
  return(a <= b);
};
number = function (s) {
  var n = parseFloat(s);
  if (! isNaN(n)) {
    return(n);
  }
};
number_code63 = function (n) {
  return(n > 47 && n < 58);
};
numeric63 = function (s) {
  var n = _35(s);
  var i = 0;
  while (i < n) {
    if (! number_code63(code(s, i))) {
      return(false);
    }
    i = i + 1;
  }
  return(true);
};
var tostring = function (x) {
  return(x[\"toString\"]());
};
escape = function (s) {
  var s1 = \"\\\"\";
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    var _e13;
    if (c === \"\\n\") {
      _e13 = \"\\\\n\";
    } else {
      var _e14;
      if (c === \"\\\"\") {
        _e14 = \"\\\\\\\"\";
      } else {
        var _e15;
        if (c === \"\\\\\") {
          _e15 = \"\\\\\\\\\";
        } else {
          _e15 = c;
        }
        _e14 = _e15;
      }
      _e13 = _e14;
    }
    var c1 = _e13;
    s1 = s1 + c1;
    i = i + 1;
  }
  return(s1 + \"\\\"\");
};
now = function() {
  return Date.now();
}
ms_since = function(t) {
  return now() - t;
}
string = function (x, depth, start) {
  if (depth > 7) {
    return(\"circular\");
  }
  if (nil63(x)) {
    return(\"nil\");
  } else {
    if (nan63(x)) {
      return(\"nan\");
    } else {
      if (x === inf) {
        return(\"inf\");
      } else {
        if (x === -inf) {
          return(\"-inf\");
        } else {
          if (boolean63(x)) {
            if (x) {
              return(\"true\");
            } else {
              return(\"false\");
            }
          } else {
            start = start || Date.now();
            // if (ms_since(start) > 100) { return(\"...\"); }
            if (string63(x)) {
              return(escape(x));
            } else {
              if (atom63(x)) {
                return(tostring(x));
              } else {
                if (function63(x)) {
                  return(\"fn\");
                } else {
                  if (! obj63(x)) {
                    return(\"|\" + type(x) + \"|\");
                  } else {
                    var s = \"(\";
                    var sp = \"\";
                    var xs = [];
                    var ks = [];
                    var d = (depth || 0) + 1;
                    var _o10 = x;
                    var k = undefined;
                    var i = 0;
                    for (k in _o10) {
                      i++;
                      // if (i>9) { break;}
                      if (i % 10 == 0) {
                        if (ms_since(start) > 100) { break; }
                      }
                      var v = _o10[k];
                      var _e16;
                      if (numeric63(k)) {
                        _e16 = parseInt(k);
                      } else {
                        _e16 = k;
                      }
                      var _k8 = _e16;
                      if (number63(_k8)) {
                        xs[_k8] = string(v, d, start);
                      } else {
                        add(ks, _k8 + \":\");
                        add(ks, string(v, d, start));
                      }
                    }
                    var _o11 = join(xs, ks);
                    var _i13 = undefined;
                    var i = 0;
                    for (_i13 in _o11) {
                      i++;
                      // if (i>9) { break;}
                      if (i % 10 == 0) {
                        if (ms_since(start) > 100) { break; }
                      }
                      var v = _o11[_i13];
                      var _e17;
                      if (numeric63(_i13)) {
                        _e17 = parseInt(_i13);
                      } else {
                        _e17 = _i13;
                      }
                      var __i13 = _e17;
                      s = s + sp + v;
                      sp = \" \";
                    }
                    return(s + \")\");
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
apply = function (f, args) {
  var _args = stash(args);
  return(f.apply(f, _args));
};
call = function (f) {
  return(f());
};
toplevel63 = function () {
  return(one63(environment));
};
setenv = function (k) {
  var _r69 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id1 = _r69;
  var _keys = cut(_id1, 0);
  if (string63(k)) {
    var _e18;
    if (_keys.toplevel) {
      _e18 = hd(environment);
    } else {
      _e18 = last(environment);
    }
    var frame = _e18;
    var entry = frame[k] || {};
    var _o12 = _keys;
    var _k9 = undefined;
    for (_k9 in _o12) {
      var v = _o12[_k9];
      var _e19;
      if (numeric63(_k9)) {
        _e19 = parseInt(_k9);
      } else {
        _e19 = _k9;
      }
      var _k10 = _e19;
      entry[_k10] = v;
    }
    frame[k] = entry;
    return(frame[k]);
  }
};
print = function (x) {
  return(console.log(x));
};
var math = Math;
abs = math.abs;
acos = math.acos;
asin = math.asin;
atan = math.atan;
atan2 = math.atan2;
ceil = math.ceil;
cos = math.cos;
floor = math.floor;
log = math.log;
log10 = math.log10;
max = math.max;
min = math.min;
pow = math.pow;
random = math.random;
sin = math.sin;
sinh = math.sinh;
sqrt = math.sqrt;
tan = math.tan;
tanh = math.tanh;
});

pkg(\"system\", function () {
var fs = require(\"fs\");
var read_file = function (path) {
  return(fs.readFileSync(path, \"utf8\"));
};
var write_file = function (path, data) {
  return(fs.writeFileSync(path, data, \"utf8\"));
};
var file_exists63 = function (path) {
  return(fs.existsSync(path, \"utf8\"));
};
var path_separator = require(\"path\").sep;
var path_join = function () {
  var parts = unstash(Array.prototype.slice.call(arguments, 0));
  if (none63(parts)) {
    return(\"\");
  } else {
    return(reduce(function (x, y) {
      return(x + path_separator + y);
    }, parts));
  }
};
var get_environment_variable = function (name) {
  return(process.env[name]);
};
var write = function (x) {
  var out = process.stdout;
  return(out.write(x));
};
var exit = function (code) {
  return(process.exit(code));
};
var argv = cut(process.argv, 2);
exports[\"read-file\"] = read_file;
exports[\"write-file\"] = write_file;
exports[\"file-exists?\"] = file_exists63;
exports[\"path-separator\"] = path_separator;
exports[\"path-join\"] = path_join;
exports[\"get-environment-variable\"] = get_environment_variable;
exports.write = write;
exports.exit = exit;
exports.argv = argv;
});

pkg(\"test\", function () {
var passed = 0;
var failed = 0;
var tests = [];
var reader = require(\"reader\");
var compiler = require(\"compiler\");
setenv(\"test\", {_stash: true, macro: function (x, msg) {
  return([\"if\", [\"not\", x], [\"do\", [\"set\", \"failed\", [\"+\", \"failed\", 1]], [\"return\", msg]], [\"inc\", \"passed\"]]);
}});
var equal63 = function (a, b) {
  if (atom63(a)) {
    return(a === b);
  } else {
    return(string(a) === string(b));
  }
};
setenv(\"test=\", {_stash: true, macro: function (a, b) {
  return([\"test\", [\"equal?\", a, b], [\"cat\", \"\\\"failed: expected \\\"\", [\"string\", a], \"\\\", was \\\"\", [\"string\", b]]]);
}});
setenv(\"define-test\", {_stash: true, macro: function (name) {
  var _r6 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id1 = _r6;
  var body = cut(_id1, 0);
  return([\"add\", \"tests\", [\"list\", [\"quote\", name], join([\"fn\", join()], body)]]);
}});
run = function () {
  var _o = tests;
  var _i = undefined;
  for (_i in _o) {
    var _id2 = _o[_i];
    var name = _id2[0];
    var f = _id2[1];
    var _e;
    if (numeric63(_i)) {
      _e = parseInt(_i);
    } else {
      _e = _i;
    }
    var __i = _e;
    var result = f();
    if (string63(result)) {
      print(\" \" + name + \" \" + result);
    }
  }
  return(print(\" \" + passed + \" passed, \" + failed + \" failed\"));
};
add(tests, [\"reader\", function () {
  var read = reader[\"read-string\"];
  if (! equal63(undefined, read(\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(read(\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"nil\", read(\"nil\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"nil\") + \", was \" + string(read(\"nil\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, read(\"17\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(read(\"17\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0.015, read(\"1.5e-2\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0.015) + \", was \" + string(read(\"1.5e-2\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, read(\"true\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(read(\"true\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(! true, read(\"false\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(! true) + \", was \" + string(read(\"false\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"hi\", read(\"hi\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"hi\") + \", was \" + string(read(\"hi\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"hi\\\"\", read(\"\\\"hi\\\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"hi\\\"\") + \", was \" + string(read(\"\\\"hi\\\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"|hi|\", read(\"|hi|\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"|hi|\") + \", was \" + string(read(\"|hi|\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2], read(\"(1 2)\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2]) + \", was \" + string(read(\"(1 2)\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, [\"a\"]], read(\"(1 (a))\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, [\"a\"]]) + \", was \" + string(read(\"(1 (a))\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"a\"], read(\"'a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"a\"]) + \", was \" + string(read(\"'a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", \"a\"], read(\"`a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", \"a\"]) + \", was \" + string(read(\"`a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", \"a\"]], read(\"`,a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", \"a\"]]) + \", was \" + string(read(\"`,a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote-splicing\", \"a\"]], read(\"`,@a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote-splicing\", \"a\"]]) + \", was \" + string(read(\"`,@a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _35(read(\"(1 2 a: 7)\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35(read(\"(1 2 a: 7)\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, read(\"(1 2 a: 7)\").a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(read(\"(1 2 a: 7)\").a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, read(\"(:a)\").a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(read(\"(:a)\").a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, - -1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(- -1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(read(\"nan\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(read(\"nan\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(read(\"-nan\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(read(\"-nan\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, inf63(read(\"inf\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(inf63(read(\"inf\"))));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, inf63(read(\"-inf\")))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(inf63(read(\"-inf\"))));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"read-more\", function () {
  var read = reader[\"read-string\"];
  if (! equal63(17, read(\"17\", true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(read(\"17\", true)));
  } else {
    passed = passed + 1;
  }
  var more = [];
  if (! equal63(more, read(\"(open\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"(open\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"\\\"unterminated \", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"\\\"unterminated \", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"|identifier\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"|identifier\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"'(a b c\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"'(a b c\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`(a b c\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`(a b c\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`(a b ,(z\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`(a b ,(z\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"`\\\"biz\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"`\\\"biz\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(more, read(\"'\\\"boz\", more))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(more) + \", was \" + string(read(\"'\\\"boz\", more)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"Expected ) at 5\"], (function () {
    try {
      return([true, read(\"(open\")]);
    }
    catch (_e60) {
      return([false, _e60.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"Expected ) at 5\"]) + \", was \" + string((function () {
      try {
        return([true, read(\"(open\")]);
      }
      catch (_e61) {
        return([false, _e61.message]);
      }
    })()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"boolean\", function () {
  if (! equal63(true, true || false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true || false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false || false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false || false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, false || false || true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(false || false || true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, ! false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(! false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, !( false && true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(!( false && true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, !( false || true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(!( false || true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, true && true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true && true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, true && false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(true && false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, true && true && false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(true && true && false));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"short\", function () {
  var _id45 = true;
  var _e1;
  if (_id45) {
    _e1 = _id45;
  } else {
    throw new Error(\"bad\");
    _e1 = undefined;
  }
  if (! equal63(true, _e1)) {
    failed = failed + 1;
    var _id46 = true;
    var _e2;
    if (_id46) {
      _e2 = _id46;
    } else {
      throw new Error(\"bad\");
      _e2 = undefined;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e2));
  } else {
    passed = passed + 1;
  }
  var _id47 = false;
  var _e3;
  if (_id47) {
    throw new Error(\"bad\");
    _e3 = undefined;
  } else {
    _e3 = _id47;
  }
  if (! equal63(false, _e3)) {
    failed = failed + 1;
    var _id48 = false;
    var _e4;
    if (_id48) {
      throw new Error(\"bad\");
      _e4 = undefined;
    } else {
      _e4 = _id48;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e4));
  } else {
    passed = passed + 1;
  }
  var a = true;
  var _id49 = true;
  var _e5;
  if (_id49) {
    _e5 = _id49;
  } else {
    a = false;
    _e5 = false;
  }
  if (! equal63(true, _e5)) {
    failed = failed + 1;
    var _id50 = true;
    var _e6;
    if (_id50) {
      _e6 = _id50;
    } else {
      a = false;
      _e6 = false;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e6));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _id51 = false;
  var _e7;
  if (_id51) {
    a = false;
    _e7 = true;
  } else {
    _e7 = _id51;
  }
  if (! equal63(false, _e7)) {
    failed = failed + 1;
    var _id52 = false;
    var _e8;
    if (_id52) {
      a = false;
      _e8 = true;
    } else {
      _e8 = _id52;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e8));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var b = true;
  b = false;
  var _id53 = false;
  var _e9;
  if (_id53) {
    _e9 = _id53;
  } else {
    b = true;
    _e9 = b;
  }
  if (! equal63(true, _e9)) {
    failed = failed + 1;
    b = false;
    var _id54 = false;
    var _e10;
    if (_id54) {
      _e10 = _id54;
    } else {
      b = true;
      _e10 = b;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = true;
  var _id55 = b;
  var _e11;
  if (_id55) {
    _e11 = _id55;
  } else {
    b = true;
    _e11 = b;
  }
  if (! equal63(true, _e11)) {
    failed = failed + 1;
    b = true;
    var _id56 = b;
    var _e12;
    if (_id56) {
      _e12 = _id56;
    } else {
      b = true;
      _e12 = b;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e12));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = false;
  var _id57 = true;
  var _e13;
  if (_id57) {
    b = true;
    _e13 = b;
  } else {
    _e13 = _id57;
  }
  if (! equal63(true, _e13)) {
    failed = failed + 1;
    b = false;
    var _id58 = true;
    var _e14;
    if (_id58) {
      b = true;
      _e14 = b;
    } else {
      _e14 = _id58;
    }
    return(\"failed: expected \" + string(true) + \", was \" + string(_e14));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  b = false;
  var _id59 = b;
  var _e15;
  if (_id59) {
    b = true;
    _e15 = b;
  } else {
    _e15 = _id59;
  }
  if (! equal63(false, _e15)) {
    failed = failed + 1;
    b = false;
    var _id60 = b;
    var _e16;
    if (_id60) {
      b = true;
      _e16 = b;
    } else {
      _e16 = _id60;
    }
    return(\"failed: expected \" + string(false) + \", was \" + string(_e16));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(b));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"numeric\", function () {
  if (! equal63(4, 2 + 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(2 + 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, 7 - 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(7 - 3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(5, 10 / 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(10 / 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, 2 * 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(2 * 3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2.01 > 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2.01 > 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 5 >= 5)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(5 >= 5));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2100 > 2000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2100 > 2000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 0.002 < 0.0021)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(0.002 < 0.0021));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, 2 < 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(2 < 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, 2 <= 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(2 <= 2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(-7, - 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-7) + \", was \" + string(- 7));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"math\", function () {
  if (! equal63(3, max(1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(max(1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, min(2, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(min(2, 7)));
  } else {
    passed = passed + 1;
  }
  var n = random();
  if (! equal63(true, n > 0 && n < 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(n > 0 && n < 1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, floor(4.78))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(floor(4.78)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"precedence\", function () {
  if (! equal63(-3, -( 1 + 2))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-3) + \", was \" + string(-( 1 + 2)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, 12 - (1 + 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(12 - (1 + 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(11, 12 - 1 * 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(11) + \", was \" + string(12 - 1 * 1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, 4 / 2 + 8)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(4 / 2 + 8));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"standalone\", function () {
  if (! equal63(10, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  var x = undefined;
  x = 10;
  if (! equal63(9, 9)) {
    failed = failed + 1;
    x = 10;
    return(\"failed: expected \" + string(9) + \", was \" + string(9));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, 12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(12));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"string\", function () {
  if (! equal63(3, _35(\"foo\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"foo\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"\\\"a\\\"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"\\\"a\\\"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", char(\"bar\", 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(char(\"bar\", 1)));
  } else {
    passed = passed + 1;
  }
  var s = \"a\\nb\";
  if (! equal63(3, _35(s))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(s)));
  } else {
    passed = passed + 1;
  }
  var _s = \"a\\nb\\nc\";
  if (! equal63(5, _35(_s))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(_35(_s)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"a\\nb\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"a\\nb\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _35(\"a\\\\b\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_35(\"a\\\\b\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quote\", function () {
  if (! equal63(7, 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(7));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"a\"], [\"quote\", \"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"a\"]) + \", was \" + string([\"quote\", \"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"a\\\"\", \"\\\"a\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"a\\\"\") + \", was \" + string(\"\\\"a\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"\\\\n\\\"\", \"\\\"\\\\n\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"\\\\n\\\"\") + \", was \" + string(\"\\\"\\\\n\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"\\\\\\\\\\\"\", \"\\\"\\\\\\\\\\\"\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"\\\\\\\\\\\"\") + \", was \" + string(\"\\\"\\\\\\\\\\\"\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quote\", \"\\\"a\\\"\"], [\"quote\", \"\\\"a\\\"\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"\\\"a\\\"\"]) + \", was \" + string([\"quote\", \"\\\"a\\\"\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"|(|\", \"|(|\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"|(|\") + \", was \" + string(\"|(|\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"unquote\", \"unquote\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"unquote\") + \", was \" + string(\"unquote\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"unquote\"], [\"unquote\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"unquote\"]) + \", was \" + string([\"unquote\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"unquote\", \"a\"], [\"unquote\", \"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"unquote\", \"a\"]) + \", was \" + string([\"unquote\", \"a\"]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"list\", function () {
  if (! equal63([], [])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string([]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], [])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string([]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], [\"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string([\"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], [\"a\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string([\"a\"]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[]], [[]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[]]) + \", was \" + string([[]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, _35([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(_35([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _35([1, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35([1, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], [1, 2, 3])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string([1, 2, 3]));
  } else {
    passed = passed + 1;
  }
  var _x113 = [];
  _x113.foo = 17;
  if (! equal63(17, _x113.foo)) {
    failed = failed + 1;
    var _x114 = [];
    _x114.foo = 17;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x114.foo));
  } else {
    passed = passed + 1;
  }
  var _x115 = [1];
  _x115.foo = 17;
  if (! equal63(17, _x115.foo)) {
    failed = failed + 1;
    var _x116 = [1];
    _x116.foo = 17;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x116.foo));
  } else {
    passed = passed + 1;
  }
  var _x117 = [];
  _x117.foo = true;
  if (! equal63(true, _x117.foo)) {
    failed = failed + 1;
    var _x118 = [];
    _x118.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x118.foo));
  } else {
    passed = passed + 1;
  }
  var _x119 = [];
  _x119.foo = true;
  if (! equal63(true, _x119.foo)) {
    failed = failed + 1;
    var _x120 = [];
    _x120.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x120.foo));
  } else {
    passed = passed + 1;
  }
  var _x122 = [];
  _x122.foo = true;
  if (! equal63(true, hd([_x122]).foo)) {
    failed = failed + 1;
    var _x124 = [];
    _x124.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x124]).foo));
  } else {
    passed = passed + 1;
  }
  var _x125 = [];
  _x125.a = true;
  var _x126 = [];
  _x126.a = true;
  if (! equal63(_x125, _x126)) {
    failed = failed + 1;
    var _x127 = [];
    _x127.a = true;
    var _x128 = [];
    _x128.a = true;
    return(\"failed: expected \" + string(_x127) + \", was \" + string(_x128));
  } else {
    passed = passed + 1;
  }
  var _x129 = [];
  _x129.b = false;
  var _x130 = [];
  _x130.b = false;
  if (! equal63(_x129, _x130)) {
    failed = failed + 1;
    var _x131 = [];
    _x131.b = false;
    var _x132 = [];
    _x132.b = false;
    return(\"failed: expected \" + string(_x131) + \", was \" + string(_x132));
  } else {
    passed = passed + 1;
  }
  var _x133 = [];
  _x133.c = 0;
  var _x134 = [];
  _x134.c = 0;
  if (! equal63(_x133, _x134)) {
    failed = failed + 1;
    var _x135 = [];
    _x135.c = 0;
    var _x136 = [];
    _x136.c = 0;
    return(\"failed: expected \" + string(_x135) + \", was \" + string(_x136));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quasiquote\", function () {
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, undefined)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(undefined));
  } else {
    passed = passed + 1;
  }
  var a = 42;
  if (! equal63(42, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", \"a\"]], [\"quasiquote\", [\"unquote\", \"a\"]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", \"a\"]]) + \", was \" + string([\"quasiquote\", [\"unquote\", \"a\"]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"unquote\", 42]], [\"quasiquote\", [\"unquote\", a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"unquote\", 42]]) + \", was \" + string([\"quasiquote\", [\"unquote\", a]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]], [\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]]) + \", was \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", \"a\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", 42]]]], [\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", 42]]]]) + \", was \" + string([\"quasiquote\", [\"quasiquote\", [\"unquote\", [\"unquote\", a]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]], [\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]]) + \", was \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", \"c\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", 42]]]], [\"a\", [\"quasiquote\", [\"b\", [\"unquote\", a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", 42]]]]) + \", was \" + string([\"a\", [\"quasiquote\", [\"b\", [\"unquote\", a]]]]));
  } else {
    passed = passed + 1;
  }
  var b = \"c\";
  if (! equal63([\"quote\", \"c\"], [\"quote\", b])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quote\", \"c\"]) + \", was \" + string([\"quote\", b]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([42], [a])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([42]) + \", was \" + string([a]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[42]], [[a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[42]]) + \", was \" + string([[a]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([41, [42]], [41, [a]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([41, [42]]) + \", was \" + string([41, [a]]));
  } else {
    passed = passed + 1;
  }
  var c = [1, 2, 3];
  if (! equal63([[1, 2, 3]], [c])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1, 2, 3]]) + \", was \" + string([c]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, 1, 2, 3], join([0], c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3]) + \", was \" + string(join([0], c)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, 1, 2, 3, 4], join([0], c, [4]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3, 4]) + \", was \" + string(join([0], c, [4])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([0, [1, 2, 3], 4], [0, c, 4])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, [1, 2, 3], 4]) + \", was \" + string([0, c, 4]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3, 1, 2, 3], join(c, c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3, 1, 2, 3]) + \", was \" + string(join(c, c)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[1, 2, 3], 1, 2, 3], join([c], c))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1, 2, 3], 1, 2, 3]) + \", was \" + string(join([c], c)));
  } else {
    passed = passed + 1;
  }
  var _a = 42;
  if (! equal63([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]], [\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]]) + \", was \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", \"a\"]]]]));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"quasiquote\", [[\"unquote-splicing\", [\"list\", 42]]]], [\"quasiquote\", [[\"unquote-splicing\", [\"list\", _a]]]])) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", 42]]]]) + \", was \" + string([\"quasiquote\", [[\"unquote-splicing\", [\"list\", _a]]]]));
  } else {
    passed = passed + 1;
  }
  var _x307 = [];
  _x307.foo = true;
  if (! equal63(true, _x307.foo)) {
    failed = failed + 1;
    var _x308 = [];
    _x308.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x308.foo));
  } else {
    passed = passed + 1;
  }
  var _a1 = 17;
  var b = [1, 2];
  var _c = {a: 10};
  var _x310 = [];
  _x310.a = 10;
  var d = _x310;
  var _x311 = [];
  _x311.foo = _a1;
  if (! equal63(17, _x311.foo)) {
    failed = failed + 1;
    var _x312 = [];
    _x312.foo = _a1;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x312.foo));
  } else {
    passed = passed + 1;
  }
  var _x313 = [];
  _x313.foo = _a1;
  if (! equal63(2, _35(join(_x313, b)))) {
    failed = failed + 1;
    var _x314 = [];
    _x314.foo = _a1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_35(join(_x314, b))));
  } else {
    passed = passed + 1;
  }
  var _x315 = [];
  _x315.foo = _a1;
  if (! equal63(17, _x315.foo)) {
    failed = failed + 1;
    var _x316 = [];
    _x316.foo = _a1;
    return(\"failed: expected \" + string(17) + \", was \" + string(_x316.foo));
  } else {
    passed = passed + 1;
  }
  var _x317 = [1];
  _x317.a = 10;
  if (! equal63(_x317, join([1], _c))) {
    failed = failed + 1;
    var _x319 = [1];
    _x319.a = 10;
    return(\"failed: expected \" + string(_x319) + \", was \" + string(join([1], _c)));
  } else {
    passed = passed + 1;
  }
  var _x321 = [1];
  _x321.a = 10;
  if (! equal63(_x321, join([1], d))) {
    failed = failed + 1;
    var _x323 = [1];
    _x323.a = 10;
    return(\"failed: expected \" + string(_x323) + \", was \" + string(join([1], d)));
  } else {
    passed = passed + 1;
  }
  var _x326 = [];
  _x326.foo = true;
  if (! equal63(true, hd([_x326]).foo)) {
    failed = failed + 1;
    var _x328 = [];
    _x328.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x328]).foo));
  } else {
    passed = passed + 1;
  }
  var _x330 = [];
  _x330.foo = true;
  if (! equal63(true, hd([_x330]).foo)) {
    failed = failed + 1;
    var _x332 = [];
    _x332.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(hd([_x332]).foo));
  } else {
    passed = passed + 1;
  }
  var _x333 = [];
  _x333.foo = true;
  if (! equal63(true, _x333.foo)) {
    failed = failed + 1;
    var _x334 = [];
    _x334.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(_x334.foo));
  } else {
    passed = passed + 1;
  }
  var _x336 = [];
  _x336.foo = true;
  if (! equal63(true, join([1, 2, 3], _x336).foo)) {
    failed = failed + 1;
    var _x338 = [];
    _x338.foo = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(join([1, 2, 3], _x338).foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, {foo: true}.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string({foo: true}.foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, {bar: 17}.bar)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string({bar: 17}.bar));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, {baz: function () {
    return(17);
  }}.baz())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string({baz: function () {
      return(17);
    }}.baz()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"quasiexpand\", function () {
  if (! equal63(\"a\", macroexpand(\"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(macroexpand(\"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([17], macroexpand([17]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([17]) + \", was \" + string(macroexpand([17])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, \"z\"], macroexpand([1, \"z\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, \"z\"]) + \", was \" + string(macroexpand([1, \"z\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", 1, \"\\\"z\\\"\"], macroexpand([\"quasiquote\", [1, \"z\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", 1, \"\\\"z\\\"\"]) + \", was \" + string(macroexpand([\"quasiquote\", [1, \"z\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", 1, \"z\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", 1, \"z\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"z\", macroexpand([\"quasiquote\", [[\"unquote-splicing\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"z\") + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote-splicing\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"x\", \"y\"], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"x\"], [\"unquote-splicing\", \"y\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"x\", \"y\"]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"x\"], [\"unquote-splicing\", \"y\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\", [\"%array\", 2]], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], [\"unquote\", 2]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\", [\"%array\", 2]]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], [\"unquote\", 2]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"join\", [\"%array\", 1], \"z\", [\"%array\", \"\\\"a\\\"\"]], macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], \"a\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"join\", [\"%array\", 1], \"z\", [\"%array\", \"\\\"a\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [[\"unquote\", 1], [\"unquote-splicing\", \"z\"], \"a\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\\\"x\\\"\", macroexpand([\"quasiquote\", \"x\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\\\"x\\\"\") + \", was \" + string(macroexpand([\"quasiquote\", \"x\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"], macroexpand([\"quasiquote\", [\"quasiquote\", \"x\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", \"x\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"quasiquote\", \"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"quasiquote\\\"\", \"\\\"x\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"quasiquote\", \"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"x\", macroexpand([\"quasiquote\", [\"unquote\", \"x\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"x\") + \", was \" + string(macroexpand([\"quasiquote\", [\"unquote\", \"x\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quote\\\"\", \"x\"], macroexpand([\"quasiquote\", [\"quote\", [\"unquote\", \"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quote\\\"\", \"x\"]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quote\", [\"unquote\", \"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"x\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"x\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"x\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"x\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"a\\\"\"]], macroexpand([\"quasiquote\", [\"quasiquote\", [\"unquote\", \"a\"]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"a\\\"\"]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [\"unquote\", \"a\"]]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"x\\\"\"]]], macroexpand([\"quasiquote\", [\"quasiquote\", [[\"unquote\", \"x\"]]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%array\", \"\\\"quasiquote\\\"\", [\"%array\", [\"%array\", \"\\\"unquote\\\"\", \"\\\"x\\\"\"]]]) + \", was \" + string(macroexpand([\"quasiquote\", [\"quasiquote\", [[\"unquote\", \"x\"]]]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"calls\", function () {
  var f = function () {
    return(42);
  };
  var l = [f];
  var t = {f: f};
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, l[0]())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(l[0]()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, t.f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(t.f()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, (function () {
    return;
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string((function () {
      return;
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, (function (x) {
    return(x - 2);
  })(12))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string((function (x) {
      return(x - 2);
    })(12)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"id\", function () {
  var a = 10;
  var b = {x: 20};
  var f = function () {
    return(30);
  };
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b.x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b.x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"names\", function () {
  var a33 = 0;
  var b63 = 1;
  var _37 = 2;
  var _4242 = 3;
  var _break = 4;
  if (! equal63(0, a33)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(a33));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, b63)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(b63));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _37)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_37));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, _4242)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(_4242));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, _break)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(_break));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"set\", function () {
  var a = 42;
  a = \"bar\";
  if (! equal63(\"bar\", a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 10;
  var x = a;
  if (! equal63(10, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = false;
  if (! equal63(false, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = undefined;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"wipe\", function () {
  var _x502 = [];
  _x502.a = true;
  _x502.b = true;
  _x502.c = true;
  var x = _x502;
  delete x.a;
  if (! equal63(undefined, x.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  delete x.c;
  if (! equal63(undefined, x.c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.c));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  delete x.b;
  if (! equal63(undefined, x.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(x.b));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(x));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"do\", function () {
  var a = 17;
  a = 10;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 2;
  var b = a + 5;
  if (! equal63(a, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(b, 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(7));
  } else {
    passed = passed + 1;
  }
  a = 10;
  a = 20;
  if (! equal63(20, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  a = 10;
  a = 20;
  if (! equal63(20, a)) {
    failed = failed + 1;
    a = 10;
    a = 20;
    return(\"failed: expected \" + string(20) + \", was \" + string(a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"if\", function () {
  if (! equal63(\"a\", macroexpand([\"if\", \"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(macroexpand([\"if\", \"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\"], macroexpand([\"if\", \"a\", \"b\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\"]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", \"c\"], macroexpand([\"if\", \"a\", \"b\", \"c\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", \"c\"]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\"]], macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\"]]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\", \"e\"]], macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\", \"e\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"%if\", \"a\", \"b\", [\"%if\", \"c\", \"d\", \"e\"]]) + \", was \" + string(macroexpand([\"if\", \"a\", \"b\", \"c\", \"d\", \"e\"])));
  } else {
    passed = passed + 1;
  }
  if (true) {
    if (! equal63(true, true)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(true));
    } else {
      passed = passed + 1;
    }
  } else {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (false) {
      if (! equal63(false, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(false) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (! equal63(true, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(true) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (false) {
      if (! equal63(false, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(false) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (false) {
        if (! equal63(false, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(false) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      } else {
        if (! equal63(true, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(true) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      }
    }
  }
  if (false) {
    if (! equal63(true, false)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(false));
    } else {
      passed = passed + 1;
    }
  } else {
    if (true) {
      if (! equal63(true, true)) {
        failed = failed + 1;
        return(\"failed: expected \" + string(true) + \", was \" + string(true));
      } else {
        passed = passed + 1;
      }
    } else {
      if (false) {
        if (! equal63(false, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(false) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      } else {
        if (! equal63(true, true)) {
          failed = failed + 1;
          return(\"failed: expected \" + string(true) + \", was \" + string(true));
        } else {
          passed = passed + 1;
        }
      }
    }
  }
  var _e17;
  if (true) {
    _e17 = 1;
  } else {
    _e17 = 2;
  }
  if (! equal63(1, _e17)) {
    failed = failed + 1;
    var _e18;
    if (true) {
      _e18 = 1;
    } else {
      _e18 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e18));
  } else {
    passed = passed + 1;
  }
  var _e19;
  var a = 10;
  if (a) {
    _e19 = 1;
  } else {
    _e19 = 2;
  }
  if (! equal63(1, _e19)) {
    failed = failed + 1;
    var _e20;
    var _a2 = 10;
    if (_a2) {
      _e20 = 1;
    } else {
      _e20 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e20));
  } else {
    passed = passed + 1;
  }
  var _e21;
  if (true) {
    var _a3 = 1;
    _e21 = _a3;
  } else {
    _e21 = 2;
  }
  if (! equal63(1, _e21)) {
    failed = failed + 1;
    var _e22;
    if (true) {
      var _a4 = 1;
      _e22 = _a4;
    } else {
      _e22 = 2;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e22));
  } else {
    passed = passed + 1;
  }
  var _e23;
  if (false) {
    _e23 = 2;
  } else {
    var _a5 = 1;
    _e23 = _a5;
  }
  if (! equal63(1, _e23)) {
    failed = failed + 1;
    var _e24;
    if (false) {
      _e24 = 2;
    } else {
      var _a6 = 1;
      _e24 = _a6;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e24));
  } else {
    passed = passed + 1;
  }
  var _e25;
  if (false) {
    _e25 = 2;
  } else {
    var _e26;
    if (true) {
      var _a7 = 1;
      _e26 = _a7;
    }
    _e25 = _e26;
  }
  if (! equal63(1, _e25)) {
    failed = failed + 1;
    var _e27;
    if (false) {
      _e27 = 2;
    } else {
      var _e28;
      if (true) {
        var _a8 = 1;
        _e28 = _a8;
      }
      _e27 = _e28;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e27));
  } else {
    passed = passed + 1;
  }
  var _e29;
  if (false) {
    _e29 = 2;
  } else {
    var _e30;
    if (false) {
      _e30 = 3;
    } else {
      var _a9 = 1;
      _e30 = _a9;
    }
    _e29 = _e30;
  }
  if (! equal63(1, _e29)) {
    failed = failed + 1;
    var _e31;
    if (false) {
      _e31 = 2;
    } else {
      var _e32;
      if (false) {
        _e32 = 3;
      } else {
        var _a10 = 1;
        _e32 = _a10;
      }
      _e31 = _e32;
    }
    return(\"failed: expected \" + string(1) + \", was \" + string(_e31));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"case\", function () {
  var x = 10;
  var _e33;
  if (9 === x) {
    _e33 = 9;
  } else {
    var _e34;
    if (10 === x) {
      _e34 = 2;
    } else {
      _e34 = 4;
    }
    _e33 = _e34;
  }
  if (! equal63(2, _e33)) {
    failed = failed + 1;
    var _e35;
    if (9 === x) {
      _e35 = 9;
    } else {
      var _e36;
      if (10 === x) {
        _e36 = 2;
      } else {
        _e36 = 4;
      }
      _e35 = _e36;
    }
    return(\"failed: expected \" + string(2) + \", was \" + string(_e35));
  } else {
    passed = passed + 1;
  }
  var _x528 = \"z\";
  var _e37;
  if (\"z\" === _x528) {
    _e37 = 9;
  } else {
    _e37 = 10;
  }
  if (! equal63(9, _e37)) {
    failed = failed + 1;
    var _e38;
    if (\"z\" === _x528) {
      _e38 = 9;
    } else {
      _e38 = 10;
    }
    return(\"failed: expected \" + string(9) + \", was \" + string(_e38));
  } else {
    passed = passed + 1;
  }
  var _e39;
  if (\"a\" === _x528) {
    _e39 = 1;
  } else {
    var _e40;
    if (\"b\" === _x528) {
      _e40 = 2;
    } else {
      _e40 = 7;
    }
    _e39 = _e40;
  }
  if (! equal63(7, _e39)) {
    failed = failed + 1;
    var _e41;
    if (\"a\" === _x528) {
      _e41 = 1;
    } else {
      var _e42;
      if (\"b\" === _x528) {
        _e42 = 2;
      } else {
        _e42 = 7;
      }
      _e41 = _e42;
    }
    return(\"failed: expected \" + string(7) + \", was \" + string(_e41));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"while\", function () {
  var i = 0;
  while (i < 5) {
    if (i === 3) {
      break;
    } else {
      i = i + 1;
    }
  }
  if (! equal63(3, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 10) {
    i = i + 1;
  }
  if (! equal63(10, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 15) {
    i = i + 1;
  }
  var a;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(15, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(15) + \", was \" + string(i));
  } else {
    passed = passed + 1;
  }
  while (i < 20) {
    if (i === 19) {
      break;
    } else {
      i = i + 1;
    }
  }
  var b;
  if (! equal63(undefined, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(19, i)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(19) + \", was \" + string(i));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"for\", function () {
  var l = [];
  var i = 0;
  while (i < 5) {
    add(l, i);
    i = i + 1;
  }
  if (! equal63([0, 1, 2, 3, 4], l)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([0, 1, 2, 3, 4]) + \", was \" + string(l));
  } else {
    passed = passed + 1;
  }
  var _l = [];
  var i = 0;
  while (i < 2) {
    add(_l, i);
    i = i + 1;
  }
  if (! equal63([0, 1], _l)) {
    failed = failed + 1;
    var _l1 = [];
    var i = 0;
    while (i < 2) {
      add(_l1, i);
      i = i + 1;
    }
    return(\"failed: expected \" + string([0, 1]) + \", was \" + string(_l1));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"table\", function () {
  if (! equal63(10, {a: 10}.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string({a: 10}.a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, {a: true}.a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string({a: true}.a));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"empty\", function () {
  if (! equal63(true, empty63([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(empty63([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, empty63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(empty63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, empty63([1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63([1])));
  } else {
    passed = passed + 1;
  }
  var _x539 = [];
  _x539.a = true;
  if (! equal63(false, empty63(_x539))) {
    failed = failed + 1;
    var _x540 = [];
    _x540.a = true;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63(_x540)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, empty63({a: true}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63({a: true})));
  } else {
    passed = passed + 1;
  }
  var _x541 = [];
  _x541.b = false;
  if (! equal63(false, empty63(_x541))) {
    failed = failed + 1;
    var _x542 = [];
    _x542.b = false;
    return(\"failed: expected \" + string(false) + \", was \" + string(empty63(_x542)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"at\", function () {
  var l = [\"a\", \"b\", \"c\", \"d\"];
  if (! equal63(\"a\", l[0])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(l[0]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", l[1])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(l[1]));
  } else {
    passed = passed + 1;
  }
  l[0] = 9;
  if (! equal63(9, l[0])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(9) + \", was \" + string(l[0]));
  } else {
    passed = passed + 1;
  }
  l[3] = 10;
  if (! equal63(10, l[3])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(l[3]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"get-set\", function () {
  var t = {};
  t.foo = \"bar\";
  if (! equal63(\"bar\", t.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t.foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"bar\", t.foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t.foo));
  } else {
    passed = passed + 1;
  }
  var k = \"foo\";
  if (! equal63(\"bar\", t[k])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t[k]));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"bar\", t[\"f\" + \"oo\"])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"bar\") + \", was \" + string(t[\"f\" + \"oo\"]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"each\", function () {
  var _x547 = [1, 2, 3];
  _x547.a = true;
  _x547.b = false;
  var t = _x547;
  var a = 0;
  var b = 0;
  var _o1 = t;
  var k = undefined;
  for (k in _o1) {
    var v = _o1[k];
    var _e43;
    if (numeric63(k)) {
      _e43 = parseInt(k);
    } else {
      _e43 = k;
    }
    var _k = _e43;
    if (number63(_k)) {
      a = a + 1;
    } else {
      b = b + 1;
    }
  }
  if (! equal63(3, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _a11 = 0;
  var _o2 = t;
  var _i2 = undefined;
  for (_i2 in _o2) {
    var x = _o2[_i2];
    var _e44;
    if (numeric63(_i2)) {
      _e44 = parseInt(_i2);
    } else {
      _e44 = _i2;
    }
    var __i2 = _e44;
    _a11 = _a11 + 1;
  }
  if (! equal63(5, _a11)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(_a11));
  } else {
    passed = passed + 1;
  }
  var _x548 = [[1], [2]];
  _x548.b = [3];
  var _t = _x548;
  var _o3 = _t;
  var _i3 = undefined;
  for (_i3 in _o3) {
    var x = _o3[_i3];
    var _e45;
    if (numeric63(_i3)) {
      _e45 = parseInt(_i3);
    } else {
      _e45 = _i3;
    }
    var __i3 = _e45;
    if (! equal63(false, atom63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(false) + \", was \" + string(atom63(x)));
    } else {
      passed = passed + 1;
    }
  }
  var _o4 = _t;
  var _i4 = undefined;
  for (_i4 in _o4) {
    var x = _o4[_i4];
    var _e46;
    if (numeric63(_i4)) {
      _e46 = parseInt(_i4);
    } else {
      _e46 = _i4;
    }
    var __i4 = _e46;
    if (! equal63(false, atom63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(false) + \", was \" + string(atom63(x)));
    } else {
      passed = passed + 1;
    }
  }
  var _o5 = _t;
  var _i5 = undefined;
  for (_i5 in _o5) {
    var _id3 = _o5[_i5];
    var x = _id3[0];
    var _e47;
    if (numeric63(_i5)) {
      _e47 = parseInt(_i5);
    } else {
      _e47 = _i5;
    }
    var __i5 = _e47;
    if (! equal63(true, number63(x))) {
      failed = failed + 1;
      return(\"failed: expected \" + string(true) + \", was \" + string(number63(x)));
    } else {
      passed = passed + 1;
    }
  }
}]);
add(tests, [\"fn\", function () {
  var f = function (n) {
    return(n + 10);
  };
  if (! equal63(20, f(10))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(f(10)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, f(20))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(f(20)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, (function (n) {
    return(n + 10);
  })(30))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string((function (n) {
      return(n + 10);
    })(30)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 3, 4], map(function (x) {
    return(x + 1);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 3, 4]) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"define\", function () {
  var x = 20;
  var f = function () {
    return(42);
  };
  if (! equal63(20, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
  }
  (function () {
    var f = function () {
      return(38);
    };
    if (! equal63(38, f())) {
      failed = failed + 1;
      return(\"failed: expected \" + string(38) + \", was \" + string(f()));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })();
  if (! equal63(42, f())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(f()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"return\", function () {
  var a = (function () {
    return(17);
  })();
  if (! equal63(17, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _a12 = (function () {
    if (true) {
      return(10);
    } else {
      return(20);
    }
  })();
  if (! equal63(10, _a12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a12));
  } else {
    passed = passed + 1;
  }
  var _a13 = (function () {
    while (false) {
      blah();
    }
  })();
  if (! equal63(undefined, _a13)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_a13));
  } else {
    passed = passed + 1;
  }
  var _a14 = 11;
  var b = (function () {
    _a14 = _a14 + 1;
    return(_a14);
  })();
  if (! equal63(12, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, _a14)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(_a14));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"guard\", function () {
  if (! equal63([true, 42], (function () {
    try {
      return([true, 42]);
    }
    catch (_e62) {
      return([false, _e62.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([true, 42]) + \", was \" + string((function () {
      try {
        return([true, 42]);
      }
      catch (_e63) {
        return([false, _e63.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"foo\"], (function () {
    try {
      throw new Error(\"foo\");
      return([true]);
    }
    catch (_e64) {
      return([false, _e64.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"foo\"]) + \", was \" + string((function () {
      try {
        throw new Error(\"foo\");
        return([true]);
      }
      catch (_e65) {
        return([false, _e65.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"foo\"], (function () {
    try {
      throw new Error(\"foo\");
      throw new Error(\"baz\");
      return([true]);
    }
    catch (_e66) {
      return([false, _e66.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"foo\"]) + \", was \" + string((function () {
      try {
        throw new Error(\"foo\");
        throw new Error(\"baz\");
        return([true]);
      }
      catch (_e67) {
        return([false, _e67.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"baz\"], (function () {
    try {
      (function () {
        try {
          throw new Error(\"foo\");
          return([true]);
        }
        catch (_e69) {
          return([false, _e69.message]);
        }
      })();
      throw new Error(\"baz\");
      return([true]);
    }
    catch (_e68) {
      return([false, _e68.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"baz\"]) + \", was \" + string((function () {
      try {
        (function () {
          try {
            throw new Error(\"foo\");
            return([true]);
          }
          catch (_e71) {
            return([false, _e71.message]);
          }
        })();
        throw new Error(\"baz\");
        return([true]);
      }
      catch (_e70) {
        return([false, _e70.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([true, 42], (function () {
    try {
      var _e48;
      if (true) {
        _e48 = 42;
      } else {
        throw new Error(\"baz\");
        _e48 = undefined;
      }
      return([true, _e48]);
    }
    catch (_e72) {
      return([false, _e72.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([true, 42]) + \", was \" + string((function () {
      try {
        var _e49;
        if (true) {
          _e49 = 42;
        } else {
          throw new Error(\"baz\");
          _e49 = undefined;
        }
        return([true, _e49]);
      }
      catch (_e73) {
        return([false, _e73.message]);
      }
    })()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([false, \"baz\"], (function () {
    try {
      var _e50;
      if (false) {
        _e50 = 42;
      } else {
        throw new Error(\"baz\");
        _e50 = undefined;
      }
      return([true, _e50]);
    }
    catch (_e74) {
      return([false, _e74.message]);
    }
  })())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([false, \"baz\"]) + \", was \" + string((function () {
      try {
        var _e51;
        if (false) {
          _e51 = 42;
        } else {
          throw new Error(\"baz\");
          _e51 = undefined;
        }
        return([true, _e51]);
      }
      catch (_e75) {
        return([false, _e75.message]);
      }
    })()));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let\", function () {
  var a = 10;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _a15 = 10;
  if (! equal63(10, _a15)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a15));
  } else {
    passed = passed + 1;
  }
  var _a16 = 11;
  var b = 12;
  if (! equal63(11, _a16)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(11) + \", was \" + string(_a16));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _a17 = 1;
  if (! equal63(1, _a17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(_a17));
  } else {
    passed = passed + 1;
  }
  var _a18 = 2;
  if (! equal63(2, _a18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_a18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, _a17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(_a17));
  } else {
    passed = passed + 1;
  }
  var _a19 = 1;
  var _a20 = 2;
  var _a21 = 3;
  if (! equal63(_a21, 3)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a21) + \", was \" + string(3));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_a20, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a20) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_a19, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a19) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  var _a22 = 20;
  if (! equal63(20, _a22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_a22));
  } else {
    passed = passed + 1;
  }
  var _a23 = _a22 + 7;
  if (! equal63(27, _a23)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(27) + \", was \" + string(_a23));
  } else {
    passed = passed + 1;
  }
  var _a24 = _a22 + 10;
  if (! equal63(30, _a24)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(_a24));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, _a22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_a22));
  } else {
    passed = passed + 1;
  }
  var _a25 = 10;
  if (! equal63(10, _a25)) {
    failed = failed + 1;
    var _a26 = 10;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a26));
  } else {
    passed = passed + 1;
  }
  var b = 12;
  var _a27 = b;
  if (! equal63(12, _a27)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(_a27));
  } else {
    passed = passed + 1;
  }
  var _a29 = 10;
  var _a28 = _a29;
  if (! equal63(10, _a28)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_a28));
  } else {
    passed = passed + 1;
  }
  var _a31 = 0;
  _a31 = 10;
  var _a30 = _a31 + 2 + 3;
  if (! equal63(_a30, 15)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_a30) + \", was \" + string(15));
  } else {
    passed = passed + 1;
  }
  (function (zz) {
    if (! equal63(20, zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(20) + \", was \" + string(zz));
    } else {
      passed = passed + 1;
    }
    var _zz = 21;
    if (! equal63(21, _zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(21) + \", was \" + string(_zz));
    } else {
      passed = passed + 1;
    }
    if (! equal63(20, zz)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(20) + \", was \" + string(zz));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })(20);
  var q = 9;
  return((function () {
    var _q = 10;
    if (! equal63(10, _q)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(10) + \", was \" + string(_q));
    } else {
      passed = passed + 1;
    }
    if (! equal63(9, q)) {
      failed = failed + 1;
      return(\"failed: expected \" + string(9) + \", was \" + string(q));
    } else {
      passed = passed + 1;
      return(passed);
    }
  })());
}]);
add(tests, [\"with\", function () {
  var x = 9;
  x = x + 1;
  if (! equal63(10, x)) {
    failed = failed + 1;
    var _x588 = 9;
    _x588 = _x588 + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_x588));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-when\", function () {
  var _y = \"a\" === \"b\";
  var _e52;
  if (_y) {
    var frips = _y;
    _e52 = 19;
  }
  if (! equal63(undefined, _e52)) {
    failed = failed + 1;
    var _y1 = \"a\" === \"b\";
    var _e53;
    if (_y1) {
      var frips = _y1;
      _e53 = 19;
    }
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_e53));
  } else {
    passed = passed + 1;
  }
  var _y2 = 20;
  var _e54;
  if (_y2) {
    var frips = _y2;
    _e54 = frips - 1;
  }
  if (! equal63(19, _e54)) {
    failed = failed + 1;
    var _y3 = 20;
    var _e55;
    if (_y3) {
      var frips = _y3;
      _e55 = frips - 1;
    }
    return(\"failed: expected \" + string(19) + \", was \" + string(_e55));
  } else {
    passed = passed + 1;
  }
  var _y4 = [19, 20];
  var _e56;
  if (_y4) {
    var _id4 = _y4;
    var a = _id4[0];
    var b = _id4[1];
    _e56 = b;
  }
  if (! equal63(20, _e56)) {
    failed = failed + 1;
    var _y5 = [19, 20];
    var _e57;
    if (_y5) {
      var _id5 = _y5;
      var a = _id5[0];
      var b = _id5[1];
      _e57 = b;
    }
    return(\"failed: expected \" + string(20) + \", was \" + string(_e57));
  } else {
    passed = passed + 1;
  }
  var _y6 = undefined;
  var _e58;
  if (_y6) {
    var _id6 = _y6;
    var a = _id6[0];
    var b = _id6[1];
    _e58 = b;
  }
  if (! equal63(undefined, _e58)) {
    failed = failed + 1;
    var _y7 = undefined;
    var _e59;
    if (_y7) {
      var _id7 = _y7;
      var a = _id7[0];
      var b = _id7[1];
      _e59 = b;
    }
    return(\"failed: expected \" + string(undefined) + \", was \" + string(_e59));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
var zzop = 99;
var zzap = 100;
var _zzop = 10;
var _zzap = _zzop + 10;
var _x592 = [1, 2, 3];
_x592.a = 10;
_x592.b = 20;
var _id8 = _x592;
var zza = _id8[0];
var zzb = _id8[1];
add(tests, [\"let-toplevel1\", function () {
  if (! equal63(10, _zzop)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(_zzop));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, _zzap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(_zzap));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, zza)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(zza));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, zzb)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(zzb));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-toplevel\", function () {
  if (! equal63(99, zzop)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(zzop));
  } else {
    passed = passed + 1;
  }
  if (! equal63(100, zzap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(100) + \", was \" + string(zzap));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reserved\", function () {
  var _end = \"zz\";
  var _try = \"yy\";
  var _return = 99;
  if (! equal63(\"zz\", _end)) {
    failed = failed + 1;
    _return(\"failed: expected \" + string(\"zz\") + \", was \" + string(_end));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"yy\", _try)) {
    failed = failed + 1;
    _return(\"failed: expected \" + string(\"yy\") + \", was \" + string(_try));
  } else {
    passed = passed + 1;
  }
  if (! equal63(99, _return)) {
    failed = failed + 1;
    return(_return(\"failed: expected \" + string(99) + \", was \" + string(_return)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"destructuring\", function () {
  var _id9 = [1, 2, 3];
  var a = _id9[0];
  var b = _id9[1];
  var c = _id9[2];
  if (! equal63(1, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  var _id10 = [1, [2, [3], 4]];
  var w = _id10[0];
  var _id11 = _id10[1];
  var x = _id11[0];
  var _id12 = _id11[1];
  var y = _id12[0];
  var z = _id11[2];
  if (! equal63(1, w)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(w));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, x)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(x));
  } else {
    passed = passed + 1;
  }
  if (! equal63(3, y)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(y));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, z)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(z));
  } else {
    passed = passed + 1;
  }
  var _id13 = [1, 2, 3, 4];
  var a = _id13[0];
  var b = _id13[1];
  var c = cut(_id13, 2);
  if (! equal63([3, 4], c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string(c));
  } else {
    passed = passed + 1;
  }
  var _id14 = [1, [2, 3, 4], 5, 6, 7];
  var w = _id14[0];
  var _id15 = _id14[1];
  var x = _id15[0];
  var y = cut(_id15, 1);
  var z = cut(_id14, 2);
  if (! equal63([3, 4], y)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string(y));
  } else {
    passed = passed + 1;
  }
  if (! equal63([5, 6, 7], z)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([5, 6, 7]) + \", was \" + string(z));
  } else {
    passed = passed + 1;
  }
  var _id16 = {foo: 99};
  var foo = _id16.foo;
  if (! equal63(99, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  var _x610 = [];
  _x610.foo = 99;
  var _id17 = _x610;
  var foo = _id17.foo;
  if (! equal63(99, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  var _id18 = {foo: 99};
  var a = _id18.foo;
  if (! equal63(99, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  var _id19 = {foo: [98, 99]};
  var _id20 = _id19.foo;
  var a = _id20[0];
  var b = _id20[1];
  if (! equal63(98, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(98) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(99, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(99) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  var _x612 = [99];
  _x612.baz = true;
  var _id21 = {foo: 42, bar: _x612};
  var foo = _id21.foo;
  var _id22 = _id21.bar;
  var baz = _id22.baz;
  if (! equal63(42, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, baz)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(baz));
  } else {
    passed = passed + 1;
  }
  var _x614 = [20];
  _x614.foo = 17;
  var _x613 = [10, _x614];
  _x613.bar = [1, 2, 3];
  var _id23 = _x613;
  var a = _id23[0];
  var _id24 = _id23[1];
  var b = _id24[0];
  var foo = _id24.foo;
  var bar = _id23.bar;
  if (! equal63(10, a)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(10) + \", was \" + string(a));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, foo)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(foo));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], bar)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(bar));
  } else {
    passed = passed + 1;
  }
  var yy = [1, 2, 3];
  var _id25 = yy;
  var xx = _id25[0];
  var _yy = _id25[1];
  var zz = cut(_id25, 2);
  if (! equal63(1, xx)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(xx));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, _yy)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(_yy));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3], zz)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3]) + \", was \" + string(zz));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-macro\", function () {
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, 32 + 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(32 + 10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  var b = function () {
    return(20);
  };
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b())) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b()));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 1 + 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(1 + 1));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-symbol\", function () {
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 10 + 7)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(10 + 7));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(17, 17)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(17));
  } else {
    passed = passed + 1;
  }
  var b = 20;
  if (! equal63(18, 18)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(18) + \", was \" + string(18));
  } else {
    passed = passed + 1;
  }
  if (! equal63(20, b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(20) + \", was \" + string(b));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"define-symbol\", function () {
  setenv(\"zzz\", {_stash: true, symbol: 42});
  if (! equal63(42, 42)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(42));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"macros-and-symbols\", function () {
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(1, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(2));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"macros-and-let\", function () {
  var a = 10;
  if (! equal63(a, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  if (! equal63(12, 12)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(12) + \", was \" + string(12));
  } else {
    passed = passed + 1;
  }
  if (! equal63(a, 10)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(a) + \", was \" + string(10));
  } else {
    passed = passed + 1;
  }
  var b = 20;
  if (! equal63(b, 20)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(20));
  } else {
    passed = passed + 1;
  }
  if (! equal63(22, 22)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(22) + \", was \" + string(22));
  } else {
    passed = passed + 1;
  }
  if (! equal63(b, 20)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(b) + \", was \" + string(20));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, 30)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(30));
  } else {
    passed = passed + 1;
  }
  var _c1 = 32;
  if (! equal63(32, _c1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(32) + \", was \" + string(_c1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(30, 30)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(30) + \", was \" + string(30));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, 40)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string(40));
  } else {
    passed = passed + 1;
  }
  var _d = 42;
  if (! equal63(42, _d)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(_d));
  } else {
    passed = passed + 1;
  }
  if (! equal63(40, 40)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(40) + \", was \" + string(40));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"let-unique\", function () {
  var ham = unique(\"ham\");
  var chap = unique(\"chap\");
  if (! equal63(\"_ham\", ham)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_ham\") + \", was \" + string(ham));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"_chap\", chap)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_chap\") + \", was \" + string(chap));
  } else {
    passed = passed + 1;
  }
  var _ham = unique(\"ham\");
  if (! equal63(\"_ham1\", _ham)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"_ham1\") + \", was \" + string(_ham));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"literals\", function () {
  if (! equal63(true, true)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(true));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, false)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(false));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, -inf < -10000000000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(-inf < -10000000000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, inf < -10000000000)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(inf < -10000000000));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, nan === nan)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(nan === nan));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(nan))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(nan)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, nan63(nan * 20))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(nan63(nan * 20)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(-inf, - inf)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(-inf) + \", was \" + string(- inf));
  } else {
    passed = passed + 1;
  }
  if (! equal63(inf, - -inf)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(inf) + \", was \" + string(- -inf));
  } else {
    passed = passed + 1;
  }
  var Inf = 1;
  var NaN = 2;
  var _Inf = \"a\";
  var _NaN = \"b\";
  if (! equal63(Inf, 1)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(Inf) + \", was \" + string(1));
  } else {
    passed = passed + 1;
  }
  if (! equal63(NaN, 2)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(NaN) + \", was \" + string(2));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_Inf, \"a\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_Inf) + \", was \" + string(\"a\"));
  } else {
    passed = passed + 1;
  }
  if (! equal63(_NaN, \"b\")) {
    failed = failed + 1;
    return(\"failed: expected \" + string(_NaN) + \", was \" + string(\"b\"));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"add\", function () {
  var l = [];
  add(l, \"a\");
  add(l, \"b\");
  add(l, \"c\");
  if (! equal63([\"a\", \"b\", \"c\"], l)) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"c\"]) + \", was \" + string(l));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, add([], \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(add([], \"a\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"drop\", function () {
  var l = [\"a\", \"b\", \"c\"];
  if (! equal63(\"c\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"c\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, drop(l))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(drop(l)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"last\", function () {
  if (! equal63(3, last([1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(3) + \", was \" + string(last([1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, last([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(last([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"c\", last([\"a\", \"b\", \"c\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"c\") + \", was \" + string(last([\"a\", \"b\", \"c\"])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"join\", function () {
  if (! equal63([1, 2, 3], join([1, 2], [3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(join([1, 2], [3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2], join([], [1, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2]) + \", was \" + string(join([], [1, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join([], []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join([], [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join(undefined, undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join(undefined, undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join(undefined, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join(undefined, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join())) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join()));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], join([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(join([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], join([1], undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(join([1], undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join([\"a\"], []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join([\"a\"], [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join(undefined, [\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join(undefined, [\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], join([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(join([\"a\"])));
  } else {
    passed = passed + 1;
  }
  var _x672 = [\"a\"];
  _x672.b = true;
  if (! equal63(_x672, join([\"a\"], {b: true}))) {
    failed = failed + 1;
    var _x674 = [\"a\"];
    _x674.b = true;
    return(\"failed: expected \" + string(_x674) + \", was \" + string(join([\"a\"], {b: true})));
  } else {
    passed = passed + 1;
  }
  var _x676 = [\"a\", \"b\"];
  _x676.b = true;
  var _x678 = [\"b\"];
  _x678.b = true;
  if (! equal63(_x676, join([\"a\"], _x678))) {
    failed = failed + 1;
    var _x679 = [\"a\", \"b\"];
    _x679.b = true;
    var _x681 = [\"b\"];
    _x681.b = true;
    return(\"failed: expected \" + string(_x679) + \", was \" + string(join([\"a\"], _x681)));
  } else {
    passed = passed + 1;
  }
  var _x682 = [\"a\"];
  _x682.b = 10;
  var _x683 = [\"a\"];
  _x683.b = true;
  if (! equal63(_x682, join(_x683, {b: 10}))) {
    failed = failed + 1;
    var _x684 = [\"a\"];
    _x684.b = 10;
    var _x685 = [\"a\"];
    _x685.b = true;
    return(\"failed: expected \" + string(_x684) + \", was \" + string(join(_x685, {b: 10})));
  } else {
    passed = passed + 1;
  }
  var _x686 = [];
  _x686.b = 10;
  var _x687 = [];
  _x687.b = 10;
  if (! equal63(_x686, join({b: true}, _x687))) {
    failed = failed + 1;
    var _x688 = [];
    _x688.b = 10;
    var _x689 = [];
    _x689.b = 10;
    return(\"failed: expected \" + string(_x688) + \", was \" + string(join({b: true}, _x689)));
  } else {
    passed = passed + 1;
  }
  var _x690 = [\"a\"];
  _x690.b = 1;
  var _x691 = [\"b\"];
  _x691.c = 2;
  var t = join(_x690, _x691);
  if (! equal63(1, t.b)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(1) + \", was \" + string(t.b));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, t.c)) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(t.c));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"b\", t[1])) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"b\") + \", was \" + string(t[1]));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reverse\", function () {
  if (! equal63([], reverse([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(reverse([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 2, 1], reverse([1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 2, 1]) + \", was \" + string(reverse([1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  var _x697 = [3, 2, 1];
  _x697.a = true;
  var _x698 = [1, 2, 3];
  _x698.a = true;
  if (! equal63(_x697, reverse(_x698))) {
    failed = failed + 1;
    var _x699 = [3, 2, 1];
    _x699.a = true;
    var _x700 = [1, 2, 3];
    _x700.a = true;
    return(\"failed: expected \" + string(_x699) + \", was \" + string(reverse(_x700)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"map\", function () {
  if (! equal63([], map(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(map(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], map(function (x) {
    return(x);
  }, [1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(map(function (x) {
      return(x);
    }, [1])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 3, 4], map(function (x) {
    return(x + 1);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 3, 4]) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  var _x710 = [2, 3, 4];
  _x710.a = 5;
  var _x711 = [1, 2, 3];
  _x711.a = 4;
  if (! equal63(_x710, map(function (x) {
    return(x + 1);
  }, _x711))) {
    failed = failed + 1;
    var _x712 = [2, 3, 4];
    _x712.a = 5;
    var _x713 = [1, 2, 3];
    _x713.a = 4;
    return(\"failed: expected \" + string(_x712) + \", was \" + string(map(function (x) {
      return(x + 1);
    }, _x713)));
  } else {
    passed = passed + 1;
  }
  var _x714 = [];
  _x714.a = true;
  var _x715 = [];
  _x715.a = true;
  if (! equal63(_x714, map(function (x) {
    return(x);
  }, _x715))) {
    failed = failed + 1;
    var _x716 = [];
    _x716.a = true;
    var _x717 = [];
    _x717.a = true;
    return(\"failed: expected \" + string(_x716) + \", was \" + string(map(function (x) {
      return(x);
    }, _x717)));
  } else {
    passed = passed + 1;
  }
  var _x718 = [];
  _x718.b = false;
  var _x719 = [];
  _x719.b = false;
  if (! equal63(_x718, map(function (x) {
    return(x);
  }, _x719))) {
    failed = failed + 1;
    var _x720 = [];
    _x720.b = false;
    var _x721 = [];
    _x721.b = false;
    return(\"failed: expected \" + string(_x720) + \", was \" + string(map(function (x) {
      return(x);
    }, _x721)));
  } else {
    passed = passed + 1;
  }
  var _x722 = [];
  _x722.a = true;
  _x722.b = false;
  var _x723 = [];
  _x723.a = true;
  _x723.b = false;
  if (! equal63(_x722, map(function (x) {
    return(x);
  }, _x723))) {
    failed = failed + 1;
    var _x724 = [];
    _x724.a = true;
    _x724.b = false;
    var _x725 = [];
    _x725.a = true;
    _x725.b = false;
    return(\"failed: expected \" + string(_x724) + \", was \" + string(map(function (x) {
      return(x);
    }, _x725)));
  } else {
    passed = passed + 1;
  }
  var evens = function (x) {
    if (x % 2 === 0) {
      return(x);
    }
  };
  if (! equal63([2, 4, 6], map(evens, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 4, 6]) + \", was \" + string(map(evens, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
  }
  var _x730 = [2, 4, 6];
  _x730.b = 8;
  var _x731 = [1, 2, 3, 4, 5, 6];
  _x731.a = 7;
  _x731.b = 8;
  if (! equal63(_x730, map(evens, _x731))) {
    failed = failed + 1;
    var _x732 = [2, 4, 6];
    _x732.b = 8;
    var _x733 = [1, 2, 3, 4, 5, 6];
    _x733.a = 7;
    _x733.b = 8;
    return(\"failed: expected \" + string(_x732) + \", was \" + string(map(evens, _x733)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"cut\", function () {
  if (! equal63([], cut([]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(cut([])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], cut([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(cut([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"b\", \"c\"], cut([\"a\", \"b\", \"c\"], 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"b\", \"c\"]) + \", was \" + string(cut([\"a\", \"b\", \"c\"], 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"b\", \"c\"], cut([\"a\", \"b\", \"c\", \"d\"], 1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"b\", \"c\"]) + \", was \" + string(cut([\"a\", \"b\", \"c\", \"d\"], 1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], cut([1, 2, 3], 0, 10))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(cut([1, 2, 3], 0, 10)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1], cut([1, 2, 3], -4, 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1]) + \", was \" + string(cut([1, 2, 3], -4, 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3], cut([1, 2, 3], -4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(cut([1, 2, 3], -4)));
  } else {
    passed = passed + 1;
  }
  var _x759 = [2];
  _x759.a = true;
  var _x760 = [1, 2];
  _x760.a = true;
  if (! equal63(_x759, cut(_x760, 1))) {
    failed = failed + 1;
    var _x761 = [2];
    _x761.a = true;
    var _x762 = [1, 2];
    _x762.a = true;
    return(\"failed: expected \" + string(_x761) + \", was \" + string(cut(_x762, 1)));
  } else {
    passed = passed + 1;
  }
  var _x763 = [];
  _x763.a = true;
  _x763.b = 2;
  var _x764 = [];
  _x764.a = true;
  _x764.b = 2;
  if (! equal63(_x763, cut(_x764))) {
    failed = failed + 1;
    var _x765 = [];
    _x765.a = true;
    _x765.b = 2;
    var _x766 = [];
    _x766.a = true;
    _x766.b = 2;
    return(\"failed: expected \" + string(_x765) + \", was \" + string(cut(_x766)));
  } else {
    passed = passed + 1;
  }
  var t = [1, 2, 3];
  if (! equal63([], cut(t, _35(t)))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(cut(t, _35(t))));
  } else {
    passed = passed + 1;
  }
  var _x768 = [1, 2, 3];
  _x768.a = true;
  var _t1 = _x768;
  var _x769 = [];
  _x769.a = true;
  if (! equal63(_x769, cut(_t1, _35(_t1)))) {
    failed = failed + 1;
    var _x770 = [];
    _x770.a = true;
    return(\"failed: expected \" + string(_x770) + \", was \" + string(cut(_t1, _35(_t1))));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"clip\", function () {
  if (! equal63(\"uux\", clip(\"quux\", 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"uux\") + \", was \" + string(clip(\"quux\", 1)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"uu\", clip(\"quux\", 1, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"uu\") + \", was \" + string(clip(\"quux\", 1, 3)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"\", clip(\"quux\", 5))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"\") + \", was \" + string(clip(\"quux\", 5)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"ab\", clip(\"ab\", 0, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"ab\") + \", was \" + string(clip(\"ab\", 0, 4)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"ab\", clip(\"ab\", -4, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"ab\") + \", was \" + string(clip(\"ab\", -4, 4)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(\"a\", clip(\"ab\", -1, 1))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(clip(\"ab\", -1, 1)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"search\", function () {
  if (! equal63(undefined, search(\"\", \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"\", \"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"a\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"a\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(0, search(\"abc\", \"a\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(0) + \", was \" + string(search(\"abc\", \"a\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(2, search(\"abcd\", \"cd\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(2) + \", was \" + string(search(\"abcd\", \"cd\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, search(\"abcd\", \"ce\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"abcd\", \"ce\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, search(\"abc\", \"z\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(search(\"abc\", \"z\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"split\", function () {
  if (! equal63([], split(\"\", \"\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(split(\"\", \"\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([], split(\"\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(split(\"\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\"], split(\"a\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\"]) + \", was \" + string(split(\"a\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"\"], split(\"a,\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"\"]) + \", was \" + string(split(\"a,\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\"], split(\"a,b\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\"]) + \", was \" + string(split(\"a,b\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\", \"\"], split(\"a,b,\", \",\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"\"]) + \", was \" + string(split(\"a,b,\", \",\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\"], split(\"azzb\", \"zz\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\"]) + \", was \" + string(split(\"azzb\", \"zz\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63([\"a\", \"b\", \"\"], split(\"azzbzz\", \"zz\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"\"]) + \", was \" + string(split(\"azzbzz\", \"zz\")));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"reduce\", function () {
  if (! equal63(\"a\", reduce(function (a, b) {
    return(a + b);
  }, [\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(\"a\") + \", was \" + string(reduce(function (a, b) {
      return(a + b);
    }, [\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, reduce(function (a, b) {
    return(a + b);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(reduce(function (a, b) {
      return(a + b);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, [2, 3]], reduce(function (a, b) {
    return([a, b]);
  }, [1, 2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, [2, 3]]) + \", was \" + string(reduce(function (a, b) {
      return([a, b]);
    }, [1, 2, 3])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([1, 2, 3, 4, 5], reduce(function (a, b) {
    return(join(a, b));
  }, [[1], [2, 3], [4, 5]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3, 4, 5]) + \", was \" + string(reduce(function (a, b) {
      return(join(a, b));
    }, [[1], [2, 3], [4, 5]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"keep\", function () {
  if (! equal63([], keep(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([]) + \", was \" + string(keep(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  var even = function (x) {
    return(x % 2 === 0);
  };
  if (! equal63([6], keep(even, [5, 6, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([6]) + \", was \" + string(keep(even, [5, 6, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([[1], [2, 3]], keep(some63, [[], [1], [], [2, 3]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[1], [2, 3]]) + \", was \" + string(keep(some63, [[], [1], [], [2, 3]])));
  } else {
    passed = passed + 1;
  }
  var even63 = function (x) {
    return(x % 2 === 0);
  };
  if (! equal63([2, 4, 6], keep(even63, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 4, 6]) + \", was \" + string(keep(even63, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
  }
  var _x834 = [2, 4, 6];
  _x834.b = 8;
  var _x835 = [1, 2, 3, 4, 5, 6];
  _x835.a = 7;
  _x835.b = 8;
  if (! equal63(_x834, keep(even63, _x835))) {
    failed = failed + 1;
    var _x836 = [2, 4, 6];
    _x836.b = 8;
    var _x837 = [1, 2, 3, 4, 5, 6];
    _x837.a = 7;
    _x837.b = 8;
    return(\"failed: expected \" + string(_x836) + \", was \" + string(keep(even63, _x837)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"in?\", function () {
  if (! equal63(true, in63(\"x\", [\"x\", \"y\", \"z\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(\"x\", [\"x\", \"y\", \"z\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, in63(7, [5, 6, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, [5, 6, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(undefined, in63(\"baz\", [\"no\", \"can\", \"do\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(in63(\"baz\", [\"no\", \"can\", \"do\"])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"find\", function () {
  if (! equal63(undefined, find(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(find(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, find(function (x) {
    return(x);
  }, [7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(find(function (x) {
      return(x);
    }, [7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, find(function (x) {
    return(x === 7);
  }, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === 7);
    }, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  var _x850 = [2, 4];
  _x850.foo = 7;
  if (! equal63(true, find(function (x) {
    return(x === 7);
  }, _x850))) {
    failed = failed + 1;
    var _x851 = [2, 4];
    _x851.foo = 7;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === 7);
    }, _x851)));
  } else {
    passed = passed + 1;
  }
  var _x852 = [2, 4];
  _x852.bar = true;
  if (! equal63(true, find(function (x) {
    return(x === true);
  }, _x852))) {
    failed = failed + 1;
    var _x853 = [2, 4];
    _x853.bar = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(find(function (x) {
      return(x === true);
    }, _x853)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, in63(7, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  var _x856 = [2, 4];
  _x856.foo = 7;
  if (! equal63(true, in63(7, _x856))) {
    failed = failed + 1;
    var _x857 = [2, 4];
    _x857.foo = 7;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(7, _x857)));
  } else {
    passed = passed + 1;
  }
  var _x858 = [2, 4];
  _x858.bar = true;
  if (! equal63(true, in63(true, _x858))) {
    failed = failed + 1;
    var _x859 = [2, 4];
    _x859.bar = true;
    return(\"failed: expected \" + string(true) + \", was \" + string(in63(true, _x859)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"find\", function () {
  if (! equal63(undefined, first(function (x) {
    return(x);
  }, []))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(undefined) + \", was \" + string(first(function (x) {
      return(x);
    }, [])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(7, first(function (x) {
    return(x);
  }, [7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(7) + \", was \" + string(first(function (x) {
      return(x);
    }, [7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, first(function (x) {
    return(x === 7);
  }, [2, 4, 7]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(first(function (x) {
      return(x === 7);
    }, [2, 4, 7])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(4, first(function (x) {
    return(x > 3 && x);
  }, [1, 2, 3, 4, 5, 6]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(first(function (x) {
      return(x > 3 && x);
    }, [1, 2, 3, 4, 5, 6])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"sort\", function () {
  if (! equal63([\"a\", \"b\", \"c\"], sort([\"c\", \"a\", \"b\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([\"a\", \"b\", \"c\"]) + \", was \" + string(sort([\"c\", \"a\", \"b\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 2, 1], sort([1, 2, 3], _62))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 2, 1]) + \", was \" + string(sort([1, 2, 3], _62)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"type\", function () {
  if (! equal63(true, string63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(string63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, string63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(string63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, number63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(number63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, number63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(number63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63(17))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63(17)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63([\"a\"]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63([\"a\"])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, boolean63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(boolean63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, boolean63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(boolean63({})));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(undefined))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(undefined)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(\"abc\"))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(\"abc\")));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(42))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(42)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(true, atom63(true))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(true) + \", was \" + string(atom63(true)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63(function () {
  }))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63(function () {
    })));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63([1]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63([1])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(false, atom63({}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(false) + \", was \" + string(atom63({})));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"apply\", function () {
  if (! equal63(4, apply(function (a, b) {
    return(a + b);
  }, [2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(apply(function (a, b) {
      return(a + b);
    }, [2, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63([2, 2], apply(function () {
    var a = unstash(Array.prototype.slice.call(arguments, 0));
    return(a);
  }, [2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([2, 2]) + \", was \" + string(apply(function () {
      var a = unstash(Array.prototype.slice.call(arguments, 0));
      return(a);
    }, [2, 2])));
  } else {
    passed = passed + 1;
  }
  var t = [1];
  t.foo = 17;
  if (! equal63(17, apply(function () {
    var a = unstash(Array.prototype.slice.call(arguments, 0));
    return(a.foo);
  }, t))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(17) + \", was \" + string(apply(function () {
      var a = unstash(Array.prototype.slice.call(arguments, 0));
      return(a.foo);
    }, t)));
  } else {
    passed = passed + 1;
  }
  var _x893 = [];
  _x893.foo = 42;
  if (! equal63(42, apply(function () {
    var _r180 = unstash(Array.prototype.slice.call(arguments, 0));
    var _id26 = _r180;
    var foo = _id26.foo;
    return(foo);
  }, _x893))) {
    failed = failed + 1;
    var _x894 = [];
    _x894.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string(apply(function () {
      var _r181 = unstash(Array.prototype.slice.call(arguments, 0));
      var _id27 = _r181;
      var foo = _id27.foo;
      return(foo);
    }, _x894)));
  } else {
    passed = passed + 1;
  }
  var _x897 = [];
  _x897.foo = 42;
  if (! equal63(42, apply(function (_x895) {
    var _id28 = _x895;
    var foo = _id28.foo;
    return(foo);
  }, [_x897]))) {
    failed = failed + 1;
    var _x900 = [];
    _x900.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string(apply(function (_x898) {
      var _id29 = _x898;
      var foo = _id29.foo;
      return(foo);
    }, [_x900])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"eval\", function () {
  var eval = compiler.eval;
  if (! equal63(4, eval([\"+\", 2, 2]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(4) + \", was \" + string(eval([\"+\", 2, 2])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(5, eval([\"let\", \"a\", 3, [\"+\", 2, \"a\"]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(5) + \", was \" + string(eval([\"let\", \"a\", 3, [\"+\", 2, \"a\"]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(9, eval([\"do\", [\"define\", \"x\", 7], [\"+\", \"x\", 2]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(9) + \", was \" + string(eval([\"do\", [\"define\", \"x\", 7], [\"+\", \"x\", 2]])));
  } else {
    passed = passed + 1;
  }
  if (! equal63(6, eval([\"apply\", \"+\", [\"quote\", [1, 2, 3]]]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(6) + \", was \" + string(eval([\"apply\", \"+\", [\"quote\", [1, 2, 3]]])));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"call\", function () {
  var f = function () {
    return(42);
  };
  if (! equal63(42, call(f))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string(call(f)));
  } else {
    passed = passed + 1;
  }
  var fs = [function () {
    return(1);
  }, function () {
    return(10);
  }];
  if (! equal63([1, 10], map(call, fs))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 10]) + \", was \" + string(map(call, fs)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
add(tests, [\"parameters\", function () {
  if (! equal63(42, (function (_x925) {
    var _id30 = _x925;
    var a = _id30[0];
    return(a);
  })([42]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string((function (_x927) {
      var _id31 = _x927;
      var a = _id31[0];
      return(a);
    })([42])));
  } else {
    passed = passed + 1;
  }
  var f = function (a, _x929) {
    var _id32 = _x929;
    var b = _id32[0];
    var c = _id32[1];
    return([a, b, c]);
  };
  if (! equal63([1, 2, 3], f(1, [2, 3]))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(f(1, [2, 3])));
  } else {
    passed = passed + 1;
  }
  var _f = function (a, _x935) {
    var _id33 = _x935;
    var b = _id33[0];
    var c = cut(_id33, 1);
    var _r193 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id34 = _r193;
    var d = cut(_id34, 0);
    return([a, b, c, d]);
  };
  if (! equal63([1, 2, [3, 4], [5, 6, 7]], _f(1, [2, 3, 4], 5, 6, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, [3, 4], [5, 6, 7]]) + \", was \" + string(_f(1, [2, 3, 4], 5, 6, 7)));
  } else {
    passed = passed + 1;
  }
  if (! equal63([3, 4], (function (a, b) {
    var _r194 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id35 = _r194;
    var c = cut(_id35, 0);
    return(c);
  })(1, 2, 3, 4))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([3, 4]) + \", was \" + string((function (a, b) {
      var _r195 = unstash(Array.prototype.slice.call(arguments, 2));
      var _id36 = _r195;
      var c = cut(_id36, 0);
      return(c);
    })(1, 2, 3, 4)));
  } else {
    passed = passed + 1;
  }
  var _f1 = function (w, _x947) {
    var _id37 = _x947;
    var x = _id37[0];
    var y = cut(_id37, 1);
    var _r196 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id38 = _r196;
    var z = cut(_id38, 0);
    return([y, z]);
  };
  if (! equal63([[3, 4], [5, 6, 7]], _f1(1, [2, 3, 4], 5, 6, 7))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([[3, 4], [5, 6, 7]]) + \", was \" + string(_f1(1, [2, 3, 4], 5, 6, 7)));
  } else {
    passed = passed + 1;
  }
  if (! equal63(42, (function () {
    var _r197 = unstash(Array.prototype.slice.call(arguments, 0));
    var _id39 = _r197;
    var foo = _id39.foo;
    return(foo);
  })({_stash: true, foo: 42}))) {
    failed = failed + 1;
    return(\"failed: expected \" + string(42) + \", was \" + string((function () {
      var _r198 = unstash(Array.prototype.slice.call(arguments, 0));
      var _id40 = _r198;
      var foo = _id40.foo;
      return(foo);
    })({_stash: true, foo: 42})));
  } else {
    passed = passed + 1;
  }
  var _x958 = [];
  _x958.foo = 42;
  if (! equal63(42, (function (_x957) {
    var _id41 = _x957;
    var foo = _id41.foo;
    return(foo);
  })(_x958))) {
    failed = failed + 1;
    var _x960 = [];
    _x960.foo = 42;
    return(\"failed: expected \" + string(42) + \", was \" + string((function (_x959) {
      var _id42 = _x959;
      var foo = _id42.foo;
      return(foo);
    })(_x960)));
  } else {
    passed = passed + 1;
  }
  var _f2 = function (a, _x961) {
    var _id43 = _x961;
    var foo = _id43.foo;
    var _r201 = unstash(Array.prototype.slice.call(arguments, 2));
    var _id44 = _r201;
    var b = _id44.bar;
    return([a, b, foo]);
  };
  var _x964 = [];
  _x964.foo = 42;
  if (! equal63([10, 20, 42], _f2(10, _x964, {_stash: true, bar: 20}))) {
    failed = failed + 1;
    var _x966 = [];
    _x966.foo = 42;
    return(\"failed: expected \" + string([10, 20, 42]) + \", was \" + string(_f2(10, _x966, {_stash: true, bar: 20})));
  } else {
    passed = passed + 1;
  }
  var _f3 = function () {
    var args = unstash(Array.prototype.slice.call(arguments, 0));
    return(args);
  };
  if (! equal63([1, 2, 3], _f3(1, 2, 3))) {
    failed = failed + 1;
    return(\"failed: expected \" + string([1, 2, 3]) + \", was \" + string(_f3(1, 2, 3)));
  } else {
    passed = passed + 1;
    return(passed);
  }
}]);
});

runtime = require(\"runtime\");
reader = require(\"reader\");
compiler = require(\"compiler\");
macros = require(\"macros\");
system = require(\"system\");
main = require(\"main\");
test = require(\"test\");
ac = function (s) {
  if (function63(s)) {
    // extract multiline string from the comments inside the fn.
    s = ml(s);
  }
  // var forms = reader[\"read-all\"](reader.stream(s))
  // var n = _35(forms);
  // var i = 0;
  // var result;
  // var l = [];
  // while (i < n) {
  //   result = compiler.eval(forms[i]);
  //   l.push([forms[i], result]);
  //   i = i + 1;
  // }
  // return l;
  return load(\"editor\", s);
};
setenv(\"define\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-global\"], l));
}})
comp = function (expr) {
  return(print(compile(macroexpand(expr))));
};

reader = require(\"reader\")
reader_stream = reader.stream
read_all = reader[\"read-all\"]
system = require(\"system\")
write = system.write
read_file = system[\"read-file\"]
write_file = system[\"write-file\"]
env = system[\"get-environment-variable\"]
readstr = function (s) {
  return(read_all(reader_stream(s)));
};

load = function (file, str) {
  var _r1211 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id353 = _r1211;
  var verbose = _id353.verbose;
  if (verbose) {
    print(\"Loading \" + file);
  }
  // var _x1556 = readstr(str || read_file(file));
  var s = str || read_file(file);
  var _x1556;
  if (string63(s)) {
  _x1556 = (function () { try { return [true, readstr(s)]; } catch (_e1) {  return([false, _e1.message]); }})();
  } else {
    _x1556 = [true, s];
  }

  var l = [];
  var ok = _x1556[0];
  var x = _x1556[1];
  if (!ok) {
    l.push([s, ok, x]);
    return l;
  }
  _x1556 = _x1556[1];

  var _n131 = _35(_x1556);
  var _i131 = 0;


  while (_i131 < _n131) {
    var expr = _x1556[_i131];
    if (\"1\" === env(\"VERBOSE\")) {
      prn(string(expr));
    }
    if (\"1\" === env(\"COMP\")) {
      prn(comp(expr));
    }
    var _id354 = (function () {
      try {
        return([true, eval(expr)]);
      }
      catch (_e91) {
        return([false, _e91.message]);
      }
    })();
    var ok = _id354[0];
    var x = _id354[1];
    if (! ok) {
      prn(\"Error in \", file, \": \");
      prn(\"   \", x);
      prn(\"The error occurred while evaluating: \");
      prn(expr);
    }
    l.push([expr, ok, x]);
    _i131 = _i131 + 1;
  }
  return l;
};

setenv(\"mac\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-macro\"], l));
}})
setenv(\"macex\", {_stash: true, macro: function (e) {
  return([\"macroexpand\", e]);
}})
setenv(\"len\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"#\"], l));
}})
setenv(\"letmac\", {_stash: true, macro: function (name, args, body) {
  var _r1220 = unstash(Array.prototype.slice.call(arguments, 3));
  var _id358 = _r1220;
  var l = cut(_id358, 0);
  return(join([\"let-macro\", [[name, args, body]]], l));
}})
setenv(\"def\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"define-global\"], l));
}})
idfn = function (x) {
  return(x);
}
setenv(\"w/uniq\", {_stash: true, macro: function (x) {
  var _r1226 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id362 = _r1226;
  var body = cut(_id362, 0);
  if (atom63(x)) {
    return(join([\"let-unique\", [x]], body));
  } else {
    return(join([\"let-unique\", x], body));
  }
}})
setenv(\"void\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"do\"], l, [\"nil\"]));
}})
setenv(\"lfn\", {_stash: true, macro: function (name, args, body) {
  var _r1230 = unstash(Array.prototype.slice.call(arguments, 3));
  var _id366 = _r1230;
  var l = cut(_id366, 0);
  var _e95;
  if (some63(l)) {
    _e95 = l;
  } else {
    _e95 = [name];
  }
  return(join([\"let\", name, \"nil\", [\"set\", name, [\"fn\", args, body]]], _e95));
}})
setenv(\"afn\", {_stash: true, macro: function (args, body) {
  var _r1234 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id370 = _r1234;
  var l = cut(_id370, 0);
  return(join([\"lfn\", \"self\", args, body], l));
}})
setenv(\"accum\", {_stash: true, macro: function (name) {
  var _r1238 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id374 = _r1238;
  var body = cut(_id374, 0);
  var g = unique(\"g\");
  return([\"let\", g, join(), join([\"lfn\", name, [\"item\"], [\"add\", g, \"item\"]], body), g]);
}})
setenv(\"acc\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"accum\", \"a\"], l));
}})
setenv(\"nor\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return([\"not\", join([\"or\"], l)]);
}})
lst63 = function (x) {
  return(!( atom63(x) || function63(x)));
};

any63 = function (x) {
  return(lst63(x) && some63(x));
};

setenv(\"iflet\", {_stash: true, macro: function (name) {
  var _r1246 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id381 = _r1246;
  var l = cut(_id381, 0);
  if (some63(l)) {
    var _id382 = l;
    var x = _id382[0];
    var a = _id382[1];
    var bs = cut(_id382, 2);
    var _e99;
    if (one63(l)) {
      _e99 = name;
    } else {
      _e99 = [\"if\", name, a, join([\"iflet\", name], bs)];
    }
    return([\"let\", name, x, _e99]);
  }
}})
setenv(\"whenlet\", {_stash: true, macro: function (name) {
  var _r1250 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id389 = _r1250;
  var l = cut(_id389, 0);
  if (some63(l)) {
    var _id390 = l;
    var x = _id390[0];
    var ys = cut(_id390, 1);
    var _e103;
    if (one63(l)) {
      _e103 = name;
    } else {
      _e103 = join([\"do\"], ys);
    }
    return([\"let\", name, x, _e103]);
  }
}})
setenv(\"aif\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"iflet\", \"it\"], l));
}})
setenv(\"awhen\", {_stash: true, macro: function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  return(join([\"let-when\", \"it\"], l));
}})
setenv(\"repeat\", {_stash: true, macro: function (n) {
  var _r1254 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id394 = _r1254;
  var l = cut(_id394, 0);
  var g = unique(\"g\");
  return(join([\"for\", g, n], l));
}})
atom = function (x) {
  return(atom63(x) || function63(x));
};

acons = function (x) {
  return(! atom(x));
};

car = function (x) {
  if (acons(x) && some63(x)) {
    return(hd(x));
  }
};

cdr = function (x) {
  if (acons(x) && some63(x)) {
    return(tl(x));
  }
};

caar = function (x) {
  return(car(car(x)));
};

cadr = function (x) {
  return(car(cdr(x)));
};

cddr = function (x) {
  return(cdr(cdr(x)));
};

cons = function (x, y) {
  return(join([x], y));
};

copylist = function (xs) {
  var l = [];
  var _o21 = xs;
  var k = undefined;
  for (k in _o21) {
    var v = _o21[k];
    var _e105;
    if (numeric63(k)) {
      _e105 = parseInt(k);
    } else {
      _e105 = k;
    }
    var _k11 = _e105;
    l[_k11] = v;
  }
  return(l);
};

listify = function (x) {
  if (atom63(x)) {
    return([x]);
  } else {
    return(x);
  }
};

intersperse = function (x, lst) {
  var sep = undefined;
  var _g58 = [];
  var a = undefined;
  a = function (item) {
    return(add(_g58, item));
  };
  var _o23 = lst;
  var _i135 = undefined;
  for (_i135 in _o23) {
    var item = _o23[_i135];
    var _e107;
    if (numeric63(_i135)) {
      _e107 = parseInt(_i135);
    } else {
      _e107 = _i135;
    }
    var __i135 = _e107;
    if (sep) {
      a(sep);
    } else {
      sep = x;
    }
    a(item);
  }
  return(_g58);
};

setenv(\"complement\", {_stash: true, macro: function (f) {
  var g = unique(\"g\");
  return([\"fn\", g, [\"not\", [\"apply\", f, g]]]);
}})
testify = function (x) {
  if (function63(x)) {
    return(x);
  } else {
    return(function (_) {
      return(_ === x);
    });
  }
};

keep = function (f, xs) {
  f = testify(f);
  var _g60 = [];
  var a = undefined;
  a = function (item) {
    return(add(_g60, item));
  };
  var _x1703 = xs;
  var _n137 = _35(_x1703);
  var _i137 = 0;
  while (_i137 < _n137) {
    var x = _x1703[_i137];
    if (f(x)) {
      a(x);
    }
    _i137 = _i137 + 1;
  }
  return(_g60);
};

rem = function (f, xs) {
  return(keep(function () {
    var _g62 = unstash(Array.prototype.slice.call(arguments, 0));
    return(! apply(testify(f), _g62));
  }, xs));
};

rev = reverse
str = function (x) {
  if (string63(x)) {
    return(x);
  } else {
    return(string(x));
  }
};

wschars = [\" \", \"\\t\", \"\\n\", \"\\r\"]
ws63 = function (s) {
  var i = 0;
  while (i < _35(s)) {
    var c = char(s, i);
    if (in63(c, wschars)) {
      return(true);
    }
    i = i + 1;
  }
};

rtrim = function (s) {
  var _r1298 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id396 = _r1298;
  var f = _id396.f;
  while (some63(s) && (f || ws63)(char(s, edge(s)))) {
    s = clip(s, 0, edge(s));
  }
  return(s);
};

ltrim = function (s) {
  var _r1300 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id398 = _r1300;
  var f = _id398.f;
  while (some63(s) && (f || ws63)(char(s, 0))) {
    s = clip(s, 1, _35(s));
  }
  return(s);
};

trim = function (s) {
  var _r1302 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id400 = _r1302;
  var f = _id400.f;
  return(rtrim(ltrim(s, {_stash: true, f: f}), {_stash: true, f: f}));
};

endswith = function (s, ending) {
  var i = _35(s) - _35(ending);
  return(i === search(s, ending, i));
};

startswith = function (s, prefix) {
  return(search(s, prefix) === 0);
};

pr = function () {
  var _r1308 = unstash(Array.prototype.slice.call(arguments, 0));
  var _id402 = _r1308;
  var sep = _id402.sep;
  var l = cut(_id402, 0);
  var c = undefined;
  if (sep) {
    var _x1708 = l;
    var _n140 = _35(_x1708);
    var _i140 = 0;
    while (_i140 < _n140) {
      var x = _x1708[_i140];
      if (c) {
        write(c);
      } else {
        c = str(sep);
      }
      write(str(x));
      _i140 = _i140 + 1;
    }
  } else {
    var _x1709 = l;
    var _n141 = _35(_x1709);
    var _i141 = 0;
    while (_i141 < _n141) {
      var x = _x1709[_i141];
      write(str(x));
      _i141 = _i141 + 1;
    }
  }
  if (l) {
    return(hd(l));
  }
};

setenv(\"do1\", {_stash: true, macro: function (a) {
  var _r1312 = unstash(Array.prototype.slice.call(arguments, 1));
  var _id406 = _r1312;
  var bs = cut(_id406, 0);
  var g = unique(\"g\");
  return([\"let\", g, a, join([\"do\"], bs), g]);
}})
prn = function () {
  var l = unstash(Array.prototype.slice.call(arguments, 0));
  var _g64 = apply(pr, l);
  pr(\"\\n\");
  return(_g64);
};

filechars = function (path) {
  return(read_file(path));
};

readfile = function (path) {
  return(readstr(filechars(path)));
};

doshell = function () {
  var _args9 = unstash(Array.prototype.slice.call(arguments, 0));
  return(rtrim(shell(apply(cat, intersperse(\" \", _args9)))));
};

mvfile = function (src, dst) {
  doshell(\"mv\", escape(src), escape(dst));
  return(dst);
};

getmod = function (file) {
  return(doshell(\"stat -r\", escape(file), \"| awk '{ print \$3; }'\"));
};

chmod = function (spec, file) {
  return(doshell(\"chmod\", escape(spec), escape(file)));
};

chmodx = function (file) {
  return(chmod(\"+x\", file));
};

writefile = function (path, contents) {
  doshell(\"cp -fp\", escape(path), escape(path + \".tmp\"));
  write_file(path + \".tmp\", contents);
  mvfile(path + \".tmp\", path);
  return(contents);
};

setenv(\"w/file\", {_stash: true, macro: function (v, path) {
  var _r1330 = unstash(Array.prototype.slice.call(arguments, 2));
  var _id410 = _r1330;
  var l = cut(_id410, 0);
  var gp = unique(\"gp\");
  return([\"let\", [gp, path, v, [\"filechars\", gp]], [\"set\", v, join([\"do\"], l)], [\"writefile\", gp, v]]);
}})
args = function () {
  return(split(env(\"cmdline\"), \" \"));
};

host = function () {
  return(env(\"LUMEN_HOST\") || \"\");
};

host63 = function (x) {
  return(search(host(), x));
};

setenv(\"import\", {_stash: true, macro: function (name) {
  return([\"def\", name, [\"require\", [\"quote\", name]]]);
}})

shell = function (cmd) {
  childproc = require(\"child_process\");
  exec = childproc.execSync;
  var o = exec(cmd);
  return(o[\"toString\"]());
};

setenv(\"unquote\", {_stash: true, macro: function (x) {
  return([\"do\", [\"jseval\", [\"quote\", x]]]);
}})

</script>", "partials/compiled-scripts.html.twig", "/Users/emily/doxx/user/themes/learn2/templates/partials/compiled-scripts.html.twig");
    }
}
